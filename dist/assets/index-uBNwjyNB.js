function OE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wp={exports:{}},Nl={},xp={exports:{}},Nt={};var Qy;function jE(){if(Qy)return Nt;Qy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=p&&C[p]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function x(C,T,I){this.props=C,this.context=T,this.refs=b,this.updater=I||w}x.prototype.isReactComponent={},x.prototype.setState=function(C,T){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,T,"setState")},x.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function v(){}v.prototype=x.prototype;function y(C,T,I){this.props=C,this.context=T,this.refs=b,this.updater=I||w}var m=y.prototype=new v;m.constructor=y,E(m,x.prototype),m.isPureReactComponent=!0;var A=Array.isArray,j=Object.prototype.hasOwnProperty,L={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function V(C,T,I){var F,H={},ae=null,le=null;if(T!=null)for(F in T.ref!==void 0&&(le=T.ref),T.key!==void 0&&(ae=""+T.key),T)j.call(T,F)&&!O.hasOwnProperty(F)&&(H[F]=T[F]);var te=arguments.length-2;if(te===1)H.children=I;else if(1<te){for(var ce=Array(te),be=0;be<te;be++)ce[be]=arguments[be+2];H.children=ce}if(C&&C.defaultProps)for(F in te=C.defaultProps,te)H[F]===void 0&&(H[F]=te[F]);return{$$typeof:t,type:C,key:ae,ref:le,props:H,_owner:L.current}}function q(C,T){return{$$typeof:t,type:C.type,key:T,ref:C.ref,props:C.props,_owner:C._owner}}function K(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function G(C){var T={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(I){return T[I]})}var P=/\/+/g;function z(C,T){return typeof C=="object"&&C!==null&&C.key!=null?G(""+C.key):T.toString(36)}function S(C,T,I,F,H){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var le=!1;if(C===null)le=!0;else switch(ae){case"string":case"number":le=!0;break;case"object":switch(C.$$typeof){case t:case e:le=!0}}if(le)return le=C,H=H(le),C=F===""?"."+z(le,0):F,A(H)?(I="",C!=null&&(I=C.replace(P,"$&/")+"/"),S(H,T,I,"",function(be){return be})):H!=null&&(K(H)&&(H=q(H,I+(!H.key||le&&le.key===H.key?"":(""+H.key).replace(P,"$&/")+"/")+C)),T.push(H)),1;if(le=0,F=F===""?".":F+":",A(C))for(var te=0;te<C.length;te++){ae=C[te];var ce=F+z(ae,te);le+=S(ae,T,I,ce,H)}else if(ce=_(C),typeof ce=="function")for(C=ce.call(C),te=0;!(ae=C.next()).done;)ae=ae.value,ce=F+z(ae,te++),le+=S(ae,T,I,ce,H);else if(ae==="object")throw T=String(C),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return le}function W(C,T,I){if(C==null)return C;var F=[],H=0;return S(C,F,"","",function(ae){return T.call(I,ae,H++)}),F}function ne(C){if(C._status===-1){var T=C._result;T=T(),T.then(function(I){(C._status===0||C._status===-1)&&(C._status=1,C._result=I)},function(I){(C._status===0||C._status===-1)&&(C._status=2,C._result=I)}),C._status===-1&&(C._status=0,C._result=T)}if(C._status===1)return C._result.default;throw C._result}var Y={current:null},U={transition:null},Z={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:U,ReactCurrentOwner:L};function X(){throw Error("act(...) is not supported in production builds of React.")}return Nt.Children={map:W,forEach:function(C,T,I){W(C,function(){T.apply(this,arguments)},I)},count:function(C){var T=0;return W(C,function(){T++}),T},toArray:function(C){return W(C,function(T){return T})||[]},only:function(C){if(!K(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Nt.Component=x,Nt.Fragment=n,Nt.Profiler=i,Nt.PureComponent=y,Nt.StrictMode=r,Nt.Suspense=d,Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Nt.act=X,Nt.cloneElement=function(C,T,I){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var F=E({},C.props),H=C.key,ae=C.ref,le=C._owner;if(T!=null){if(T.ref!==void 0&&(ae=T.ref,le=L.current),T.key!==void 0&&(H=""+T.key),C.type&&C.type.defaultProps)var te=C.type.defaultProps;for(ce in T)j.call(T,ce)&&!O.hasOwnProperty(ce)&&(F[ce]=T[ce]===void 0&&te!==void 0?te[ce]:T[ce])}var ce=arguments.length-2;if(ce===1)F.children=I;else if(1<ce){te=Array(ce);for(var be=0;be<ce;be++)te[be]=arguments[be+2];F.children=te}return{$$typeof:t,type:C.type,key:H,ref:ae,props:F,_owner:le}},Nt.createContext=function(C){return C={$$typeof:l,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:a,_context:C},C.Consumer=C},Nt.createElement=V,Nt.createFactory=function(C){var T=V.bind(null,C);return T.type=C,T},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(C){return{$$typeof:c,render:C}},Nt.isValidElement=K,Nt.lazy=function(C){return{$$typeof:f,_payload:{_status:-1,_result:C},_init:ne}},Nt.memo=function(C,T){return{$$typeof:h,type:C,compare:T===void 0?null:T}},Nt.startTransition=function(C){var T=U.transition;U.transition={};try{C()}finally{U.transition=T}},Nt.unstable_act=X,Nt.useCallback=function(C,T){return Y.current.useCallback(C,T)},Nt.useContext=function(C){return Y.current.useContext(C)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(C){return Y.current.useDeferredValue(C)},Nt.useEffect=function(C,T){return Y.current.useEffect(C,T)},Nt.useId=function(){return Y.current.useId()},Nt.useImperativeHandle=function(C,T,I){return Y.current.useImperativeHandle(C,T,I)},Nt.useInsertionEffect=function(C,T){return Y.current.useInsertionEffect(C,T)},Nt.useLayoutEffect=function(C,T){return Y.current.useLayoutEffect(C,T)},Nt.useMemo=function(C,T){return Y.current.useMemo(C,T)},Nt.useReducer=function(C,T,I){return Y.current.useReducer(C,T,I)},Nt.useRef=function(C){return Y.current.useRef(C)},Nt.useState=function(C){return Y.current.useState(C)},Nt.useSyncExternalStore=function(C,T,I){return Y.current.useSyncExternalStore(C,T,I)},Nt.useTransition=function(){return Y.current.useTransition()},Nt.version="18.3.1",Nt}var Jy;function af(){return Jy||(Jy=1,xp.exports=jE()),xp.exports}var e2;function LE(){if(e2)return Nl;e2=1;var t=af(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var f,p={},_=null,w=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(w=d.ref);for(f in d)r.call(d,f)&&!a.hasOwnProperty(f)&&(p[f]=d[f]);if(c&&c.defaultProps)for(f in d=c.defaultProps,d)p[f]===void 0&&(p[f]=d[f]);return{$$typeof:e,type:c,key:_,ref:w,props:p,_owner:i.current}}return Nl.Fragment=n,Nl.jsx=l,Nl.jsxs=l,Nl}var t2;function BE(){return t2||(t2=1,wp.exports=LE()),wp.exports}var R=BE(),Yu={},Sp={exports:{}},ur={},Cp={exports:{}},Ep={};var n2;function FE(){return n2||(n2=1,(function(t){function e(U,Z){var X=U.length;U.push(Z);e:for(;0<X;){var C=X-1>>>1,T=U[C];if(0<i(T,Z))U[C]=Z,U[X]=T,X=C;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],X=U.pop();if(X!==Z){U[0]=X;e:for(var C=0,T=U.length,I=T>>>1;C<I;){var F=2*(C+1)-1,H=U[F],ae=F+1,le=U[ae];if(0>i(H,X))ae<T&&0>i(le,H)?(U[C]=le,U[ae]=X,C=ae):(U[C]=H,U[F]=X,C=F);else if(ae<T&&0>i(le,X))U[C]=le,U[ae]=X,C=ae;else break e}}return Z}function i(U,Z){var X=U.sortIndex-Z.sortIndex;return X!==0?X:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],f=1,p=null,_=3,w=!1,E=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(U){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=U)r(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(h)}}function A(U){if(b=!1,m(U),!E)if(n(d)!==null)E=!0,ne(j);else{var Z=n(h);Z!==null&&Y(A,Z.startTime-U)}}function j(U,Z){E=!1,b&&(b=!1,v(V),V=-1),w=!0;var X=_;try{for(m(Z),p=n(d);p!==null&&(!(p.expirationTime>Z)||U&&!G());){var C=p.callback;if(typeof C=="function"){p.callback=null,_=p.priorityLevel;var T=C(p.expirationTime<=Z);Z=t.unstable_now(),typeof T=="function"?p.callback=T:p===n(d)&&r(d),m(Z)}else r(d);p=n(d)}if(p!==null)var I=!0;else{var F=n(h);F!==null&&Y(A,F.startTime-Z),I=!1}return I}finally{p=null,_=X,w=!1}}var L=!1,O=null,V=-1,q=5,K=-1;function G(){return!(t.unstable_now()-K<q)}function P(){if(O!==null){var U=t.unstable_now();K=U;var Z=!0;try{Z=O(!0,U)}finally{Z?z():(L=!1,O=null)}}else L=!1}var z;if(typeof y=="function")z=function(){y(P)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,W=S.port2;S.port1.onmessage=P,z=function(){W.postMessage(null)}}else z=function(){x(P,0)};function ne(U){O=U,L||(L=!0,z())}function Y(U,Z){V=x(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,ne(j))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(U){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var X=_;_=Z;try{return U()}finally{_=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=_;_=U;try{return Z()}finally{_=X}},t.unstable_scheduleCallback=function(U,Z,X){var C=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?C+X:C):X=C,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=X+T,U={id:f++,callback:Z,priorityLevel:U,startTime:X,expirationTime:T,sortIndex:-1},X>C?(U.sortIndex=X,e(h,U),n(d)===null&&U===n(h)&&(b?(v(V),V=-1):b=!0,Y(A,X-C))):(U.sortIndex=T,e(d,U),E||w||(E=!0,ne(j))),U},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(U){var Z=_;return function(){var X=_;_=Z;try{return U.apply(this,arguments)}finally{_=X}}}})(Ep)),Ep}var r2;function VE(){return r2||(r2=1,Cp.exports=FE()),Cp.exports}var s2;function zE(){if(s2)return ur;s2=1;var t=af(),e=VE();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function _(s){return d.call(p,s)?!0:d.call(f,s)?!1:h.test(s)?p[s]=!0:(f[s]=!0,!1)}function w(s,o,u,g){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,o,u,g){if(o===null||typeof o>"u"||w(s,o,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,u,g,k,N,Q){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=k,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=N,this.removeEmptyString=Q}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(v,y);x[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(v,y);x[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(v,y);x[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function m(s,o,u,g){var k=x.hasOwnProperty(o)?x[o]:null;(k!==null?k.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(E(o,u,k,g)&&(u=null),g||k===null?_(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):k.mustUseProperty?s[k.propertyName]=u===null?k.type===3?!1:"":u:(o=k.attributeName,g=k.attributeNamespace,u===null?s.removeAttribute(o):(k=k.type,u=k===3||k===4&&u===!0?"":""+u,g?s.setAttributeNS(g,o,u):s.setAttribute(o,u))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),L=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),G=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),U=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var X=Object.assign,C;function T(s){if(C===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);C=o&&o[1]||""}return`
`+C+s}var I=!1;function F(s,o){if(!s||I)return"";I=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(De){var g=De}Reflect.construct(s,[],o)}else{try{o.call()}catch(De){g=De}s.call(o.prototype)}else{try{throw Error()}catch(De){g=De}s()}}catch(De){if(De&&g&&typeof De.stack=="string"){for(var k=De.stack.split(`
`),N=g.stack.split(`
`),Q=k.length-1,de=N.length-1;1<=Q&&0<=de&&k[Q]!==N[de];)de--;for(;1<=Q&&0<=de;Q--,de--)if(k[Q]!==N[de]){if(Q!==1||de!==1)do if(Q--,de--,0>de||k[Q]!==N[de]){var me=`
`+k[Q].replace(" at new "," at ");return s.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",s.displayName)),me}while(1<=Q&&0<=de);break}}}finally{I=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?T(s):""}function H(s){switch(s.tag){case 5:return T(s.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return s=F(s.type,!1),s;case 11:return s=F(s.type.render,!1),s;case 1:return s=F(s.type,!0),s;default:return""}}function ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case L:return"Portal";case q:return"Profiler";case V:return"StrictMode";case z:return"Suspense";case S:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case G:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case W:return o=s.displayName||null,o!==null?o:ae(s.type)||"Memo";case ne:o=s._payload,s=s._init;try{return ae(s(o))}catch{}}return null}function le(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(o);case 8:return o===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ce(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function be(s){var o=ce(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var k=u.get,N=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return k.call(this)},set:function(Q){g=""+Q,N.call(this,Q)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(Q){g=""+Q},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ee(s){s._valueTracker||(s._valueTracker=be(s))}function je(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),g="";return s&&(g=ce(s)?s.checked?"true":"false":s.value),s=g,s!==u?(o.setValue(s),!0):!1}function Ve(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function B(s,o){var u=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ve(s,o){var u=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;u=te(o.value!=null?o.value:u),s._wrapperState={initialChecked:g,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function pe(s,o){o=o.checked,o!=null&&m(s,"checked",o,!1)}function ie(s,o){pe(s,o);var u=te(o.value),g=o.type;if(u!=null)g==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?M(s,o.type,u):o.hasOwnProperty("defaultValue")&&M(s,o.type,te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function se(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function M(s,o,u){(o!=="number"||Ve(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var $=Array.isArray;function we(s,o,u,g){if(s=s.options,o){o={};for(var k=0;k<u.length;k++)o["$"+u[k]]=!0;for(u=0;u<s.length;u++)k=o.hasOwnProperty("$"+s[u].value),s[u].selected!==k&&(s[u].selected=k),k&&g&&(s[u].defaultSelected=!0)}else{for(u=""+te(u),o=null,k=0;k<s.length;k++){if(s[k].value===u){s[k].selected=!0,g&&(s[k].defaultSelected=!0);return}o!==null||s[k].disabled||(o=s[k])}o!==null&&(o.selected=!0)}}function fe(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ne(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if($(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:te(u)}}function Oe(s,o){var u=te(o.value),g=te(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),g!=null&&(s.defaultValue=""+g)}function Re(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Le(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Le(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var He,Ce=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,g,k){MSApp.execUnsafeLocalFunction(function(){return s(o,u,g,k)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=He.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function it(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(s){J.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),pt[o]=pt[s]})});function ee(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||pt.hasOwnProperty(s)&&pt[s]?(""+o).trim():o+"px"}function oe(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var g=u.indexOf("--")===0,k=ee(u,o[u],g);u==="float"&&(u="cssFloat"),g?s.setProperty(u,k):s[u]=k}}var ue=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(s,o){if(o){if(ue[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function re(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function Se(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ge=null,Pe=null,xe=null;function Ae(s){if(s=vl(s)){if(typeof ge!="function")throw Error(n(280));var o=s.stateNode;o&&(o=uu(o),ge(s.stateNode,s.type,o))}}function Ze(s){Pe?xe?xe.push(s):xe=[s]:Pe=s}function ut(){if(Pe){var s=Pe,o=xe;if(xe=Pe=null,Ae(s),o)for(s=0;s<o.length;s++)Ae(o[s])}}function Fe(s,o){return s(o)}function at(){}var Me=!1;function et(s,o,u){if(Me)return s(o,u);Me=!0;try{return Fe(s,o,u)}finally{Me=!1,(Pe!==null||xe!==null)&&(at(),ut())}}function yt(s,o){var u=s.stateNode;if(u===null)return null;var g=uu(u);if(g===null)return null;u=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Be=!1;if(c)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Be=!1}function ze(s,o,u,g,k,N,Q,de,me){var De=Array.prototype.slice.call(arguments,3);try{o.apply(u,De)}catch(Xe){this.onError(Xe)}}var lt=!1,zt=null,Ye=!1,mt=null,Tt={onError:function(s){lt=!0,zt=s}};function Zt(s,o,u,g,k,N,Q,de,me){lt=!1,zt=null,ze.apply(Tt,arguments)}function Zn(s,o,u,g,k,N,Q,de,me){if(Zt.apply(this,arguments),lt){if(lt){var De=zt;lt=!1,zt=null}else throw Error(n(198));Ye||(Ye=!0,mt=De)}}function $t(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function qt(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Nn(s){if($t(s)!==s)throw Error(n(188))}function Yn(s){var o=s.alternate;if(!o){if(o=$t(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,g=o;;){var k=u.return;if(k===null)break;var N=k.alternate;if(N===null){if(g=k.return,g!==null){u=g;continue}break}if(k.child===N.child){for(N=k.child;N;){if(N===u)return Nn(k),s;if(N===g)return Nn(k),o;N=N.sibling}throw Error(n(188))}if(u.return!==g.return)u=k,g=N;else{for(var Q=!1,de=k.child;de;){if(de===u){Q=!0,u=k,g=N;break}if(de===g){Q=!0,g=k,u=N;break}de=de.sibling}if(!Q){for(de=N.child;de;){if(de===u){Q=!0,u=N,g=k;break}if(de===g){Q=!0,g=N,u=k;break}de=de.sibling}if(!Q)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Bn(s){return s=Yn(s),s!==null?nr(s):null}function nr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=nr(s);if(o!==null)return o;s=s.sibling}return null}var rr=e.unstable_scheduleCallback,Cn=e.unstable_cancelCallback,Er=e.unstable_shouldYield,Gs=e.unstable_requestPaint,Kt=e.unstable_now,Xc=e.unstable_getCurrentPriorityLevel,Po=e.unstable_ImmediatePriority,Ka=e.unstable_UserBlockingPriority,Ut=e.unstable_NormalPriority,qc=e.unstable_LowPriority,Qa=e.unstable_IdlePriority,Zs=null,sr=null;function Gc(s){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:Ja,Uf=Math.log,bn=Math.LN2;function Ja(s){return s>>>=0,s===0?32:31-(Uf(s)/bn|0)|0}var Ys=64,Ks=4194304;function wn(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function as(s,o){var u=s.pendingLanes;if(u===0)return 0;var g=0,k=s.suspendedLanes,N=s.pingedLanes,Q=u&268435455;if(Q!==0){var de=Q&~k;de!==0?g=wn(de):(N&=Q,N!==0&&(g=wn(N)))}else Q=u&~k,Q!==0?g=wn(Q):N!==0&&(g=wn(N));if(g===0)return 0;if(o!==0&&o!==g&&(o&k)===0&&(k=g&-g,N=o&-o,k>=N||k===16&&(N&4194240)!==0))return o;if((g&4)!==0&&(g|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=g;0<o;)u=31-Dn(o),k=1<<u,g|=s[u],o&=~k;return g}function Es(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(s,o){for(var u=s.suspendedLanes,g=s.pingedLanes,k=s.expirationTimes,N=s.pendingLanes;0<N;){var Q=31-Dn(N),de=1<<Q,me=k[Q];me===-1?((de&u)===0||(de&g)!==0)&&(k[Q]=Es(de,o)):me<=o&&(s.expiredLanes|=de),N&=~de}}function Br(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ro(){var s=Ys;return Ys<<=1,(Ys&4194240)===0&&(Ys=64),s}function Ts(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Fr(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Dn(o),s[o]=u}function Ao(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<u;){var k=31-Dn(u),N=1<<k;o[k]=0,g[k]=-1,s[k]=-1,u&=~N}}function Qs(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var g=31-Dn(u),k=1<<g;k&o|s[g]&o&&(s[g]|=o),u&=~k}}var Ht=0;function Ag(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Mg,Hf,Ng,Dg,Ig,Xf=!1,Zc=[],Js=null,ei=null,ti=null,tl=new Map,nl=new Map,ni=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Og(s,o){switch(s){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":tl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(o.pointerId)}}function rl(s,o,u,g,k,N){return s===null||s.nativeEvent!==N?(s={blockedOn:o,domEventName:u,eventSystemFlags:g,nativeEvent:N,targetContainers:[k]},o!==null&&(o=vl(o),o!==null&&Hf(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,k!==null&&o.indexOf(k)===-1&&o.push(k),s)}function sC(s,o,u,g,k){switch(o){case"focusin":return Js=rl(Js,s,o,u,g,k),!0;case"dragenter":return ei=rl(ei,s,o,u,g,k),!0;case"mouseover":return ti=rl(ti,s,o,u,g,k),!0;case"pointerover":var N=k.pointerId;return tl.set(N,rl(tl.get(N)||null,s,o,u,g,k)),!0;case"gotpointercapture":return N=k.pointerId,nl.set(N,rl(nl.get(N)||null,s,o,u,g,k)),!0}return!1}function jg(s){var o=Fi(s.target);if(o!==null){var u=$t(o);if(u!==null){if(o=u.tag,o===13){if(o=qt(u),o!==null){s.blockedOn=o,Ig(s.priority,function(){Ng(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Gf(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var g=new u.constructor(u.type,u);ye=g,u.target.dispatchEvent(g),ye=null}else return o=vl(u),o!==null&&Hf(o),s.blockedOn=u,!1;o.shift()}return!0}function Lg(s,o,u){Yc(s)&&u.delete(o)}function iC(){Xf=!1,Js!==null&&Yc(Js)&&(Js=null),ei!==null&&Yc(ei)&&(ei=null),ti!==null&&Yc(ti)&&(ti=null),tl.forEach(Lg),nl.forEach(Lg)}function sl(s,o){s.blockedOn===o&&(s.blockedOn=null,Xf||(Xf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iC)))}function il(s){function o(k){return sl(k,s)}if(0<Zc.length){sl(Zc[0],s);for(var u=1;u<Zc.length;u++){var g=Zc[u];g.blockedOn===s&&(g.blockedOn=null)}}for(Js!==null&&sl(Js,s),ei!==null&&sl(ei,s),ti!==null&&sl(ti,s),tl.forEach(o),nl.forEach(o),u=0;u<ni.length;u++)g=ni[u],g.blockedOn===s&&(g.blockedOn=null);for(;0<ni.length&&(u=ni[0],u.blockedOn===null);)jg(u),u.blockedOn===null&&ni.shift()}var Mo=A.ReactCurrentBatchConfig,Kc=!0;function oC(s,o,u,g){var k=Ht,N=Mo.transition;Mo.transition=null;try{Ht=1,qf(s,o,u,g)}finally{Ht=k,Mo.transition=N}}function aC(s,o,u,g){var k=Ht,N=Mo.transition;Mo.transition=null;try{Ht=4,qf(s,o,u,g)}finally{Ht=k,Mo.transition=N}}function qf(s,o,u,g){if(Kc){var k=Gf(s,o,u,g);if(k===null)dh(s,o,g,Qc,u),Og(s,g);else if(sC(k,s,o,u,g))g.stopPropagation();else if(Og(s,g),o&4&&-1<rC.indexOf(s)){for(;k!==null;){var N=vl(k);if(N!==null&&Mg(N),N=Gf(s,o,u,g),N===null&&dh(s,o,g,Qc,u),N===k)break;k=N}k!==null&&g.stopPropagation()}else dh(s,o,g,null,u)}}var Qc=null;function Gf(s,o,u,g){if(Qc=null,s=Se(g),s=Fi(s),s!==null)if(o=$t(s),o===null)s=null;else if(u=o.tag,u===13){if(s=qt(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Qc=s,null}function Bg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xc()){case Po:return 1;case Ka:return 4;case Ut:case qc:return 16;case Qa:return 536870912;default:return 16}default:return 16}}var ri=null,Zf=null,Jc=null;function Fg(){if(Jc)return Jc;var s,o=Zf,u=o.length,g,k="value"in ri?ri.value:ri.textContent,N=k.length;for(s=0;s<u&&o[s]===k[s];s++);var Q=u-s;for(g=1;g<=Q&&o[u-g]===k[N-g];g++);return Jc=k.slice(s,1<g?1-g:void 0)}function eu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function tu(){return!0}function Vg(){return!1}function pr(s){function o(u,g,k,N,Q){this._reactName=u,this._targetInst=k,this.type=g,this.nativeEvent=N,this.target=Q,this.currentTarget=null;for(var de in s)s.hasOwnProperty(de)&&(u=s[de],this[de]=u?u(N):N[de]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?tu:Vg,this.isPropagationStopped=Vg,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),o}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=pr(No),ol=X({},No,{view:0,detail:0}),lC=pr(ol),Kf,Qf,al,nu=X({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==al&&(al&&s.type==="mousemove"?(Kf=s.screenX-al.screenX,Qf=s.screenY-al.screenY):Qf=Kf=0,al=s),Kf)},movementY:function(s){return"movementY"in s?s.movementY:Qf}}),zg=pr(nu),cC=X({},nu,{dataTransfer:0}),uC=pr(cC),dC=X({},ol,{relatedTarget:0}),Jf=pr(dC),fC=X({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),hC=pr(fC),pC=X({},No,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mC=pr(pC),gC=X({},No,{data:0}),Wg=pr(gC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bC(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_C[s])?!!o[s]:!1}function eh(){return bC}var wC=X({},ol,{key:function(s){if(s.key){var o=vC[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=eu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(s){return s.type==="keypress"?eu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?eu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),xC=pr(wC),SC=X({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=pr(SC),CC=X({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),EC=pr(CC),TC=X({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=pr(TC),PC=X({},nu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),RC=pr(PC),AC=[9,13,27,32],th=c&&"CompositionEvent"in window,ll=null;c&&"documentMode"in document&&(ll=document.documentMode);var MC=c&&"TextEvent"in window&&!ll,Ug=c&&(!th||ll&&8<ll&&11>=ll),Hg=" ",Xg=!1;function qg(s,o){switch(s){case"keyup":return AC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function NC(s,o){switch(s){case"compositionend":return Gg(o);case"keypress":return o.which!==32?null:(Xg=!0,Hg);case"textInput":return s=o.data,s===Hg&&Xg?null:s;default:return null}}function DC(s,o){if(Do)return s==="compositionend"||!th&&qg(s,o)?(s=Fg(),Jc=Zf=ri=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ug&&o.locale!=="ko"?null:o.data;default:return null}}var IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!IC[s.type]:o==="textarea"}function Yg(s,o,u,g){Ze(g),o=au(o,"onChange"),0<o.length&&(u=new Yf("onChange","change",null,u,g),s.push({event:u,listeners:o}))}var cl=null,ul=null;function OC(s){pv(s,0)}function ru(s){var o=Bo(s);if(je(o))return s}function jC(s,o){if(s==="change")return o}var Kg=!1;if(c){var nh;if(c){var rh="oninput"in document;if(!rh){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),rh=typeof Qg.oninput=="function"}nh=rh}else nh=!1;Kg=nh&&(!document.documentMode||9<document.documentMode)}function Jg(){cl&&(cl.detachEvent("onpropertychange",ev),ul=cl=null)}function ev(s){if(s.propertyName==="value"&&ru(ul)){var o=[];Yg(o,ul,s,Se(s)),et(OC,o)}}function LC(s,o,u){s==="focusin"?(Jg(),cl=o,ul=u,cl.attachEvent("onpropertychange",ev)):s==="focusout"&&Jg()}function BC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ru(ul)}function FC(s,o){if(s==="click")return ru(o)}function VC(s,o){if(s==="input"||s==="change")return ru(o)}function zC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Vr=typeof Object.is=="function"?Object.is:zC;function dl(s,o){if(Vr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),g=Object.keys(o);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var k=u[g];if(!d.call(o,k)||!Vr(s[k],o[k]))return!1}return!0}function tv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nv(s,o){var u=tv(s);s=0;for(var g;u;){if(u.nodeType===3){if(g=s+u.textContent.length,s<=o&&g>=o)return{node:u,offset:o-s};s=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=tv(u)}}function rv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?rv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function sv(){for(var s=window,o=Ve();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Ve(s.document)}return o}function sh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function WC(s){var o=sv(),u=s.focusedElem,g=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&rv(u.ownerDocument.documentElement,u)){if(g!==null&&sh(u)){if(o=g.start,s=g.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var k=u.textContent.length,N=Math.min(g.start,k);g=g.end===void 0?N:Math.min(g.end,k),!s.extend&&N>g&&(k=g,g=N,N=k),k=nv(u,N);var Q=nv(u,g);k&&Q&&(s.rangeCount!==1||s.anchorNode!==k.node||s.anchorOffset!==k.offset||s.focusNode!==Q.node||s.focusOffset!==Q.offset)&&(o=o.createRange(),o.setStart(k.node,k.offset),s.removeAllRanges(),N>g?(s.addRange(o),s.extend(Q.node,Q.offset)):(o.setEnd(Q.node,Q.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $C=c&&"documentMode"in document&&11>=document.documentMode,Io=null,ih=null,fl=null,oh=!1;function iv(s,o,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;oh||Io==null||Io!==Ve(g)||(g=Io,"selectionStart"in g&&sh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),fl&&dl(fl,g)||(fl=g,g=au(ih,"onSelect"),0<g.length&&(o=new Yf("onSelect","select",null,o,u),s.push({event:o,listeners:g}),o.target=Io)))}function su(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Oo={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},ah={},ov={};c&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function iu(s){if(ah[s])return ah[s];if(!Oo[s])return s;var o=Oo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in ov)return ah[s]=o[u];return s}var av=iu("animationend"),lv=iu("animationiteration"),cv=iu("animationstart"),uv=iu("transitionend"),dv=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(s,o){dv.set(s,o),a(o,[s])}for(var lh=0;lh<fv.length;lh++){var ch=fv[lh],UC=ch.toLowerCase(),HC=ch[0].toUpperCase()+ch.slice(1);si(UC,"on"+HC)}si(av,"onAnimationEnd"),si(lv,"onAnimationIteration"),si(cv,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(uv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XC=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function hv(s,o,u){var g=s.type||"unknown-event";s.currentTarget=u,Zn(g,o,void 0,s),s.currentTarget=null}function pv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var g=s[u],k=g.event;g=g.listeners;e:{var N=void 0;if(o)for(var Q=g.length-1;0<=Q;Q--){var de=g[Q],me=de.instance,De=de.currentTarget;if(de=de.listener,me!==N&&k.isPropagationStopped())break e;hv(k,de,De),N=me}else for(Q=0;Q<g.length;Q++){if(de=g[Q],me=de.instance,De=de.currentTarget,de=de.listener,me!==N&&k.isPropagationStopped())break e;hv(k,de,De),N=me}}}if(Ye)throw s=mt,Ye=!1,mt=null,s}function Qt(s,o){var u=o[vh];u===void 0&&(u=o[vh]=new Set);var g=s+"__bubble";u.has(g)||(mv(o,s,2,!1),u.add(g))}function uh(s,o,u){var g=0;o&&(g|=4),mv(u,s,g,o)}var ou="_reactListening"+Math.random().toString(36).slice(2);function pl(s){if(!s[ou]){s[ou]=!0,r.forEach(function(u){u!=="selectionchange"&&(XC.has(u)||uh(u,!1,s),uh(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[ou]||(o[ou]=!0,uh("selectionchange",!1,o))}}function mv(s,o,u,g){switch(Bg(o)){case 1:var k=oC;break;case 4:k=aC;break;default:k=qf}u=k.bind(null,o,u,s),k=void 0,!Be||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(k=!0),g?k!==void 0?s.addEventListener(o,u,{capture:!0,passive:k}):s.addEventListener(o,u,!0):k!==void 0?s.addEventListener(o,u,{passive:k}):s.addEventListener(o,u,!1)}function dh(s,o,u,g,k){var N=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var Q=g.tag;if(Q===3||Q===4){var de=g.stateNode.containerInfo;if(de===k||de.nodeType===8&&de.parentNode===k)break;if(Q===4)for(Q=g.return;Q!==null;){var me=Q.tag;if((me===3||me===4)&&(me=Q.stateNode.containerInfo,me===k||me.nodeType===8&&me.parentNode===k))return;Q=Q.return}for(;de!==null;){if(Q=Fi(de),Q===null)return;if(me=Q.tag,me===5||me===6){g=N=Q;continue e}de=de.parentNode}}g=g.return}et(function(){var De=N,Xe=Se(u),qe=[];e:{var $e=dv.get(s);if($e!==void 0){var rt=Yf,ct=s;switch(s){case"keypress":if(eu(u)===0)break e;case"keydown":case"keyup":rt=xC;break;case"focusin":ct="focus",rt=Jf;break;case"focusout":ct="blur",rt=Jf;break;case"beforeblur":case"afterblur":rt=Jf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=uC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=EC;break;case av:case lv:case cv:rt=hC;break;case uv:rt=kC;break;case"scroll":rt=lC;break;case"wheel":rt=RC;break;case"copy":case"cut":case"paste":rt=mC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=$g}var dt=(o&4)!==0,mn=!dt&&s==="scroll",Te=dt?$e!==null?$e+"Capture":null:$e;dt=[];for(var _e=De,ke;_e!==null;){ke=_e;var Ke=ke.stateNode;if(ke.tag===5&&Ke!==null&&(ke=Ke,Te!==null&&(Ke=yt(_e,Te),Ke!=null&&dt.push(ml(_e,Ke,ke)))),mn)break;_e=_e.return}0<dt.length&&($e=new rt($e,ct,null,u,Xe),qe.push({event:$e,listeners:dt}))}}if((o&7)===0){e:{if($e=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",$e&&u!==ye&&(ct=u.relatedTarget||u.fromElement)&&(Fi(ct)||ct[ks]))break e;if((rt||$e)&&($e=Xe.window===Xe?Xe:($e=Xe.ownerDocument)?$e.defaultView||$e.parentWindow:window,rt?(ct=u.relatedTarget||u.toElement,rt=De,ct=ct?Fi(ct):null,ct!==null&&(mn=$t(ct),ct!==mn||ct.tag!==5&&ct.tag!==6)&&(ct=null)):(rt=null,ct=De),rt!==ct)){if(dt=zg,Ke="onMouseLeave",Te="onMouseEnter",_e="mouse",(s==="pointerout"||s==="pointerover")&&(dt=$g,Ke="onPointerLeave",Te="onPointerEnter",_e="pointer"),mn=rt==null?$e:Bo(rt),ke=ct==null?$e:Bo(ct),$e=new dt(Ke,_e+"leave",rt,u,Xe),$e.target=mn,$e.relatedTarget=ke,Ke=null,Fi(Xe)===De&&(dt=new dt(Te,_e+"enter",ct,u,Xe),dt.target=ke,dt.relatedTarget=mn,Ke=dt),mn=Ke,rt&&ct)t:{for(dt=rt,Te=ct,_e=0,ke=dt;ke;ke=jo(ke))_e++;for(ke=0,Ke=Te;Ke;Ke=jo(Ke))ke++;for(;0<_e-ke;)dt=jo(dt),_e--;for(;0<ke-_e;)Te=jo(Te),ke--;for(;_e--;){if(dt===Te||Te!==null&&dt===Te.alternate)break t;dt=jo(dt),Te=jo(Te)}dt=null}else dt=null;rt!==null&&gv(qe,$e,rt,dt,!1),ct!==null&&mn!==null&&gv(qe,mn,ct,dt,!0)}}e:{if($e=De?Bo(De):window,rt=$e.nodeName&&$e.nodeName.toLowerCase(),rt==="select"||rt==="input"&&$e.type==="file")var ft=jC;else if(Zg($e))if(Kg)ft=VC;else{ft=BC;var gt=LC}else(rt=$e.nodeName)&&rt.toLowerCase()==="input"&&($e.type==="checkbox"||$e.type==="radio")&&(ft=FC);if(ft&&(ft=ft(s,De))){Yg(qe,ft,u,Xe);break e}gt&&gt(s,$e,De),s==="focusout"&&(gt=$e._wrapperState)&&gt.controlled&&$e.type==="number"&&M($e,"number",$e.value)}switch(gt=De?Bo(De):window,s){case"focusin":(Zg(gt)||gt.contentEditable==="true")&&(Io=gt,ih=De,fl=null);break;case"focusout":fl=ih=Io=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,iv(qe,u,Xe);break;case"selectionchange":if($C)break;case"keydown":case"keyup":iv(qe,u,Xe)}var vt;if(th)e:{switch(s){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Do?qg(s,u)&&(St="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(St="onCompositionStart");St&&(Ug&&u.locale!=="ko"&&(Do||St!=="onCompositionStart"?St==="onCompositionEnd"&&Do&&(vt=Fg()):(ri=Xe,Zf="value"in ri?ri.value:ri.textContent,Do=!0)),gt=au(De,St),0<gt.length&&(St=new Wg(St,s,null,u,Xe),qe.push({event:St,listeners:gt}),vt?St.data=vt:(vt=Gg(u),vt!==null&&(St.data=vt)))),(vt=MC?NC(s,u):DC(s,u))&&(De=au(De,"onBeforeInput"),0<De.length&&(Xe=new Wg("onBeforeInput","beforeinput",null,u,Xe),qe.push({event:Xe,listeners:De}),Xe.data=vt))}pv(qe,o)})}function ml(s,o,u){return{instance:s,listener:o,currentTarget:u}}function au(s,o){for(var u=o+"Capture",g=[];s!==null;){var k=s,N=k.stateNode;k.tag===5&&N!==null&&(k=N,N=yt(s,u),N!=null&&g.unshift(ml(s,N,k)),N=yt(s,o),N!=null&&g.push(ml(s,N,k))),s=s.return}return g}function jo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function gv(s,o,u,g,k){for(var N=o._reactName,Q=[];u!==null&&u!==g;){var de=u,me=de.alternate,De=de.stateNode;if(me!==null&&me===g)break;de.tag===5&&De!==null&&(de=De,k?(me=yt(u,N),me!=null&&Q.unshift(ml(u,me,de))):k||(me=yt(u,N),me!=null&&Q.push(ml(u,me,de)))),u=u.return}Q.length!==0&&s.push({event:o,listeners:Q})}var qC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function vv(s){return(typeof s=="string"?s:""+s).replace(qC,`
`).replace(GC,"")}function lu(s,o,u){if(o=vv(o),vv(s)!==o&&u)throw Error(n(425))}function cu(){}var fh=null,hh=null;function ph(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,YC=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(s){return yv.resolve(null).then(s).catch(KC)}:mh;function KC(s){setTimeout(function(){throw s})}function gh(s,o){var u=o,g=0;do{var k=u.nextSibling;if(s.removeChild(u),k&&k.nodeType===8)if(u=k.data,u==="/$"){if(g===0){s.removeChild(k),il(o);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=k}while(u);il(o)}function ii(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function _v(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),ls="__reactFiber$"+Lo,gl="__reactProps$"+Lo,ks="__reactContainer$"+Lo,vh="__reactEvents$"+Lo,QC="__reactListeners$"+Lo,JC="__reactHandles$"+Lo;function Fi(s){var o=s[ls];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ks]||u[ls]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=_v(s);s!==null;){if(u=s[ls])return u;s=_v(s)}return o}s=u,u=s.parentNode}return null}function vl(s){return s=s[ls]||s[ks],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function uu(s){return s[gl]||null}var yh=[],Fo=-1;function oi(s){return{current:s}}function Jt(s){0>Fo||(s.current=yh[Fo],yh[Fo]=null,Fo--)}function Yt(s,o){Fo++,yh[Fo]=s.current,s.current=o}var ai={},Fn=oi(ai),ir=oi(!1),Vi=ai;function Vo(s,o){var u=s.type.contextTypes;if(!u)return ai;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var k={},N;for(N in u)k[N]=o[N];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=k),k}function or(s){return s=s.childContextTypes,s!=null}function du(){Jt(ir),Jt(Fn)}function bv(s,o,u){if(Fn.current!==ai)throw Error(n(168));Yt(Fn,o),Yt(ir,u)}function wv(s,o,u){var g=s.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var k in g)if(!(k in o))throw Error(n(108,le(s)||"Unknown",k));return X({},u,g)}function fu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ai,Vi=Fn.current,Yt(Fn,s),Yt(ir,ir.current),!0}function xv(s,o,u){var g=s.stateNode;if(!g)throw Error(n(169));u?(s=wv(s,o,Vi),g.__reactInternalMemoizedMergedChildContext=s,Jt(ir),Jt(Fn),Yt(Fn,s)):Jt(ir),Yt(ir,u)}var Ps=null,hu=!1,_h=!1;function Sv(s){Ps===null?Ps=[s]:Ps.push(s)}function eE(s){hu=!0,Sv(s)}function li(){if(!_h&&Ps!==null){_h=!0;var s=0,o=Ht;try{var u=Ps;for(Ht=1;s<u.length;s++){var g=u[s];do g=g(!0);while(g!==null)}Ps=null,hu=!1}catch(k){throw Ps!==null&&(Ps=Ps.slice(s+1)),rr(Po,li),k}finally{Ht=o,_h=!1}}return null}var zo=[],Wo=0,pu=null,mu=0,Tr=[],kr=0,zi=null,Rs=1,As="";function Wi(s,o){zo[Wo++]=mu,zo[Wo++]=pu,pu=s,mu=o}function Cv(s,o,u){Tr[kr++]=Rs,Tr[kr++]=As,Tr[kr++]=zi,zi=s;var g=Rs;s=As;var k=32-Dn(g)-1;g&=~(1<<k),u+=1;var N=32-Dn(o)+k;if(30<N){var Q=k-k%5;N=(g&(1<<Q)-1).toString(32),g>>=Q,k-=Q,Rs=1<<32-Dn(o)+k|u<<k|g,As=N+s}else Rs=1<<N|u<<k|g,As=s}function bh(s){s.return!==null&&(Wi(s,1),Cv(s,1,0))}function wh(s){for(;s===pu;)pu=zo[--Wo],zo[Wo]=null,mu=zo[--Wo],zo[Wo]=null;for(;s===zi;)zi=Tr[--kr],Tr[kr]=null,As=Tr[--kr],Tr[kr]=null,Rs=Tr[--kr],Tr[kr]=null}var mr=null,gr=null,nn=!1,zr=null;function Ev(s,o){var u=Mr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Tv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,mr=s,gr=ii(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,mr=s,gr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=zi!==null?{id:Rs,overflow:As}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Mr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,mr=s,gr=null,!0):!1;default:return!1}}function xh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sh(s){if(nn){var o=gr;if(o){var u=o;if(!Tv(s,o)){if(xh(s))throw Error(n(418));o=ii(u.nextSibling);var g=mr;o&&Tv(s,o)?Ev(g,u):(s.flags=s.flags&-4097|2,nn=!1,mr=s)}}else{if(xh(s))throw Error(n(418));s.flags=s.flags&-4097|2,nn=!1,mr=s}}}function kv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;mr=s}function gu(s){if(s!==mr)return!1;if(!nn)return kv(s),nn=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ph(s.type,s.memoizedProps)),o&&(o=gr)){if(xh(s))throw Pv(),Error(n(418));for(;o;)Ev(s,o),o=ii(o.nextSibling)}if(kv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){gr=ii(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}gr=null}}else gr=mr?ii(s.stateNode.nextSibling):null;return!0}function Pv(){for(var s=gr;s;)s=ii(s.nextSibling)}function $o(){gr=mr=null,nn=!1}function Ch(s){zr===null?zr=[s]:zr.push(s)}var tE=A.ReactCurrentBatchConfig;function yl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,s));var k=g,N=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===N?o.ref:(o=function(Q){var de=k.refs;Q===null?delete de[N]:de[N]=Q},o._stringRef=N,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function vu(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Rv(s){var o=s._init;return o(s._payload)}function Av(s){function o(Te,_e){if(s){var ke=Te.deletions;ke===null?(Te.deletions=[_e],Te.flags|=16):ke.push(_e)}}function u(Te,_e){if(!s)return null;for(;_e!==null;)o(Te,_e),_e=_e.sibling;return null}function g(Te,_e){for(Te=new Map;_e!==null;)_e.key!==null?Te.set(_e.key,_e):Te.set(_e.index,_e),_e=_e.sibling;return Te}function k(Te,_e){return Te=gi(Te,_e),Te.index=0,Te.sibling=null,Te}function N(Te,_e,ke){return Te.index=ke,s?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<_e?(Te.flags|=2,_e):ke):(Te.flags|=2,_e)):(Te.flags|=1048576,_e)}function Q(Te){return s&&Te.alternate===null&&(Te.flags|=2),Te}function de(Te,_e,ke,Ke){return _e===null||_e.tag!==6?(_e=mp(ke,Te.mode,Ke),_e.return=Te,_e):(_e=k(_e,ke),_e.return=Te,_e)}function me(Te,_e,ke,Ke){var ft=ke.type;return ft===O?Xe(Te,_e,ke.props.children,Ke,ke.key):_e!==null&&(_e.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===ne&&Rv(ft)===_e.type)?(Ke=k(_e,ke.props),Ke.ref=yl(Te,_e,ke),Ke.return=Te,Ke):(Ke=zu(ke.type,ke.key,ke.props,null,Te.mode,Ke),Ke.ref=yl(Te,_e,ke),Ke.return=Te,Ke)}function De(Te,_e,ke,Ke){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==ke.containerInfo||_e.stateNode.implementation!==ke.implementation?(_e=gp(ke,Te.mode,Ke),_e.return=Te,_e):(_e=k(_e,ke.children||[]),_e.return=Te,_e)}function Xe(Te,_e,ke,Ke,ft){return _e===null||_e.tag!==7?(_e=Yi(ke,Te.mode,Ke,ft),_e.return=Te,_e):(_e=k(_e,ke),_e.return=Te,_e)}function qe(Te,_e,ke){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=mp(""+_e,Te.mode,ke),_e.return=Te,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case j:return ke=zu(_e.type,_e.key,_e.props,null,Te.mode,ke),ke.ref=yl(Te,null,_e),ke.return=Te,ke;case L:return _e=gp(_e,Te.mode,ke),_e.return=Te,_e;case ne:var Ke=_e._init;return qe(Te,Ke(_e._payload),ke)}if($(_e)||Z(_e))return _e=Yi(_e,Te.mode,ke,null),_e.return=Te,_e;vu(Te,_e)}return null}function $e(Te,_e,ke,Ke){var ft=_e!==null?_e.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ft!==null?null:de(Te,_e,""+ke,Ke);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case j:return ke.key===ft?me(Te,_e,ke,Ke):null;case L:return ke.key===ft?De(Te,_e,ke,Ke):null;case ne:return ft=ke._init,$e(Te,_e,ft(ke._payload),Ke)}if($(ke)||Z(ke))return ft!==null?null:Xe(Te,_e,ke,Ke,null);vu(Te,ke)}return null}function rt(Te,_e,ke,Ke,ft){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Te=Te.get(ke)||null,de(_e,Te,""+Ke,ft);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case j:return Te=Te.get(Ke.key===null?ke:Ke.key)||null,me(_e,Te,Ke,ft);case L:return Te=Te.get(Ke.key===null?ke:Ke.key)||null,De(_e,Te,Ke,ft);case ne:var gt=Ke._init;return rt(Te,_e,ke,gt(Ke._payload),ft)}if($(Ke)||Z(Ke))return Te=Te.get(ke)||null,Xe(_e,Te,Ke,ft,null);vu(_e,Ke)}return null}function ct(Te,_e,ke,Ke){for(var ft=null,gt=null,vt=_e,St=_e=0,An=null;vt!==null&&St<ke.length;St++){vt.index>St?(An=vt,vt=null):An=vt.sibling;var Vt=$e(Te,vt,ke[St],Ke);if(Vt===null){vt===null&&(vt=An);break}s&&vt&&Vt.alternate===null&&o(Te,vt),_e=N(Vt,_e,St),gt===null?ft=Vt:gt.sibling=Vt,gt=Vt,vt=An}if(St===ke.length)return u(Te,vt),nn&&Wi(Te,St),ft;if(vt===null){for(;St<ke.length;St++)vt=qe(Te,ke[St],Ke),vt!==null&&(_e=N(vt,_e,St),gt===null?ft=vt:gt.sibling=vt,gt=vt);return nn&&Wi(Te,St),ft}for(vt=g(Te,vt);St<ke.length;St++)An=rt(vt,Te,St,ke[St],Ke),An!==null&&(s&&An.alternate!==null&&vt.delete(An.key===null?St:An.key),_e=N(An,_e,St),gt===null?ft=An:gt.sibling=An,gt=An);return s&&vt.forEach(function(vi){return o(Te,vi)}),nn&&Wi(Te,St),ft}function dt(Te,_e,ke,Ke){var ft=Z(ke);if(typeof ft!="function")throw Error(n(150));if(ke=ft.call(ke),ke==null)throw Error(n(151));for(var gt=ft=null,vt=_e,St=_e=0,An=null,Vt=ke.next();vt!==null&&!Vt.done;St++,Vt=ke.next()){vt.index>St?(An=vt,vt=null):An=vt.sibling;var vi=$e(Te,vt,Vt.value,Ke);if(vi===null){vt===null&&(vt=An);break}s&&vt&&vi.alternate===null&&o(Te,vt),_e=N(vi,_e,St),gt===null?ft=vi:gt.sibling=vi,gt=vi,vt=An}if(Vt.done)return u(Te,vt),nn&&Wi(Te,St),ft;if(vt===null){for(;!Vt.done;St++,Vt=ke.next())Vt=qe(Te,Vt.value,Ke),Vt!==null&&(_e=N(Vt,_e,St),gt===null?ft=Vt:gt.sibling=Vt,gt=Vt);return nn&&Wi(Te,St),ft}for(vt=g(Te,vt);!Vt.done;St++,Vt=ke.next())Vt=rt(vt,Te,St,Vt.value,Ke),Vt!==null&&(s&&Vt.alternate!==null&&vt.delete(Vt.key===null?St:Vt.key),_e=N(Vt,_e,St),gt===null?ft=Vt:gt.sibling=Vt,gt=Vt);return s&&vt.forEach(function(IE){return o(Te,IE)}),nn&&Wi(Te,St),ft}function mn(Te,_e,ke,Ke){if(typeof ke=="object"&&ke!==null&&ke.type===O&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case j:e:{for(var ft=ke.key,gt=_e;gt!==null;){if(gt.key===ft){if(ft=ke.type,ft===O){if(gt.tag===7){u(Te,gt.sibling),_e=k(gt,ke.props.children),_e.return=Te,Te=_e;break e}}else if(gt.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===ne&&Rv(ft)===gt.type){u(Te,gt.sibling),_e=k(gt,ke.props),_e.ref=yl(Te,gt,ke),_e.return=Te,Te=_e;break e}u(Te,gt);break}else o(Te,gt);gt=gt.sibling}ke.type===O?(_e=Yi(ke.props.children,Te.mode,Ke,ke.key),_e.return=Te,Te=_e):(Ke=zu(ke.type,ke.key,ke.props,null,Te.mode,Ke),Ke.ref=yl(Te,_e,ke),Ke.return=Te,Te=Ke)}return Q(Te);case L:e:{for(gt=ke.key;_e!==null;){if(_e.key===gt)if(_e.tag===4&&_e.stateNode.containerInfo===ke.containerInfo&&_e.stateNode.implementation===ke.implementation){u(Te,_e.sibling),_e=k(_e,ke.children||[]),_e.return=Te,Te=_e;break e}else{u(Te,_e);break}else o(Te,_e);_e=_e.sibling}_e=gp(ke,Te.mode,Ke),_e.return=Te,Te=_e}return Q(Te);case ne:return gt=ke._init,mn(Te,_e,gt(ke._payload),Ke)}if($(ke))return ct(Te,_e,ke,Ke);if(Z(ke))return dt(Te,_e,ke,Ke);vu(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,_e!==null&&_e.tag===6?(u(Te,_e.sibling),_e=k(_e,ke),_e.return=Te,Te=_e):(u(Te,_e),_e=mp(ke,Te.mode,Ke),_e.return=Te,Te=_e),Q(Te)):u(Te,_e)}return mn}var Uo=Av(!0),Mv=Av(!1),yu=oi(null),_u=null,Ho=null,Eh=null;function Th(){Eh=Ho=_u=null}function kh(s){var o=yu.current;Jt(yu),s._currentValue=o}function Ph(s,o,u){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===u)break;s=s.return}}function Xo(s,o){_u=s,Eh=Ho=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ar=!0),s.firstContext=null)}function Pr(s){var o=s._currentValue;if(Eh!==s)if(s={context:s,memoizedValue:o,next:null},Ho===null){if(_u===null)throw Error(n(308));Ho=s,_u.dependencies={lanes:0,firstContext:s}}else Ho=Ho.next=s;return o}var $i=null;function Rh(s){$i===null?$i=[s]:$i.push(s)}function Nv(s,o,u,g){var k=o.interleaved;return k===null?(u.next=u,Rh(o)):(u.next=k.next,k.next=u),o.interleaved=u,Ms(s,g)}function Ms(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ci=!1;function Ah(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ns(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ui(s,o,u){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Lt&2)!==0){var k=g.pending;return k===null?o.next=o:(o.next=k.next,k.next=o),g.pending=o,Ms(s,u)}return k=g.interleaved,k===null?(o.next=o,Rh(g)):(o.next=k.next,k.next=o),g.interleaved=o,Ms(s,u)}function bu(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var g=o.lanes;g&=s.pendingLanes,u|=g,o.lanes=u,Qs(s,u)}}function Iv(s,o){var u=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var k=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var Q={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?k=N=Q:N=N.next=Q,u=u.next}while(u!==null);N===null?k=N=o:N=N.next=o}else k=N=o;u={baseState:g.baseState,firstBaseUpdate:k,lastBaseUpdate:N,shared:g.shared,effects:g.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function wu(s,o,u,g){var k=s.updateQueue;ci=!1;var N=k.firstBaseUpdate,Q=k.lastBaseUpdate,de=k.shared.pending;if(de!==null){k.shared.pending=null;var me=de,De=me.next;me.next=null,Q===null?N=De:Q.next=De,Q=me;var Xe=s.alternate;Xe!==null&&(Xe=Xe.updateQueue,de=Xe.lastBaseUpdate,de!==Q&&(de===null?Xe.firstBaseUpdate=De:de.next=De,Xe.lastBaseUpdate=me))}if(N!==null){var qe=k.baseState;Q=0,Xe=De=me=null,de=N;do{var $e=de.lane,rt=de.eventTime;if((g&$e)===$e){Xe!==null&&(Xe=Xe.next={eventTime:rt,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ct=s,dt=de;switch($e=o,rt=u,dt.tag){case 1:if(ct=dt.payload,typeof ct=="function"){qe=ct.call(rt,qe,$e);break e}qe=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=dt.payload,$e=typeof ct=="function"?ct.call(rt,qe,$e):ct,$e==null)break e;qe=X({},qe,$e);break e;case 2:ci=!0}}de.callback!==null&&de.lane!==0&&(s.flags|=64,$e=k.effects,$e===null?k.effects=[de]:$e.push(de))}else rt={eventTime:rt,lane:$e,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Xe===null?(De=Xe=rt,me=qe):Xe=Xe.next=rt,Q|=$e;if(de=de.next,de===null){if(de=k.shared.pending,de===null)break;$e=de,de=$e.next,$e.next=null,k.lastBaseUpdate=$e,k.shared.pending=null}}while(!0);if(Xe===null&&(me=qe),k.baseState=me,k.firstBaseUpdate=De,k.lastBaseUpdate=Xe,o=k.shared.interleaved,o!==null){k=o;do Q|=k.lane,k=k.next;while(k!==o)}else N===null&&(k.shared.lanes=0);Xi|=Q,s.lanes=Q,s.memoizedState=qe}}function Ov(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var g=s[o],k=g.callback;if(k!==null){if(g.callback=null,g=u,typeof k!="function")throw Error(n(191,k));k.call(g)}}}var _l={},cs=oi(_l),bl=oi(_l),wl=oi(_l);function Ui(s){if(s===_l)throw Error(n(174));return s}function Mh(s,o){switch(Yt(wl,o),Yt(bl,s),Yt(cs,_l),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Qe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Qe(o,s)}Jt(cs),Yt(cs,o)}function qo(){Jt(cs),Jt(bl),Jt(wl)}function jv(s){Ui(wl.current);var o=Ui(cs.current),u=Qe(o,s.type);o!==u&&(Yt(bl,s),Yt(cs,u))}function Nh(s){bl.current===s&&(Jt(cs),Jt(bl))}var sn=oi(0);function xu(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Ih(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Su=A.ReactCurrentDispatcher,Oh=A.ReactCurrentBatchConfig,Hi=0,on=null,En=null,Pn=null,Cu=!1,xl=!1,Sl=0,nE=0;function Vn(){throw Error(n(321))}function jh(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Vr(s[u],o[u]))return!1;return!0}function Lh(s,o,u,g,k,N){if(Hi=N,on=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Su.current=s===null||s.memoizedState===null?oE:aE,s=u(g,k),xl){N=0;do{if(xl=!1,Sl=0,25<=N)throw Error(n(301));N+=1,Pn=En=null,o.updateQueue=null,Su.current=lE,s=u(g,k)}while(xl)}if(Su.current=ku,o=En!==null&&En.next!==null,Hi=0,Pn=En=on=null,Cu=!1,o)throw Error(n(300));return s}function Bh(){var s=Sl!==0;return Sl=0,s}function us(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?on.memoizedState=Pn=s:Pn=Pn.next=s,Pn}function Rr(){if(En===null){var s=on.alternate;s=s!==null?s.memoizedState:null}else s=En.next;var o=Pn===null?on.memoizedState:Pn.next;if(o!==null)Pn=o,En=s;else{if(s===null)throw Error(n(310));En=s,s={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Pn===null?on.memoizedState=Pn=s:Pn=Pn.next=s}return Pn}function Cl(s,o){return typeof o=="function"?o(s):o}function Fh(s){var o=Rr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var g=En,k=g.baseQueue,N=u.pending;if(N!==null){if(k!==null){var Q=k.next;k.next=N.next,N.next=Q}g.baseQueue=k=N,u.pending=null}if(k!==null){N=k.next,g=g.baseState;var de=Q=null,me=null,De=N;do{var Xe=De.lane;if((Hi&Xe)===Xe)me!==null&&(me=me.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),g=De.hasEagerState?De.eagerState:s(g,De.action);else{var qe={lane:Xe,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};me===null?(de=me=qe,Q=g):me=me.next=qe,on.lanes|=Xe,Xi|=Xe}De=De.next}while(De!==null&&De!==N);me===null?Q=g:me.next=de,Vr(g,o.memoizedState)||(ar=!0),o.memoizedState=g,o.baseState=Q,o.baseQueue=me,u.lastRenderedState=g}if(s=u.interleaved,s!==null){k=s;do N=k.lane,on.lanes|=N,Xi|=N,k=k.next;while(k!==s)}else k===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Vh(s){var o=Rr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var g=u.dispatch,k=u.pending,N=o.memoizedState;if(k!==null){u.pending=null;var Q=k=k.next;do N=s(N,Q.action),Q=Q.next;while(Q!==k);Vr(N,o.memoizedState)||(ar=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,g]}function Lv(){}function Bv(s,o){var u=on,g=Rr(),k=o(),N=!Vr(g.memoizedState,k);if(N&&(g.memoizedState=k,ar=!0),g=g.queue,zh(zv.bind(null,u,g,s),[s]),g.getSnapshot!==o||N||Pn!==null&&Pn.memoizedState.tag&1){if(u.flags|=2048,El(9,Vv.bind(null,u,g,k,o),void 0,null),Rn===null)throw Error(n(349));(Hi&30)!==0||Fv(u,o,k)}return k}function Fv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=on.updateQueue,o===null?(o={lastEffect:null,stores:null},on.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Vv(s,o,u,g){o.value=u,o.getSnapshot=g,Wv(o)&&$v(s)}function zv(s,o,u){return u(function(){Wv(o)&&$v(s)})}function Wv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Vr(s,u)}catch{return!0}}function $v(s){var o=Ms(s,1);o!==null&&Hr(o,s,1,-1)}function Uv(s){var o=us();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:s},o.queue=s,s=s.dispatch=iE.bind(null,on,s),[o.memoizedState,s]}function El(s,o,u,g){return s={tag:s,create:o,destroy:u,deps:g,next:null},o=on.updateQueue,o===null?(o={lastEffect:null,stores:null},on.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(g=u.next,u.next=s,s.next=g,o.lastEffect=s)),s}function Hv(){return Rr().memoizedState}function Eu(s,o,u,g){var k=us();on.flags|=s,k.memoizedState=El(1|o,u,void 0,g===void 0?null:g)}function Tu(s,o,u,g){var k=Rr();g=g===void 0?null:g;var N=void 0;if(En!==null){var Q=En.memoizedState;if(N=Q.destroy,g!==null&&jh(g,Q.deps)){k.memoizedState=El(o,u,N,g);return}}on.flags|=s,k.memoizedState=El(1|o,u,N,g)}function Xv(s,o){return Eu(8390656,8,s,o)}function zh(s,o){return Tu(2048,8,s,o)}function qv(s,o){return Tu(4,2,s,o)}function Gv(s,o){return Tu(4,4,s,o)}function Zv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Yv(s,o,u){return u=u!=null?u.concat([s]):null,Tu(4,4,Zv.bind(null,o,s),u)}function Wh(){}function Kv(s,o){var u=Rr();o=o===void 0?null:o;var g=u.memoizedState;return g!==null&&o!==null&&jh(o,g[1])?g[0]:(u.memoizedState=[s,o],s)}function Qv(s,o){var u=Rr();o=o===void 0?null:o;var g=u.memoizedState;return g!==null&&o!==null&&jh(o,g[1])?g[0]:(s=s(),u.memoizedState=[s,o],s)}function Jv(s,o,u){return(Hi&21)===0?(s.baseState&&(s.baseState=!1,ar=!0),s.memoizedState=u):(Vr(u,o)||(u=Ro(),on.lanes|=u,Xi|=u,s.baseState=!0),o)}function rE(s,o){var u=Ht;Ht=u!==0&&4>u?u:4,s(!0);var g=Oh.transition;Oh.transition={};try{s(!1),o()}finally{Ht=u,Oh.transition=g}}function ey(){return Rr().memoizedState}function sE(s,o,u){var g=pi(s);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},ty(s))ny(o,u);else if(u=Nv(s,o,u,g),u!==null){var k=Qn();Hr(u,s,g,k),ry(u,o,g)}}function iE(s,o,u){var g=pi(s),k={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(ty(s))ny(o,k);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var Q=o.lastRenderedState,de=N(Q,u);if(k.hasEagerState=!0,k.eagerState=de,Vr(de,Q)){var me=o.interleaved;me===null?(k.next=k,Rh(o)):(k.next=me.next,me.next=k),o.interleaved=k;return}}catch{}u=Nv(s,o,k,g),u!==null&&(k=Qn(),Hr(u,s,g,k),ry(u,o,g))}}function ty(s){var o=s.alternate;return s===on||o!==null&&o===on}function ny(s,o){xl=Cu=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function ry(s,o,u){if((u&4194240)!==0){var g=o.lanes;g&=s.pendingLanes,u|=g,o.lanes=u,Qs(s,u)}}var ku={readContext:Pr,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},oE={readContext:Pr,useCallback:function(s,o){return us().memoizedState=[s,o===void 0?null:o],s},useContext:Pr,useEffect:Xv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Eu(4194308,4,Zv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Eu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Eu(4,2,s,o)},useMemo:function(s,o){var u=us();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var g=us();return o=u!==void 0?u(o):o,g.memoizedState=g.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},g.queue=s,s=s.dispatch=sE.bind(null,on,s),[g.memoizedState,s]},useRef:function(s){var o=us();return s={current:s},o.memoizedState=s},useState:Uv,useDebugValue:Wh,useDeferredValue:function(s){return us().memoizedState=s},useTransition:function(){var s=Uv(!1),o=s[0];return s=rE.bind(null,s[1]),us().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var g=on,k=us();if(nn){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Rn===null)throw Error(n(349));(Hi&30)!==0||Fv(g,o,u)}k.memoizedState=u;var N={value:u,getSnapshot:o};return k.queue=N,Xv(zv.bind(null,g,N,s),[s]),g.flags|=2048,El(9,Vv.bind(null,g,N,u,o),void 0,null),u},useId:function(){var s=us(),o=Rn.identifierPrefix;if(nn){var u=As,g=Rs;u=(g&~(1<<32-Dn(g)-1)).toString(32)+u,o=":"+o+"R"+u,u=Sl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=nE++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},aE={readContext:Pr,useCallback:Kv,useContext:Pr,useEffect:zh,useImperativeHandle:Yv,useInsertionEffect:qv,useLayoutEffect:Gv,useMemo:Qv,useReducer:Fh,useRef:Hv,useState:function(){return Fh(Cl)},useDebugValue:Wh,useDeferredValue:function(s){var o=Rr();return Jv(o,En.memoizedState,s)},useTransition:function(){var s=Fh(Cl)[0],o=Rr().memoizedState;return[s,o]},useMutableSource:Lv,useSyncExternalStore:Bv,useId:ey,unstable_isNewReconciler:!1},lE={readContext:Pr,useCallback:Kv,useContext:Pr,useEffect:zh,useImperativeHandle:Yv,useInsertionEffect:qv,useLayoutEffect:Gv,useMemo:Qv,useReducer:Vh,useRef:Hv,useState:function(){return Vh(Cl)},useDebugValue:Wh,useDeferredValue:function(s){var o=Rr();return En===null?o.memoizedState=s:Jv(o,En.memoizedState,s)},useTransition:function(){var s=Vh(Cl)[0],o=Rr().memoizedState;return[s,o]},useMutableSource:Lv,useSyncExternalStore:Bv,useId:ey,unstable_isNewReconciler:!1};function Wr(s,o){if(s&&s.defaultProps){o=X({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function $h(s,o,u,g){o=s.memoizedState,u=u(g,o),u=u==null?o:X({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Pu={isMounted:function(s){return(s=s._reactInternals)?$t(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var g=Qn(),k=pi(s),N=Ns(g,k);N.payload=o,u!=null&&(N.callback=u),o=ui(s,N,k),o!==null&&(Hr(o,s,k,g),bu(o,s,k))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var g=Qn(),k=pi(s),N=Ns(g,k);N.tag=1,N.payload=o,u!=null&&(N.callback=u),o=ui(s,N,k),o!==null&&(Hr(o,s,k,g),bu(o,s,k))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Qn(),g=pi(s),k=Ns(u,g);k.tag=2,o!=null&&(k.callback=o),o=ui(s,k,g),o!==null&&(Hr(o,s,g,u),bu(o,s,g))}};function sy(s,o,u,g,k,N,Q){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,N,Q):o.prototype&&o.prototype.isPureReactComponent?!dl(u,g)||!dl(k,N):!0}function iy(s,o,u){var g=!1,k=ai,N=o.contextType;return typeof N=="object"&&N!==null?N=Pr(N):(k=or(o)?Vi:Fn.current,g=o.contextTypes,N=(g=g!=null)?Vo(s,k):ai),o=new o(u,N),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Pu,s.stateNode=o,o._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=k,s.__reactInternalMemoizedMaskedChildContext=N),o}function oy(s,o,u,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,g),o.state!==s&&Pu.enqueueReplaceState(o,o.state,null)}function Uh(s,o,u,g){var k=s.stateNode;k.props=u,k.state=s.memoizedState,k.refs={},Ah(s);var N=o.contextType;typeof N=="object"&&N!==null?k.context=Pr(N):(N=or(o)?Vi:Fn.current,k.context=Vo(s,N)),k.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&($h(s,o,N,u),k.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(o=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),o!==k.state&&Pu.enqueueReplaceState(k,k.state,null),wu(s,u,k,g),k.state=s.memoizedState),typeof k.componentDidMount=="function"&&(s.flags|=4194308)}function Go(s,o){try{var u="",g=o;do u+=H(g),g=g.return;while(g);var k=u}catch(N){k=`
Error generating stack: `+N.message+`
`+N.stack}return{value:s,source:o,stack:k,digest:null}}function Hh(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Xh(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var cE=typeof WeakMap=="function"?WeakMap:Map;function ay(s,o,u){u=Ns(-1,u),u.tag=3,u.payload={element:null};var g=o.value;return u.callback=function(){Ou||(Ou=!0,ap=g),Xh(s,o)},u}function ly(s,o,u){u=Ns(-1,u),u.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var k=o.value;u.payload=function(){return g(k)},u.callback=function(){Xh(s,o)}}var N=s.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Xh(s,o),typeof g!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var Q=o.stack;this.componentDidCatch(o.value,{componentStack:Q!==null?Q:""})}),u}function cy(s,o,u){var g=s.pingCache;if(g===null){g=s.pingCache=new cE;var k=new Set;g.set(o,k)}else k=g.get(o),k===void 0&&(k=new Set,g.set(o,k));k.has(u)||(k.add(u),s=SE.bind(null,s,o,u),o.then(s,s))}function uy(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function dy(s,o,u,g,k){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ns(-1,1),o.tag=2,ui(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=k,s)}var uE=A.ReactCurrentOwner,ar=!1;function Kn(s,o,u,g){o.child=s===null?Mv(o,null,u,g):Uo(o,s.child,u,g)}function fy(s,o,u,g,k){u=u.render;var N=o.ref;return Xo(o,k),g=Lh(s,o,u,g,N,k),u=Bh(),s!==null&&!ar?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~k,Ds(s,o,k)):(nn&&u&&bh(o),o.flags|=1,Kn(s,o,g,k),o.child)}function hy(s,o,u,g,k){if(s===null){var N=u.type;return typeof N=="function"&&!pp(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=N,py(s,o,N,g,k)):(s=zu(u.type,null,g,o,o.mode,k),s.ref=o.ref,s.return=o,o.child=s)}if(N=s.child,(s.lanes&k)===0){var Q=N.memoizedProps;if(u=u.compare,u=u!==null?u:dl,u(Q,g)&&s.ref===o.ref)return Ds(s,o,k)}return o.flags|=1,s=gi(N,g),s.ref=o.ref,s.return=o,o.child=s}function py(s,o,u,g,k){if(s!==null){var N=s.memoizedProps;if(dl(N,g)&&s.ref===o.ref)if(ar=!1,o.pendingProps=g=N,(s.lanes&k)!==0)(s.flags&131072)!==0&&(ar=!0);else return o.lanes=s.lanes,Ds(s,o,k)}return qh(s,o,u,g,k)}function my(s,o,u){var g=o.pendingProps,k=g.children,N=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Yo,vr),vr|=u;else{if((u&1073741824)===0)return s=N!==null?N.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Yt(Yo,vr),vr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:u,Yt(Yo,vr),vr|=g}else N!==null?(g=N.baseLanes|u,o.memoizedState=null):g=u,Yt(Yo,vr),vr|=g;return Kn(s,o,k,u),o.child}function gy(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function qh(s,o,u,g,k){var N=or(u)?Vi:Fn.current;return N=Vo(o,N),Xo(o,k),u=Lh(s,o,u,g,N,k),g=Bh(),s!==null&&!ar?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~k,Ds(s,o,k)):(nn&&g&&bh(o),o.flags|=1,Kn(s,o,u,k),o.child)}function vy(s,o,u,g,k){if(or(u)){var N=!0;fu(o)}else N=!1;if(Xo(o,k),o.stateNode===null)Au(s,o),iy(o,u,g),Uh(o,u,g,k),g=!0;else if(s===null){var Q=o.stateNode,de=o.memoizedProps;Q.props=de;var me=Q.context,De=u.contextType;typeof De=="object"&&De!==null?De=Pr(De):(De=or(u)?Vi:Fn.current,De=Vo(o,De));var Xe=u.getDerivedStateFromProps,qe=typeof Xe=="function"||typeof Q.getSnapshotBeforeUpdate=="function";qe||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(de!==g||me!==De)&&oy(o,Q,g,De),ci=!1;var $e=o.memoizedState;Q.state=$e,wu(o,g,Q,k),me=o.memoizedState,de!==g||$e!==me||ir.current||ci?(typeof Xe=="function"&&($h(o,u,Xe,g),me=o.memoizedState),(de=ci||sy(o,u,de,g,$e,me,De))?(qe||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(o.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=me),Q.props=g,Q.state=me,Q.context=De,g=de):(typeof Q.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{Q=o.stateNode,Dv(s,o),de=o.memoizedProps,De=o.type===o.elementType?de:Wr(o.type,de),Q.props=De,qe=o.pendingProps,$e=Q.context,me=u.contextType,typeof me=="object"&&me!==null?me=Pr(me):(me=or(u)?Vi:Fn.current,me=Vo(o,me));var rt=u.getDerivedStateFromProps;(Xe=typeof rt=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(de!==qe||$e!==me)&&oy(o,Q,g,me),ci=!1,$e=o.memoizedState,Q.state=$e,wu(o,g,Q,k);var ct=o.memoizedState;de!==qe||$e!==ct||ir.current||ci?(typeof rt=="function"&&($h(o,u,rt,g),ct=o.memoizedState),(De=ci||sy(o,u,De,g,$e,ct,me)||!1)?(Xe||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(g,ct,me),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(g,ct,me)),typeof Q.componentDidUpdate=="function"&&(o.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof Q.componentDidUpdate!="function"||de===s.memoizedProps&&$e===s.memoizedState||(o.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||de===s.memoizedProps&&$e===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=ct),Q.props=g,Q.state=ct,Q.context=me,g=De):(typeof Q.componentDidUpdate!="function"||de===s.memoizedProps&&$e===s.memoizedState||(o.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||de===s.memoizedProps&&$e===s.memoizedState||(o.flags|=1024),g=!1)}return Gh(s,o,u,g,N,k)}function Gh(s,o,u,g,k,N){gy(s,o);var Q=(o.flags&128)!==0;if(!g&&!Q)return k&&xv(o,u,!1),Ds(s,o,N);g=o.stateNode,uE.current=o;var de=Q&&typeof u.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,s!==null&&Q?(o.child=Uo(o,s.child,null,N),o.child=Uo(o,null,de,N)):Kn(s,o,de,N),o.memoizedState=g.state,k&&xv(o,u,!0),o.child}function yy(s){var o=s.stateNode;o.pendingContext?bv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&bv(s,o.context,!1),Mh(s,o.containerInfo)}function _y(s,o,u,g,k){return $o(),Ch(k),o.flags|=256,Kn(s,o,u,g),o.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function Yh(s){return{baseLanes:s,cachePool:null,transitions:null}}function by(s,o,u){var g=o.pendingProps,k=sn.current,N=!1,Q=(o.flags&128)!==0,de;if((de=Q)||(de=s!==null&&s.memoizedState===null?!1:(k&2)!==0),de?(N=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(k|=1),Yt(sn,k&1),s===null)return Sh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(Q=g.children,s=g.fallback,N?(g=o.mode,N=o.child,Q={mode:"hidden",children:Q},(g&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=Q):N=Wu(Q,g,0,null),s=Yi(s,g,u,null),N.return=o,s.return=o,N.sibling=s,o.child=N,o.child.memoizedState=Yh(u),o.memoizedState=Zh,s):Kh(o,Q));if(k=s.memoizedState,k!==null&&(de=k.dehydrated,de!==null))return dE(s,o,Q,g,de,k,u);if(N){N=g.fallback,Q=o.mode,k=s.child,de=k.sibling;var me={mode:"hidden",children:g.children};return(Q&1)===0&&o.child!==k?(g=o.child,g.childLanes=0,g.pendingProps=me,o.deletions=null):(g=gi(k,me),g.subtreeFlags=k.subtreeFlags&14680064),de!==null?N=gi(de,N):(N=Yi(N,Q,u,null),N.flags|=2),N.return=o,g.return=o,g.sibling=N,o.child=g,g=N,N=o.child,Q=s.child.memoizedState,Q=Q===null?Yh(u):{baseLanes:Q.baseLanes|u,cachePool:null,transitions:Q.transitions},N.memoizedState=Q,N.childLanes=s.childLanes&~u,o.memoizedState=Zh,g}return N=s.child,s=N.sibling,g=gi(N,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=u),g.return=o,g.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=g,o.memoizedState=null,g}function Kh(s,o){return o=Wu({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ru(s,o,u,g){return g!==null&&Ch(g),Uo(o,s.child,null,u),s=Kh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function dE(s,o,u,g,k,N,Q){if(u)return o.flags&256?(o.flags&=-257,g=Hh(Error(n(422))),Ru(s,o,Q,g)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(N=g.fallback,k=o.mode,g=Wu({mode:"visible",children:g.children},k,0,null),N=Yi(N,k,Q,null),N.flags|=2,g.return=o,N.return=o,g.sibling=N,o.child=g,(o.mode&1)!==0&&Uo(o,s.child,null,Q),o.child.memoizedState=Yh(Q),o.memoizedState=Zh,N);if((o.mode&1)===0)return Ru(s,o,Q,null);if(k.data==="$!"){if(g=k.nextSibling&&k.nextSibling.dataset,g)var de=g.dgst;return g=de,N=Error(n(419)),g=Hh(N,g,void 0),Ru(s,o,Q,g)}if(de=(Q&s.childLanes)!==0,ar||de){if(g=Rn,g!==null){switch(Q&-Q){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(g.suspendedLanes|Q))!==0?0:k,k!==0&&k!==N.retryLane&&(N.retryLane=k,Ms(s,k),Hr(g,s,k,-1))}return hp(),g=Hh(Error(n(421))),Ru(s,o,Q,g)}return k.data==="$?"?(o.flags|=128,o.child=s.child,o=CE.bind(null,s),k._reactRetry=o,null):(s=N.treeContext,gr=ii(k.nextSibling),mr=o,nn=!0,zr=null,s!==null&&(Tr[kr++]=Rs,Tr[kr++]=As,Tr[kr++]=zi,Rs=s.id,As=s.overflow,zi=o),o=Kh(o,g.children),o.flags|=4096,o)}function wy(s,o,u){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),Ph(s.return,o,u)}function Qh(s,o,u,g,k){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:k}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=u,N.tailMode=k)}function xy(s,o,u){var g=o.pendingProps,k=g.revealOrder,N=g.tail;if(Kn(s,o,g.children,u),g=sn.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wy(s,u,o);else if(s.tag===19)wy(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Yt(sn,g),(o.mode&1)===0)o.memoizedState=null;else switch(k){case"forwards":for(u=o.child,k=null;u!==null;)s=u.alternate,s!==null&&xu(s)===null&&(k=u),u=u.sibling;u=k,u===null?(k=o.child,o.child=null):(k=u.sibling,u.sibling=null),Qh(o,!1,k,u,N);break;case"backwards":for(u=null,k=o.child,o.child=null;k!==null;){if(s=k.alternate,s!==null&&xu(s)===null){o.child=k;break}s=k.sibling,k.sibling=u,u=k,k=s}Qh(o,!0,u,null,N);break;case"together":Qh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Au(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ds(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Xi|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=gi(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=gi(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function fE(s,o,u){switch(o.tag){case 3:yy(o),$o();break;case 5:jv(o);break;case 1:or(o.type)&&fu(o);break;case 4:Mh(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,k=o.memoizedProps.value;Yt(yu,g._currentValue),g._currentValue=k;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(Yt(sn,sn.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?by(s,o,u):(Yt(sn,sn.current&1),s=Ds(s,o,u),s!==null?s.sibling:null);Yt(sn,sn.current&1);break;case 19:if(g=(u&o.childLanes)!==0,(s.flags&128)!==0){if(g)return xy(s,o,u);o.flags|=128}if(k=o.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Yt(sn,sn.current),g)break;return null;case 22:case 23:return o.lanes=0,my(s,o,u)}return Ds(s,o,u)}var Sy,Jh,Cy,Ey;Sy=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Jh=function(){},Cy=function(s,o,u,g){var k=s.memoizedProps;if(k!==g){s=o.stateNode,Ui(cs.current);var N=null;switch(u){case"input":k=B(s,k),g=B(s,g),N=[];break;case"select":k=X({},k,{value:void 0}),g=X({},g,{value:void 0}),N=[];break;case"textarea":k=fe(s,k),g=fe(s,g),N=[];break;default:typeof k.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=cu)}he(u,g);var Q;u=null;for(De in k)if(!g.hasOwnProperty(De)&&k.hasOwnProperty(De)&&k[De]!=null)if(De==="style"){var de=k[De];for(Q in de)de.hasOwnProperty(Q)&&(u||(u={}),u[Q]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?N||(N=[]):(N=N||[]).push(De,null));for(De in g){var me=g[De];if(de=k?.[De],g.hasOwnProperty(De)&&me!==de&&(me!=null||de!=null))if(De==="style")if(de){for(Q in de)!de.hasOwnProperty(Q)||me&&me.hasOwnProperty(Q)||(u||(u={}),u[Q]="");for(Q in me)me.hasOwnProperty(Q)&&de[Q]!==me[Q]&&(u||(u={}),u[Q]=me[Q])}else u||(N||(N=[]),N.push(De,u)),u=me;else De==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,de=de?de.__html:void 0,me!=null&&de!==me&&(N=N||[]).push(De,me)):De==="children"?typeof me!="string"&&typeof me!="number"||(N=N||[]).push(De,""+me):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(me!=null&&De==="onScroll"&&Qt("scroll",s),N||de===me||(N=[])):(N=N||[]).push(De,me))}u&&(N=N||[]).push("style",u);var De=N;(o.updateQueue=De)&&(o.flags|=4)}},Ey=function(s,o,u,g){u!==g&&(o.flags|=4)};function Tl(s,o){if(!nn)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function zn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,g=0;if(o)for(var k=s.child;k!==null;)u|=k.lanes|k.childLanes,g|=k.subtreeFlags&14680064,g|=k.flags&14680064,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)u|=k.lanes|k.childLanes,g|=k.subtreeFlags,g|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=g,s.childLanes=u,o}function hE(s,o,u){var g=o.pendingProps;switch(wh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(o),null;case 1:return or(o.type)&&du(),zn(o),null;case 3:return g=o.stateNode,qo(),Jt(ir),Jt(Fn),Ih(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(gu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zr!==null&&(up(zr),zr=null))),Jh(s,o),zn(o),null;case 5:Nh(o);var k=Ui(wl.current);if(u=o.type,s!==null&&o.stateNode!=null)Cy(s,o,u,g,k),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(n(166));return zn(o),null}if(s=Ui(cs.current),gu(o)){g=o.stateNode,u=o.type;var N=o.memoizedProps;switch(g[ls]=o,g[gl]=N,s=(o.mode&1)!==0,u){case"dialog":Qt("cancel",g),Qt("close",g);break;case"iframe":case"object":case"embed":Qt("load",g);break;case"video":case"audio":for(k=0;k<hl.length;k++)Qt(hl[k],g);break;case"source":Qt("error",g);break;case"img":case"image":case"link":Qt("error",g),Qt("load",g);break;case"details":Qt("toggle",g);break;case"input":ve(g,N),Qt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},Qt("invalid",g);break;case"textarea":Ne(g,N),Qt("invalid",g)}he(u,N),k=null;for(var Q in N)if(N.hasOwnProperty(Q)){var de=N[Q];Q==="children"?typeof de=="string"?g.textContent!==de&&(N.suppressHydrationWarning!==!0&&lu(g.textContent,de,s),k=["children",de]):typeof de=="number"&&g.textContent!==""+de&&(N.suppressHydrationWarning!==!0&&lu(g.textContent,de,s),k=["children",""+de]):i.hasOwnProperty(Q)&&de!=null&&Q==="onScroll"&&Qt("scroll",g)}switch(u){case"input":Ee(g),se(g,N,!0);break;case"textarea":Ee(g),Re(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=cu)}g=k,o.updateQueue=g,g!==null&&(o.flags|=4)}else{Q=k.nodeType===9?k:k.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Le(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=Q.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=Q.createElement(u,{is:g.is}):(s=Q.createElement(u),u==="select"&&(Q=s,g.multiple?Q.multiple=!0:g.size&&(Q.size=g.size))):s=Q.createElementNS(s,u),s[ls]=o,s[gl]=g,Sy(s,o,!1,!1),o.stateNode=s;e:{switch(Q=re(u,g),u){case"dialog":Qt("cancel",s),Qt("close",s),k=g;break;case"iframe":case"object":case"embed":Qt("load",s),k=g;break;case"video":case"audio":for(k=0;k<hl.length;k++)Qt(hl[k],s);k=g;break;case"source":Qt("error",s),k=g;break;case"img":case"image":case"link":Qt("error",s),Qt("load",s),k=g;break;case"details":Qt("toggle",s),k=g;break;case"input":ve(s,g),k=B(s,g),Qt("invalid",s);break;case"option":k=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},k=X({},g,{value:void 0}),Qt("invalid",s);break;case"textarea":Ne(s,g),k=fe(s,g),Qt("invalid",s);break;default:k=g}he(u,k),de=k;for(N in de)if(de.hasOwnProperty(N)){var me=de[N];N==="style"?oe(s,me):N==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&Ce(s,me)):N==="children"?typeof me=="string"?(u!=="textarea"||me!=="")&&it(s,me):typeof me=="number"&&it(s,""+me):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?me!=null&&N==="onScroll"&&Qt("scroll",s):me!=null&&m(s,N,me,Q))}switch(u){case"input":Ee(s),se(s,g,!1);break;case"textarea":Ee(s),Re(s);break;case"option":g.value!=null&&s.setAttribute("value",""+te(g.value));break;case"select":s.multiple=!!g.multiple,N=g.value,N!=null?we(s,!!g.multiple,N,!1):g.defaultValue!=null&&we(s,!!g.multiple,g.defaultValue,!0);break;default:typeof k.onClick=="function"&&(s.onclick=cu)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return zn(o),null;case 6:if(s&&o.stateNode!=null)Ey(s,o,s.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(n(166));if(u=Ui(wl.current),Ui(cs.current),gu(o)){if(g=o.stateNode,u=o.memoizedProps,g[ls]=o,(N=g.nodeValue!==u)&&(s=mr,s!==null))switch(s.tag){case 3:lu(g.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&lu(g.nodeValue,u,(s.mode&1)!==0)}N&&(o.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[ls]=o,o.stateNode=g}return zn(o),null;case 13:if(Jt(sn),g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(nn&&gr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Pv(),$o(),o.flags|=98560,N=!1;else if(N=gu(o),g!==null&&g.dehydrated!==null){if(s===null){if(!N)throw Error(n(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[ls]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zn(o),N=!1}else zr!==null&&(up(zr),zr=null),N=!0;if(!N)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(sn.current&1)!==0?Tn===0&&(Tn=3):hp())),o.updateQueue!==null&&(o.flags|=4),zn(o),null);case 4:return qo(),Jh(s,o),s===null&&pl(o.stateNode.containerInfo),zn(o),null;case 10:return kh(o.type._context),zn(o),null;case 17:return or(o.type)&&du(),zn(o),null;case 19:if(Jt(sn),N=o.memoizedState,N===null)return zn(o),null;if(g=(o.flags&128)!==0,Q=N.rendering,Q===null)if(g)Tl(N,!1);else{if(Tn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(Q=xu(s),Q!==null){for(o.flags|=128,Tl(N,!1),g=Q.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=u,u=o.child;u!==null;)N=u,s=g,N.flags&=14680066,Q=N.alternate,Q===null?(N.childLanes=0,N.lanes=s,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=Q.childLanes,N.lanes=Q.lanes,N.child=Q.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=Q.memoizedProps,N.memoizedState=Q.memoizedState,N.updateQueue=Q.updateQueue,N.type=Q.type,s=Q.dependencies,N.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Yt(sn,sn.current&1|2),o.child}s=s.sibling}N.tail!==null&&Kt()>Ko&&(o.flags|=128,g=!0,Tl(N,!1),o.lanes=4194304)}else{if(!g)if(s=xu(Q),s!==null){if(o.flags|=128,g=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Tl(N,!0),N.tail===null&&N.tailMode==="hidden"&&!Q.alternate&&!nn)return zn(o),null}else 2*Kt()-N.renderingStartTime>Ko&&u!==1073741824&&(o.flags|=128,g=!0,Tl(N,!1),o.lanes=4194304);N.isBackwards?(Q.sibling=o.child,o.child=Q):(u=N.last,u!==null?u.sibling=Q:o.child=Q,N.last=Q)}return N.tail!==null?(o=N.tail,N.rendering=o,N.tail=o.sibling,N.renderingStartTime=Kt(),o.sibling=null,u=sn.current,Yt(sn,g?u&1|2:u&1),o):(zn(o),null);case 22:case 23:return fp(),g=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(vr&1073741824)!==0&&(zn(o),o.subtreeFlags&6&&(o.flags|=8192)):zn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function pE(s,o){switch(wh(o),o.tag){case 1:return or(o.type)&&du(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return qo(),Jt(ir),Jt(Fn),Ih(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Nh(o),null;case 13:if(Jt(sn),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));$o()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Jt(sn),null;case 4:return qo(),null;case 10:return kh(o.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var Mu=!1,Wn=!1,mE=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Zo(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){un(s,o,g)}else u.current=null}function ep(s,o,u){try{u()}catch(g){un(s,o,g)}}var Ty=!1;function gE(s,o){if(fh=Kc,s=sv(),sh(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var k=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var Q=0,de=-1,me=-1,De=0,Xe=0,qe=s,$e=null;t:for(;;){for(var rt;qe!==u||k!==0&&qe.nodeType!==3||(de=Q+k),qe!==N||g!==0&&qe.nodeType!==3||(me=Q+g),qe.nodeType===3&&(Q+=qe.nodeValue.length),(rt=qe.firstChild)!==null;)$e=qe,qe=rt;for(;;){if(qe===s)break t;if($e===u&&++De===k&&(de=Q),$e===N&&++Xe===g&&(me=Q),(rt=qe.nextSibling)!==null)break;qe=$e,$e=qe.parentNode}qe=rt}u=de===-1||me===-1?null:{start:de,end:me}}else u=null}u=u||{start:0,end:0}}else u=null;for(hh={focusedElem:s,selectionRange:u},Kc=!1,ot=o;ot!==null;)if(o=ot,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ot=s;else for(;ot!==null;){o=ot;try{var ct=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ct!==null){var dt=ct.memoizedProps,mn=ct.memoizedState,Te=o.stateNode,_e=Te.getSnapshotBeforeUpdate(o.elementType===o.type?dt:Wr(o.type,dt),mn);Te.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var ke=o.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ke){un(o,o.return,Ke)}if(s=o.sibling,s!==null){s.return=o.return,ot=s;break}ot=o.return}return ct=Ty,Ty=!1,ct}function kl(s,o,u){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var k=g=g.next;do{if((k.tag&s)===s){var N=k.destroy;k.destroy=void 0,N!==void 0&&ep(o,u,N)}k=k.next}while(k!==g)}}function Nu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var g=u.create;u.destroy=g()}u=u.next}while(u!==o)}}function tp(s){var o=s.ref;if(o!==null){var u=s.stateNode;s.tag,s=u,typeof o=="function"?o(s):o.current=s}}function ky(s){var o=s.alternate;o!==null&&(s.alternate=null,ky(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[ls],delete o[gl],delete o[vh],delete o[QC],delete o[JC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Py(s){return s.tag===5||s.tag===3||s.tag===4}function Ry(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Py(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function np(s,o,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=cu));else if(g!==4&&(s=s.child,s!==null))for(np(s,o,u),s=s.sibling;s!==null;)np(s,o,u),s=s.sibling}function rp(s,o,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(rp(s,o,u),s=s.sibling;s!==null;)rp(s,o,u),s=s.sibling}var In=null,$r=!1;function di(s,o,u){for(u=u.child;u!==null;)Ay(s,o,u),u=u.sibling}function Ay(s,o,u){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Zs,u)}catch{}switch(u.tag){case 5:Wn||Zo(u,o);case 6:var g=In,k=$r;In=null,di(s,o,u),In=g,$r=k,In!==null&&($r?(s=In,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):In.removeChild(u.stateNode));break;case 18:In!==null&&($r?(s=In,u=u.stateNode,s.nodeType===8?gh(s.parentNode,u):s.nodeType===1&&gh(s,u),il(s)):gh(In,u.stateNode));break;case 4:g=In,k=$r,In=u.stateNode.containerInfo,$r=!0,di(s,o,u),In=g,$r=k;break;case 0:case 11:case 14:case 15:if(!Wn&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){k=g=g.next;do{var N=k,Q=N.destroy;N=N.tag,Q!==void 0&&((N&2)!==0||(N&4)!==0)&&ep(u,o,Q),k=k.next}while(k!==g)}di(s,o,u);break;case 1:if(!Wn&&(Zo(u,o),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(de){un(u,o,de)}di(s,o,u);break;case 21:di(s,o,u);break;case 22:u.mode&1?(Wn=(g=Wn)||u.memoizedState!==null,di(s,o,u),Wn=g):di(s,o,u);break;default:di(s,o,u)}}function My(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new mE),o.forEach(function(g){var k=EE.bind(null,s,g);u.has(g)||(u.add(g),g.then(k,k))})}}function Ur(s,o){var u=o.deletions;if(u!==null)for(var g=0;g<u.length;g++){var k=u[g];try{var N=s,Q=o,de=Q;e:for(;de!==null;){switch(de.tag){case 5:In=de.stateNode,$r=!1;break e;case 3:In=de.stateNode.containerInfo,$r=!0;break e;case 4:In=de.stateNode.containerInfo,$r=!0;break e}de=de.return}if(In===null)throw Error(n(160));Ay(N,Q,k),In=null,$r=!1;var me=k.alternate;me!==null&&(me.return=null),k.return=null}catch(De){un(k,o,De)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ny(o,s),o=o.sibling}function Ny(s,o){var u=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ur(o,s),ds(s),g&4){try{kl(3,s,s.return),Nu(3,s)}catch(dt){un(s,s.return,dt)}try{kl(5,s,s.return)}catch(dt){un(s,s.return,dt)}}break;case 1:Ur(o,s),ds(s),g&512&&u!==null&&Zo(u,u.return);break;case 5:if(Ur(o,s),ds(s),g&512&&u!==null&&Zo(u,u.return),s.flags&32){var k=s.stateNode;try{it(k,"")}catch(dt){un(s,s.return,dt)}}if(g&4&&(k=s.stateNode,k!=null)){var N=s.memoizedProps,Q=u!==null?u.memoizedProps:N,de=s.type,me=s.updateQueue;if(s.updateQueue=null,me!==null)try{de==="input"&&N.type==="radio"&&N.name!=null&&pe(k,N),re(de,Q);var De=re(de,N);for(Q=0;Q<me.length;Q+=2){var Xe=me[Q],qe=me[Q+1];Xe==="style"?oe(k,qe):Xe==="dangerouslySetInnerHTML"?Ce(k,qe):Xe==="children"?it(k,qe):m(k,Xe,qe,De)}switch(de){case"input":ie(k,N);break;case"textarea":Oe(k,N);break;case"select":var $e=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!N.multiple;var rt=N.value;rt!=null?we(k,!!N.multiple,rt,!1):$e!==!!N.multiple&&(N.defaultValue!=null?we(k,!!N.multiple,N.defaultValue,!0):we(k,!!N.multiple,N.multiple?[]:"",!1))}k[gl]=N}catch(dt){un(s,s.return,dt)}}break;case 6:if(Ur(o,s),ds(s),g&4){if(s.stateNode===null)throw Error(n(162));k=s.stateNode,N=s.memoizedProps;try{k.nodeValue=N}catch(dt){un(s,s.return,dt)}}break;case 3:if(Ur(o,s),ds(s),g&4&&u!==null&&u.memoizedState.isDehydrated)try{il(o.containerInfo)}catch(dt){un(s,s.return,dt)}break;case 4:Ur(o,s),ds(s);break;case 13:Ur(o,s),ds(s),k=s.child,k.flags&8192&&(N=k.memoizedState!==null,k.stateNode.isHidden=N,!N||k.alternate!==null&&k.alternate.memoizedState!==null||(op=Kt())),g&4&&My(s);break;case 22:if(Xe=u!==null&&u.memoizedState!==null,s.mode&1?(Wn=(De=Wn)||Xe,Ur(o,s),Wn=De):Ur(o,s),ds(s),g&8192){if(De=s.memoizedState!==null,(s.stateNode.isHidden=De)&&!Xe&&(s.mode&1)!==0)for(ot=s,Xe=s.child;Xe!==null;){for(qe=ot=Xe;ot!==null;){switch($e=ot,rt=$e.child,$e.tag){case 0:case 11:case 14:case 15:kl(4,$e,$e.return);break;case 1:Zo($e,$e.return);var ct=$e.stateNode;if(typeof ct.componentWillUnmount=="function"){g=$e,u=$e.return;try{o=g,ct.props=o.memoizedProps,ct.state=o.memoizedState,ct.componentWillUnmount()}catch(dt){un(g,u,dt)}}break;case 5:Zo($e,$e.return);break;case 22:if($e.memoizedState!==null){Oy(qe);continue}}rt!==null?(rt.return=$e,ot=rt):Oy(qe)}Xe=Xe.sibling}e:for(Xe=null,qe=s;;){if(qe.tag===5){if(Xe===null){Xe=qe;try{k=qe.stateNode,De?(N=k.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(de=qe.stateNode,me=qe.memoizedProps.style,Q=me!=null&&me.hasOwnProperty("display")?me.display:null,de.style.display=ee("display",Q))}catch(dt){un(s,s.return,dt)}}}else if(qe.tag===6){if(Xe===null)try{qe.stateNode.nodeValue=De?"":qe.memoizedProps}catch(dt){un(s,s.return,dt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===s)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===s)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===s)break e;Xe===qe&&(Xe=null),qe=qe.return}Xe===qe&&(Xe=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Ur(o,s),ds(s),g&4&&My(s);break;case 21:break;default:Ur(o,s),ds(s)}}function ds(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Py(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var k=g.stateNode;g.flags&32&&(it(k,""),g.flags&=-33);var N=Ry(s);rp(s,N,k);break;case 3:case 4:var Q=g.stateNode.containerInfo,de=Ry(s);np(s,de,Q);break;default:throw Error(n(161))}}catch(me){un(s,s.return,me)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function vE(s,o,u){ot=s,Dy(s)}function Dy(s,o,u){for(var g=(s.mode&1)!==0;ot!==null;){var k=ot,N=k.child;if(k.tag===22&&g){var Q=k.memoizedState!==null||Mu;if(!Q){var de=k.alternate,me=de!==null&&de.memoizedState!==null||Wn;de=Mu;var De=Wn;if(Mu=Q,(Wn=me)&&!De)for(ot=k;ot!==null;)Q=ot,me=Q.child,Q.tag===22&&Q.memoizedState!==null?jy(k):me!==null?(me.return=Q,ot=me):jy(k);for(;N!==null;)ot=N,Dy(N),N=N.sibling;ot=k,Mu=de,Wn=De}Iy(s)}else(k.subtreeFlags&8772)!==0&&N!==null?(N.return=k,ot=N):Iy(s)}}function Iy(s){for(;ot!==null;){var o=ot;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wn||Nu(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Wn)if(u===null)g.componentDidMount();else{var k=o.elementType===o.type?u.memoizedProps:Wr(o.type,u.memoizedProps);g.componentDidUpdate(k,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=o.updateQueue;N!==null&&Ov(o,N,g);break;case 3:var Q=o.updateQueue;if(Q!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Ov(o,Q,u)}break;case 5:var de=o.stateNode;if(u===null&&o.flags&4){u=de;var me=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&u.focus();break;case"img":me.src&&(u.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var De=o.alternate;if(De!==null){var Xe=De.memoizedState;if(Xe!==null){var qe=Xe.dehydrated;qe!==null&&il(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wn||o.flags&512&&tp(o)}catch($e){un(o,o.return,$e)}}if(o===s){ot=null;break}if(u=o.sibling,u!==null){u.return=o.return,ot=u;break}ot=o.return}}function Oy(s){for(;ot!==null;){var o=ot;if(o===s){ot=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ot=u;break}ot=o.return}}function jy(s){for(;ot!==null;){var o=ot;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Nu(4,o)}catch(me){un(o,u,me)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var k=o.return;try{g.componentDidMount()}catch(me){un(o,k,me)}}var N=o.return;try{tp(o)}catch(me){un(o,N,me)}break;case 5:var Q=o.return;try{tp(o)}catch(me){un(o,Q,me)}}}catch(me){un(o,o.return,me)}if(o===s){ot=null;break}var de=o.sibling;if(de!==null){de.return=o.return,ot=de;break}ot=o.return}}var yE=Math.ceil,Du=A.ReactCurrentDispatcher,sp=A.ReactCurrentOwner,Ar=A.ReactCurrentBatchConfig,Lt=0,Rn=null,xn=null,On=0,vr=0,Yo=oi(0),Tn=0,Pl=null,Xi=0,Iu=0,ip=0,Rl=null,lr=null,op=0,Ko=1/0,Is=null,Ou=!1,ap=null,fi=null,ju=!1,hi=null,Lu=0,Al=0,lp=null,Bu=-1,Fu=0;function Qn(){return(Lt&6)!==0?Kt():Bu!==-1?Bu:Bu=Kt()}function pi(s){return(s.mode&1)===0?1:(Lt&2)!==0&&On!==0?On&-On:tE.transition!==null?(Fu===0&&(Fu=Ro()),Fu):(s=Ht,s!==0||(s=window.event,s=s===void 0?16:Bg(s.type)),s)}function Hr(s,o,u,g){if(50<Al)throw Al=0,lp=null,Error(n(185));Fr(s,u,g),((Lt&2)===0||s!==Rn)&&(s===Rn&&((Lt&2)===0&&(Iu|=u),Tn===4&&mi(s,On)),cr(s,g),u===1&&Lt===0&&(o.mode&1)===0&&(Ko=Kt()+500,hu&&li()))}function cr(s,o){var u=s.callbackNode;el(s,o);var g=as(s,s===Rn?On:0);if(g===0)u!==null&&Cn(u),s.callbackNode=null,s.callbackPriority=0;else if(o=g&-g,s.callbackPriority!==o){if(u!=null&&Cn(u),o===1)s.tag===0?eE(By.bind(null,s)):Sv(By.bind(null,s)),YC(function(){(Lt&6)===0&&li()}),u=null;else{switch(Ag(g)){case 1:u=Po;break;case 4:u=Ka;break;case 16:u=Ut;break;case 536870912:u=Qa;break;default:u=Ut}u=Xy(u,Ly.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Ly(s,o){if(Bu=-1,Fu=0,(Lt&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Qo()&&s.callbackNode!==u)return null;var g=as(s,s===Rn?On:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||o)o=Vu(s,g);else{o=g;var k=Lt;Lt|=2;var N=Vy();(Rn!==s||On!==o)&&(Is=null,Ko=Kt()+500,Gi(s,o));do try{wE();break}catch(de){Fy(s,de)}while(!0);Th(),Du.current=N,Lt=k,xn!==null?o=0:(Rn=null,On=0,o=Tn)}if(o!==0){if(o===2&&(k=Br(s),k!==0&&(g=k,o=cp(s,k))),o===1)throw u=Pl,Gi(s,0),mi(s,g),cr(s,Kt()),u;if(o===6)mi(s,g);else{if(k=s.current.alternate,(g&30)===0&&!_E(k)&&(o=Vu(s,g),o===2&&(N=Br(s),N!==0&&(g=N,o=cp(s,N))),o===1))throw u=Pl,Gi(s,0),mi(s,g),cr(s,Kt()),u;switch(s.finishedWork=k,s.finishedLanes=g,o){case 0:case 1:throw Error(n(345));case 2:Zi(s,lr,Is);break;case 3:if(mi(s,g),(g&130023424)===g&&(o=op+500-Kt(),10<o)){if(as(s,0)!==0)break;if(k=s.suspendedLanes,(k&g)!==g){Qn(),s.pingedLanes|=s.suspendedLanes&k;break}s.timeoutHandle=mh(Zi.bind(null,s,lr,Is),o);break}Zi(s,lr,Is);break;case 4:if(mi(s,g),(g&4194240)===g)break;for(o=s.eventTimes,k=-1;0<g;){var Q=31-Dn(g);N=1<<Q,Q=o[Q],Q>k&&(k=Q),g&=~N}if(g=k,g=Kt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*yE(g/1960))-g,10<g){s.timeoutHandle=mh(Zi.bind(null,s,lr,Is),g);break}Zi(s,lr,Is);break;case 5:Zi(s,lr,Is);break;default:throw Error(n(329))}}}return cr(s,Kt()),s.callbackNode===u?Ly.bind(null,s):null}function cp(s,o){var u=Rl;return s.current.memoizedState.isDehydrated&&(Gi(s,o).flags|=256),s=Vu(s,o),s!==2&&(o=lr,lr=u,o!==null&&up(o)),s}function up(s){lr===null?lr=s:lr.push.apply(lr,s)}function _E(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var k=u[g],N=k.getSnapshot;k=k.value;try{if(!Vr(N(),k))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function mi(s,o){for(o&=~ip,o&=~Iu,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Dn(o),g=1<<u;s[u]=-1,o&=~g}}function By(s){if((Lt&6)!==0)throw Error(n(327));Qo();var o=as(s,0);if((o&1)===0)return cr(s,Kt()),null;var u=Vu(s,o);if(s.tag!==0&&u===2){var g=Br(s);g!==0&&(o=g,u=cp(s,g))}if(u===1)throw u=Pl,Gi(s,0),mi(s,o),cr(s,Kt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Zi(s,lr,Is),cr(s,Kt()),null}function dp(s,o){var u=Lt;Lt|=1;try{return s(o)}finally{Lt=u,Lt===0&&(Ko=Kt()+500,hu&&li())}}function qi(s){hi!==null&&hi.tag===0&&(Lt&6)===0&&Qo();var o=Lt;Lt|=1;var u=Ar.transition,g=Ht;try{if(Ar.transition=null,Ht=1,s)return s()}finally{Ht=g,Ar.transition=u,Lt=o,(Lt&6)===0&&li()}}function fp(){vr=Yo.current,Jt(Yo)}function Gi(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,ZC(u)),xn!==null)for(u=xn.return;u!==null;){var g=u;switch(wh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&du();break;case 3:qo(),Jt(ir),Jt(Fn),Ih();break;case 5:Nh(g);break;case 4:qo();break;case 13:Jt(sn);break;case 19:Jt(sn);break;case 10:kh(g.type._context);break;case 22:case 23:fp()}u=u.return}if(Rn=s,xn=s=gi(s.current,null),On=vr=o,Tn=0,Pl=null,ip=Iu=Xi=0,lr=Rl=null,$i!==null){for(o=0;o<$i.length;o++)if(u=$i[o],g=u.interleaved,g!==null){u.interleaved=null;var k=g.next,N=u.pending;if(N!==null){var Q=N.next;N.next=k,g.next=Q}u.pending=g}$i=null}return s}function Fy(s,o){do{var u=xn;try{if(Th(),Su.current=ku,Cu){for(var g=on.memoizedState;g!==null;){var k=g.queue;k!==null&&(k.pending=null),g=g.next}Cu=!1}if(Hi=0,Pn=En=on=null,xl=!1,Sl=0,sp.current=null,u===null||u.return===null){Tn=1,Pl=o,xn=null;break}e:{var N=s,Q=u.return,de=u,me=o;if(o=On,de.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var De=me,Xe=de,qe=Xe.tag;if((Xe.mode&1)===0&&(qe===0||qe===11||qe===15)){var $e=Xe.alternate;$e?(Xe.updateQueue=$e.updateQueue,Xe.memoizedState=$e.memoizedState,Xe.lanes=$e.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var rt=uy(Q);if(rt!==null){rt.flags&=-257,dy(rt,Q,de,N,o),rt.mode&1&&cy(N,De,o),o=rt,me=De;var ct=o.updateQueue;if(ct===null){var dt=new Set;dt.add(me),o.updateQueue=dt}else ct.add(me);break e}else{if((o&1)===0){cy(N,De,o),hp();break e}me=Error(n(426))}}else if(nn&&de.mode&1){var mn=uy(Q);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),dy(mn,Q,de,N,o),Ch(Go(me,de));break e}}N=me=Go(me,de),Tn!==4&&(Tn=2),Rl===null?Rl=[N]:Rl.push(N),N=Q;do{switch(N.tag){case 3:N.flags|=65536,o&=-o,N.lanes|=o;var Te=ay(N,me,o);Iv(N,Te);break e;case 1:de=me;var _e=N.type,ke=N.stateNode;if((N.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(fi===null||!fi.has(ke)))){N.flags|=65536,o&=-o,N.lanes|=o;var Ke=ly(N,de,o);Iv(N,Ke);break e}}N=N.return}while(N!==null)}Wy(u)}catch(ft){o=ft,xn===u&&u!==null&&(xn=u=u.return);continue}break}while(!0)}function Vy(){var s=Du.current;return Du.current=ku,s===null?ku:s}function hp(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),Rn===null||(Xi&268435455)===0&&(Iu&268435455)===0||mi(Rn,On)}function Vu(s,o){var u=Lt;Lt|=2;var g=Vy();(Rn!==s||On!==o)&&(Is=null,Gi(s,o));do try{bE();break}catch(k){Fy(s,k)}while(!0);if(Th(),Lt=u,Du.current=g,xn!==null)throw Error(n(261));return Rn=null,On=0,Tn}function bE(){for(;xn!==null;)zy(xn)}function wE(){for(;xn!==null&&!Er();)zy(xn)}function zy(s){var o=Hy(s.alternate,s,vr);s.memoizedProps=s.pendingProps,o===null?Wy(s):xn=o,sp.current=null}function Wy(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=hE(u,o,vr),u!==null){xn=u;return}}else{if(u=pE(u,o),u!==null){u.flags&=32767,xn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tn=6,xn=null;return}}if(o=o.sibling,o!==null){xn=o;return}xn=o=s}while(o!==null);Tn===0&&(Tn=5)}function Zi(s,o,u){var g=Ht,k=Ar.transition;try{Ar.transition=null,Ht=1,xE(s,o,u,g)}finally{Ar.transition=k,Ht=g}return null}function xE(s,o,u,g){do Qo();while(hi!==null);if((Lt&6)!==0)throw Error(n(327));u=s.finishedWork;var k=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var N=u.lanes|u.childLanes;if(Ao(s,N),s===Rn&&(xn=Rn=null,On=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ju||(ju=!0,Xy(Ut,function(){return Qo(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=Ar.transition,Ar.transition=null;var Q=Ht;Ht=1;var de=Lt;Lt|=4,sp.current=null,gE(s,u),Ny(u,s),WC(hh),Kc=!!fh,hh=fh=null,s.current=u,vE(u),Gs(),Lt=de,Ht=Q,Ar.transition=N}else s.current=u;if(ju&&(ju=!1,hi=s,Lu=k),N=s.pendingLanes,N===0&&(fi=null),Gc(u.stateNode),cr(s,Kt()),o!==null)for(g=s.onRecoverableError,u=0;u<o.length;u++)k=o[u],g(k.value,{componentStack:k.stack,digest:k.digest});if(Ou)throw Ou=!1,s=ap,ap=null,s;return(Lu&1)!==0&&s.tag!==0&&Qo(),N=s.pendingLanes,(N&1)!==0?s===lp?Al++:(Al=0,lp=s):Al=0,li(),null}function Qo(){if(hi!==null){var s=Ag(Lu),o=Ar.transition,u=Ht;try{if(Ar.transition=null,Ht=16>s?16:s,hi===null)var g=!1;else{if(s=hi,hi=null,Lu=0,(Lt&6)!==0)throw Error(n(331));var k=Lt;for(Lt|=4,ot=s.current;ot!==null;){var N=ot,Q=N.child;if((ot.flags&16)!==0){var de=N.deletions;if(de!==null){for(var me=0;me<de.length;me++){var De=de[me];for(ot=De;ot!==null;){var Xe=ot;switch(Xe.tag){case 0:case 11:case 15:kl(8,Xe,N)}var qe=Xe.child;if(qe!==null)qe.return=Xe,ot=qe;else for(;ot!==null;){Xe=ot;var $e=Xe.sibling,rt=Xe.return;if(ky(Xe),Xe===De){ot=null;break}if($e!==null){$e.return=rt,ot=$e;break}ot=rt}}}var ct=N.alternate;if(ct!==null){var dt=ct.child;if(dt!==null){ct.child=null;do{var mn=dt.sibling;dt.sibling=null,dt=mn}while(dt!==null)}}ot=N}}if((N.subtreeFlags&2064)!==0&&Q!==null)Q.return=N,ot=Q;else e:for(;ot!==null;){if(N=ot,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:kl(9,N,N.return)}var Te=N.sibling;if(Te!==null){Te.return=N.return,ot=Te;break e}ot=N.return}}var _e=s.current;for(ot=_e;ot!==null;){Q=ot;var ke=Q.child;if((Q.subtreeFlags&2064)!==0&&ke!==null)ke.return=Q,ot=ke;else e:for(Q=_e;ot!==null;){if(de=ot,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:Nu(9,de)}}catch(ft){un(de,de.return,ft)}if(de===Q){ot=null;break e}var Ke=de.sibling;if(Ke!==null){Ke.return=de.return,ot=Ke;break e}ot=de.return}}if(Lt=k,li(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Zs,s)}catch{}g=!0}return g}finally{Ht=u,Ar.transition=o}}return!1}function $y(s,o,u){o=Go(u,o),o=ay(s,o,1),s=ui(s,o,1),o=Qn(),s!==null&&(Fr(s,1,o),cr(s,o))}function un(s,o,u){if(s.tag===3)$y(s,s,u);else for(;o!==null;){if(o.tag===3){$y(o,s,u);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fi===null||!fi.has(g))){s=Go(u,s),s=ly(o,s,1),o=ui(o,s,1),s=Qn(),o!==null&&(Fr(o,1,s),cr(o,s));break}}o=o.return}}function SE(s,o,u){var g=s.pingCache;g!==null&&g.delete(o),o=Qn(),s.pingedLanes|=s.suspendedLanes&u,Rn===s&&(On&u)===u&&(Tn===4||Tn===3&&(On&130023424)===On&&500>Kt()-op?Gi(s,0):ip|=u),cr(s,o)}function Uy(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var u=Qn();s=Ms(s,o),s!==null&&(Fr(s,o,u),cr(s,u))}function CE(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Uy(s,u)}function EE(s,o){var u=0;switch(s.tag){case 13:var g=s.stateNode,k=s.memoizedState;k!==null&&(u=k.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(o),Uy(s,u)}var Hy;Hy=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||ir.current)ar=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return ar=!1,fE(s,o,u);ar=(s.flags&131072)!==0}else ar=!1,nn&&(o.flags&1048576)!==0&&Cv(o,mu,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;Au(s,o),s=o.pendingProps;var k=Vo(o,Fn.current);Xo(o,u),k=Lh(null,o,g,s,k,u);var N=Bh();return o.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,or(g)?(N=!0,fu(o)):N=!1,o.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Ah(o),k.updater=Pu,o.stateNode=k,k._reactInternals=o,Uh(o,g,s,u),o=Gh(null,o,g,!0,N,u)):(o.tag=0,nn&&N&&bh(o),Kn(null,o,k,u),o=o.child),o;case 16:g=o.elementType;e:{switch(Au(s,o),s=o.pendingProps,k=g._init,g=k(g._payload),o.type=g,k=o.tag=kE(g),s=Wr(g,s),k){case 0:o=qh(null,o,g,s,u);break e;case 1:o=vy(null,o,g,s,u);break e;case 11:o=fy(null,o,g,s,u);break e;case 14:o=hy(null,o,g,Wr(g.type,s),u);break e}throw Error(n(306,g,""))}return o;case 0:return g=o.type,k=o.pendingProps,k=o.elementType===g?k:Wr(g,k),qh(s,o,g,k,u);case 1:return g=o.type,k=o.pendingProps,k=o.elementType===g?k:Wr(g,k),vy(s,o,g,k,u);case 3:e:{if(yy(o),s===null)throw Error(n(387));g=o.pendingProps,N=o.memoizedState,k=N.element,Dv(s,o),wu(o,g,null,u);var Q=o.memoizedState;if(g=Q.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){k=Go(Error(n(423)),o),o=_y(s,o,g,u,k);break e}else if(g!==k){k=Go(Error(n(424)),o),o=_y(s,o,g,u,k);break e}else for(gr=ii(o.stateNode.containerInfo.firstChild),mr=o,nn=!0,zr=null,u=Mv(o,null,g,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($o(),g===k){o=Ds(s,o,u);break e}Kn(s,o,g,u)}o=o.child}return o;case 5:return jv(o),s===null&&Sh(o),g=o.type,k=o.pendingProps,N=s!==null?s.memoizedProps:null,Q=k.children,ph(g,k)?Q=null:N!==null&&ph(g,N)&&(o.flags|=32),gy(s,o),Kn(s,o,Q,u),o.child;case 6:return s===null&&Sh(o),null;case 13:return by(s,o,u);case 4:return Mh(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=Uo(o,null,g,u):Kn(s,o,g,u),o.child;case 11:return g=o.type,k=o.pendingProps,k=o.elementType===g?k:Wr(g,k),fy(s,o,g,k,u);case 7:return Kn(s,o,o.pendingProps,u),o.child;case 8:return Kn(s,o,o.pendingProps.children,u),o.child;case 12:return Kn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(g=o.type._context,k=o.pendingProps,N=o.memoizedProps,Q=k.value,Yt(yu,g._currentValue),g._currentValue=Q,N!==null)if(Vr(N.value,Q)){if(N.children===k.children&&!ir.current){o=Ds(s,o,u);break e}}else for(N=o.child,N!==null&&(N.return=o);N!==null;){var de=N.dependencies;if(de!==null){Q=N.child;for(var me=de.firstContext;me!==null;){if(me.context===g){if(N.tag===1){me=Ns(-1,u&-u),me.tag=2;var De=N.updateQueue;if(De!==null){De=De.shared;var Xe=De.pending;Xe===null?me.next=me:(me.next=Xe.next,Xe.next=me),De.pending=me}}N.lanes|=u,me=N.alternate,me!==null&&(me.lanes|=u),Ph(N.return,u,o),de.lanes|=u;break}me=me.next}}else if(N.tag===10)Q=N.type===o.type?null:N.child;else if(N.tag===18){if(Q=N.return,Q===null)throw Error(n(341));Q.lanes|=u,de=Q.alternate,de!==null&&(de.lanes|=u),Ph(Q,u,o),Q=N.sibling}else Q=N.child;if(Q!==null)Q.return=N;else for(Q=N;Q!==null;){if(Q===o){Q=null;break}if(N=Q.sibling,N!==null){N.return=Q.return,Q=N;break}Q=Q.return}N=Q}Kn(s,o,k.children,u),o=o.child}return o;case 9:return k=o.type,g=o.pendingProps.children,Xo(o,u),k=Pr(k),g=g(k),o.flags|=1,Kn(s,o,g,u),o.child;case 14:return g=o.type,k=Wr(g,o.pendingProps),k=Wr(g.type,k),hy(s,o,g,k,u);case 15:return py(s,o,o.type,o.pendingProps,u);case 17:return g=o.type,k=o.pendingProps,k=o.elementType===g?k:Wr(g,k),Au(s,o),o.tag=1,or(g)?(s=!0,fu(o)):s=!1,Xo(o,u),iy(o,g,k),Uh(o,g,k,u),Gh(null,o,g,!0,s,u);case 19:return xy(s,o,u);case 22:return my(s,o,u)}throw Error(n(156,o.tag))};function Xy(s,o){return rr(s,o)}function TE(s,o,u,g){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(s,o,u,g){return new TE(s,o,u,g)}function pp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kE(s){if(typeof s=="function")return pp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===W)return 14}return 2}function gi(s,o){var u=s.alternate;return u===null?(u=Mr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function zu(s,o,u,g,k,N){var Q=2;if(g=s,typeof s=="function")pp(s)&&(Q=1);else if(typeof s=="string")Q=5;else e:switch(s){case O:return Yi(u.children,k,N,o);case V:Q=8,k|=8;break;case q:return s=Mr(12,u,o,k|2),s.elementType=q,s.lanes=N,s;case z:return s=Mr(13,u,o,k),s.elementType=z,s.lanes=N,s;case S:return s=Mr(19,u,o,k),s.elementType=S,s.lanes=N,s;case Y:return Wu(u,k,N,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:Q=10;break e;case G:Q=9;break e;case P:Q=11;break e;case W:Q=14;break e;case ne:Q=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Mr(Q,u,o,k),o.elementType=s,o.type=g,o.lanes=N,o}function Yi(s,o,u,g){return s=Mr(7,s,g,o),s.lanes=u,s}function Wu(s,o,u,g){return s=Mr(22,s,g,o),s.elementType=Y,s.lanes=u,s.stateNode={isHidden:!1},s}function mp(s,o,u){return s=Mr(6,s,null,o),s.lanes=u,s}function gp(s,o,u){return o=Mr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function PE(s,o,u,g,k){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=g,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function vp(s,o,u,g,k,N,Q,de,me){return s=new PE(s,o,u,de,me),o===1?(o=1,N===!0&&(o|=8)):o=0,N=Mr(3,null,null,o),s.current=N,N.stateNode=s,N.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(N),s}function RE(s,o,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:g==null?null:""+g,children:s,containerInfo:o,implementation:u}}function qy(s){if(!s)return ai;s=s._reactInternals;e:{if($t(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(or(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(or(u))return wv(s,u,o)}return o}function Gy(s,o,u,g,k,N,Q,de,me){return s=vp(u,g,!0,s,k,N,Q,de,me),s.context=qy(null),u=s.current,g=Qn(),k=pi(u),N=Ns(g,k),N.callback=o??null,ui(u,N,k),s.current.lanes=k,Fr(s,k,g),cr(s,g),s}function $u(s,o,u,g){var k=o.current,N=Qn(),Q=pi(k);return u=qy(u),o.context===null?o.context=u:o.pendingContext=u,o=Ns(N,Q),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=ui(k,o,Q),s!==null&&(Hr(s,k,Q,N),bu(s,k,Q)),Q}function Uu(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function Zy(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function yp(s,o){Zy(s,o),(s=s.alternate)&&Zy(s,o)}function AE(){return null}var Yy=typeof reportError=="function"?reportError:function(s){console.error(s)};function _p(s){this._internalRoot=s}Hu.prototype.render=_p.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));$u(s,o,null,null)},Hu.prototype.unmount=_p.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;qi(function(){$u(null,s,null,null)}),o[ks]=null}};function Hu(s){this._internalRoot=s}Hu.prototype.unstable_scheduleHydration=function(s){if(s){var o=Dg();s={blockedOn:null,target:s,priority:o};for(var u=0;u<ni.length&&o!==0&&o<ni[u].priority;u++);ni.splice(u,0,s),u===0&&jg(s)}};function bp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ky(){}function ME(s,o,u,g,k){if(k){if(typeof g=="function"){var N=g;g=function(){var De=Uu(Q);N.call(De)}}var Q=Gy(o,g,s,0,null,!1,!1,"",Ky);return s._reactRootContainer=Q,s[ks]=Q.current,pl(s.nodeType===8?s.parentNode:s),qi(),Q}for(;k=s.lastChild;)s.removeChild(k);if(typeof g=="function"){var de=g;g=function(){var De=Uu(me);de.call(De)}}var me=vp(s,0,!1,null,null,!1,!1,"",Ky);return s._reactRootContainer=me,s[ks]=me.current,pl(s.nodeType===8?s.parentNode:s),qi(function(){$u(o,me,u,g)}),me}function qu(s,o,u,g,k){var N=u._reactRootContainer;if(N){var Q=N;if(typeof k=="function"){var de=k;k=function(){var me=Uu(Q);de.call(me)}}$u(o,Q,s,k)}else Q=ME(u,o,s,k,g);return Uu(Q)}Mg=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=wn(o.pendingLanes);u!==0&&(Qs(o,u|1),cr(o,Kt()),(Lt&6)===0&&(Ko=Kt()+500,li()))}break;case 13:qi(function(){var g=Ms(s,1);if(g!==null){var k=Qn();Hr(g,s,1,k)}}),yp(s,1)}},Hf=function(s){if(s.tag===13){var o=Ms(s,134217728);if(o!==null){var u=Qn();Hr(o,s,134217728,u)}yp(s,134217728)}},Ng=function(s){if(s.tag===13){var o=pi(s),u=Ms(s,o);if(u!==null){var g=Qn();Hr(u,s,o,g)}yp(s,o)}},Dg=function(){return Ht},Ig=function(s,o){var u=Ht;try{return Ht=s,o()}finally{Ht=u}},ge=function(s,o,u){switch(o){case"input":if(ie(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var g=u[o];if(g!==s&&g.form===s.form){var k=uu(g);if(!k)throw Error(n(90));je(g),ie(g,k)}}}break;case"textarea":Oe(s,u);break;case"select":o=u.value,o!=null&&we(s,!!u.multiple,o,!1)}},Fe=dp,at=qi;var NE={usingClientEntryPoint:!1,Events:[vl,Bo,uu,Ze,ut,dp]},Ml={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DE={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Bn(s),s===null?null:s.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||AE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Zs=Gu.inject(DE),sr=Gu}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE,ur.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(o))throw Error(n(200));return RE(s,o,null,u)},ur.createRoot=function(s,o){if(!bp(s))throw Error(n(299));var u=!1,g="",k=Yy;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=vp(s,1,!1,null,null,u,!1,g,k),s[ks]=o.current,pl(s.nodeType===8?s.parentNode:s),new _p(o)},ur.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Bn(o),s=s===null?null:s.stateNode,s},ur.flushSync=function(s){return qi(s)},ur.hydrate=function(s,o,u){if(!Xu(o))throw Error(n(200));return qu(null,s,o,!0,u)},ur.hydrateRoot=function(s,o,u){if(!bp(s))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,k=!1,N="",Q=Yy;if(u!=null&&(u.unstable_strictMode===!0&&(k=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(Q=u.onRecoverableError)),o=Gy(o,null,s,1,u??null,k,!1,N,Q),s[ks]=o.current,pl(s),g)for(s=0;s<g.length;s++)u=g[s],k=u._getVersion,k=k(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,k]:o.mutableSourceEagerHydrationData.push(u,k);return new Hu(o)},ur.render=function(s,o,u){if(!Xu(o))throw Error(n(200));return qu(null,s,o,!1,u)},ur.unmountComponentAtNode=function(s){if(!Xu(s))throw Error(n(40));return s._reactRootContainer?(qi(function(){qu(null,null,s,!1,function(){s._reactRootContainer=null,s[ks]=null})}),!0):!1},ur.unstable_batchedUpdates=dp,ur.unstable_renderSubtreeIntoContainer=function(s,o,u,g){if(!Xu(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return qu(s,o,u,!1,g)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var i2;function Cw(){if(i2)return Sp.exports;i2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sp.exports=zE(),Sp.exports}var o2;function WE(){if(o2)return Yu;o2=1;var t=Cw();return Yu.createRoot=t.createRoot,Yu.hydrateRoot=t.hydrateRoot,Yu}var $E=WE();function UE(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,l=[],c="",d=t.split("/");for(d[0]||d.shift();i=d.shift();)n=i[0],n==="*"?(l.push(n),c+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),l.push(i.substring(1,~r?r:~a?a:i.length)),c+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(c+=(~r?"?":"")+"\\"+i.substring(a))):c+="/"+i;return{keys:l,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var D=af();const xi=O1(D),Ew=OE({__proto__:null,default:xi},[D]);var Tp={exports:{}},kp={};var a2;function HE(){if(a2)return kp;a2=1;var t=af();function e(p,_){return p===_&&(p!==0||1/p===1/_)||p!==p&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(p,_){var w=_(),E=r({inst:{value:w,getSnapshot:_}}),b=E[0].inst,x=E[1];return a(function(){b.value=w,b.getSnapshot=_,d(b)&&x({inst:b})},[p,w,_]),i(function(){return d(b)&&x({inst:b}),p(function(){d(b)&&x({inst:b})})},[p]),l(w),w}function d(p){var _=p.getSnapshot;p=p.value;try{var w=_();return!n(p,w)}catch{return!0}}function h(p,_){return _()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return kp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,kp}var l2;function XE(){return l2||(l2=1,Tp.exports=HE()),Tp.exports}var qE=XE();const GE=Ew.useInsertionEffect,ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YE=ZE?D.useLayoutEffect:D.useEffect,KE=GE||YE,Tw=t=>{const e=D.useRef([t,(...n)=>e[0](...n)]).current;return KE(()=>{e[0]=t}),e[1]},QE="popstate",j1="pushState",L1="replaceState",JE="hashchange",c2=[QE,j1,L1,JE],eT=t=>{for(const e of c2)addEventListener(e,t);return()=>{for(const e of c2)removeEventListener(e,t)}},kw=(t,e)=>qE.useSyncExternalStore(eT,t,e),tT=()=>location.search,nT=({ssrSearch:t=""}={})=>kw(tT,()=>t),u2=()=>location.pathname,rT=({ssrPath:t}={})=>kw(u2,t?()=>t:u2),sT=(t,{replace:e=!1,state:n=null}={})=>history[e?L1:j1](n,"",t),iT=(t={})=>[rT(t),sT],d2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[d2]>"u"){for(const t of[j1,L1]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,d2,{value:!0})}const oT=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Pw=(t="")=>t==="/"?"":t,aT=(t,e)=>t[0]==="~"?t.slice(1):Pw(e)+t,lT=(t="",e)=>oT(f2(Pw(t)),f2(e)),f2=t=>{try{return decodeURI(t)}catch{return t}},Rw={hook:iT,searchHook:nT,parser:UE,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Aw=D.createContext(Rw),ja=()=>D.useContext(Aw),Mw={},Nw=D.createContext(Mw),cT=()=>D.useContext(Nw),lf=t=>{const[e,n]=t.hook(t);return[lT(t.base,e),Tw((r,i)=>n(aT(r,t.base),i))]},Rc=()=>lf(ja()),B1=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),l=i.exec(n)||[],[c,...d]=l;return c!==void 0?[!0,(()=>{const h=a!==!1?Object.fromEntries(a.map((p,_)=>[p,d[_]])):l.groups;let f={...d};return h&&Object.assign(f,h),f})(),...r?[c]:[]]:[!1,null]},uT=t=>B1(ja().parser,t,Rc()[0]),dT=({children:t,...e})=>{const n=ja(),r=e.hook?Rw:n;let i=r;const[a,l]=e.ssrPath?.split("?")??[];l&&(e.ssrSearch=l,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let c=D.useRef({}),d=c.current,h=d;for(let f in r){const p=f==="base"?r[f]+(e[f]||""):e[f]||r[f];d===h&&p!==h[f]&&(c.current=h={...h}),h[f]=p,p!==r[f]&&(i=h)}return D.createElement(Aw.Provider,{value:i,children:t})},h2=({children:t,component:e},n)=>e?D.createElement(e,{params:n}):typeof t=="function"?t(n):t,fT=t=>{let e=D.useRef(Mw),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Dl=({path:t,nest:e,match:n,...r})=>{const i=ja(),[a]=lf(i),[l,c,d]=n??B1(i.parser,t,a,e),h=fT({...cT(),...c});if(!l)return null;const f=d?D.createElement(dT,{base:d},h2(r,h)):h2(r,h);return D.createElement(Nw.Provider,{value:h,children:f})},ua=D.forwardRef((t,e)=>{const n=ja(),[r,i]=lf(n),{to:a="",href:l=a,onClick:c,asChild:d,children:h,className:f,replace:p,state:_,...w}=t,E=Tw(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(c?.(x),x.defaultPrevented||(x.preventDefault(),i(l,t)))}),b=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return d&&D.isValidElement(h)?D.cloneElement(h,{onClick:E,href:b}):D.createElement("a",{...w,onClick:E,href:b,className:f?.call?f(r===l):f,children:h,ref:e})}),Dw=t=>Array.isArray(t)?t.flatMap(e=>Dw(e&&e.type===D.Fragment?e.props.children:e)):[t],hT=({children:t,location:e})=>{const n=ja(),[r]=lf(n);for(const i of Dw(t)){let a=0;if(D.isValidElement(i)&&(a=B1(n.parser,i.props.path,e||r,i.props.nest))[0])return D.cloneElement(i,{match:a})}return null};var La=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},po=typeof window>"u"||"Deno"in globalThis;function jr(){}function pT(t,e){return typeof t=="function"?t(e):t}function Cm(t){return typeof t=="number"&&t>=0&&t!==1/0}function Iw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ya(t,e){return typeof t=="function"?t(e):t}function Yr(t,e){return typeof t=="function"?t(e):t}function p2(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==F1(l,e.options))return!1}else if(!ec(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function m2(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(mo(e.options.mutationKey)!==mo(a))return!1}else if(!ec(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function F1(t,e){return(e?.queryKeyHashFn||mo)(t)}function mo(t){return JSON.stringify(t,(e,n)=>Em(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ec(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ec(t[n],e[n])):!1}function Ow(t,e){if(t===e)return t;const n=g2(t)&&g2(e);if(n||Em(t)&&Em(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),l=a.length,c=n?[]:{};let d=0;for(let h=0;h<l;h++){const f=n?h:a[h];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(c[f]=void 0,d++):(c[f]=Ow(t[f],e[f]),c[f]===t[f]&&t[f]!==void 0&&d++)}return i===l&&d===i?t:c}return e}function kd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function g2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Em(t){if(!v2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!v2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function v2(t){return Object.prototype.toString.call(t)==="[object Object]"}function mT(t){return new Promise(e=>{setTimeout(e,t)})}function Tm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ow(t,e):e}function gT(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vT(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var V1=Symbol();function jw(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===V1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yT=class extends La{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!po&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},z1=new yT,_T=class extends La{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!po&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Pd=new _T;function km(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function bT(t){return Math.min(1e3*2**t,3e4)}function Lw(t){return(t??"online")==="online"?Pd.isOnline():!0}var Bw=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Pp(t){return t instanceof Bw}function Fw(t){let e=!1,n=0,r=!1,i;const a=km(),l=b=>{r||(_(new Bw(b)),t.abort?.())},c=()=>{e=!0},d=()=>{e=!1},h=()=>z1.isFocused()&&(t.networkMode==="always"||Pd.isOnline())&&t.canRun(),f=()=>Lw(t.networkMode)&&t.canRun(),p=b=>{r||(r=!0,t.onSuccess?.(b),i?.(),a.resolve(b))},_=b=>{r||(r=!0,t.onError?.(b),i?.(),a.reject(b))},w=()=>new Promise(b=>{i=x=>{(r||h())&&b(x)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),E=()=>{if(r)return;let b;const x=n===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(p).catch(v=>{if(r)return;const y=t.retry??(po?0:3),m=t.retryDelay??bT,A=typeof m=="function"?m(n,v):m,j=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!j){_(v);return}n++,t.onFail?.(n,v),mT(A).then(()=>h()?void 0:w()).then(()=>{e?_(v):E()})})};return{promise:a,cancel:l,continue:()=>(i?.(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?E():w().then(E),a)}}function wT(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const a=c=>{e?t.push(c):i(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var kn=wT(),Vw=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cm(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(po?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},xT=class extends Vw{#e;#t;#r;#n;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ST(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const n=Tm(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===V1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Iw(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},i=()=>{const c=jw(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return r(d),this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const l=c=>{Pp(c)&&c.silent||this.#s({type:"error",error:c}),Pp(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=Fw({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...zw(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Pp(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),kn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function zw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ST(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var CT=class extends La{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??F1(r,e);let a=this.get(i);return a||(a=new xT({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>p2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>p2(t,n)):e}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ET=class extends Vw{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Ww(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=Fw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#n({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#n({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),kn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Ww(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var TT=class extends La{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new ET({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Ku(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Ku(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Ku(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Ku(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>m2(e,n))}findAll(t={}){return this.getAll().filter(e=>m2(t,e))}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return kn.batch(()=>Promise.all(t.map(e=>e.continue().catch(jr))))}};function Ku(t){return t.options.scope?.id??String(t.mutationId)}function y2(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let f=!1;const p=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},_=jw(e.options,e.fetchOptions),w=async(E,b,x)=>{if(f)return Promise.reject();if(b==null&&E.pages.length)return Promise.resolve(E);const v={queryKey:e.queryKey,pageParam:b,direction:x?"backward":"forward",meta:e.options.meta};p(v);const y=await _(v),{maxPages:m}=e.options,A=x?vT:gT;return{pages:A(E.pages,y,m),pageParams:A(E.pageParams,b,m)}};if(i&&a.length){const E=i==="backward",b=E?kT:_2,x={pages:a,pageParams:l},v=b(r,x);c=await w(x,v,E)}else{const E=t??a.length;do{const b=d===0?l[0]??r.initialPageParam:_2(r,c);if(d>0&&b==null)break;c=await w(c,b),d++}while(d<E)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function _2(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function kT(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var PT=class{#e;#t;#r;#n;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new CT,this.#t=t.mutationCache||new TT,this.#r=t.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=z1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Pd.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ya(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,l=pT(e,a);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return kn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;kn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return kn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=kn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(t={},e={}){return kn.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=kn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(jr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(jr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ya(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jr).catch(jr)}fetchInfiniteQuery(t){return t.behavior=y2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jr).catch(jr)}ensureInfiniteQueryData(t){return t.behavior=y2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(mo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()];let n={};return e.forEach(r=>{ec(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(mo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{ec(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=F1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===V1&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},RT=class extends La{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=km(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#i;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),b2(this.#t,this.options)?this.#d():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),n._defaulted&&!kd(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&w2(this.#t,r,this.options,n)&&this.#d(),this.updateResult(e),i&&(this.#t!==r||Yr(this.options.enabled,this.#t)!==Yr(n.enabled,this.#t)||ya(this.options.staleTime,this.#t)!==ya(n.staleTime,this.#t))&&this.#g();const a=this.#v();i&&(this.#t!==r||Yr(this.options.enabled,this.#t)!==Yr(n.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return MT(this,n)&&(this.#n=n,this.#i=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(jr)),e}#g(){this.#b();const t=ya(this.options.staleTime,this.#t);if(po||this.#n.isStale||!Cm(t))return;const n=Iw(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(po||Yr(this.options.enabled,this.#t)===!1||!Cm(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||z1.isFocused())&&this.#d()},this.#l))}#_(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#n,a=this.#o,l=this.#i,d=t!==n?t.state:this.#r,{state:h}=t;let f={...h},p=!1,_;if(e._optimisticResults){const O=this.hasListeners(),V=!O&&b2(t,e),q=O&&w2(t,n,e,r);(V||q)&&(f={...f,...zw(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:E,status:b}=f;if(e.select&&f.data!==void 0)if(i&&f.data===a?.data&&e.select===this.#m)_=this.#f;else try{this.#m=e.select,_=e.select(f.data),_=Tm(i?.data,_,e),this.#f=_,this.#a=null}catch(O){this.#a=O}else _=f.data;if(e.placeholderData!==void 0&&_===void 0&&b==="pending"){let O;if(i?.isPlaceholderData&&e.placeholderData===l?.placeholderData)O=i.data;else if(O=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&O!==void 0)try{O=e.select(O),this.#a=null}catch(V){this.#a=V}O!==void 0&&(b="success",_=Tm(i?.data,O,e),p=!0)}this.#a&&(w=this.#a,_=this.#f,E=Date.now(),b="error");const x=f.fetchStatus==="fetching",v=b==="pending",y=b==="error",m=v&&x,A=_!==void 0,L={status:b,fetchStatus:f.fetchStatus,isPending:v,isSuccess:b==="success",isError:y,isInitialLoading:m,isLoading:m,data:_,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:E,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:y&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:y&&A,isStale:W1(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const O=K=>{L.status==="error"?K.reject(L.error):L.data!==void 0&&K.resolve(L.data)},V=()=>{const K=this.#s=L.promise=km();O(K)},q=this.#s;switch(q.status){case"pending":t.queryHash===n.queryHash&&O(q);break;case"fulfilled":(L.status==="error"||L.data!==q.value)&&V();break;case"rejected":(L.status!=="error"||L.error!==q.reason)&&V();break}}return L}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#h=this.#t),kd(n,e))return;this.#n=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#p.size)return!0;const c=new Set(l??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(d=>{const h=d;return this.#n[h]!==e[h]&&c.has(h)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){kn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function AT(t,e){return Yr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function b2(t,e){return AT(t,e)||t.state.data!==void 0&&Pm(t,e,e.refetchOnMount)}function Pm(t,e,n){if(Yr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&W1(t,e)}return!1}function w2(t,e,n,r){return(t!==e||Yr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&W1(t,n)}function W1(t,e){return Yr(e.enabled,t)!==!1&&t.isStaleByTime(ya(e.staleTime,t))}function MT(t,e){return!kd(t.getCurrentResult(),e)}var NT=class extends La{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),kd(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&mo(n.mutationKey)!==mo(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#i()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){const e=this.#r?.state??Ww();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){kn.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},$w=D.createContext(void 0),Ss=t=>{const e=D.useContext($w);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DT=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),R.jsx($w.Provider,{value:t,children:e})),Uw=D.createContext(!1),IT=()=>D.useContext(Uw);Uw.Provider;function OT(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var jT=D.createContext(OT()),LT=()=>D.useContext(jT);function Hw(t,e){return typeof t=="function"?t(...e):!!t}function Rm(){}var BT=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},FT=t=>{D.useEffect(()=>{t.clearReset()},[t])},VT=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Hw(n,[t.error,r]),zT=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},WT=(t,e)=>t.isLoading&&t.isFetching&&!e,$T=(t,e)=>t?.suspense&&e.isPending,x2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function UT(t,e,n){const r=Ss(),i=IT(),a=LT(),l=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=i?"isRestoring":"optimistic",zT(l),BT(l,a),FT(a);const c=!r.getQueryCache().get(l.queryHash),[d]=D.useState(()=>new e(r,l)),h=d.getOptimisticResult(l);if(D.useSyncExternalStore(D.useCallback(f=>{const p=i?Rm:d.subscribe(kn.batchCalls(f));return d.updateResult(),p},[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),D.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),$T(l,h))throw x2(l,d,a);if(VT({result:h,errorResetBoundary:a,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash)}))throw h.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(l,h),l.experimental_prefetchInRender&&!po&&WT(h,i)&&(c?x2(l,d,a):r.getQueryCache().get(l.queryHash)?.promise)?.catch(Rm).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?h:d.trackResult(h)}function $1(t,e){return UT(t,RT)}function Oi(t,e){const n=Ss(),[r]=D.useState(()=>new NT(n,t));D.useEffect(()=>{r.setOptions(t)},[r,t]);const i=D.useSyncExternalStore(D.useCallback(l=>r.subscribe(kn.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=D.useCallback((l,c)=>{r.mutate(l,c).catch(Rm)},[r]);if(i.error&&Hw(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function HT(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const XT=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await HT(n),await n.json()},qT=new PT({defaultOptions:{queries:{queryFn:XT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),GT=1,ZT=1e6;let Rp=0;function YT(){return Rp=(Rp+1)%Number.MAX_SAFE_INTEGER,Rp.toString()}const Ap=new Map,S2=t=>{if(Ap.has(t))return;const e=setTimeout(()=>{Ap.delete(t),Zl({type:"REMOVE_TOAST",toastId:t})},ZT);Ap.set(t,e)},KT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,GT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?S2(n):t.toasts.forEach(r=>{S2(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gd=[];let vd={toasts:[]};function Zl(t){vd=KT(vd,t),gd.forEach(e=>{e(vd)})}function QT({...t}){const e=YT(),n=i=>Zl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Zl({type:"DISMISS_TOAST",toastId:e});return Zl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ac(){const[t,e]=D.useState(vd);return D.useEffect(()=>(gd.push(e),()=>{const n=gd.indexOf(e);n>-1&&gd.splice(n,1)}),[t]),{...t,toast:QT,dismiss:n=>Zl({type:"DISMISS_TOAST",toastId:n})}}var Ba=Cw();const JT=O1(Ba);function tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function C2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cf(...t){return e=>{let n=!1;const r=t.map(i=>{const a=C2(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():C2(t[i],null)}}}}function Bt(...t){return D.useCallback(cf(...t),t)}function ek(t,e){const n=D.createContext(e),r=a=>{const{children:l,...c}=a,d=D.useMemo(()=>c,Object.values(c));return R.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function i(a){const l=D.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function rs(t,e=[]){let n=[];function r(a,l){const c=D.createContext(l),d=n.length;n=[...n,l];const h=p=>{const{scope:_,children:w,...E}=p,b=_?.[t]?.[d]||c,x=D.useMemo(()=>E,Object.values(E));return R.jsx(b.Provider,{value:x,children:w})};h.displayName=a+"Provider";function f(p,_){const w=_?.[t]?.[d]||c,E=D.useContext(w);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(l=>D.createContext(l));return function(c){const d=c?.[t]||a;return D.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,tk(i,...e)]}function tk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const p=d(a)[`__scope${h}`];return{...c,...p}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function go(t){const e=rk(t),n=D.forwardRef((r,i)=>{const{children:a,...l}=r,c=D.Children.toArray(a),d=c.find(sk);if(d){const h=d.props.children,f=c.map(p=>p===d?D.Children.count(h)>1?D.Children.only(null):D.isValidElement(h)?h.props.children:null:p);return R.jsx(e,{...l,ref:i,children:D.isValidElement(h)?D.cloneElement(h,void 0,f):null})}return R.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var nk=go("Slot");function rk(t){const e=D.forwardRef((n,r)=>{const{children:i,...a}=n;if(D.isValidElement(i)){const l=ok(i),c=ik(a,i.props);return i.type!==D.Fragment&&(c.ref=r?cf(r,l):l),D.cloneElement(i,c)}return D.Children.count(i)>1?D.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xw=Symbol("radix.slottable");function qw(t){const e=({children:n})=>R.jsx(R.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Xw,e}function sk(t){return D.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xw}function ik(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{a(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function ok(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uf(t){const e=t+"CollectionProvider",[n,r]=rs(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:x,children:v}=b,y=xi.useRef(null),m=xi.useRef(new Map).current;return R.jsx(i,{scope:x,itemMap:m,collectionRef:y,children:v})};l.displayName=e;const c=t+"CollectionSlot",d=go(c),h=xi.forwardRef((b,x)=>{const{scope:v,children:y}=b,m=a(c,v),A=Bt(x,m.collectionRef);return R.jsx(d,{ref:A,children:y})});h.displayName=c;const f=t+"CollectionItemSlot",p="data-radix-collection-item",_=go(f),w=xi.forwardRef((b,x)=>{const{scope:v,children:y,...m}=b,A=xi.useRef(null),j=Bt(x,A),L=a(f,v);return xi.useEffect(()=>(L.itemMap.set(A,{ref:A,...m}),()=>{L.itemMap.delete(A)})),R.jsx(_,{[p]:"",ref:j,children:y})});w.displayName=f;function E(b){const x=a(t+"CollectionConsumer",b);return xi.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const m=Array.from(y.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((L,O)=>m.indexOf(L.ref.current)-m.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},E,r]}var ak=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Et=ak.reduce((t,e)=>{const n=go(`Primitive.${e}`),r=D.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function U1(t,e){t&&Ba.flushSync(()=>t.dispatchEvent(e))}function Hn(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>e.current?.(...n),[])}function lk(t,e=globalThis?.document){const n=Hn(t);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ck="DismissableLayer",Am="dismissableLayer.update",uk="dismissableLayer.pointerDownOutside",dk="dismissableLayer.focusOutside",E2,Gw=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fa=D.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=t,h=D.useContext(Gw),[f,p]=D.useState(null),_=f?.ownerDocument??globalThis?.document,[,w]=D.useState({}),E=Bt(e,O=>p(O)),b=Array.from(h.layers),[x]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(x),y=f?b.indexOf(f):-1,m=h.layersWithOutsidePointerEventsDisabled.size>0,A=y>=v,j=hk(O=>{const V=O.target,q=[...h.branches].some(K=>K.contains(V));!A||q||(i?.(O),l?.(O),O.defaultPrevented||c?.())},_),L=pk(O=>{const V=O.target;[...h.branches].some(K=>K.contains(V))||(a?.(O),l?.(O),O.defaultPrevented||c?.())},_);return lk(O=>{y===h.layers.size-1&&(r?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},_),D.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(E2=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),T2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=E2)}},[f,_,n,h]),D.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),T2())},[f,h]),D.useEffect(()=>{const O=()=>w({});return document.addEventListener(Am,O),()=>document.removeEventListener(Am,O)},[]),R.jsx(Et.div,{...d,ref:E,style:{pointerEvents:m?A?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,L.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,j.onPointerDownCapture)})});Fa.displayName=ck;var fk="DismissableLayerBranch",Zw=D.forwardRef((t,e)=>{const n=D.useContext(Gw),r=D.useRef(null),i=Bt(e,r);return D.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),R.jsx(Et.div,{...t,ref:i})});Zw.displayName=fk;function hk(t,e=globalThis?.document){const n=Hn(t),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){Yw(uk,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pk(t,e=globalThis?.document){const n=Hn(t),r=D.useRef(!1);return D.useEffect(()=>{const i=a=>{a.target&&!r.current&&Yw(dk,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T2(){const t=new CustomEvent(Am);document.dispatchEvent(t)}function Yw(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?U1(i,a):i.dispatchEvent(a)}var mk=Fa,gk=Zw,Xn=globalThis?.document?D.useLayoutEffect:()=>{},vk="Portal",Mc=D.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=D.useState(!1);Xn(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?JT.createPortal(R.jsx(Et.div,{...r,ref:e}),l):null});Mc.displayName=vk;function yk(t,e){return D.useReducer((n,r)=>e[n][r]??n,t)}var ss=t=>{const{present:e,children:n}=t,r=_k(e),i=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),a=Bt(r.ref,bk(i));return typeof n=="function"||r.isPresent?D.cloneElement(i,{ref:a}):null};ss.displayName="Presence";function _k(t){const[e,n]=D.useState(),r=D.useRef({}),i=D.useRef(t),a=D.useRef("none"),l=t?"mounted":"unmounted",[c,d]=yk(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const h=Qu(r.current);a.current=c==="mounted"?h:"none"},[c]),Xn(()=>{const h=r.current,f=i.current;if(f!==t){const _=a.current,w=Qu(h);t?d("MOUNT"):w==="none"||h?.display==="none"?d("UNMOUNT"):d(f&&_!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Xn(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,p=w=>{const b=Qu(r.current).includes(w.animationName);if(w.target===e&&b&&(d("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},_=w=>{w.target===e&&(a.current=Qu(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:D.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function Qu(t){return t?.animationName||"none"}function bk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=wk({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,c=Hn(n),d=D.useCallback(h=>{if(a){const p=typeof h=="function"?h(t):h;p!==t&&c(p)}else i(h)},[a,t,i,c]);return[l,d]}function wk({defaultProp:t,onChange:e}){const n=D.useState(t),[r]=n,i=D.useRef(r),a=Hn(e);return D.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var xk="VisuallyHidden",Nc=D.forwardRef((t,e)=>R.jsx(Et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Nc.displayName=xk;var Sk=Nc,H1="ToastProvider",[X1,Ck,Ek]=uf("Toast"),[Kw]=rs("Toast",[Ek]),[Tk,df]=Kw(H1),Qw=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=t,[c,d]=D.useState(null),[h,f]=D.useState(0),p=D.useRef(!1),_=D.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${H1}\`. Expected non-empty \`string\`.`),R.jsx(X1.Provider,{scope:e,children:R.jsx(Tk,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:D.useCallback(()=>f(w=>w+1),[]),onToastRemove:D.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:_,children:l})})};Qw.displayName=H1;var Jw="ToastViewport",kk=["F8"],Mm="toast.viewportPause",Nm="toast.viewportResume",ex=D.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=kk,label:i="Notifications ({hotkey})",...a}=t,l=df(Jw,n),c=Ck(n),d=D.useRef(null),h=D.useRef(null),f=D.useRef(null),p=D.useRef(null),_=Bt(e,p,l.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=l.toastCount>0;D.useEffect(()=>{const x=v=>{r.length!==0&&r.every(m=>v[m]||v.code===m)&&p.current?.focus()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),D.useEffect(()=>{const x=d.current,v=p.current;if(E&&x&&v){const y=()=>{if(!l.isClosePausedRef.current){const L=new CustomEvent(Mm);v.dispatchEvent(L),l.isClosePausedRef.current=!0}},m=()=>{if(l.isClosePausedRef.current){const L=new CustomEvent(Nm);v.dispatchEvent(L),l.isClosePausedRef.current=!1}},A=L=>{!x.contains(L.relatedTarget)&&m()},j=()=>{x.contains(document.activeElement)||m()};return x.addEventListener("focusin",y),x.addEventListener("focusout",A),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",m),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",m)}}},[E,l.isClosePausedRef]);const b=D.useCallback(({tabbingDirection:x})=>{const y=c().map(m=>{const A=m.ref.current,j=[A,...Vk(A)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?y.reverse():y).flat()},[c]);return D.useEffect(()=>{const x=p.current;if(x){const v=y=>{const m=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!m){const j=document.activeElement,L=y.shiftKey;if(y.target===x&&L){h.current?.focus();return}const q=b({tabbingDirection:L?"backwards":"forwards"}),K=q.findIndex(G=>G===j);Mp(q.slice(K+1))?y.preventDefault():L?h.current?.focus():f.current?.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[c,b]),R.jsxs(gk,{ref:d,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&R.jsx(Dm,{ref:h,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});Mp(x)}}),R.jsx(X1.Slot,{scope:n,children:R.jsx(Et.ol,{tabIndex:-1,...a,ref:_})}),E&&R.jsx(Dm,{ref:f,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});Mp(x)}})]})});ex.displayName=Jw;var tx="ToastFocusProxy",Dm=D.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=df(tx,n);return R.jsx(Nc,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!a.viewport?.contains(c)&&r()}})});Dm.displayName=tx;var ff="Toast",Pk="toast.swipeStart",Rk="toast.swipeMove",Ak="toast.swipeCancel",Mk="toast.swipeEnd",nx=D.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...l}=t,[c=!0,d]=vo({prop:r,defaultProp:i,onChange:a});return R.jsx(ss,{present:n||c,children:R.jsx(Ik,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:Hn(t.onPause),onResume:Hn(t.onResume),onSwipeStart:tt(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tt(t.onSwipeMove,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:tt(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tt(t.onSwipeEnd,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});nx.displayName=ff;var[Nk,Dk]=Kw(ff,{onClose(){}}),Ik=D.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:_,onSwipeEnd:w,...E}=t,b=df(ff,n),[x,v]=D.useState(null),y=Bt(e,S=>v(S)),m=D.useRef(null),A=D.useRef(null),j=i||b.duration,L=D.useRef(0),O=D.useRef(j),V=D.useRef(0),{onToastAdd:q,onToastRemove:K}=b,G=Hn(()=>{x?.contains(document.activeElement)&&b.viewport?.focus(),l()}),P=D.useCallback(S=>{!S||S===1/0||(window.clearTimeout(V.current),L.current=new Date().getTime(),V.current=window.setTimeout(G,S))},[G]);D.useEffect(()=>{const S=b.viewport;if(S){const W=()=>{P(O.current),h?.()},ne=()=>{const Y=new Date().getTime()-L.current;O.current=O.current-Y,window.clearTimeout(V.current),d?.()};return S.addEventListener(Mm,ne),S.addEventListener(Nm,W),()=>{S.removeEventListener(Mm,ne),S.removeEventListener(Nm,W)}}},[b.viewport,j,d,h,P]),D.useEffect(()=>{a&&!b.isClosePausedRef.current&&P(j)},[a,j,b.isClosePausedRef,P]),D.useEffect(()=>(q(),()=>K()),[q,K]);const z=D.useMemo(()=>x?cx(x):null,[x]);return b.viewport?R.jsxs(R.Fragment,{children:[z&&R.jsx(Ok,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),R.jsx(Nk,{scope:n,onClose:G,children:Ba.createPortal(R.jsx(X1.ItemSlot,{scope:n,children:R.jsx(mk,{asChild:!0,onEscapeKeyDown:tt(c,()=>{b.isFocusedToastEscapeKeyDownRef.current||G(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:R.jsx(Et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...E,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:tt(t.onKeyDown,S=>{S.key==="Escape"&&(c?.(S.nativeEvent),S.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:tt(t.onPointerDown,S=>{S.button===0&&(m.current={x:S.clientX,y:S.clientY})}),onPointerMove:tt(t.onPointerMove,S=>{if(!m.current)return;const W=S.clientX-m.current.x,ne=S.clientY-m.current.y,Y=!!A.current,U=["left","right"].includes(b.swipeDirection),Z=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,X=U?Z(0,W):0,C=U?0:Z(0,ne),T=S.pointerType==="touch"?10:2,I={x:X,y:C},F={originalEvent:S,delta:I};Y?(A.current=I,Ju(Rk,p,F,{discrete:!1})):k2(I,b.swipeDirection,T)?(A.current=I,Ju(Pk,f,F,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(W)>T||Math.abs(ne)>T)&&(m.current=null)}),onPointerUp:tt(t.onPointerUp,S=>{const W=A.current,ne=S.target;if(ne.hasPointerCapture(S.pointerId)&&ne.releasePointerCapture(S.pointerId),A.current=null,m.current=null,W){const Y=S.currentTarget,U={originalEvent:S,delta:W};k2(W,b.swipeDirection,b.swipeThreshold)?Ju(Mk,w,U,{discrete:!0}):Ju(Ak,_,U,{discrete:!0}),Y.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Ok=t=>{const{__scopeToast:e,children:n,...r}=t,i=df(ff,e),[a,l]=D.useState(!1),[c,d]=D.useState(!1);return Bk(()=>l(!0)),D.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:R.jsx(Mc,{asChild:!0,children:R.jsx(Nc,{...r,children:a&&R.jsxs(R.Fragment,{children:[i.label," ",n]})})})},jk="ToastTitle",rx=D.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return R.jsx(Et.div,{...r,ref:e})});rx.displayName=jk;var Lk="ToastDescription",sx=D.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return R.jsx(Et.div,{...r,ref:e})});sx.displayName=Lk;var ix="ToastAction",ox=D.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?R.jsx(lx,{altText:n,asChild:!0,children:R.jsx(q1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ix}\`. Expected non-empty \`string\`.`),null)});ox.displayName=ix;var ax="ToastClose",q1=D.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Dk(ax,n);return R.jsx(lx,{asChild:!0,children:R.jsx(Et.button,{type:"button",...r,ref:e,onClick:tt(t.onClick,i.onClose)})})});q1.displayName=ax;var lx=D.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return R.jsx(Et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function cx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Fk(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...cx(r))}}),e}function Ju(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?U1(i,a):i.dispatchEvent(a)}var k2=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function Bk(t=()=>{}){const e=Hn(t);Xn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Fk(t){return t.nodeType===t.ELEMENT_NODE}function Vk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var zk=Qw,ux=ex,dx=nx,fx=rx,hx=sx,px=ox,mx=q1;function gx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gx(t))&&(r&&(r+=" "),r+=e);return r}const P2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,R2=vx,G1=(t,e)=>n=>{var r;if(e?.variants==null)return R2(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(h=>{const f=n?.[h],p=a?.[h];if(f===null)return null;const _=P2(f)||P2(p);return i[h][_]}),c=n&&Object.entries(n).reduce((h,f)=>{let[p,_]=f;return _===void 0||(h[p]=_),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:p,className:_,...w}=f;return Object.entries(w).every(E=>{let[b,x]=E;return Array.isArray(x)?x.includes({...a,...c}[b]):{...a,...c}[b]===x})?[...h,p,_]:h},[]);return R2(t,l,d,n?.class,n?.className)};const Wk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yx=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var $k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uk=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>D.createElement("svg",{ref:d,...$k,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:yx("lucide",i),...c},[...l.map(([h,f])=>D.createElement(h,f)),...Array.isArray(a)?a:[a]]));const Wt=(t,e)=>{const n=D.forwardRef(({className:r,...i},a)=>D.createElement(Uk,{ref:a,iconNode:e,className:yx(`lucide-${Wk(t)}`,r),...i}));return n.displayName=`${t}`,n};const _x=Wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Hk=Wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const bx=Wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const wx=Wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Rd=Wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Xk=Wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const xx=Wt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const qk=Wt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);const Gk=Wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Zk=Wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Im=Wt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Yk=Wt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Sx=Wt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const Om=Wt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const Z1=Wt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Kk=Wt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const Qk=Wt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Jk=Wt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const e9=Wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const t9=Wt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const n9=Wt("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const hf=Wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const jm=Wt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Ad=Wt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Y1=Wt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const r9=Wt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const K1=Wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Cx=Wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const s9=Wt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const i9=Wt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Q1="-",o9=t=>{const e=l9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(Q1);return c[0]===""&&c.length!==1&&c.shift(),Ex(c,e)||a9(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},Ex=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Ex(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Q1);return e.validators.find(({validator:l})=>l(a))?.classGroupId},A2=/^\[(.+)\]$/,a9=t=>{if(A2.test(t)){const e=A2.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},l9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return u9(Object.entries(t.classGroups),n).forEach(([a,l])=>{Lm(l,r,a,e)}),r},Lm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:M2(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(c9(i)){Lm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{Lm(l,M2(e,a),n,r)})})},M2=(t,e)=>{let n=t;return e.split(Q1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},c9=t=>t.isThemeGetter,u9=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[n,i]}):t,d9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},Tx="!",f9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,l=c=>{const d=[];let h=0,f=0,p;for(let x=0;x<c.length;x++){let v=c[x];if(h===0){if(v===i&&(r||c.slice(x,x+a)===e)){d.push(c.slice(f,x)),f=x+a;continue}if(v==="/"){p=x;continue}}v==="["?h++:v==="]"&&h--}const _=d.length===0?c:c.substring(f),w=_.startsWith(Tx),E=w?_.substring(1):_,b=p&&p>f?p-f:void 0;return{modifiers:d,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:b}};return n?c=>n({className:c,parseClassName:l}):l},h9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},p9=t=>({cache:d9(t.cacheSize),parseClassName:f9(t),...o9(t)}),m9=/\s+/,g9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(m9);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:f,hasImportantModifier:p,baseClassName:_,maybePostfixModifierPosition:w}=n(h);let E=!!w,b=r(E?_.substring(0,w):_);if(!b){if(!E){c=h+(c.length>0?" "+c:c);continue}if(b=r(_),!b){c=h+(c.length>0?" "+c:c);continue}E=!1}const x=h9(f).join(":"),v=p?x+Tx:x,y=v+b;if(a.includes(y))continue;a.push(y);const m=i(b,E);for(let A=0;A<m.length;++A){const j=m[A];a.push(v+j)}c=h+(c.length>0?" "+c:c)}return c};function v9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kx(e))&&(r&&(r+=" "),r+=n);return r}const kx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kx(t[r]))&&(n&&(n+=" "),n+=e);return n};function y9(t,...e){let n,r,i,a=l;function l(d){const h=e.reduce((f,p)=>p(f),t());return n=p9(h),r=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const f=g9(d,n);return i(d,f),f}return function(){return a(v9.apply(null,arguments))}}const en=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Px=/^\[(?:([a-z-]+):)?(.+)\]$/i,_9=/^\d+\/\d+$/,b9=new Set(["px","full","screen"]),w9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=t=>_a(t)||b9.has(t)||_9.test(t),yi=t=>Va(t,"length",D9),_a=t=>!!t&&!Number.isNaN(Number(t)),Np=t=>Va(t,"number",_a),Il=t=>!!t&&Number.isInteger(Number(t)),T9=t=>t.endsWith("%")&&_a(t.slice(0,-1)),Pt=t=>Px.test(t),_i=t=>w9.test(t),k9=new Set(["length","size","percentage"]),P9=t=>Va(t,k9,Rx),R9=t=>Va(t,"position",Rx),A9=new Set(["image","url"]),M9=t=>Va(t,A9,O9),N9=t=>Va(t,"",I9),Ol=()=>!0,Va=(t,e,n)=>{const r=Px.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},D9=t=>x9.test(t)&&!S9.test(t),Rx=()=>!1,I9=t=>C9.test(t),O9=t=>E9.test(t),j9=()=>{const t=en("colors"),e=en("spacing"),n=en("blur"),r=en("brightness"),i=en("borderColor"),a=en("borderRadius"),l=en("borderSpacing"),c=en("borderWidth"),d=en("contrast"),h=en("grayscale"),f=en("hueRotate"),p=en("invert"),_=en("gap"),w=en("gradientColorStops"),E=en("gradientColorStopPositions"),b=en("inset"),x=en("margin"),v=en("opacity"),y=en("padding"),m=en("saturate"),A=en("scale"),j=en("sepia"),L=en("skew"),O=en("space"),V=en("translate"),q=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Pt,e],P=()=>[Pt,e],z=()=>["",Os,yi],S=()=>["auto",_a,Pt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Pt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>[_a,Pt];return{cacheSize:500,separator:":",theme:{colors:[Ol],spacing:[Os,yi],blur:["none","",_i,Pt],brightness:C(),borderColor:[t],borderRadius:["none","","full",_i,Pt],borderSpacing:P(),borderWidth:z(),contrast:C(),grayscale:Z(),hueRotate:C(),invert:Z(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[T9,yi],inset:G(),margin:G(),opacity:C(),padding:P(),saturate:C(),scale:C(),sepia:Z(),skew:C(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Pt]}],container:["container"],columns:[{columns:[_i]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Pt]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,Pt]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pt]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Il,Pt]}],"grid-cols":[{"grid-cols":[Ol]}],"col-start-end":[{col:["auto",{span:["full",Il,Pt]},Pt]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[Ol]}],"row-start-end":[{row:["auto",{span:[Il,Pt]},Pt]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pt]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pt,e]}],"min-w":[{"min-w":[Pt,e,"min","max","fit"]}],"max-w":[{"max-w":[Pt,e,"none","full","min","max","fit","prose",{screen:[_i]},_i]}],h:[{h:[Pt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_i,yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Np]}],"font-family":[{font:[Ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pt]}],"line-clamp":[{"line-clamp":["none",_a,Np]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Os,Pt]}],"list-image":[{"list-image":["none",Pt]}],"list-style-type":[{list:["none","disc","decimal",Pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Os,yi]}],"underline-offset":[{"underline-offset":["auto",Os,Pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),R9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Os,Pt]}],"outline-w":[{outline:[Os,yi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Os,yi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_i,N9]}],"shadow-color":[{shadow:[Ol]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",_i,Pt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[m]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pt]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",Pt]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Il,Pt]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Os,yi,Np]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L9=y9(j9);function bt(...t){return L9(vx(t))}const B9=zk,Ax=D.forwardRef(({className:t,...e},n)=>R.jsx(ux,{ref:n,className:bt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] pointer-events-none",t),...e}));Ax.displayName=ux.displayName;const F9=G1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mx=D.forwardRef(({className:t,variant:e,...n},r)=>R.jsx(dx,{ref:r,className:bt(F9({variant:e}),t),...n}));Mx.displayName=dx.displayName;const V9=D.forwardRef(({className:t,...e},n)=>R.jsx(px,{ref:n,className:bt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));V9.displayName=px.displayName;const Nx=D.forwardRef(({className:t,...e},n)=>R.jsx(mx,{ref:n,className:bt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:R.jsx(Cx,{className:"h-4 w-4"})}));Nx.displayName=mx.displayName;const Dx=D.forwardRef(({className:t,...e},n)=>R.jsx(fx,{ref:n,className:bt("text-sm font-semibold",t),...e}));Dx.displayName=fx.displayName;const Ix=D.forwardRef(({className:t,...e},n)=>R.jsx(hx,{ref:n,className:bt("text-sm opacity-90",t),...e}));Ix.displayName=hx.displayName;function z9(){const{toasts:t}=Ac();return R.jsxs(B9,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return R.jsxs(Mx,{...a,children:[R.jsxs("div",{className:"grid gap-1",children:[n&&R.jsx(Dx,{children:n}),r&&R.jsx(Ix,{children:r})]}),i,R.jsx(Nx,{})]},e)}),R.jsx(Ax,{})]})}var W9=Ew[" useId ".trim().toString()]||(()=>{}),$9=0;function ms(t){const[e,n]=D.useState(W9());return Xn(()=>{n(r=>r??String($9++))},[t]),e?`radix-${e}`:""}const U9=["top","right","bottom","left"],Ti=Math.min,yr=Math.max,Md=Math.round,ed=Math.floor,gs=t=>({x:t,y:t}),H9={left:"right",right:"left",bottom:"top",top:"bottom"},X9={start:"end",end:"start"};function Bm(t,e,n){return yr(t,Ti(e,n))}function zs(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function za(t){return t.split("-")[1]}function J1(t){return t==="x"?"y":"x"}function e0(t){return t==="y"?"height":"width"}function ki(t){return["top","bottom"].includes(Ws(t))?"y":"x"}function t0(t){return J1(ki(t))}function q9(t,e,n){n===void 0&&(n=!1);const r=za(t),i=t0(t),a=e0(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Nd(l)),[l,Nd(l)]}function G9(t){const e=Nd(t);return[Fm(t),e,Fm(e)]}function Fm(t){return t.replace(/start|end/g,e=>X9[e])}function Z9(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function Y9(t,e,n,r){const i=za(t);let a=Z9(Ws(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Fm)))),a}function Nd(t){return t.replace(/left|right|bottom|top/g,e=>H9[e])}function K9(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ox(t){return typeof t!="number"?K9(t):{top:t,right:t,bottom:t,left:t}}function Dd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function N2(t,e,n){let{reference:r,floating:i}=t;const a=ki(e),l=t0(e),c=e0(l),d=Ws(e),h=a==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,_=r[c]/2-i[c]/2;let w;switch(d){case"top":w={x:f,y:r.y-i.height};break;case"bottom":w={x:f,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-i.width,y:p};break;default:w={x:r.x,y:r.y}}switch(za(e)){case"start":w[l]-=_*(n&&h?-1:1);break;case"end":w[l]+=_*(n&&h?-1:1);break}return w}const Q9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=N2(h,r,d),_=r,w={},E=0;for(let b=0;b<c.length;b++){const{name:x,fn:v}=c[b],{x:y,y:m,data:A,reset:j}=await v({x:f,y:p,initialPlacement:r,placement:_,strategy:i,middlewareData:w,rects:h,platform:l,elements:{reference:t,floating:e}});f=y??f,p=m??p,w={...w,[x]:{...w[x],...A}},j&&E<=50&&(E++,typeof j=="object"&&(j.placement&&(_=j.placement),j.rects&&(h=j.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:f,y:p}=N2(h,_,d)),b=-1)}return{x:f,y:p,placement:_,strategy:i,middlewareData:w}};async function tc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:_=!1,padding:w=0}=zs(e,t),E=Ox(w),x=c[_?p==="floating"?"reference":"floating":p],v=Dd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:d})),y=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,m=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),A=await(a.isElement==null?void 0:a.isElement(m))?await(a.getScale==null?void 0:a.getScale(m))||{x:1,y:1}:{x:1,y:1},j=Dd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:m,strategy:d}):y);return{top:(v.top-j.top+E.top)/A.y,bottom:(j.bottom-v.bottom+E.bottom)/A.y,left:(v.left-j.left+E.left)/A.x,right:(j.right-v.right+E.right)/A.x}}const J9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:f=0}=zs(t,e)||{};if(h==null)return{};const p=Ox(f),_={x:n,y:r},w=t0(i),E=e0(w),b=await l.getDimensions(h),x=w==="y",v=x?"top":"left",y=x?"bottom":"right",m=x?"clientHeight":"clientWidth",A=a.reference[E]+a.reference[w]-_[w]-a.floating[E],j=_[w]-a.reference[w],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let O=L?L[m]:0;(!O||!await(l.isElement==null?void 0:l.isElement(L)))&&(O=c.floating[m]||a.floating[E]);const V=A/2-j/2,q=O/2-b[E]/2-1,K=Ti(p[v],q),G=Ti(p[y],q),P=K,z=O-b[E]-G,S=O/2-b[E]/2+V,W=Bm(P,S,z),ne=!d.arrow&&za(i)!=null&&S!==W&&a.reference[E]/2-(S<P?K:G)-b[E]/2<0,Y=ne?S<P?S-P:S-z:0;return{[w]:_[w]+Y,data:{[w]:W,centerOffset:S-W-Y,...ne&&{alignmentOffset:Y}},reset:ne}}}),eP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:_,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...x}=zs(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Ws(i),y=ki(c),m=Ws(c)===c,A=await(d.isRTL==null?void 0:d.isRTL(h.floating)),j=_||(m||!b?[Nd(c)]:G9(c)),L=E!=="none";!_&&L&&j.push(...Y9(c,b,E,A));const O=[c,...j],V=await tc(e,x),q=[];let K=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&q.push(V[v]),p){const S=q9(i,l,A);q.push(V[S[0]],V[S[1]])}if(K=[...K,{placement:i,overflows:q}],!q.every(S=>S<=0)){var G,P;const S=(((G=a.flip)==null?void 0:G.index)||0)+1,W=O[S];if(W)return{data:{index:S,overflows:K},reset:{placement:W}};let ne=(P=K.filter(Y=>Y.overflows[0]<=0).sort((Y,U)=>Y.overflows[1]-U.overflows[1])[0])==null?void 0:P.placement;if(!ne)switch(w){case"bestFit":{var z;const Y=(z=K.filter(U=>{if(L){const Z=ki(U.placement);return Z===y||Z==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(Z=>Z>0).reduce((Z,X)=>Z+X,0)]).sort((U,Z)=>U[1]-Z[1])[0])==null?void 0:z[0];Y&&(ne=Y);break}case"initialPlacement":ne=c;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function D2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function I2(t){return U9.some(e=>t[e]>=0)}const tP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=zs(t,e);switch(r){case"referenceHidden":{const a=await tc(e,{...i,elementContext:"reference"}),l=D2(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:I2(l)}}}case"escaped":{const a=await tc(e,{...i,altBoundary:!0}),l=D2(a,n.floating);return{data:{escapedOffsets:l,escaped:I2(l)}}}default:return{}}}}};async function nP(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ws(n),c=za(n),d=ki(n)==="y",h=["left","top"].includes(l)?-1:1,f=a&&d?-1:1,p=zs(e,t);let{mainAxis:_,crossAxis:w,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof E=="number"&&(w=c==="end"?E*-1:E),d?{x:w*f,y:_*h}:{x:_*h,y:w*f}}const rP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:c}=e,d=await nP(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}},sP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...d}=zs(t,e),h={x:n,y:r},f=await tc(e,d),p=ki(Ws(i)),_=J1(p);let w=h[_],E=h[p];if(a){const x=_==="y"?"top":"left",v=_==="y"?"bottom":"right",y=w+f[x],m=w-f[v];w=Bm(y,w,m)}if(l){const x=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=E+f[x],m=E-f[v];E=Bm(y,E,m)}const b=c.fn({...e,[_]:w,[p]:E});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[_]:a,[p]:l}}}}}},iP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=zs(t,e),f={x:n,y:r},p=ki(i),_=J1(p);let w=f[_],E=f[p];const b=zs(c,e),x=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const m=_==="y"?"height":"width",A=a.reference[_]-a.floating[m]+x.mainAxis,j=a.reference[_]+a.reference[m]-x.mainAxis;w<A?w=A:w>j&&(w=j)}if(h){var v,y;const m=_==="y"?"width":"height",A=["top","left"].includes(Ws(i)),j=a.reference[p]-a.floating[m]+(A&&((v=l.offset)==null?void 0:v[p])||0)+(A?0:x.crossAxis),L=a.reference[p]+a.reference[m]+(A?0:((y=l.offset)==null?void 0:y[p])||0)-(A?x.crossAxis:0);E<j?E=j:E>L&&(E=L)}return{[_]:w,[p]:E}}}},oP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:c}=e,{apply:d=()=>{},...h}=zs(t,e),f=await tc(e,h),p=Ws(i),_=za(i),w=ki(i)==="y",{width:E,height:b}=a.floating;let x,v;p==="top"||p==="bottom"?(x=p,v=_===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(v=p,x=_==="end"?"top":"bottom");const y=b-f.top-f.bottom,m=E-f.left-f.right,A=Ti(b-f[x],y),j=Ti(E-f[v],m),L=!e.middlewareData.shift;let O=A,V=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(V=m),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=y),L&&!_){const K=yr(f.left,0),G=yr(f.right,0),P=yr(f.top,0),z=yr(f.bottom,0);w?V=E-2*(K!==0||G!==0?K+G:yr(f.left,f.right)):O=b-2*(P!==0||z!==0?P+z:yr(f.top,f.bottom))}await d({...e,availableWidth:V,availableHeight:O});const q=await l.getDimensions(c.floating);return E!==q.width||b!==q.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function Wa(t){return jx(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cs(t){var e;return(e=(jx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jx(t){return pf()?t instanceof Node||t instanceof br(t).Node:!1}function Jr(t){return pf()?t instanceof Element||t instanceof br(t).Element:!1}function bs(t){return pf()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function O2(t){return!pf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}function Dc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function aP(t){return["table","td","th"].includes(Wa(t))}function mf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function n0(t){const e=r0(),n=Jr(t)?es(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lP(t){let e=Pi(t);for(;bs(e)&&!Pa(e);){if(n0(e))return e;if(mf(e))return null;e=Pi(e)}return null}function r0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pa(t){return["html","body","#document"].includes(Wa(t))}function es(t){return br(t).getComputedStyle(t)}function gf(t){return Jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pi(t){if(Wa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||O2(t)&&t.host||Cs(t);return O2(e)?e.host:e}function Lx(t){const e=Pi(t);return Pa(e)?t.ownerDocument?t.ownerDocument.body:t.body:bs(e)&&Dc(e)?e:Lx(e)}function nc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Lx(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=br(i);if(a){const c=Vm(l);return e.concat(l,l.visualViewport||[],Dc(i)?i:[],c&&n?nc(c):[])}return e.concat(i,nc(i,[],n))}function Vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Bx(t){const e=es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=bs(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=Md(n)!==a||Md(r)!==l;return c&&(n=a,r=l),{width:n,height:r,$:c}}function s0(t){return Jr(t)?t:t.contextElement}function ba(t){const e=s0(t);if(!bs(e))return gs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Bx(e);let l=(a?Md(n.width):n.width)/r,c=(a?Md(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const cP=gs(0);function Fx(t){const e=br(t);return!r0()||!e.visualViewport?cP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function yo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=s0(t);let l=gs(1);e&&(r?Jr(r)&&(l=ba(r)):l=ba(t));const c=uP(a,n,r)?Fx(a):gs(0);let d=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,f=i.width/l.x,p=i.height/l.y;if(a){const _=br(a),w=r&&Jr(r)?br(r):r;let E=_,b=Vm(E);for(;b&&r&&w!==E;){const x=ba(b),v=b.getBoundingClientRect(),y=es(b),m=v.left+(b.clientLeft+parseFloat(y.paddingLeft))*x.x,A=v.top+(b.clientTop+parseFloat(y.paddingTop))*x.y;d*=x.x,h*=x.y,f*=x.x,p*=x.y,d+=m,h+=A,E=br(b),b=Vm(E)}}return Dd({width:f,height:p,x:d,y:h})}function i0(t,e){const n=gf(t).scrollLeft;return e?e.left+n:yo(Cs(t)).left+n}function Vx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:i0(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function dP(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=Cs(r),c=e?mf(e.floating):!1;if(r===l||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=gs(1);const f=gs(0),p=bs(r);if((p||!p&&!a)&&((Wa(r)!=="body"||Dc(l))&&(d=gf(r)),bs(r))){const w=yo(r);h=ba(r),f.x=w.x+r.clientLeft,f.y=w.y+r.clientTop}const _=l&&!p&&!a?Vx(l,d,!0):gs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+f.x+_.x,y:n.y*h.y-d.scrollTop*h.y+f.y+_.y}}function fP(t){return Array.from(t.getClientRects())}function hP(t){const e=Cs(t),n=gf(t),r=t.ownerDocument.body,i=yr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=yr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+i0(t);const c=-n.scrollTop;return es(r).direction==="rtl"&&(l+=yr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}function pP(t,e){const n=br(t),r=Cs(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){a=i.width,l=i.height;const h=r0();(!h||h&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:c,y:d}}function mP(t,e){const n=yo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=bs(t)?ba(t):gs(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,d=i*a.x,h=r*a.y;return{width:l,height:c,x:d,y:h}}function j2(t,e,n){let r;if(e==="viewport")r=pP(t,n);else if(e==="document")r=hP(Cs(t));else if(Jr(e))r=mP(e,n);else{const i=Fx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Dd(r)}function zx(t,e){const n=Pi(t);return n===e||!Jr(n)||Pa(n)?!1:es(n).position==="fixed"||zx(n,e)}function gP(t,e){const n=e.get(t);if(n)return n;let r=nc(t,[],!1).filter(c=>Jr(c)&&Wa(c)!=="body"),i=null;const a=es(t).position==="fixed";let l=a?Pi(t):t;for(;Jr(l)&&!Pa(l);){const c=es(l),d=n0(l);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Dc(l)&&!d&&zx(t,l))?r=r.filter(f=>f!==l):i=c,l=Pi(l)}return e.set(t,r),r}function vP(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?mf(e)?[]:gP(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,f)=>{const p=j2(e,f,i);return h.top=yr(p.top,h.top),h.right=Ti(p.right,h.right),h.bottom=Ti(p.bottom,h.bottom),h.left=yr(p.left,h.left),h},j2(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function yP(t){const{width:e,height:n}=Bx(t);return{width:e,height:n}}function _P(t,e,n){const r=bs(e),i=Cs(e),a=n==="fixed",l=yo(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=gs(0);if(r||!r&&!a)if((Wa(e)!=="body"||Dc(i))&&(c=gf(e)),r){const _=yo(e,!0,a,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&(d.x=i0(i));const h=i&&!r&&!a?Vx(i,c):gs(0),f=l.left+c.scrollLeft-d.x-h.x,p=l.top+c.scrollTop-d.y-h.y;return{x:f,y:p,width:l.width,height:l.height}}function Dp(t){return es(t).position==="static"}function L2(t,e){if(!bs(t)||es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cs(t)===n&&(n=n.ownerDocument.body),n}function Wx(t,e){const n=br(t);if(mf(t))return n;if(!bs(t)){let i=Pi(t);for(;i&&!Pa(i);){if(Jr(i)&&!Dp(i))return i;i=Pi(i)}return n}let r=L2(t,e);for(;r&&aP(r)&&Dp(r);)r=L2(r,e);return r&&Pa(r)&&Dp(r)&&!n0(r)?n:r||lP(t)||n}const bP=async function(t){const e=this.getOffsetParent||Wx,n=this.getDimensions,r=await n(t.floating);return{reference:_P(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wP(t){return es(t).direction==="rtl"}const xP={convertOffsetParentRelativeRectToViewportRelativeRect:dP,getDocumentElement:Cs,getClippingRect:vP,getOffsetParent:Wx,getElementRects:bP,getClientRects:fP,getDimensions:yP,getScale:ba,isElement:Jr,isRTL:wP};function $x(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SP(t,e){let n=null,r;const i=Cs(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:f,top:p,width:_,height:w}=h;if(c||e(),!_||!w)return;const E=ed(p),b=ed(i.clientWidth-(f+_)),x=ed(i.clientHeight-(p+w)),v=ed(f),m={rootMargin:-E+"px "+-b+"px "+-x+"px "+-v+"px",threshold:yr(0,Ti(1,d))||1};let A=!0;function j(L){const O=L[0].intersectionRatio;if(O!==d){if(!A)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!$x(h,t.getBoundingClientRect())&&l(),A=!1}try{n=new IntersectionObserver(j,{...m,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,m)}n.observe(t)}return l(!0),a}function CP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=s0(t),f=i||a?[...h?nc(h):[],...nc(e)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const p=h&&c?SP(h,n):null;let _=-1,w=null;l&&(w=new ResizeObserver(v=>{let[y]=v;y&&y.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var m;(m=w)==null||m.observe(e)})),n()}),h&&!d&&w.observe(h),w.observe(e));let E,b=d?yo(t):null;d&&x();function x(){const v=yo(t);b&&!$x(b,v)&&n(),b=v,E=requestAnimationFrame(x)}return n(),()=>{var v;f.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),p?.(),(v=w)==null||v.disconnect(),w=null,d&&cancelAnimationFrame(E)}}const EP=rP,TP=sP,kP=eP,PP=oP,RP=tP,B2=J9,AP=iP,MP=(t,e,n)=>{const r=new Map,i={platform:xP,...n},a={...i.platform,_c:r};return Q9(t,e,{...i,platform:a})};var yd=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Id(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Id(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Id(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Ux(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F2(t,e){const n=Ux(t);return Math.round(e*n)/n}function Ip(t){const e=D.useRef(t);return yd(()=>{e.current=t}),e}function NP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[f,p]=D.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,w]=D.useState(r);Id(_,r)||w(r);const[E,b]=D.useState(null),[x,v]=D.useState(null),y=D.useCallback(U=>{U!==L.current&&(L.current=U,b(U))},[]),m=D.useCallback(U=>{U!==O.current&&(O.current=U,v(U))},[]),A=a||E,j=l||x,L=D.useRef(null),O=D.useRef(null),V=D.useRef(f),q=d!=null,K=Ip(d),G=Ip(i),P=Ip(h),z=D.useCallback(()=>{if(!L.current||!O.current)return;const U={placement:e,strategy:n,middleware:_};G.current&&(U.platform=G.current),MP(L.current,O.current,U).then(Z=>{const X={...Z,isPositioned:P.current!==!1};S.current&&!Id(V.current,X)&&(V.current=X,Ba.flushSync(()=>{p(X)}))})},[_,e,n,G,P]);yd(()=>{h===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[h]);const S=D.useRef(!1);yd(()=>(S.current=!0,()=>{S.current=!1}),[]),yd(()=>{if(A&&(L.current=A),j&&(O.current=j),A&&j){if(K.current)return K.current(A,j,z);z()}},[A,j,z,K,q]);const W=D.useMemo(()=>({reference:L,floating:O,setReference:y,setFloating:m}),[y,m]),ne=D.useMemo(()=>({reference:A,floating:j}),[A,j]),Y=D.useMemo(()=>{const U={position:n,left:0,top:0};if(!ne.floating)return U;const Z=F2(ne.floating,f.x),X=F2(ne.floating,f.y);return c?{...U,transform:"translate("+Z+"px, "+X+"px)",...Ux(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:X}},[n,c,ne.floating,f.x,f.y]);return D.useMemo(()=>({...f,update:z,refs:W,elements:ne,floatingStyles:Y}),[f,z,W,ne,Y])}const DP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?B2({element:r.current,padding:i}).fn(n):{}:r?B2({element:r,padding:i}).fn(n):{}}}},IP=(t,e)=>({...EP(t),options:[t,e]}),OP=(t,e)=>({...TP(t),options:[t,e]}),jP=(t,e)=>({...AP(t),options:[t,e]}),LP=(t,e)=>({...kP(t),options:[t,e]}),BP=(t,e)=>({...PP(t),options:[t,e]}),FP=(t,e)=>({...RP(t),options:[t,e]}),VP=(t,e)=>({...DP(t),options:[t,e]});var zP="Arrow",Hx=D.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return R.jsx(Et.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});Hx.displayName=zP;var WP=Hx;function $P(t){const[e,n]=D.useState(void 0);return Xn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var o0="Popper",[Xx,$a]=rs(o0),[UP,qx]=Xx(o0),Gx=t=>{const{__scopePopper:e,children:n}=t,[r,i]=D.useState(null);return R.jsx(UP,{scope:e,anchor:r,onAnchorChange:i,children:n})};Gx.displayName=o0;var Zx="PopperAnchor",Yx=D.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=qx(Zx,n),l=D.useRef(null),c=Bt(e,l);return D.useEffect(()=>{a.onAnchorChange(r?.current||l.current)}),r?null:R.jsx(Et.div,{...i,ref:c})});Yx.displayName=Zx;var a0="PopperContent",[HP,XP]=Xx(a0),Kx=D.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:_=!1,updatePositionStrategy:w="optimized",onPlaced:E,...b}=t,x=qx(a0,n),[v,y]=D.useState(null),m=Bt(e,le=>y(le)),[A,j]=D.useState(null),L=$P(A),O=L?.width??0,V=L?.height??0,q=r+(a!=="center"?"-"+a:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},G=Array.isArray(h)?h:[h],P=G.length>0,z={padding:K,boundary:G.filter(GP),altBoundary:P},{refs:S,floatingStyles:W,placement:ne,isPositioned:Y,middlewareData:U}=NP({strategy:"fixed",placement:q,whileElementsMounted:(...le)=>CP(...le,{animationFrame:w==="always"}),elements:{reference:x.anchor},middleware:[IP({mainAxis:i+V,alignmentAxis:l}),d&&OP({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?jP():void 0,...z}),d&&LP({...z}),BP({...z,apply:({elements:le,rects:te,availableWidth:ce,availableHeight:be})=>{const{width:Ee,height:je}=te.reference,Ve=le.floating.style;Ve.setProperty("--radix-popper-available-width",`${ce}px`),Ve.setProperty("--radix-popper-available-height",`${be}px`),Ve.setProperty("--radix-popper-anchor-width",`${Ee}px`),Ve.setProperty("--radix-popper-anchor-height",`${je}px`)}}),A&&VP({element:A,padding:c}),ZP({arrowWidth:O,arrowHeight:V}),_&&FP({strategy:"referenceHidden",...z})]}),[Z,X]=e3(ne),C=Hn(E);Xn(()=>{Y&&C?.()},[Y,C]);const T=U.arrow?.x,I=U.arrow?.y,F=U.arrow?.centerOffset!==0,[H,ae]=D.useState();return Xn(()=>{v&&ae(window.getComputedStyle(v).zIndex)},[v]),R.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Y?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:R.jsx(HP,{scope:n,placedSide:Z,onArrowChange:j,arrowX:T,arrowY:I,shouldHideArrow:F,children:R.jsx(Et.div,{"data-side":Z,"data-align":X,...b,ref:m,style:{...b.style,animation:Y?void 0:"none"}})})})});Kx.displayName=a0;var Qx="PopperArrow",qP={top:"bottom",right:"left",bottom:"top",left:"right"},Jx=D.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=XP(Qx,r),l=qP[a.placedSide];return R.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:R.jsx(WP,{...i,ref:n,style:{...i.style,display:"block"}})})});Jx.displayName=Qx;function GP(t){return t!==null}var ZP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,f]=e3(n),p={start:"0%",center:"50%",end:"100%"}[f],_=(i.arrow?.x??0)+c/2,w=(i.arrow?.y??0)+d/2;let E="",b="";return h==="bottom"?(E=l?p:`${_}px`,b=`${-d}px`):h==="top"?(E=l?p:`${_}px`,b=`${r.floating.height+d}px`):h==="right"?(E=`${-d}px`,b=l?p:`${w}px`):h==="left"&&(E=`${r.floating.width+d}px`,b=l?p:`${w}px`),{data:{x:E,y:b}}}});function e3(t){const[e,n="center"]=t.split("-");return[e,n]}var t3=Gx,l0=Yx,c0=Kx,u0=Jx,[vf]=rs("Tooltip",[$a]),d0=$a(),n3="TooltipProvider",YP=700,V2="tooltip.open",[KP,r3]=vf(n3),s3=t=>{const{__scopeTooltip:e,delayDuration:n=YP,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,l=D.useRef(!0),c=D.useRef(!1),d=D.useRef(0);return D.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),R.jsx(KP,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:D.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:D.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:a})};s3.displayName=n3;var i3="Tooltip",[M$,yf]=vf(i3),zm="TooltipTrigger",QP=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=yf(zm,n),a=r3(zm,n),l=d0(n),c=D.useRef(null),d=Bt(e,c,i.onTriggerChange),h=D.useRef(!1),f=D.useRef(!1),p=D.useCallback(()=>h.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),R.jsx(l0,{asChild:!0,...l,children:R.jsx(Et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:tt(t.onPointerMove,_=>{_.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:tt(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:tt(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:tt(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:tt(t.onBlur,i.onClose),onClick:tt(t.onClick,i.onClose)})})});QP.displayName=zm;var JP="TooltipPortal",[N$,e7]=vf(JP,{forceMount:void 0}),Ra="TooltipContent",o3=D.forwardRef((t,e)=>{const n=e7(Ra,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,l=yf(Ra,t.__scopeTooltip);return R.jsx(ss,{present:r||l.open,children:l.disableHoverableContent?R.jsx(a3,{side:i,...a,ref:e}):R.jsx(t7,{side:i,...a,ref:e})})}),t7=D.forwardRef((t,e)=>{const n=yf(Ra,t.__scopeTooltip),r=r3(Ra,t.__scopeTooltip),i=D.useRef(null),a=Bt(e,i),[l,c]=D.useState(null),{trigger:d,onClose:h}=n,f=i.current,{onPointerInTransitChange:p}=r,_=D.useCallback(()=>{c(null),p(!1)},[p]),w=D.useCallback((E,b)=>{const x=E.currentTarget,v={x:E.clientX,y:E.clientY},y=o7(v,x.getBoundingClientRect()),m=a7(v,y),A=l7(b.getBoundingClientRect()),j=u7([...m,...A]);c(j),p(!0)},[p]);return D.useEffect(()=>()=>_(),[_]),D.useEffect(()=>{if(d&&f){const E=x=>w(x,f),b=x=>w(x,d);return d.addEventListener("pointerleave",E),f.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",E),f.removeEventListener("pointerleave",b)}}},[d,f,w,_]),D.useEffect(()=>{if(l){const E=b=>{const x=b.target,v={x:b.clientX,y:b.clientY},y=d?.contains(x)||f?.contains(x),m=!c7(v,l);y?_():m&&(_(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[d,f,l,h,_]),R.jsx(a3,{...t,ref:a})}),[n7,r7]=vf(i3,{isInside:!1}),s7=qw("TooltipContent"),a3=D.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=t,d=yf(Ra,n),h=d0(n),{onClose:f}=d;return D.useEffect(()=>(document.addEventListener(V2,f),()=>document.removeEventListener(V2,f)),[f]),D.useEffect(()=>{if(d.trigger){const p=_=>{_.target?.contains(d.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,f]),R.jsx(Fa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:R.jsxs(c0,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(s7,{children:r}),R.jsx(n7,{scope:n,isInside:!0,children:R.jsx(Sk,{id:d.contentId,role:"tooltip",children:i||r})})]})})});o3.displayName=Ra;var l3="TooltipArrow",i7=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=d0(n);return r7(l3,n).isInside?null:R.jsx(u0,{...i,...r,ref:e})});i7.displayName=l3;function o7(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function a7(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function l7(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function c7(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a].x,d=e[a].y,h=e[l].x,f=e[l].y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(i=!i)}return i}function u7(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),d7(e)}function d7(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var f7=s3,c3=o3;const h7=f7,p7=D.forwardRef(({className:t,sideOffset:e=4,...n},r)=>R.jsx(c3,{ref:r,sideOffset:e,className:bt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));p7.displayName=c3.displayName;const f0=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:bt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));f0.displayName="Card";const u3=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:bt("flex flex-col space-y-1.5 p-6",t),...e}));u3.displayName="CardHeader";const d3=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:bt("text-2xl font-semibold leading-none tracking-tight",t),...e}));d3.displayName="CardTitle";const f3=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:bt("text-sm text-muted-foreground",t),...e}));f3.displayName="CardDescription";const h0=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:bt("p-6 pt-0",t),...e}));h0.displayName="CardContent";const m7=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:bt("flex items-center p-6 pt-0",t),...e}));m7.displayName="CardFooter";function g7(){return R.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:R.jsx(f0,{className:"w-full max-w-md mx-4",children:R.jsxs(h0,{className:"pt-6",children:[R.jsxs("div",{className:"flex mb-4 gap-2",children:[R.jsx(xx,{className:"h-8 w-8 text-red-500"}),R.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),R.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var jt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of a)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},t.find=(i,a)=>{for(const l of i)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(jt||(jt={}));var Wm;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Wm||(Wm={}));const st=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ls=t=>{switch(typeof t){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(t)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(t)?st.array:t===null?st.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?st.promise:typeof Map<"u"&&t instanceof Map?st.map:typeof Set<"u"&&t instanceof Set?st.set:typeof Date<"u"&&t instanceof Date?st.date:st.object;default:return st.unknown}},Ge=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),v7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class wr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(l))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return i(this),r}static assert(e){if(!(e instanceof wr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}wr.create=t=>new wr(t);const Aa=(t,e)=>{let n;switch(t.code){case Ge.invalid_type:t.received===st.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,jt.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${jt.joinValues(t.keys,", ")}`;break;case Ge.invalid_union:n="Invalid input";break;case Ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${jt.joinValues(t.options)}`;break;case Ge.invalid_enum_value:n=`Invalid enum value. Expected ${jt.joinValues(t.options)}, received '${t.received}'`;break;case Ge.invalid_arguments:n="Invalid function arguments";break;case Ge.invalid_return_type:n="Invalid function return type";break;case Ge.invalid_date:n="Invalid date";break;case Ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:jt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ge.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ge.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ge.custom:n="Invalid input";break;case Ge.invalid_intersection_types:n="Intersection results could not be merged";break;case Ge.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ge.not_finite:n="Number must be finite";break;default:n=e.defaultError,jt.assertNever(t)}return{message:n}};let h3=Aa;function y7(t){h3=t}function Od(){return h3}const jd=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(l,{data:e,defaultError:c}).message;return{...i,path:a,message:c}},_7=[];function nt(t,e){const n=Od(),r=jd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Aa?void 0:Aa].filter(i=>!!i)});t.common.issues.push(r)}class qn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return xt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,l=await i.value;r.push({key:a,value:l})}return qn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return xt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const xt=Object.freeze({status:"aborted"}),da=t=>({status:"dirty",value:t}),er=t=>({status:"valid",value:t}),$m=t=>t.status==="aborted",Um=t=>t.status==="dirty",_o=t=>t.status==="valid",rc=t=>typeof Promise<"u"&&t instanceof Promise;function Ld(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function p3(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ht;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ht||(ht={}));var zl,Wl;class ws{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z2=(t,e)=>{if(_o(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new wr(t.common.issues);return this._error=n,this._error}}};function kt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{var d,h;const{message:f}=t;return l.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:(d=f??r)!==null&&d!==void 0?d:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(h=f??n)!==null&&h!==void 0?h:c.defaultError}},description:i}}class Mt{get description(){return this._def.description}_getType(e){return Ls(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qn,ctx:{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(rc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},a=this._parseSync({data:e,path:i.path,parent:i});return z2(i,a)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return _o(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((r=(n=a?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>_o(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(rc(i)?i:Promise.resolve(i));return z2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const l=e(i),c=()=>a.addIssue({code:Ge.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ts({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return vs.create(this,this._def)}nullable(){return Ni.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qr.create(this)}promise(){return Na.create(this,this._def)}or(e){return ac.create([this,e],this._def)}and(e){return lc.create(this,e,this._def)}transform(e){return new ts({...kt(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new hc({...kt(this._def),innerType:this,defaultValue:n,typeName:wt.ZodDefault})}brand(){return new p0({typeName:wt.ZodBranded,type:this,...kt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new pc({...kt(this._def),innerType:this,catchValue:n,typeName:wt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ic.create(this,e)}readonly(){return mc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const b7=/^c[^\s-]{8,}$/i,w7=/^[0-9a-z]+$/,x7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,S7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C7=/^[a-z0-9_-]{21}$/i,E7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,T7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,k7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Op;const R7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,A7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,M7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,N7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,D7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,m3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O7=new RegExp(`^${m3}$`);function g3(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function j7(t){return new RegExp(`^${g3(t)}$`)}function v3(t){let e=`${m3}T${g3(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function L7(t,e){return!!((e==="v4"||!e)&&R7.test(t)||(e==="v6"||!e)&&M7.test(t))}function B7(t,e){if(!E7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function F7(t,e){return!!((e==="v4"||!e)&&A7.test(t)||(e==="v6"||!e)&&N7.test(t))}class Kr extends Mt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==st.string){const a=this._getOrReturnCtx(e);return nt(a,{code:Ge.invalid_type,expected:st.string,received:a.parsedType}),xt}const r=new qn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?nt(i,{code:Ge.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&nt(i,{code:Ge.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")k7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"email",code:Ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Op||(Op=new RegExp(P7,"u")),Op.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"emoji",code:Ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")S7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"uuid",code:Ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")C7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"nanoid",code:Ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")b7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"cuid",code:Ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")w7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"cuid2",code:Ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")x7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"ulid",code:Ge.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),nt(i,{validation:"url",code:Ge.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"regex",code:Ge.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?v3(a).test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?O7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?j7(a).test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?T7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"duration",code:Ge.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?L7(e.data,a.version)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"ip",code:Ge.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?B7(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"jwt",code:Ge.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?F7(e.data,a.version)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"cidr",code:Ge.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?D7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"base64",code:Ge.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?I7.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"base64url",code:Ge.invalid_string,message:a.message}),r.dirty()):jt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ge.invalid_string,...ht.errToObj(r)})}_addCheck(e){return new Kr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ht.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ht.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ht.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ht.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ht.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ht.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ht.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ht.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ht.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ht.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ht.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ht.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ht.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...ht.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ht.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ht.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ht.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...ht.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ht.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ht.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ht.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ht.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ht.errToObj(n)})}nonempty(e){return this.min(1,ht.errToObj(e))}trim(){return new Kr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Kr.create=t=>{var e;return new Kr({checks:[],typeName:wt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...kt(t)})};function V7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return a%l/Math.pow(10,i)}class Ri extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==st.number){const a=this._getOrReturnCtx(e);return nt(a,{code:Ge.invalid_type,expected:st.number,received:a.parsedType}),xt}let r;const i=new qn;for(const a of this._def.checks)a.kind==="int"?jt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?V7(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.not_finite,message:a.message}),i.dirty()):jt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ht.toString(n))}setLimit(e,n,r,i){return new Ri({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ht.toString(i)}]})}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ht.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ht.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ri.create=t=>new Ri({checks:[],typeName:wt.ZodNumber,coerce:t?.coerce||!1,...kt(t)});class Ai extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==st.bigint)return this._getInvalidInput(e);let r;const i=new qn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ge.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):jt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return nt(n,{code:Ge.invalid_type,expected:st.bigint,received:n.parsedType}),xt}gte(e,n){return this.setLimit("min",e,!0,ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ht.toString(n))}setLimit(e,n,r,i){return new Ai({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ht.toString(i)}]})}_addCheck(e){return new Ai({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ai.create=t=>{var e;return new Ai({checks:[],typeName:wt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...kt(t)})};class sc extends Mt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==st.boolean){const r=this._getOrReturnCtx(e);return nt(r,{code:Ge.invalid_type,expected:st.boolean,received:r.parsedType}),xt}return er(e.data)}}sc.create=t=>new sc({typeName:wt.ZodBoolean,coerce:t?.coerce||!1,...kt(t)});class bo extends Mt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==st.date){const a=this._getOrReturnCtx(e);return nt(a,{code:Ge.invalid_type,expected:st.date,received:a.parsedType}),xt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return nt(a,{code:Ge.invalid_date}),xt}const r=new qn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ge.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):jt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ht.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ht.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}bo.create=t=>new bo({checks:[],coerce:t?.coerce||!1,typeName:wt.ZodDate,...kt(t)});class Bd extends Mt{_parse(e){if(this._getType(e)!==st.symbol){const r=this._getOrReturnCtx(e);return nt(r,{code:Ge.invalid_type,expected:st.symbol,received:r.parsedType}),xt}return er(e.data)}}Bd.create=t=>new Bd({typeName:wt.ZodSymbol,...kt(t)});class ic extends Mt{_parse(e){if(this._getType(e)!==st.undefined){const r=this._getOrReturnCtx(e);return nt(r,{code:Ge.invalid_type,expected:st.undefined,received:r.parsedType}),xt}return er(e.data)}}ic.create=t=>new ic({typeName:wt.ZodUndefined,...kt(t)});class oc extends Mt{_parse(e){if(this._getType(e)!==st.null){const r=this._getOrReturnCtx(e);return nt(r,{code:Ge.invalid_type,expected:st.null,received:r.parsedType}),xt}return er(e.data)}}oc.create=t=>new oc({typeName:wt.ZodNull,...kt(t)});class Ma extends Mt{constructor(){super(...arguments),this._any=!0}_parse(e){return er(e.data)}}Ma.create=t=>new Ma({typeName:wt.ZodAny,...kt(t)});class uo extends Mt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return er(e.data)}}uo.create=t=>new uo({typeName:wt.ZodUnknown,...kt(t)});class $s extends Mt{_parse(e){const n=this._getOrReturnCtx(e);return nt(n,{code:Ge.invalid_type,expected:st.never,received:n.parsedType}),xt}}$s.create=t=>new $s({typeName:wt.ZodNever,...kt(t)});class Fd extends Mt{_parse(e){if(this._getType(e)!==st.undefined){const r=this._getOrReturnCtx(e);return nt(r,{code:Ge.invalid_type,expected:st.void,received:r.parsedType}),xt}return er(e.data)}}Fd.create=t=>new Fd({typeName:wt.ZodVoid,...kt(t)});class Qr extends Mt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==st.array)return nt(n,{code:Ge.invalid_type,expected:st.array,received:n.parsedType}),xt;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(l||c)&&(nt(n,{code:l?Ge.too_big:Ge.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(nt(n,{code:Ge.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(nt(n,{code:Ge.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>i.type._parseAsync(new ws(n,l,n.path,c)))).then(l=>qn.mergeArray(r,l));const a=[...n.data].map((l,c)=>i.type._parseSync(new ws(n,l,n.path,c)));return qn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Qr({...this._def,minLength:{value:e,message:ht.toString(n)}})}max(e,n){return new Qr({...this._def,maxLength:{value:e,message:ht.toString(n)}})}length(e,n){return new Qr({...this._def,exactLength:{value:e,message:ht.toString(n)}})}nonempty(e){return this.min(1,e)}}Qr.create=(t,e)=>new Qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...kt(e)});function la(t){if(t instanceof ln){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=vs.create(la(r))}return new ln({...t._def,shape:()=>e})}else return t instanceof Qr?new Qr({...t._def,type:la(t.element)}):t instanceof vs?vs.create(la(t.unwrap())):t instanceof Ni?Ni.create(la(t.unwrap())):t instanceof xs?xs.create(t.items.map(e=>la(e))):t}class ln extends Mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=jt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==st.object){const h=this._getOrReturnCtx(e);return nt(h,{code:Ge.invalid_type,expected:st.object,received:h.parsedType}),xt}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof $s&&this._def.unknownKeys==="strip"))for(const h in i.data)l.includes(h)||c.push(h);const d=[];for(const h of l){const f=a[h],p=i.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new ws(i,p,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof $s){const h=this._def.unknownKeys;if(h==="passthrough")for(const f of c)d.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(h==="strict")c.length>0&&(nt(i,{code:Ge.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const f of c){const p=i.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new ws(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const f of d){const p=await f.key,_=await f.value;h.push({key:p,value:_,alwaysSet:f.alwaysSet})}return h}).then(h=>qn.mergeObjectSync(r,h)):qn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return ht.errToObj,new ln({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,l,c;const d=(l=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=ht.errToObj(e).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new ln({...this._def,unknownKeys:"strip"})}passthrough(){return new ln({...this._def,unknownKeys:"passthrough"})}extend(e){return new ln({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ln({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:wt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ln({...this._def,catchall:e})}pick(e){const n={};return jt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ln({...this._def,shape:()=>n})}omit(e){const n={};return jt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ln({...this._def,shape:()=>n})}deepPartial(){return la(this)}partial(e){const n={};return jt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new ln({...this._def,shape:()=>n})}required(e){const n={};return jt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof vs;)a=a._def.innerType;n[r]=a}}),new ln({...this._def,shape:()=>n})}keyof(){return y3(jt.objectKeys(this.shape))}}ln.create=(t,e)=>new ln({shape:()=>t,unknownKeys:"strip",catchall:$s.create(),typeName:wt.ZodObject,...kt(e)});ln.strictCreate=(t,e)=>new ln({shape:()=>t,unknownKeys:"strict",catchall:$s.create(),typeName:wt.ZodObject,...kt(e)});ln.lazycreate=(t,e)=>new ln({shape:t,unknownKeys:"strip",catchall:$s.create(),typeName:wt.ZodObject,...kt(e)});class ac extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new wr(c.ctx.common.issues));return nt(n,{code:Ge.invalid_union,unionErrors:l}),xt}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},f=d._parseSync({data:n.data,path:n.path,parent:h});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(d=>new wr(d));return nt(n,{code:Ge.invalid_union,unionErrors:c}),xt}}get options(){return this._def.options}}ac.create=(t,e)=>new ac({options:t,typeName:wt.ZodUnion,...kt(e)});const js=t=>t instanceof uc?js(t.schema):t instanceof ts?js(t.innerType()):t instanceof dc?[t.value]:t instanceof Mi?t.options:t instanceof fc?jt.objectValues(t.enum):t instanceof hc?js(t._def.innerType):t instanceof ic?[void 0]:t instanceof oc?[null]:t instanceof vs?[void 0,...js(t.unwrap())]:t instanceof Ni?[null,...js(t.unwrap())]:t instanceof p0||t instanceof mc?js(t.unwrap()):t instanceof pc?js(t._def.innerType):[];class _f extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==st.object)return nt(n,{code:Ge.invalid_type,expected:st.object,received:n.parsedType}),xt;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(nt(n,{code:Ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),xt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const l=js(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,a)}}return new _f({typeName:wt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...kt(r)})}}function Hm(t,e){const n=Ls(t),r=Ls(e);if(t===e)return{valid:!0,data:t};if(n===st.object&&r===st.object){const i=jt.objectKeys(e),a=jt.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(const c of a){const d=Hm(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===st.array&&r===st.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const l=t[a],c=e[a],d=Hm(l,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===st.date&&r===st.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lc extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,l)=>{if($m(a)||$m(l))return xt;const c=Hm(a.value,l.value);return c.valid?((Um(a)||Um(l))&&n.dirty(),{status:n.value,value:c.data}):(nt(r,{code:Ge.invalid_intersection_types}),xt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lc.create=(t,e,n)=>new lc({left:t,right:e,typeName:wt.ZodIntersection,...kt(n)});class xs extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.array)return nt(r,{code:Ge.invalid_type,expected:st.array,received:r.parsedType}),xt;if(r.data.length<this._def.items.length)return nt(r,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xt;!this._def.rest&&r.data.length>this._def.items.length&&(nt(r,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new ws(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>qn.mergeArray(n,l)):qn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new xs({...this._def,rest:e})}}xs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xs({items:t,typeName:wt.ZodTuple,rest:null,...kt(e)})};class cc extends Mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.object)return nt(r,{code:Ge.invalid_type,expected:st.object,received:r.parsedType}),xt;const i=[],a=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new ws(r,c,r.path,c)),value:l._parse(new ws(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?qn.mergeObjectAsync(n,i):qn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Mt?new cc({keyType:e,valueType:n,typeName:wt.ZodRecord,...kt(r)}):new cc({keyType:Kr.create(),valueType:e,typeName:wt.ZodRecord,...kt(n)})}}class Vd extends Mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.map)return nt(r,{code:Ge.invalid_type,expected:st.map,received:r.parsedType}),xt;const i=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([c,d],h)=>({key:i._parse(new ws(r,c,r.path,[h,"key"])),value:a._parse(new ws(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const h=await d.key,f=await d.value;if(h.status==="aborted"||f.status==="aborted")return xt;(h.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(h.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const h=d.key,f=d.value;if(h.status==="aborted"||f.status==="aborted")return xt;(h.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(h.value,f.value)}return{status:n.value,value:c}}}}Vd.create=(t,e,n)=>new Vd({valueType:e,keyType:t,typeName:wt.ZodMap,...kt(n)});class wo extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.set)return nt(r,{code:Ge.invalid_type,expected:st.set,received:r.parsedType}),xt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(nt(r,{code:Ge.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(nt(r,{code:Ge.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function l(d){const h=new Set;for(const f of d){if(f.status==="aborted")return xt;f.status==="dirty"&&n.dirty(),h.add(f.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((d,h)=>a._parse(new ws(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,n){return new wo({...this._def,minSize:{value:e,message:ht.toString(n)}})}max(e,n){return new wo({...this._def,maxSize:{value:e,message:ht.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}wo.create=(t,e)=>new wo({valueType:t,minSize:null,maxSize:null,typeName:wt.ZodSet,...kt(e)});class wa extends Mt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==st.function)return nt(n,{code:Ge.invalid_type,expected:st.function,received:n.parsedType}),xt;function r(c,d){return jd({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Od(),Aa].filter(h=>!!h),issueData:{code:Ge.invalid_arguments,argumentsError:d}})}function i(c,d){return jd({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Od(),Aa].filter(h=>!!h),issueData:{code:Ge.invalid_return_type,returnTypeError:d}})}const a={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof Na){const c=this;return er(async function(...d){const h=new wr([]),f=await c._def.args.parseAsync(d,a).catch(w=>{throw h.addIssue(r(d,w)),h}),p=await Reflect.apply(l,this,f);return await c._def.returns._def.type.parseAsync(p,a).catch(w=>{throw h.addIssue(i(p,w)),h})})}else{const c=this;return er(function(...d){const h=c._def.args.safeParse(d,a);if(!h.success)throw new wr([r(d,h.error)]);const f=Reflect.apply(l,this,h.data),p=c._def.returns.safeParse(f,a);if(!p.success)throw new wr([i(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wa({...this._def,args:xs.create(e).rest(uo.create())})}returns(e){return new wa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new wa({args:e||xs.create([]).rest(uo.create()),returns:n||uo.create(),typeName:wt.ZodFunction,...kt(r)})}}class uc extends Mt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uc.create=(t,e)=>new uc({getter:t,typeName:wt.ZodLazy,...kt(e)});class dc extends Mt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return nt(n,{received:n.data,code:Ge.invalid_literal,expected:this._def.value}),xt}return{status:"valid",value:e.data}}get value(){return this._def.value}}dc.create=(t,e)=>new dc({value:t,typeName:wt.ZodLiteral,...kt(e)});function y3(t,e){return new Mi({values:t,typeName:wt.ZodEnum,...kt(e)})}class Mi extends Mt{constructor(){super(...arguments),zl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return nt(n,{expected:jt.joinValues(r),received:n.parsedType,code:Ge.invalid_type}),xt}if(Ld(this,zl)||p3(this,zl,new Set(this._def.values)),!Ld(this,zl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return nt(n,{received:n.data,code:Ge.invalid_enum_value,options:r}),xt}return er(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Mi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Mi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}zl=new WeakMap;Mi.create=y3;class fc extends Mt{constructor(){super(...arguments),Wl.set(this,void 0)}_parse(e){const n=jt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==st.string&&r.parsedType!==st.number){const i=jt.objectValues(n);return nt(r,{expected:jt.joinValues(i),received:r.parsedType,code:Ge.invalid_type}),xt}if(Ld(this,Wl)||p3(this,Wl,new Set(jt.getValidEnumValues(this._def.values))),!Ld(this,Wl).has(e.data)){const i=jt.objectValues(n);return nt(r,{received:r.data,code:Ge.invalid_enum_value,options:i}),xt}return er(e.data)}get enum(){return this._def.values}}Wl=new WeakMap;fc.create=(t,e)=>new fc({values:t,typeName:wt.ZodNativeEnum,...kt(e)});class Na extends Mt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==st.promise&&n.common.async===!1)return nt(n,{code:Ge.invalid_type,expected:st.promise,received:n.parsedType}),xt;const r=n.parsedType===st.promise?n.data:Promise.resolve(n.data);return er(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Na.create=(t,e)=>new Na({type:t,typeName:wt.ZodPromise,...kt(e)});class ts extends Mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:l=>{nt(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return xt;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?xt:d.status==="dirty"||n.value==="dirty"?da(d.value):d});{if(n.value==="aborted")return xt;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?xt:c.status==="dirty"||n.value==="dirty"?da(c.value):c}}if(i.type==="refinement"){const l=c=>{const d=i.refinement(c,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?xt:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?xt:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_o(l))return l;const c=i.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>_o(l)?Promise.resolve(i.transform(l.value,a)).then(c=>({status:n.value,value:c})):l);jt.assertNever(i)}}ts.create=(t,e,n)=>new ts({schema:t,typeName:wt.ZodEffects,effect:e,...kt(n)});ts.createWithPreprocess=(t,e,n)=>new ts({schema:e,effect:{type:"preprocess",transform:t},typeName:wt.ZodEffects,...kt(n)});class vs extends Mt{_parse(e){return this._getType(e)===st.undefined?er(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vs.create=(t,e)=>new vs({innerType:t,typeName:wt.ZodOptional,...kt(e)});class Ni extends Mt{_parse(e){return this._getType(e)===st.null?er(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ni.create=(t,e)=>new Ni({innerType:t,typeName:wt.ZodNullable,...kt(e)});class hc extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===st.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}hc.create=(t,e)=>new hc({innerType:t,typeName:wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...kt(e)});class pc extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rc(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new wr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new wr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}pc.create=(t,e)=>new pc({innerType:t,typeName:wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...kt(e)});class zd extends Mt{_parse(e){if(this._getType(e)!==st.nan){const r=this._getOrReturnCtx(e);return nt(r,{code:Ge.invalid_type,expected:st.nan,received:r.parsedType}),xt}return{status:"valid",value:e.data}}}zd.create=t=>new zd({typeName:wt.ZodNaN,...kt(t)});const z7=Symbol("zod_brand");class p0 extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ic extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?xt:a.status==="dirty"?(n.dirty(),da(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?xt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ic({in:e,out:n,typeName:wt.ZodPipeline})}}class mc extends Mt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(_o(i)&&(i.value=Object.freeze(i.value)),i);return rc(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}mc.create=(t,e)=>new mc({innerType:t,typeName:wt.ZodReadonly,...kt(e)});function W2(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function _3(t,e={},n){return t?Ma.create().superRefine((r,i)=>{var a,l;const c=t(r);if(c instanceof Promise)return c.then(d=>{var h,f;if(!d){const p=W2(e,r),_=(f=(h=p.fatal)!==null&&h!==void 0?h:n)!==null&&f!==void 0?f:!0;i.addIssue({code:"custom",...p,fatal:_})}});if(!c){const d=W2(e,r),h=(l=(a=d.fatal)!==null&&a!==void 0?a:n)!==null&&l!==void 0?l:!0;i.addIssue({code:"custom",...d,fatal:h})}}):Ma.create()}const W7={object:ln.lazycreate};var wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(wt||(wt={}));const $7=(t,e={message:`Input not instance of ${t.name}`})=>_3(n=>n instanceof t,e),b3=Kr.create,w3=Ri.create,U7=zd.create,H7=Ai.create,x3=sc.create,X7=bo.create,q7=Bd.create,G7=ic.create,Z7=oc.create,Y7=Ma.create,K7=uo.create,Q7=$s.create,J7=Fd.create,eR=Qr.create,tR=ln.create,nR=ln.strictCreate,rR=ac.create,sR=_f.create,iR=lc.create,oR=xs.create,aR=cc.create,lR=Vd.create,cR=wo.create,uR=wa.create,dR=uc.create,fR=dc.create,hR=Mi.create,pR=fc.create,mR=Na.create,$2=ts.create,gR=vs.create,vR=Ni.create,yR=ts.createWithPreprocess,_R=Ic.create,bR=()=>b3().optional(),wR=()=>w3().optional(),xR=()=>x3().optional(),SR={string:(t=>Kr.create({...t,coerce:!0})),number:(t=>Ri.create({...t,coerce:!0})),boolean:(t=>sc.create({...t,coerce:!0})),bigint:(t=>Ai.create({...t,coerce:!0})),date:(t=>bo.create({...t,coerce:!0}))},CR=xt;var Dt=Object.freeze({__proto__:null,defaultErrorMap:Aa,setErrorMap:y7,getErrorMap:Od,makeIssue:jd,EMPTY_PATH:_7,addIssueToContext:nt,ParseStatus:qn,INVALID:xt,DIRTY:da,OK:er,isAborted:$m,isDirty:Um,isValid:_o,isAsync:rc,get util(){return jt},get objectUtil(){return Wm},ZodParsedType:st,getParsedType:Ls,ZodType:Mt,datetimeRegex:v3,ZodString:Kr,ZodNumber:Ri,ZodBigInt:Ai,ZodBoolean:sc,ZodDate:bo,ZodSymbol:Bd,ZodUndefined:ic,ZodNull:oc,ZodAny:Ma,ZodUnknown:uo,ZodNever:$s,ZodVoid:Fd,ZodArray:Qr,ZodObject:ln,ZodUnion:ac,ZodDiscriminatedUnion:_f,ZodIntersection:lc,ZodTuple:xs,ZodRecord:cc,ZodMap:Vd,ZodSet:wo,ZodFunction:wa,ZodLazy:uc,ZodLiteral:dc,ZodEnum:Mi,ZodNativeEnum:fc,ZodPromise:Na,ZodEffects:ts,ZodTransformer:ts,ZodOptional:vs,ZodNullable:Ni,ZodDefault:hc,ZodCatch:pc,ZodNaN:zd,BRAND:z7,ZodBranded:p0,ZodPipeline:Ic,ZodReadonly:mc,custom:_3,Schema:Mt,ZodSchema:Mt,late:W7,get ZodFirstPartyTypeKind(){return wt},coerce:SR,any:Y7,array:eR,bigint:H7,boolean:x3,date:X7,discriminatedUnion:sR,effect:$2,enum:hR,function:uR,instanceof:$7,intersection:iR,lazy:dR,literal:fR,map:lR,nan:U7,nativeEnum:pR,never:Q7,null:Z7,nullable:vR,number:w3,object:tR,oboolean:xR,onumber:wR,optional:gR,ostring:bR,pipeline:_R,preprocess:yR,promise:mR,record:aR,set:cR,strictObject:nR,string:b3,symbol:q7,transformer:$2,tuple:oR,undefined:G7,union:rR,unknown:K7,void:J7,NEVER:CR,ZodIssueCode:Ge,quotelessJson:v7,ZodError:wr});const Ue=Symbol.for("drizzle:entityKind");function jn(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Ue))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(Ue in n&&n[Ue]===e[Ue])return!0;n=Object.getPrototypeOf(n)}return!1}class gc{constructor(e,n){this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[Ue]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class ER{static[Ue]="ColumnBuilder";config;constructor(e,n,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const xa=Symbol.for("drizzle:Name");class TR{static[Ue]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,n){this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=e();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new kR(e,this)}}class kR{constructor(e,n){this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[Ue]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(c=>c.name),a=r.map(c=>c.name),l=[this.table[xa],...i,r[0].table[xa],...a];return e??`${l.join("_")}_fk`}}function PR(t,...e){return t(...e)}function RR(t,e){return`${t[xa]}_${e.join("_")}_unique`}function U2(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function S3(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const a=t[r];if(a===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[d,h]=U2(t,r+1,!0);n.push(d),r=h;continue}if(a==="}")return[n,r+1];if(a==="{"){const[d,h]=S3(t,r+1);n.push(d),r=h;continue}const[l,c]=U2(t,r,!1);n.push(l),r=c}return[n,r]}function AR(t){const[e]=S3(t,1);return e}function C3(t){return`{${t.map(e=>Array.isArray(e)?C3(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class Ft extends ER{foreignKeyConfigs=[];static[Ue]="PgColumnBuilder";array(e){return new NR(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>PR((a,l)=>{const c=new TR(()=>{const d=a();return{columns:[e],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},r,i))}buildExtraConfigColumn(e){return new MR(e,this.config)}}class At extends gc{constructor(e,n){n.uniqueName||(n.uniqueName=RR(e,[n.name])),super(e,n),this.table=e}static[Ue]="PgColumn"}class MR extends At{static[Ue]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class NR extends Ft{static[Ue]="PgArrayBuilder";constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new m0(e,this.config,n)}}class m0 extends At{constructor(e,n,r,i){super(e,n),this.baseColumn=r,this.range=i,this.size=n.size}size;static[Ue]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=AR(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){const r=e.map(i=>i===null?null:jn(this.baseColumn,m0)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?r:C3(r)}}const H2=Symbol.for("drizzle:isPgEnum");function DR(t){return!!t&&typeof t=="function"&&H2 in t&&t[H2]===!0}class E3{static[Ue]="Subquery";constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}const IR={startActiveSpan(t,e){return e()}},Sa=Symbol.for("drizzle:ViewBaseConfig"),jp=Symbol.for("drizzle:Schema"),X2=Symbol.for("drizzle:Columns"),q2=Symbol.for("drizzle:ExtraConfigColumns"),Lp=Symbol.for("drizzle:OriginalName"),Bp=Symbol.for("drizzle:BaseName"),Wd=Symbol.for("drizzle:IsAlias"),G2=Symbol.for("drizzle:ExtraConfigBuilder"),T3=Symbol.for("drizzle:IsDrizzleTable");class _r{static[Ue]="Table";static Symbol={Name:xa,Schema:jp,OriginalName:Lp,Columns:X2,ExtraConfigColumns:q2,BaseName:Bp,IsAlias:Wd,ExtraConfigBuilder:G2};[xa];[Lp];[jp];[X2];[q2];[Bp];[Wd]=!1;[T3]=!0;[G2]=void 0;constructor(e,n,r){this[xa]=this[Lp]=e,this[jp]=n,this[Bp]=r}}function k3(t){return typeof t=="object"&&t!==null&&T3 in t}function OR(t){return t!=null&&typeof t.getSQL=="function"}function jR(t){const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),n.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}class Zr{static[Ue]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new hn([this])}}class hn{constructor(e){this.queryChunks=e}static[Ue]="SQL";decoder=P3;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return IR.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:l,prepareTyping:c,inlineParams:d,paramStartIndex:h}=r;return jR(e.map(f=>{if(jn(f,Zr))return{sql:f.value.join(""),params:[]};if(jn(f,Xm))return{sql:a(f.value),params:[]};if(f===void 0)return{sql:"",params:[]};if(Array.isArray(f)){const p=[new Zr("(")];for(const[_,w]of f.entries())p.push(w),_<f.length-1&&p.push(new Zr(", "));return p.push(new Zr(")")),this.buildQueryFromSourceParams(p,r)}if(jn(f,hn))return this.buildQueryFromSourceParams(f.queryChunks,{...r,inlineParams:d||f.shouldInlineParams});if(jn(f,_r)){const p=f[_r.Symbol.Schema],_=f[_r.Symbol.Name];return{sql:p===void 0||f[Wd]?a(_):a(p)+"."+a(_),params:[]}}if(jn(f,gc)){const p=i.getColumnCasing(f);if(n.invokeSource==="indexes")return{sql:a(p),params:[]};const _=f.table[_r.Symbol.Schema];return{sql:f.table[Wd]||_===void 0?a(f.table[_r.Symbol.Name])+"."+a(p):a(_)+"."+a(f.table[_r.Symbol.Name])+"."+a(p),params:[]}}if(jn(f,LR)){const p=f[Sa].schema,_=f[Sa].name;return{sql:p===void 0||f[Sa].isAlias?a(_):a(p)+"."+a(_),params:[]}}if(jn(f,A3)){if(jn(f.value,qm))return{sql:l(h.value++,f),params:[f],typings:["none"]};const p=f.value===null?null:f.encoder.mapToDriverValue(f.value);if(jn(p,hn))return this.buildQueryFromSourceParams([p],r);if(d)return{sql:this.mapInlineParam(p,r),params:[]};let _=["none"];return c&&(_=[c(f.encoder)]),{sql:l(h.value++,p),params:[p],typings:_}}return jn(f,qm)?{sql:l(h.value++,f),params:[f],typings:["none"]}:jn(f,hn.Aliased)&&f.fieldAlias!==void 0?{sql:a(f.fieldAlias),params:[]}:jn(f,E3)?f._.isWith?{sql:a(f._.alias),params:[]}:this.buildQueryFromSourceParams([new Zr("("),f._.sql,new Zr(") "),new Xm(f._.alias)],r):DR(f)?f.schema?{sql:a(f.schema)+"."+a(f.enumName),params:[]}:{sql:a(f.enumName),params:[]}:OR(f)?f.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([f.getSQL()],r):this.buildQueryFromSourceParams([new Zr("("),f.getSQL(),new Zr(")")],r):d?{sql:this.mapInlineParam(f,r),params:[]}:{sql:l(h.value++,f),params:[f],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new hn.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class Xm{constructor(e){this.value=e}static[Ue]="Name";brand;getSQL(){return new hn([this])}}const P3={mapFromDriverValue:t=>t},R3={mapToDriverValue:t=>t};({...P3,...R3});class A3{constructor(e,n=R3){this.value=e,this.encoder=n}static[Ue]="Param";brand;getSQL(){return new hn([this])}}function $d(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Zr(t[0]));for(const[r,i]of e.entries())n.push(i,new Zr(t[r+1]));return new hn(n)}(t=>{function e(){return new hn([])}t.empty=e;function n(d){return new hn(d)}t.fromList=n;function r(d){return new hn([new Zr(d)])}t.raw=r;function i(d,h){const f=[];for(const[p,_]of d.entries())p>0&&h!==void 0&&f.push(h),f.push(_);return new hn(f)}t.join=i;function a(d){return new Xm(d)}t.identifier=a;function l(d){return new qm(d)}t.placeholder=l;function c(d,h){return new A3(d,h)}t.param=c})($d||($d={}));(t=>{class e{constructor(r,i){this.sql=r,this.fieldAlias=i}static[Ue]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(hn||(hn={}));class qm{constructor(e){this.name=e}static[Ue]="Placeholder";getSQL(){return new hn([this])}}const M3=Symbol.for("drizzle:IsDrizzleView");class LR{static[Ue]="View";[Sa];[M3]=!0;constructor({name:e,schema:n,selectedFields:r,query:i}){this[Sa]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new hn([this])}}function BR(t){return typeof t=="object"&&t!==null&&M3 in t}gc.prototype.getSQL=function(){return new hn([this])};_r.prototype.getSQL=function(){return new hn([this])};E3.prototype.getSQL=function(){return new hn([this])};function FR(t){return t[_r.Symbol.Columns]}function VR(t){return t[Sa].selectedFields}function Mn(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class bf extends Ft{static[Ue]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class zR extends bf{static[Ue]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new WR(e,this.config)}}class WR extends At{static[Ue]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class $R extends bf{static[Ue]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new UR(e,this.config)}}class UR extends At{static[Ue]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function HR(t,e){const{name:n,config:r}=Mn(t,e);return r.mode==="number"?new zR(n):new $R(n)}class XR extends Ft{static[Ue]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new qR(e,this.config)}}class qR extends At{static[Ue]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class GR extends Ft{static[Ue]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new ZR(e,this.config)}}class ZR extends At{static[Ue]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function YR(t,e){const{name:n,config:r}=Mn(t,e);return r.mode==="number"?new XR(n):new GR(n)}class KR extends Ft{static[Ue]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new QR(e,this.config)}}class QR extends At{static[Ue]="PgBoolean";getSQLType(){return"boolean"}}function JR(t){return new KR(t??"")}class eA extends Ft{static[Ue]="PgCharBuilder";constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new tA(e,this.config)}}class tA extends At{static[Ue]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function nA(t,e={}){const{name:n,config:r}=Mn(t,e);return new eA(n,r)}class rA extends Ft{static[Ue]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new sA(e,this.config)}}class sA extends At{static[Ue]="PgCidr";getSQLType(){return"cidr"}}function iA(t){return new rA(t??"")}class oA extends Ft{static[Ue]="PgCustomColumnBuilder";constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new aA(e,this.config)}}class aA extends At{static[Ue]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,n){super(e,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function lA(t){return(e,n)=>{const{name:r,config:i}=Mn(e,n);return new oA(r,i,t)}}class Oc extends Ft{static[Ue]="PgDateColumnBaseBuilder";defaultNow(){return this.default($d`now()`)}}class cA extends Oc{static[Ue]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new uA(e,this.config)}}class uA extends At{static[Ue]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class dA extends Oc{static[Ue]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new fA(e,this.config)}}class fA extends At{static[Ue]="PgDateString";getSQLType(){return"date"}}function hA(t,e){const{name:n,config:r}=Mn(t,e);return r?.mode==="date"?new cA(n):new dA(n)}class pA extends Ft{static[Ue]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new mA(e,this.config)}}class mA extends At{static[Ue]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function gA(t){return new pA(t??"")}class vA extends Ft{static[Ue]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new yA(e,this.config)}}class yA extends At{static[Ue]="PgInet";getSQLType(){return"inet"}}function _A(t){return new vA(t??"")}class bA extends bf{static[Ue]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new wA(e,this.config)}}class wA extends At{static[Ue]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function vc(t){return new bA(t??"")}class xA extends Ft{static[Ue]="PgIntervalBuilder";constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new SA(e,this.config)}}class SA extends At{static[Ue]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}function CA(t,e={}){const{name:n,config:r}=Mn(t,e);return new xA(n,r)}class EA extends Ft{static[Ue]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new TA(e,this.config)}}class TA extends At{static[Ue]="PgJson";constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function kA(t){return new EA(t??"")}class PA extends Ft{static[Ue]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new RA(e,this.config)}}class RA extends At{static[Ue]="PgJsonb";constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function AA(t){return new PA(t??"")}class MA extends Ft{static[Ue]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new NA(e,this.config)}}class NA extends At{static[Ue]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class DA extends Ft{static[Ue]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new IA(e,this.config)}}class IA extends At{static[Ue]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function OA(t,e){const{name:n,config:r}=Mn(t,e);return!r?.mode||r.mode==="tuple"?new MA(n):new DA(n)}class jA extends Ft{static[Ue]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new LA(e,this.config)}}class LA extends At{static[Ue]="PgMacaddr";getSQLType(){return"macaddr"}}function BA(t){return new jA(t??"")}class FA extends Ft{static[Ue]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new VA(e,this.config)}}class VA extends At{static[Ue]="PgMacaddr8";getSQLType(){return"macaddr8"}}function zA(t){return new FA(t??"")}class WA extends Ft{static[Ue]="PgNumericBuilder";constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new $A(e,this.config)}}class $A extends At{static[Ue]="PgNumeric";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function UA(t,e){const{name:n,config:r}=Mn(t,e);return new WA(n,r?.precision,r?.scale)}class HA extends Ft{static[Ue]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new XA(e,this.config)}}class XA extends At{static[Ue]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class qA extends Ft{static[Ue]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new GA(e,this.config)}}class GA extends At{static[Ue]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function ZA(t,e){const{name:n,config:r}=Mn(t,e);return!r?.mode||r.mode==="tuple"?new HA(n):new qA(n)}function YA(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function Z2(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function N3(t){const e=YA(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const l=Z2(e,n);n+=8;const c=Z2(e,n);return n+=8,[l,c]}throw new Error("Unsupported geometry type")}class KA extends Ft{static[Ue]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new QA(e,this.config)}}class QA extends At{static[Ue]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return N3(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class JA extends Ft{static[Ue]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new eM(e,this.config)}}class eM extends At{static[Ue]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=N3(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function tM(t,e){const{name:n,config:r}=Mn(t,e);return!r?.mode||r.mode==="tuple"?new KA(n):new JA(n)}class nM extends Ft{static[Ue]="PgRealBuilder";constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new rM(e,this.config)}}class rM extends At{static[Ue]="PgReal";constructor(e,n){super(e,n)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function sM(t){return new nM(t??"")}class iM extends Ft{static[Ue]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new oM(e,this.config)}}class oM extends At{static[Ue]="PgSerial";getSQLType(){return"serial"}}function wf(t){return new iM(t??"")}class aM extends bf{static[Ue]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new lM(e,this.config)}}class lM extends At{static[Ue]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function cM(t){return new aM(t??"")}class uM extends Ft{static[Ue]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new dM(e,this.config)}}class dM extends At{static[Ue]="PgSmallSerial";getSQLType(){return"smallserial"}}function fM(t){return new uM(t??"")}class hM extends Ft{static[Ue]="PgTextBuilder";constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new pM(e,this.config)}}class pM extends At{static[Ue]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Ca(t,e={}){const{name:n,config:r}=Mn(t,e);return new hM(n,r)}class mM extends Oc{constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}static[Ue]="PgTimeBuilder";build(e){return new gM(e,this.config)}}class gM extends At{static[Ue]="PgTime";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function vM(t,e={}){const{name:n,config:r}=Mn(t,e);return new mM(n,r.withTimezone??!1,r.precision)}class yM extends Oc{static[Ue]="PgTimestampBuilder";constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new _M(e,this.config)}}class _M extends At{static[Ue]="PgTimestamp";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class bM extends Oc{static[Ue]="PgTimestampStringBuilder";constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new wM(e,this.config)}}class wM extends At{static[Ue]="PgTimestampString";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function D3(t,e={}){const{name:n,config:r}=Mn(t,e);return r?.mode==="string"?new bM(n,r.withTimezone??!1,r.precision):new yM(n,r?.withTimezone??!1,r?.precision)}class xM extends Ft{static[Ue]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default($d`gen_random_uuid()`)}build(e){return new SM(e,this.config)}}class SM extends At{static[Ue]="PgUUID";getSQLType(){return"uuid"}}function CM(t){return new xM(t??"")}class EM extends Ft{static[Ue]="PgVarcharBuilder";constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new TM(e,this.config)}}class TM extends At{static[Ue]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function g0(t,e={}){const{name:n,config:r}=Mn(t,e);return new EM(n,r)}class kM extends Ft{static[Ue]="PgBinaryVectorBuilder";constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new PM(e,this.config)}}class PM extends At{static[Ue]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function RM(t,e){const{name:n,config:r}=Mn(t,e);return new kM(n,r)}class AM extends Ft{static[Ue]="PgHalfVectorBuilder";constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new MM(e,this.config)}}class MM extends At{static[Ue]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function NM(t,e){const{name:n,config:r}=Mn(t,e);return new AM(n,r)}class DM extends Ft{static[Ue]="PgSparseVectorBuilder";constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new IM(e,this.config)}}class IM extends At{static[Ue]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function OM(t,e){const{name:n,config:r}=Mn(t,e);return new DM(n,r)}class jM extends Ft{static[Ue]="PgVectorBuilder";constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new LM(e,this.config)}}class LM extends At{static[Ue]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function BM(t,e){const{name:n,config:r}=Mn(t,e);return new jM(n,r)}function FM(){return{bigint:HR,bigserial:YR,boolean:JR,char:nA,cidr:iA,customType:lA,date:hA,doublePrecision:gA,inet:_A,integer:vc,interval:CA,json:kA,jsonb:AA,line:OA,macaddr:BA,macaddr8:zA,numeric:UA,point:ZA,geometry:tM,real:sM,serial:wf,smallint:cM,smallserial:fM,text:Ca,time:vM,timestamp:D3,uuid:CM,varchar:g0,bit:RM,halfvec:NM,sparsevec:OM,vector:BM}}const Gm=Symbol.for("drizzle:PgInlineForeignKeys"),Y2=Symbol.for("drizzle:EnableRLS");class K2 extends _r{static[Ue]="PgTable";static Symbol=Object.assign({},_r.Symbol,{InlineForeignKeys:Gm,EnableRLS:Y2});[Gm]=[];[Y2]=!1;[_r.Symbol.ExtraConfigBuilder]=void 0}function VM(t,e,n,r,i=t){const a=new K2(t,r,i),l=typeof e=="function"?e(FM()):e,c=Object.fromEntries(Object.entries(l).map(([f,p])=>{const _=p;_.setName(f);const w=_.build(a);return a[Gm].push(..._.buildForeignKeys(w,a)),[f,w]})),d=Object.fromEntries(Object.entries(l).map(([f,p])=>{const _=p;_.setName(f);const w=_.buildExtraConfigColumn(a);return[f,w]})),h=Object.assign(a,c);return h[_r.Symbol.Columns]=c,h[_r.Symbol.ExtraConfigColumns]=d,Object.assign(h,{enableRLS:()=>(h[K2.Symbol.EnableRLS]=!0,h)})}const v0=(t,e,n)=>VM(t,e,n,void 0),an={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function _n(t,e){return e.includes(t.columnType)}function zM(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const WM=Dt.union([Dt.string(),Dt.number(),Dt.boolean(),Dt.null()]),$M=Dt.union([WM,Dt.record(Dt.any()),Dt.array(Dt.any())]),UM=Dt.custom(t=>t instanceof Buffer);function I3(t,e){const n=e?.zodInstance??Dt,r=e?.coerce??{};let i;return zM(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(_n(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):_n(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):_n(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):_n(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):_n(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):_n(t,["PgArray"])?(i=n.array(I3(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=HM(t,n,r):t.dataType==="bigint"?i=XM(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=qM(t,n,r):t.dataType==="json"?i=$M:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=UM)),i||(i=n.any()),i}function HM(t,e,n){let r=t.getSQLType().includes("unsigned"),i,a,l=!1;_n(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:an.INT8_MIN,a=r?an.INT8_UNSIGNED_MAX:an.INT8_MAX,l=!0):_n(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:an.INT16_MIN,a=r?an.INT16_UNSIGNED_MAX:an.INT16_MAX,l=!0):_n(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:an.INT24_MIN,a=r?an.INT24_UNSIGNED_MAX:an.INT24_MAX,l=_n(t,["MySqlMediumInt","SingleStoreMediumInt"])):_n(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:an.INT32_MIN,a=r?an.INT32_UNSIGNED_MAX:an.INT32_MAX,l=!0):_n(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:an.INT48_MIN,a=r?an.INT48_UNSIGNED_MAX:an.INT48_MAX):_n(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||_n(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,l=!0):_n(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,l=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let c=n===!0||n?.number?e.coerce.number():e.number();return c=c.min(i).max(a),l?c.int():c}function XM(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:an.INT64_MIN,a=r?an.INT64_UNSIGNED_MAX:an.INT64_MAX;return(n===!0||n?.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function qM(t,e,n){if(_n(t,["PgUUID"]))return e.string().uuid();let r,i,a=!1;_n(t,["PgVarchar","SQLiteText"])?r=t.length:_n(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??an.INT16_UNSIGNED_MAX:_n(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=an.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=an.INT24_UNSIGNED_MAX:t.textType==="text"?r=an.INT16_UNSIGNED_MAX:r=an.INT8_UNSIGNED_MAX),_n(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,a=!0),_n(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let l=n===!0||n?.string?e.coerce.string():e.string();return l=i?l.regex(i):l,r&&a?l.length(r):r?l.max(r):l}function O3(t){return k3(t)?FR(t):VR(t)}function j3(t,e,n,r){const i={};for(const[a,l]of Object.entries(t)){if(!jn(l,gc)&&!jn(l,hn)&&!jn(l,hn.Aliased)&&typeof l=="object"){const p=k3(l)||BR(l)?O3(l):l;i[a]=j3(p,e[a]??{},n,r);continue}const c=e[a];if(c!==void 0&&typeof c!="function"){i[a]=c;continue}const d=jn(l,gc)?l:void 0,h=d?I3(d,r):Dt.any(),f=typeof c=="function"?c(h):h;n.never(d)||(i[a]=f,d&&(n.nullable(d)&&(i[a]=i[a].nullable()),n.optional(d)&&(i[a]=i[a].optional())))}return Dt.object(i)}const GM={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},y0=(t,e)=>{const n=O3(t);return j3(n,{},GM)},L3=v0("categories",{id:wf("id").primaryKey(),name:Ca("name").notNull().unique(),color:g0("color",{length:20}).default("gray").notNull()}),ZM=v0("recordings",{id:wf("id").primaryKey(),name:Ca("name").notNull(),category:Ca("category").default("Recordings").notNull(),categoryId:vc("category_id").references(()=>L3.id),duration:vc("duration").default(0).notNull(),notes:Ca("notes").default("").notNull(),createdAt:D3("created_at").defaultNow().notNull()}),YM=v0("flags",{id:wf("id").primaryKey(),recordingId:vc("recording_id").notNull(),timestamp:vc("timestamp").notNull(),color:g0("color",{length:20}).default("red").notNull(),description:Ca("description").default("").notNull()});y0(L3).omit({id:!0});const Q2=y0(ZM).omit({id:!0,createdAt:!0}),J2=y0(YM).omit({id:!0}),e_={validation:Dt.object({message:Dt.string(),field:Dt.string().optional()}),notFound:Dt.object({message:Dt.string()}),internal:Dt.object({message:Dt.string()})},Rt={recordings:{list:{path:"/api/recordings",responses:{200:Dt.array(Dt.custom())}},get:{path:"/api/recordings/:id",responses:{200:Dt.custom()}},create:{method:"POST",path:"/api/recordings",input:Q2,responses:{201:Dt.custom(),400:e_.validation}},update:{method:"PUT",path:"/api/recordings/:id",input:Q2.partial(),responses:{200:Dt.custom()}},delete:{method:"DELETE",path:"/api/recordings/:id",responses:{204:Dt.void()}}},categories:{list:{path:"/api/categories",responses:{200:Dt.array(Dt.custom())}},create:{path:"/api/categories",input:Dt.object({name:Dt.string(),color:Dt.string().optional()}),responses:{201:Dt.any()}},delete:{path:"/api/categories/:id",responses:{204:Dt.void()}}},flags:{create:{method:"POST",path:"/api/flags",input:J2,responses:{201:Dt.custom(),400:e_.validation}},update:{method:"PUT",path:"/api/flags/:id",input:J2.partial(),responses:{200:Dt.custom()}},delete:{method:"DELETE",path:"/api/flags/:id",responses:{204:Dt.void()}}}};function Ua(t,e){let n=t;return e&&Object.entries(e).forEach(([r,i])=>{n.includes(`:${r}`)&&(n=n.replace(`:${r}`,String(i)))}),n}function B3(){return $1({queryKey:[Rt.recordings.list.path],queryFn:async()=>{const t=await fetch(Rt.recordings.list.path,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch recordings");return Rt.recordings.list.responses[200].parse(await t.json())}})}function KM(t){return $1({queryKey:[Rt.recordings.get.path,t],queryFn:async()=>{const e=Ua(Rt.recordings.get.path,{id:t}),n=await fetch(e,{credentials:"include"});if(n.status===404)return null;if(!n.ok)throw new Error("Failed to fetch recording");return Rt.recordings.get.responses[200].parse(await n.json())},enabled:!!t})}function F3(){const t=Ss();return Oi({mutationFn:async e=>{const n=Rt.recordings.create.input.parse(e),r=await fetch(Rt.recordings.create.path,{method:Rt.recordings.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});if(!r.ok){if(r.status===400){const i=Rt.recordings.create.responses[400].parse(await r.json());throw new Error(i.message)}throw new Error("Failed to create recording")}return Rt.recordings.create.responses[201].parse(await r.json())},onSuccess:()=>t.invalidateQueries({queryKey:[Rt.recordings.list.path]})})}function QM(){const t=Ss();return Oi({mutationFn:async({id:e,...n})=>{const r=Rt.recordings.update.input.parse(n),i=Ua(Rt.recordings.update.path,{id:e}),a=await fetch(i,{method:Rt.recordings.update.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(!a.ok)throw new Error("Failed to update recording");return Rt.recordings.update.responses[200].parse(await a.json())},onSuccess:e=>{t.invalidateQueries({queryKey:[Rt.recordings.list.path]}),t.invalidateQueries({queryKey:[Rt.recordings.get.path,e.id]})}})}function V3(){const t=Ss();return Oi({mutationFn:async e=>{const n=Ua(Rt.recordings.delete.path,{id:e});if(!(await fetch(n,{method:Rt.recordings.delete.method,credentials:"include"})).ok)throw new Error("Failed to delete recording")},onSuccess:()=>t.invalidateQueries({queryKey:[Rt.recordings.list.path]})})}function _0(){return $1({queryKey:[Rt.categories.list.path],queryFn:async()=>{const t=await fetch(Rt.categories.list.path);if(!t.ok)throw new Error("Failed to fetch categories");return t.json()}})}function z3(){const t=Ss();return Oi({mutationFn:async e=>{const n=await fetch(Rt.categories.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to create category");return n.json()},onSuccess:()=>{t.invalidateQueries({queryKey:[Rt.categories.list.path]})}})}function JM(){const t=Ss();return Oi({mutationFn:async e=>{const n=Ua(Rt.categories.delete.path,{id:e});if(!(await fetch(n,{method:"DELETE"})).ok)throw new Error("Failed to delete category")},onSuccess:()=>{t.invalidateQueries({queryKey:[Rt.categories.list.path]})}})}function is(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const W3=6048e5,eN=864e5;let tN={};function xf(){return tN}function yc(t,e){const n=xf(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=is(t),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Ud(t){return yc(t,{weekStartsOn:1})}function $3(t){const e=is(t),n=e.getFullYear(),r=xo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Ud(r),a=xo(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=Ud(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function t_(t){const e=is(t);return e.setHours(0,0,0,0),e}function n_(t){const e=is(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function nN(t,e){const n=t_(t),r=t_(e),i=+n-n_(n),a=+r-n_(r);return Math.round((i-a)/eN)}function rN(t){const e=$3(t),n=xo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ud(n)}function sN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function iN(t){if(!sN(t)&&typeof t!="number")return!1;const e=is(t);return!isNaN(Number(e))}function oN(t){const e=is(t),n=xo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const aN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lN=(t,e,n)=>{let r;const i=aN[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Fp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fN={date:Fp({formats:cN,defaultWidth:"full"}),time:Fp({formats:uN,defaultWidth:"full"}),dateTime:Fp({formats:dN,defaultWidth:"full"})},hN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pN=(t,e,n,r)=>hN[t];function jl(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const mN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_N={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wN=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xN={ordinalNumber:wN,era:jl({values:mN,defaultWidth:"wide"}),quarter:jl({values:gN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jl({values:vN,defaultWidth:"wide"}),day:jl({values:yN,defaultWidth:"wide"}),dayPeriod:jl({values:_N,defaultWidth:"wide",formattingValues:bN,defaultFormattingWidth:"wide"})};function Ll(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?CN(c,p=>p.test(l)):SN(c,p=>p.test(l));let h;h=t.valueCallback?t.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const f=e.slice(l.length);return{value:h,rest:f}}}function SN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function CN(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function EN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const TN=/^(\d+)(th|st|nd|rd)?/i,kN=/\d+/i,PN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RN={any:[/^b/i,/^(a|c)/i]},AN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MN={any:[/1/i,/2/i,/3/i,/4/i]},NN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ON={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BN={ordinalNumber:EN({matchPattern:TN,parsePattern:kN,valueCallback:t=>parseInt(t,10)}),era:Ll({matchPatterns:PN,defaultMatchWidth:"wide",parsePatterns:RN,defaultParseWidth:"any"}),quarter:Ll({matchPatterns:AN,defaultMatchWidth:"wide",parsePatterns:MN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ll({matchPatterns:NN,defaultMatchWidth:"wide",parsePatterns:DN,defaultParseWidth:"any"}),day:Ll({matchPatterns:IN,defaultMatchWidth:"wide",parsePatterns:ON,defaultParseWidth:"any"}),dayPeriod:Ll({matchPatterns:jN,defaultMatchWidth:"any",parsePatterns:LN,defaultParseWidth:"any"})},FN={code:"en-US",formatDistance:lN,formatLong:fN,formatRelative:pN,localize:xN,match:BN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VN(t){const e=is(t);return nN(e,oN(e))+1}function zN(t){const e=is(t),n=+Ud(e)-+rN(e);return Math.round(n/W3)+1}function U3(t,e){const n=is(t),r=n.getFullYear(),i=xf(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=xo(t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=yc(l,e),d=xo(t,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const h=yc(d,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function WN(t,e){const n=xf(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=U3(t,e),a=xo(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),yc(a,e)}function $N(t,e){const n=is(t),r=+yc(n,e)-+WN(n,e);return Math.round(r/W3)+1}function Xt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const bi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Xt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Xt(n+1,2)},d(t,e){return Xt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Xt(t.getHours()%12||12,e.length)},H(t,e){return Xt(t.getHours(),e.length)},m(t,e){return Xt(t.getMinutes(),e.length)},s(t,e){return Xt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xt(i,e.length)}},Jo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return bi.y(t,e)},Y:function(t,e,n,r){const i=U3(t,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return Xt(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Xt(a,e.length)},R:function(t,e){const n=$3(t);return Xt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Xt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return bi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=$N(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Xt(i,e.length)},I:function(t,e,n){const r=zN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Xt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):bi.d(t,e)},D:function(t,e,n){const r=VN(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Xt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Xt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Xt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Jo.noon:r===0?i=Jo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Jo.evening:r>=12?i=Jo.afternoon:r>=4?i=Jo.morning:i=Jo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return bi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):bi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):bi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):bi.s(t,e)},S:function(t,e){return bi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return i_(r);case"XXXX":case"XX":return ro(r);default:return ro(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return i_(r);case"xxxx":case"xx":return ro(r);default:return ro(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+s_(r,":");default:return"GMT"+ro(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+s_(r,":");default:return"GMT"+ro(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Xt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Xt(r,e.length)}};function s_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Xt(a,2)}function i_(t,e){return t%60===0?(t>0?"-":"+")+Xt(Math.abs(t)/60,2):ro(t,e)}function ro(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Xt(Math.trunc(r/60),2),a=Xt(r%60,2);return n+i+e+a}const o_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},H3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},UN=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return o_(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",o_(r,e)).replace("{{time}}",H3(i,e))},HN={p:H3,P:UN},XN=/^D+$/,qN=/^Y+$/,GN=["D","DD","YY","YYYY"];function ZN(t){return XN.test(t)}function YN(t){return qN.test(t)}function KN(t,e,n){const r=QN(t,e,n);if(console.warn(r),GN.includes(t))throw new RangeError(r)}function QN(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tD=/^'([^]*?)'?$/,nD=/''/g,rD=/[a-zA-Z]/;function Ea(t,e,n){const r=xf(),i=r.locale??FN,a=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=is(t);if(!iN(c))throw new RangeError("Invalid time value");let d=e.match(eD).map(f=>{const p=f[0];if(p==="p"||p==="P"){const _=HN[p];return _(f,i.formatLong)}return f}).join("").match(JN).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:sD(f)};if(r_[p])return{isToken:!0,value:f};if(p.match(rD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const h={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return d.map(f=>{if(!f.isToken)return f.value;const p=f.value;(YN(p)||ZN(p))&&KN(p,e,String(t));const _=r_[p[0]];return _(c,p,i.localize,h)}).join("")}function sD(t){const e=t.match(tD);return e?e[1].replace(nD,"'"):t}var iD=D.createContext(void 0);function Sf(t){const e=D.useContext(iD);return t||e||"ltr"}var Vp="rovingFocusGroup.onEntryFocus",oD={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[Zm,X3,aD]=uf(Cf),[lD,Ef]=rs(Cf,[aD]),[cD,uD]=lD(Cf),q3=D.forwardRef((t,e)=>R.jsx(Zm.Provider,{scope:t.__scopeRovingFocusGroup,children:R.jsx(Zm.Slot,{scope:t.__scopeRovingFocusGroup,children:R.jsx(dD,{...t,ref:e})})}));q3.displayName=Cf;var dD=D.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...p}=t,_=D.useRef(null),w=Bt(e,_),E=Sf(a),[b=null,x]=vo({prop:l,defaultProp:c,onChange:d}),[v,y]=D.useState(!1),m=Hn(h),A=X3(n),j=D.useRef(!1),[L,O]=D.useState(0);return D.useEffect(()=>{const V=_.current;if(V)return V.addEventListener(Vp,m),()=>V.removeEventListener(Vp,m)},[m]),R.jsx(cD,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:b,onItemFocus:D.useCallback(V=>x(V),[x]),onItemShiftTab:D.useCallback(()=>y(!0),[]),onFocusableItemAdd:D.useCallback(()=>O(V=>V+1),[]),onFocusableItemRemove:D.useCallback(()=>O(V=>V-1),[]),children:R.jsx(Et.div,{tabIndex:v||L===0?-1:0,"data-orientation":r,...p,ref:w,style:{outline:"none",...t.style},onMouseDown:tt(t.onMouseDown,()=>{j.current=!0}),onFocus:tt(t.onFocus,V=>{const q=!j.current;if(V.target===V.currentTarget&&q&&!v){const K=new CustomEvent(Vp,oD);if(V.currentTarget.dispatchEvent(K),!K.defaultPrevented){const G=A().filter(ne=>ne.focusable),P=G.find(ne=>ne.active),z=G.find(ne=>ne.id===b),W=[P,z,...G].filter(Boolean).map(ne=>ne.ref.current);Y3(W,f)}}j.current=!1}),onBlur:tt(t.onBlur,()=>y(!1))})})}),G3="RovingFocusGroupItem",Z3=D.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...l}=t,c=ms(),d=a||c,h=uD(G3,n),f=h.currentTabStopId===d,p=X3(n),{onFocusableItemAdd:_,onFocusableItemRemove:w}=h;return D.useEffect(()=>{if(r)return _(),()=>w()},[r,_,w]),R.jsx(Zm.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:R.jsx(Et.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:tt(t.onMouseDown,E=>{r?h.onItemFocus(d):E.preventDefault()}),onFocus:tt(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:tt(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){h.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const b=pD(E,h.orientation,h.dir);if(b!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let v=p().filter(y=>y.focusable).map(y=>y.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const y=v.indexOf(E.currentTarget);v=h.loop?mD(v,y+1):v.slice(y+1)}setTimeout(()=>Y3(v))}})})})});Z3.displayName=G3;var fD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pD(t,e,n){const r=hD(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fD[r]}function Y3(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function mD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var K3=q3,Q3=Z3,b0="Tabs",[gD]=rs(b0,[Ef]),J3=Ef(),[vD,w0]=gD(b0),e5=D.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=t,f=Sf(c),[p,_]=vo({prop:r,onChange:i,defaultProp:a});return R.jsx(vD,{scope:n,baseId:ms(),value:p,onValueChange:_,orientation:l,dir:f,activationMode:d,children:R.jsx(Et.div,{dir:f,"data-orientation":l,...h,ref:e})})});e5.displayName=b0;var t5="TabsList",n5=D.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=w0(t5,n),l=J3(n);return R.jsx(K3,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:R.jsx(Et.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});n5.displayName=t5;var r5="TabsTrigger",s5=D.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,l=w0(r5,n),c=J3(n),d=a5(l.baseId,r),h=l5(l.baseId,r),f=r===l.value;return R.jsx(Q3,{asChild:!0,...c,focusable:!i,active:f,children:R.jsx(Et.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:e,onMouseDown:tt(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:tt(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:tt(t.onFocus,()=>{const p=l.activationMode!=="manual";!f&&!i&&p&&l.onValueChange(r)})})})});s5.displayName=r5;var i5="TabsContent",o5=D.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...l}=t,c=w0(i5,n),d=a5(c.baseId,r),h=l5(c.baseId,r),f=r===c.value,p=D.useRef(f);return D.useEffect(()=>{const _=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(_)},[]),R.jsx(ss,{present:i||f,children:({present:_})=>R.jsx(Et.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!_,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:_&&a})})});o5.displayName=i5;function a5(t,e){return`${t}-trigger-${e}`}function l5(t,e){return`${t}-content-${e}`}var yD=e5,c5=n5,u5=s5,d5=o5;const _D=yD,f5=D.forwardRef(({className:t,...e},n)=>R.jsx(c5,{ref:n,className:bt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));f5.displayName=c5.displayName;const Ym=D.forwardRef(({className:t,...e},n)=>R.jsx(u5,{ref:n,className:bt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ym.displayName=u5.displayName;const Km=D.forwardRef(({className:t,...e},n)=>R.jsx(d5,{ref:n,className:bt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Km.displayName=d5.displayName;const x0=G1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Gt=D.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?nk:"button";return R.jsx(l,{className:bt(x0({variant:e,size:n,className:t})),ref:a,...i})});Gt.displayName="Button";const Qm=(t,e)=>e.some(n=>t instanceof n);let a_,l_;function bD(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wD(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jm=new WeakMap,zp=new WeakMap,Tf=new WeakMap;function xD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(fo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return Tf.set(e,t),e}function SD(t){if(Jm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Jm.set(t,e)}let e1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h5(t){e1=t(e1)}function CD(t){return wD().includes(t)?function(...e){return t.apply(t1(this),e),fo(this.request)}:function(...e){return fo(t.apply(t1(this),e))}}function ED(t){return typeof t=="function"?CD(t):(t instanceof IDBTransaction&&SD(t),Qm(t,bD())?new Proxy(t,e1):t)}function fo(t){if(t instanceof IDBRequest)return xD(t);if(zp.has(t))return zp.get(t);const e=ED(t);return e!==t&&(zp.set(t,e),Tf.set(e,t)),e}const t1=t=>Tf.get(t);function TD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=fo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(fo(l.result),d.oldVersion,d.newVersion,fo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const kD=["get","getKey","getAll","getAllKeys","count"],PD=["put","add","delete","clear"],Wp=new Map;function c_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kD.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return Wp.set(e,a),a}h5(t=>({...t,get:(e,n,r)=>c_(e,n)||t.get(e,n,r),has:(e,n)=>!!c_(e,n)||t.has(e,n)}));const RD=["continue","continuePrimaryKey","advance"],u_={},n1=new WeakMap,p5=new WeakMap,AD={get(t,e){if(!RD.includes(e))return t[e];let n=u_[e];return n||(n=u_[e]=function(...r){n1.set(this,p5.get(this)[e](...r))}),n}};async function*MD(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,AD);for(p5.set(n,e),Tf.set(n,t1(e));e;)yield n,e=await(n1.get(n)||e.continue()),n1.delete(n)}function d_(t,e){return e===Symbol.asyncIterator&&Qm(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Qm(t,[IDBIndex,IDBObjectStore])}h5(t=>({...t,get(e,n,r){return d_(e,n)?MD:t.get(e,n,r)},has(e,n){return d_(e,n)||t.has(e,n)}}));const ND="flagit-db",_c="audio";async function S0(){return TD(ND,2,{upgrade(t,e){t.objectStoreNames.contains(_c)||t.createObjectStore(_c)}})}async function m5(t,e){await(await S0()).put(_c,e,t)}async function r1(t){return await(await S0()).get(_c,t)}async function DD(t){await(await S0()).delete(_c,t)}function td(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $p={exports:{}};var f_;function ID(){return f_||(f_=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,a){function l(h,f){if(!i[h]){if(!r[h]){var p=typeof td=="function"&&td;if(!f&&p)return p(h,!0);if(c)return c(h,!0);var _=new Error("Cannot find module '"+h+"'");throw _.code="MODULE_NOT_FOUND",_}var w=i[h]={exports:{}};r[h][0].call(w.exports,function(E){var b=r[h][1][E];return l(b||E)},w,w.exports,n,r,i,a)}return i[h].exports}for(var c=typeof td=="function"&&td,d=0;d<a.length;d++)l(a[d]);return l})({1:[function(n,r,i){var a=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,p,_,w,E,b,x=[],v=0,y=d.length,m=y,A=a.getTypeOf(d)!=="string";v<d.length;)m=y-v,p=A?(h=d[v++],f=v<y?d[v++]:0,v<y?d[v++]:0):(h=d.charCodeAt(v++),f=v<y?d.charCodeAt(v++):0,v<y?d.charCodeAt(v++):0),_=h>>2,w=(3&h)<<4|f>>4,E=1<m?(15&f)<<2|p>>6:64,b=2<m?63&p:64,x.push(c.charAt(_)+c.charAt(w)+c.charAt(E)+c.charAt(b));return x.join("")},i.decode=function(d){var h,f,p,_,w,E,b=0,x=0,v="data:";if(d.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,m=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&m--,d.charAt(d.length-2)===c.charAt(64)&&m--,m%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=l.uint8array?new Uint8Array(0|m):new Array(0|m);b<d.length;)h=c.indexOf(d.charAt(b++))<<2|(_=c.indexOf(d.charAt(b++)))>>4,f=(15&_)<<4|(w=c.indexOf(d.charAt(b++)))>>2,p=(3&w)<<6|(E=c.indexOf(d.charAt(b++))),y[x++]=h,w!==64&&(y[x++]=f),E!==64&&(y[x++]=p);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function h(f,p,_,w,E){this.compressedSize=f,this.uncompressedSize=p,this.crc32=_,this.compression=w,this.compressedContent=E}h.prototype={getContentWorker:function(){var f=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,_){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(p.compressWorker(_)).pipe(new d("compressedSize")).withStreamInfo("compression",p)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),l=(function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d})();r.exports=function(c,d){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(h,f,p,_){var w=l,E=_+p;h^=-1;for(var b=_;b<E;b++)h=h>>>8^w[255&(h^f[b])];return-1^h})(0|d,c,c.length,0):(function(h,f,p,_){var w=l,E=_+p;h^=-1;for(var b=_;b<E;b++)h=h>>>8^w[255&(h^f.charCodeAt(b))];return-1^h})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),d=n("./stream/GenericWorker"),h=a?"uint8array":"array";function f(p,_){d.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=_,this.meta={}}i.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,p.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(_){p.push({data:_,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(w,E){var b,x="";for(b=0;b<E;b++)x+=String.fromCharCode(255&w),w>>>=8;return x}function l(w,E,b,x,v,y){var m,A,j=w.file,L=w.compression,O=y!==h.utf8encode,V=c.transformTo("string",y(j.name)),q=c.transformTo("string",h.utf8encode(j.name)),K=j.comment,G=c.transformTo("string",y(K)),P=c.transformTo("string",h.utf8encode(K)),z=q.length!==j.name.length,S=P.length!==K.length,W="",ne="",Y="",U=j.dir,Z=j.date,X={crc32:0,compressedSize:0,uncompressedSize:0};E&&!b||(X.crc32=w.crc32,X.compressedSize=w.compressedSize,X.uncompressedSize=w.uncompressedSize);var C=0;E&&(C|=8),O||!z&&!S||(C|=2048);var T=0,I=0;U&&(T|=16),v==="UNIX"?(I=798,T|=(function(H,ae){var le=H;return H||(le=ae?16893:33204),(65535&le)<<16})(j.unixPermissions,U)):(I=20,T|=(function(H){return 63&(H||0)})(j.dosPermissions)),m=Z.getUTCHours(),m<<=6,m|=Z.getUTCMinutes(),m<<=5,m|=Z.getUTCSeconds()/2,A=Z.getUTCFullYear()-1980,A<<=4,A|=Z.getUTCMonth()+1,A<<=5,A|=Z.getUTCDate(),z&&(ne=a(1,1)+a(f(V),4)+q,W+="up"+a(ne.length,2)+ne),S&&(Y=a(1,1)+a(f(G),4)+P,W+="uc"+a(Y.length,2)+Y);var F="";return F+=`
\0`,F+=a(C,2),F+=L.magic,F+=a(m,2),F+=a(A,2),F+=a(X.crc32,4),F+=a(X.compressedSize,4),F+=a(X.uncompressedSize,4),F+=a(V.length,2),F+=a(W.length,2),{fileRecord:p.LOCAL_FILE_HEADER+F+V+W,dirRecord:p.CENTRAL_FILE_HEADER+a(I,2)+F+a(G.length,2)+"\0\0\0\0"+a(T,4)+a(x,4)+V+W+G}}var c=n("../utils"),d=n("../stream/GenericWorker"),h=n("../utf8"),f=n("../crc32"),p=n("../signature");function _(w,E,b,x){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=b,this.encodeFileName=x,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(_,d),_.prototype.push=function(w){var E=w.meta.percent||0,b=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,d.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:b?(E+100*(b-x-1))/b:100}}))},_.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var E=this.streamFiles&&!w.file.dir;if(E){var b=l(w,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(w){this.accumulate=!1;var E=this.streamFiles&&!w.file.dir,b=l(w,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),E)this.push({data:(function(x){return p.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)})(w),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var w=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var b=this.bytesWritten-w,x=(function(v,y,m,A,j){var L=c.transformTo("string",j(A));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(y,4)+a(m,4)+a(L.length,2)+L})(this.dirRecords.length,b,w,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(w){this._sources.push(w);var E=this;return w.on("data",function(b){E.processChunk(b)}),w.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),w.on("error",function(b){E.error(b)}),this},_.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(w){var E=this._sources;if(!d.prototype.error.call(this,w))return!1;for(var b=0;b<E.length;b++)try{E[b].error(w)}catch{}return!0},_.prototype.lock=function(){d.prototype.lock.call(this);for(var w=this._sources,E=0;E<w.length;E++)w[E].lock()},r.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),l=n("./ZipFileWorker");i.generateWorker=function(c,d,h){var f=new l(d.streamFiles,h,d.platform,d.encodeFileName),p=0;try{c.forEach(function(_,w){p++;var E=(function(y,m){var A=y||m,j=a[A];if(!j)throw new Error(A+" is not a valid compression method !");return j})(w.options.compression,d.compression),b=w.options.compressionOptions||d.compressionOptions||{},x=w.dir,v=w.date;w._compressWorker(E,b).withStreamInfo("file",{name:_,dir:x,date:v,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(_){f.error(_)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(l,c){return new a().loadAsync(l,c)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),l=n("./external"),c=n("./utf8"),d=n("./zipEntries"),h=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function p(_){return new l.Promise(function(w,E){var b=_.decompressed.getContentWorker().pipe(new h);b.on("error",function(x){E(x)}).on("end",function(){b.streamInfo.crc32!==_.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}r.exports=function(_,w){var E=this;return w=a.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(_)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",_,!0,w.optimizedBinaryString,w.base64).then(function(b){var x=new d(w);return x.load(b),x}).then(function(b){var x=[l.Promise.resolve(b)],v=b.files;if(w.checkCRC32)for(var y=0;y<v.length;y++)x.push(p(v[y]));return l.Promise.all(x)}).then(function(b){for(var x=b.shift(),v=x.files,y=0;y<v.length;y++){var m=v[y],A=m.fileNameStr,j=a.resolve(m.fileNameStr);E.file(j,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileCommentStr.length?m.fileCommentStr:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:w.createFolders}),m.dir||(E.file(j).unsafeOriginalName=A)}return x.zipComment.length&&(E.comment=x.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),l=n("../stream/GenericWorker");function c(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}a.inherits(c,l),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function l(c,d,h){a.call(this,d),this._helper=c;var f=this;c.on("data",function(p,_){f.push(p)||f._helper.pause(),h&&h(_)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}n("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(j,L,O){var V,q=c.getTypeOf(L),K=c.extend(O||{},f);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(j=v(j)),K.createFolders&&(V=x(j))&&y.call(this,V,!0);var G=q==="string"&&K.binary===!1&&K.base64===!1;O&&O.binary!==void 0||(K.binary=!G),(L instanceof p&&L.uncompressedSize===0||K.dir||!L||L.length===0)&&(K.base64=!1,K.binary=!0,L="",K.compression="STORE",q="string");var P=null;P=L instanceof p||L instanceof d?L:E.isNode&&E.isStream(L)?new b(j,L):c.prepareContent(j,L,K.binary,K.optimizedBinaryString,K.base64);var z=new _(j,P,K);this.files[j]=z}var l=n("./utf8"),c=n("./utils"),d=n("./stream/GenericWorker"),h=n("./stream/StreamHelper"),f=n("./defaults"),p=n("./compressedObject"),_=n("./zipObject"),w=n("./generate"),E=n("./nodejsUtils"),b=n("./nodejs/NodejsStreamInputAdapter"),x=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var L=j.lastIndexOf("/");return 0<L?j.substring(0,L):""},v=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},y=function(j,L){return L=L!==void 0?L:f.createFolders,j=v(j),this.files[j]||a.call(this,j,null,{dir:!0,createFolders:L}),this.files[j]};function m(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var L,O,V;for(L in this.files)V=this.files[L],(O=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&j(O,V)},filter:function(j){var L=[];return this.forEach(function(O,V){j(O,V)&&L.push(V)}),L},file:function(j,L,O){if(arguments.length!==1)return j=this.root+j,a.call(this,j,L,O),this;if(m(j)){var V=j;return this.filter(function(K,G){return!G.dir&&V.test(K)})}var q=this.files[this.root+j];return q&&!q.dir?q:null},folder:function(j){if(!j)return this;if(m(j))return this.filter(function(q,K){return K.dir&&j.test(q)});var L=this.root+j,O=y.call(this,L),V=this.clone();return V.root=O.name,V},remove:function(j){j=this.root+j;var L=this.files[j];if(L||(j.slice(-1)!=="/"&&(j+="/"),L=this.files[j]),L&&!L.dir)delete this.files[j];else for(var O=this.filter(function(q,K){return K.name.slice(0,j.length)===j}),V=0;V<O.length;V++)delete this.files[O[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var L,O={};try{if((O=c.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");c.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var V=O.comment||this.comment||"";L=w.generateWorker(this,O,V)}catch(q){(L=new d("error")).error(q)}return new h(L,O.type||"string",O.mimeType)},generateAsync:function(j,L){return this.generateInternalStream(j).accumulate(L)},generateNodeStream:function(j,L){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(L)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function l(c){a.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}n("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===d&&this.data[_+1]===h&&this.data[_+2]===f&&this.data[_+3]===p)return _-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),_=this.readData(4);return d===_[0]&&h===_[1]&&f===_[2]&&p===_[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),l=n("../support"),c=n("./ArrayReader"),d=n("./StringReader"),h=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(p){var _=a.getTypeOf(p);return a.checkSupport(_),_!=="string"||l.uint8array?_==="nodebuffer"?new h(p):l.uint8array?new f(a.transformTo("uint8array",p)):new c(a.transformTo("array",p)):new d(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),l=n("../utils");function c(d){a.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,a),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),l=n("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,a),c.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),l=n("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(c,l),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),l=n("./GenericWorker");function c(d){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=a.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}a.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),d=n("../base64"),h=n("../support"),f=n("../external"),p=null;if(h.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(E,b){return new f.Promise(function(x,v){var y=[],m=E._internalType,A=E._outputType,j=E._mimeType;E.on("data",function(L,O){y.push(L),b&&b(O)}).on("error",function(L){y=[],v(L)}).on("end",function(){try{var L=(function(O,V,q){switch(O){case"blob":return a.newBlob(a.transformTo("arraybuffer",V),q);case"base64":return d.encode(V);default:return a.transformTo(O,V)}})(A,(function(O,V){var q,K=0,G=null,P=0;for(q=0;q<V.length;q++)P+=V[q].length;switch(O){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(G=new Uint8Array(P),q=0;q<V.length;q++)G.set(V[q],K),K+=V[q].length;return G;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+O+"'")}})(m,y),j);x(L)}catch(O){v(O)}y=[]}).resume()})}function w(E,b,x){var v=b;switch(b){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=b,this._mimeType=x,a.checkSupport(v),this._worker=E.pipe(new l(v)),E.lock()}catch(y){this._worker=new c("error"),this._worker.error(y)}}w.prototype={accumulate:function(E){return _(this,E)},on:function(E,b){var x=this;return E==="data"?this._worker.on(E,function(v){b.call(x,v.data,v.meta)}):this._worker.on(E,function(){a.delay(b,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},E)}},r.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),d=n("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){d.call(this,"utf-8 decode"),this.leftOver=null}function _(){d.call(this,"utf-8 encode")}i.utf8encode=function(w){return l.nodebuffer?c.newBufferFrom(w,"utf-8"):(function(E){var b,x,v,y,m,A=E.length,j=0;for(y=0;y<A;y++)(64512&(x=E.charCodeAt(y)))==55296&&y+1<A&&(64512&(v=E.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),y++),j+=x<128?1:x<2048?2:x<65536?3:4;for(b=l.uint8array?new Uint8Array(j):new Array(j),y=m=0;m<j;y++)(64512&(x=E.charCodeAt(y)))==55296&&y+1<A&&(64512&(v=E.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),y++),x<128?b[m++]=x:(x<2048?b[m++]=192|x>>>6:(x<65536?b[m++]=224|x>>>12:(b[m++]=240|x>>>18,b[m++]=128|x>>>12&63),b[m++]=128|x>>>6&63),b[m++]=128|63&x);return b})(w)},i.utf8decode=function(w){return l.nodebuffer?a.transformTo("nodebuffer",w).toString("utf-8"):(function(E){var b,x,v,y,m=E.length,A=new Array(2*m);for(b=x=0;b<m;)if((v=E[b++])<128)A[x++]=v;else if(4<(y=h[v]))A[x++]=65533,b+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&b<m;)v=v<<6|63&E[b++],y--;1<y?A[x++]=65533:v<65536?A[x++]=v:(v-=65536,A[x++]=55296|v>>10&1023,A[x++]=56320|1023&v)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),a.applyFromCharCode(A)})(w=a.transformTo(l.uint8array?"uint8array":"array",w))},a.inherits(p,d),p.prototype.processChunk=function(w){var E=a.transformTo(l.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var b=E;(E=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),E.set(b,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var x=(function(y,m){var A;for((m=m||y.length)>y.length&&(m=y.length),A=m-1;0<=A&&(192&y[A])==128;)A--;return A<0||A===0?m:A+h[y[A]]>m?A:m})(E),v=E;x!==E.length&&(l.uint8array?(v=E.subarray(0,x),this.leftOver=E.subarray(x,E.length)):(v=E.slice(0,x),this.leftOver=E.slice(x,E.length))),this.push({data:i.utf8decode(v),meta:w.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,a.inherits(_,d),_.prototype.processChunk=function(w){this.push({data:i.utf8encode(w.data),meta:w.meta})},i.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),d=n("./external");function h(b){return b}function f(b,x){for(var v=0;v<b.length;++v)x[v]=255&b.charCodeAt(v);return x}n("setimmediate"),i.newBlob=function(b,x){i.checkSupport("blob");try{return new Blob([b],{type:x})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(b),v.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(b,x,v){var y=[],m=0,A=b.length;if(A<=v)return String.fromCharCode.apply(null,b);for(;m<A;)x==="array"||x==="nodebuffer"?y.push(String.fromCharCode.apply(null,b.slice(m,Math.min(m+v,A)))):y.push(String.fromCharCode.apply(null,b.subarray(m,Math.min(m+v,A)))),m+=v;return y.join("")},stringifyByChar:function(b){for(var x="",v=0;v<b.length;v++)x+=String.fromCharCode(b[v]);return x},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function _(b){var x=65536,v=i.getTypeOf(b),y=!0;if(v==="uint8array"?y=p.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=p.applyCanBeUsed.nodebuffer),y)for(;1<x;)try{return p.stringifyByChunk(b,v,x)}catch{x=Math.floor(x/2)}return p.stringifyByChar(b)}function w(b,x){for(var v=0;v<b.length;v++)x[v]=b[v];return x}i.applyFromCharCode=_;var E={};E.string={string:h,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return E.string.uint8array(b).buffer},uint8array:function(b){return f(b,new Uint8Array(b.length))},nodebuffer:function(b){return f(b,c.allocBuffer(b.length))}},E.array={string:_,array:h,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(b)}},E.arraybuffer={string:function(b){return _(new Uint8Array(b))},array:function(b){return w(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(new Uint8Array(b))}},E.uint8array={string:_,array:function(b){return w(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:h,nodebuffer:function(b){return c.newBufferFrom(b)}},E.nodebuffer={string:_,array:function(b){return w(b,new Array(b.length))},arraybuffer:function(b){return E.nodebuffer.uint8array(b).buffer},uint8array:function(b){return w(b,new Uint8Array(b.length))},nodebuffer:h},i.transformTo=function(b,x){if(x=x||"",!b)return x;i.checkSupport(b);var v=i.getTypeOf(x);return E[v][b](x)},i.resolve=function(b){for(var x=b.split("/"),v=[],y=0;y<x.length;y++){var m=x[y];m==="."||m===""&&y!==0&&y!==x.length-1||(m===".."?v.pop():v.push(m))}return v.join("/")},i.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(b)?"nodebuffer":a.uint8array&&b instanceof Uint8Array?"uint8array":a.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(b){if(!a[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var x,v,y="";for(v=0;v<(b||"").length;v++)y+="\\x"+((x=b.charCodeAt(v))<16?"0":"")+x.toString(16).toUpperCase();return y},i.delay=function(b,x,v){setImmediate(function(){b.apply(v||null,x||[])})},i.inherits=function(b,x){function v(){}v.prototype=x.prototype,b.prototype=new v},i.extend=function(){var b,x,v={};for(b=0;b<arguments.length;b++)for(x in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],x)&&v[x]===void 0&&(v[x]=arguments[b][x]);return v},i.prepareContent=function(b,x,v,y,m){return d.Promise.resolve(x).then(function(A){return a.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new d.Promise(function(j,L){var O=new FileReader;O.onload=function(V){j(V.target.result)},O.onerror=function(V){L(V.target.error)},O.readAsArrayBuffer(A)}):A}).then(function(A){var j=i.getTypeOf(A);return j?(j==="arraybuffer"?A=i.transformTo("uint8array",A):j==="string"&&(m?A=l.decode(A):v&&y!==!0&&(A=(function(L){return f(L,a.uint8array?new Uint8Array(L.length):new Array(L.length))})(A))),A):d.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),d=n("./zipEntry"),h=n("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(_)+", expected "+l.pretty(p)+")")}},isSignature:function(p,_){var w=this.reader.index;this.reader.setIndex(p);var E=this.reader.readString(4)===_;return this.reader.setIndex(w),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),_=h.uint8array?"uint8array":"array",w=l.transformTo(_,p);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,_,w,E=this.zip64EndOfCentralSize-44;0<E;)p=this.reader.readInt(2),_=this.reader.readInt(4),w=this.reader.readData(_),this.zip64ExtensibleData[p]={id:p,length:_,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,_;for(p=0;p<this.files.length;p++)_=this.files[p],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(p=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var _=p;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var E=_-w;if(0<E)this.isSignature(_,c.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(p){this.reader=a(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),d=n("./crc32"),h=n("./utf8"),f=n("./compressions"),p=n("./support");function _(w,E){this.options=w,this.loadOptions=E}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var E,b;if(w.skip(22),this.fileNameLength=w.readInt(2),b=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=(function(x){for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)&&f[v].magic===x)return f[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,E,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var E=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(E),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var E,b,x,v=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<v;)E=w.readInt(2),b=w.readInt(2),x=w.readData(b),this.extraFields[E]={id:E,length:b,value:x};w.setIndex(v)},handleUTF8:function(){var w=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var b=l.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var v=l.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var E=a(w.value);return E.readInt(1)!==1||d(this.fileName)!==E.readInt(4)?null:h.utf8decode(E.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var E=a(w.value);return E.readInt(1)!==1||d(this.fileComment)!==E.readInt(4)?null:h.utf8decode(E.readData(w.length-5))}return null}},r.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(E,b,x){this.name=E,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=b,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var l=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),d=n("./utf8"),h=n("./compressedObject"),f=n("./stream/GenericWorker");a.prototype={internalStream:function(E){var b=null,x="string";try{if(!E)throw new Error("No output type specified.");var v=(x=E.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),b=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(b=b.pipe(new d.Utf8EncodeWorker)),!y&&v&&(b=b.pipe(new d.Utf8DecodeWorker))}catch(m){(b=new f("error")).error(m)}return new l(b,x,"")},async:function(E,b){return this.internalStream(E).accumulate(b)},nodeStream:function(E,b){return this.internalStream(E||"nodebuffer").toNodejsStream(b)},_compressWorker:function(E,b){if(this._data instanceof h&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(x,E,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<p.length;w++)a.prototype[p[w]]=_;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var l,c,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var h=0,f=new d(E),p=a.document.createTextNode("");f.observe(p,{characterData:!0}),l=function(){p.data=h=++h%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){E(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(E,0)};else{var _=new a.MessageChannel;_.port1.onmessage=E,l=function(){_.port2.postMessage(0)}}var w=[];function E(){var b,x;c=!0;for(var v=w.length;v;){for(x=w,w=[],b=-1;++b<v;)x[b]();v=w.length}c=!1}r.exports=function(b){w.push(b)!==1||c||l()}}).call(this,typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,v!==l&&b(this,v)}function _(v,y,m){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof m=="function"&&(this.onRejected=m,this.callRejected=this.otherCallRejected)}function w(v,y,m){a(function(){var A;try{A=y(m)}catch(j){return c.reject(v,j)}A===v?c.reject(v,new TypeError("Cannot resolve promise with itself")):c.resolve(v,A)})}function E(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function b(v,y){var m=!1;function A(O){m||(m=!0,c.reject(v,O))}function j(O){m||(m=!0,c.resolve(v,O))}var L=x(function(){y(j,A)});L.status==="error"&&A(L.value)}function x(v,y){var m={};try{m.value=v(y),m.status="success"}catch(A){m.status="error",m.value=A}return m}(r.exports=p).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(m){return y.resolve(v()).then(function(){return m})},function(m){return y.resolve(v()).then(function(){throw m})})},p.prototype.catch=function(v){return this.then(null,v)},p.prototype.then=function(v,y){if(typeof v!="function"&&this.state===h||typeof y!="function"&&this.state===d)return this;var m=new this.constructor(l);return this.state!==f?w(m,this.state===h?v:y,this.outcome):this.queue.push(new _(m,v,y)),m},_.prototype.callFulfilled=function(v){c.resolve(this.promise,v)},_.prototype.otherCallFulfilled=function(v){w(this.promise,this.onFulfilled,v)},_.prototype.callRejected=function(v){c.reject(this.promise,v)},_.prototype.otherCallRejected=function(v){w(this.promise,this.onRejected,v)},c.resolve=function(v,y){var m=x(E,y);if(m.status==="error")return c.reject(v,m.value);var A=m.value;if(A)b(v,A);else{v.state=h,v.outcome=y;for(var j=-1,L=v.queue.length;++j<L;)v.queue[j].callFulfilled(y)}return v},c.reject=function(v,y){v.state=d,v.outcome=y;for(var m=-1,A=v.queue.length;++m<A;)v.queue[m].callRejected(y);return v},p.resolve=function(v){return v instanceof this?v:c.resolve(new this(l),v)},p.reject=function(v){var y=new this(l);return c.reject(y,v)},p.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=v.length,A=!1;if(!m)return this.resolve([]);for(var j=new Array(m),L=0,O=-1,V=new this(l);++O<m;)q(v[O],O);return V;function q(K,G){y.resolve(K).then(function(P){j[G]=P,++L!==m||A||(A=!0,c.resolve(V,j))},function(P){A||(A=!0,c.reject(V,P))})}},p.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=v.length,A=!1;if(!m)return this.resolve([]);for(var j=-1,L=new this(l);++j<m;)O=v[j],y.resolve(O).then(function(V){A||(A=!0,c.resolve(L,V))},function(V){A||(A=!0,c.reject(L,V))});var O;return L}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/messages"),h=n("./zlib/zstream"),f=Object.prototype.toString,p=0,_=-1,w=0,E=8;function b(v){if(!(this instanceof b))return new b(v);this.options=l.assign({level:_,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var m=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(m!==p)throw new Error(d[m]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var A;if(A=typeof y.dictionary=="string"?c.string2buf(y.dictionary):f.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(m=a.deflateSetDictionary(this.strm,A))!==p)throw new Error(d[m]);this._dict_set=!0}}function x(v,y){var m=new b(y);if(m.push(v,!0),m.err)throw m.msg||d[m.err];return m.result}b.prototype.push=function(v,y){var m,A,j=this.strm,L=this.options.chunkSize;if(this.ended)return!1;A=y===~~y?y:y===!0?4:0,typeof v=="string"?j.input=c.string2buf(v):f.call(v)==="[object ArrayBuffer]"?j.input=new Uint8Array(v):j.input=v,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new l.Buf8(L),j.next_out=0,j.avail_out=L),(m=a.deflate(j,A))!==1&&m!==p)return this.onEnd(m),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(j.output,j.next_out))):this.onData(l.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&m!==1);return A===4?(m=a.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===p):A!==2||(this.onEnd(p),!(j.avail_out=0))},b.prototype.onData=function(v){this.chunks.push(v)},b.prototype.onEnd=function(v){v===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=b,i.deflate=x,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,x(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,x(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/constants"),h=n("./zlib/messages"),f=n("./zlib/zstream"),p=n("./zlib/gzheader"),_=Object.prototype.toString;function w(b){if(!(this instanceof w))return new w(b);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},b||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||b&&b.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,x.windowBits);if(v!==d.Z_OK)throw new Error(h[v]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function E(b,x){var v=new w(x);if(v.push(b,!0),v.err)throw v.msg||h[v.err];return v.result}w.prototype.push=function(b,x){var v,y,m,A,j,L,O=this.strm,V=this.options.chunkSize,q=this.options.dictionary,K=!1;if(this.ended)return!1;y=x===~~x?x:x===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof b=="string"?O.input=c.binstring2buf(b):_.call(b)==="[object ArrayBuffer]"?O.input=new Uint8Array(b):O.input=b,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(V),O.next_out=0,O.avail_out=V),(v=a.inflate(O,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&q&&(L=typeof q=="string"?c.string2buf(q):_.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,v=a.inflateSetDictionary(this.strm,L)),v===d.Z_BUF_ERROR&&K===!0&&(v=d.Z_OK,K=!1),v!==d.Z_STREAM_END&&v!==d.Z_OK)return this.onEnd(v),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&v!==d.Z_STREAM_END&&(O.avail_in!==0||y!==d.Z_FINISH&&y!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(m=c.utf8border(O.output,O.next_out),A=O.next_out-m,j=c.buf2string(O.output,m),O.next_out=A,O.avail_out=V-A,A&&l.arraySet(O.output,O.output,m,A,0),this.onData(j)):this.onData(l.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(K=!0)}while((0<O.avail_in||O.avail_out===0)&&v!==d.Z_STREAM_END);return v===d.Z_STREAM_END&&(y=d.Z_FINISH),y===d.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===d.Z_OK):y!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(O.avail_out=0))},w.prototype.onData=function(b){this.chunks.push(b)},w.prototype.onEnd=function(b){b===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Inflate=w,i.inflate=E,i.inflateRaw=function(b,x){return(x=x||{}).raw=!0,E(b,x)},i.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,f,p,_){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+p),_);else for(var w=0;w<p;w++)d[_+w]=h[f+w]},flattenChunks:function(d){var h,f,p,_,w,E;for(h=p=0,f=d.length;h<f;h++)p+=d[h].length;for(E=new Uint8Array(p),h=_=0,f=d.length;h<f;h++)w=d[h],E.set(w,_),_+=w.length;return E}},c={arraySet:function(d,h,f,p,_){for(var w=0;w<p;w++)d[_+w]=h[f+w]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new a.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,_){if(_<65537&&(p.subarray&&c||!p.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(p,_));for(var w="",E=0;E<_;E++)w+=String.fromCharCode(p[E]);return w}d[254]=d[254]=1,i.string2buf=function(p){var _,w,E,b,x,v=p.length,y=0;for(b=0;b<v;b++)(64512&(w=p.charCodeAt(b)))==55296&&b+1<v&&(64512&(E=p.charCodeAt(b+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),b++),y+=w<128?1:w<2048?2:w<65536?3:4;for(_=new a.Buf8(y),b=x=0;x<y;b++)(64512&(w=p.charCodeAt(b)))==55296&&b+1<v&&(64512&(E=p.charCodeAt(b+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),b++),w<128?_[x++]=w:(w<2048?_[x++]=192|w>>>6:(w<65536?_[x++]=224|w>>>12:(_[x++]=240|w>>>18,_[x++]=128|w>>>12&63),_[x++]=128|w>>>6&63),_[x++]=128|63&w);return _},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var _=new a.Buf8(p.length),w=0,E=_.length;w<E;w++)_[w]=p.charCodeAt(w);return _},i.buf2string=function(p,_){var w,E,b,x,v=_||p.length,y=new Array(2*v);for(w=E=0;w<v;)if((b=p[w++])<128)y[E++]=b;else if(4<(x=d[b]))y[E++]=65533,w+=x-1;else{for(b&=x===2?31:x===3?15:7;1<x&&w<v;)b=b<<6|63&p[w++],x--;1<x?y[E++]=65533:b<65536?y[E++]=b:(b-=65536,y[E++]=55296|b>>10&1023,y[E++]=56320|1023&b)}return f(y,E)},i.utf8border=function(p,_){var w;for((_=_||p.length)>p.length&&(_=p.length),w=_-1;0<=w&&(192&p[w])==128;)w--;return w<0||w===0?_:w+d[p[w]]>_?w:_}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,l,c,d){for(var h=65535&a|0,f=a>>>16&65535|0,p=0;c!==0;){for(c-=p=2e3<c?2e3:c;f=f+(h=h+l[d++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=(function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c})();r.exports=function(l,c,d,h){var f=a,p=h+d;l^=-1;for(var _=h;_<p;_++)l=l>>>8^f[255&(l^c[_])];return-1^l}},{}],46:[function(n,r,i){var a,l=n("../utils/common"),c=n("./trees"),d=n("./adler32"),h=n("./crc32"),f=n("./messages"),p=0,_=4,w=0,E=-2,b=-1,x=4,v=2,y=8,m=9,A=286,j=30,L=19,O=2*A+1,V=15,q=3,K=258,G=K+q+1,P=42,z=113,S=1,W=2,ne=3,Y=4;function U(B,ve){return B.msg=f[ve],ve}function Z(B){return(B<<1)-(4<B?9:0)}function X(B){for(var ve=B.length;0<=--ve;)B[ve]=0}function C(B){var ve=B.state,pe=ve.pending;pe>B.avail_out&&(pe=B.avail_out),pe!==0&&(l.arraySet(B.output,ve.pending_buf,ve.pending_out,pe,B.next_out),B.next_out+=pe,ve.pending_out+=pe,B.total_out+=pe,B.avail_out-=pe,ve.pending-=pe,ve.pending===0&&(ve.pending_out=0))}function T(B,ve){c._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ve),B.block_start=B.strstart,C(B.strm)}function I(B,ve){B.pending_buf[B.pending++]=ve}function F(B,ve){B.pending_buf[B.pending++]=ve>>>8&255,B.pending_buf[B.pending++]=255&ve}function H(B,ve){var pe,ie,se=B.max_chain_length,M=B.strstart,$=B.prev_length,we=B.nice_match,fe=B.strstart>B.w_size-G?B.strstart-(B.w_size-G):0,Ne=B.window,Oe=B.w_mask,Re=B.prev,Le=B.strstart+K,Qe=Ne[M+$-1],He=Ne[M+$];B.prev_length>=B.good_match&&(se>>=2),we>B.lookahead&&(we=B.lookahead);do if(Ne[(pe=ve)+$]===He&&Ne[pe+$-1]===Qe&&Ne[pe]===Ne[M]&&Ne[++pe]===Ne[M+1]){M+=2,pe++;do;while(Ne[++M]===Ne[++pe]&&Ne[++M]===Ne[++pe]&&Ne[++M]===Ne[++pe]&&Ne[++M]===Ne[++pe]&&Ne[++M]===Ne[++pe]&&Ne[++M]===Ne[++pe]&&Ne[++M]===Ne[++pe]&&Ne[++M]===Ne[++pe]&&M<Le);if(ie=K-(Le-M),M=Le-K,$<ie){if(B.match_start=ve,we<=($=ie))break;Qe=Ne[M+$-1],He=Ne[M+$]}}while((ve=Re[ve&Oe])>fe&&--se!=0);return $<=B.lookahead?$:B.lookahead}function ae(B){var ve,pe,ie,se,M,$,we,fe,Ne,Oe,Re=B.w_size;do{if(se=B.window_size-B.lookahead-B.strstart,B.strstart>=Re+(Re-G)){for(l.arraySet(B.window,B.window,Re,Re,0),B.match_start-=Re,B.strstart-=Re,B.block_start-=Re,ve=pe=B.hash_size;ie=B.head[--ve],B.head[ve]=Re<=ie?ie-Re:0,--pe;);for(ve=pe=Re;ie=B.prev[--ve],B.prev[ve]=Re<=ie?ie-Re:0,--pe;);se+=Re}if(B.strm.avail_in===0)break;if($=B.strm,we=B.window,fe=B.strstart+B.lookahead,Ne=se,Oe=void 0,Oe=$.avail_in,Ne<Oe&&(Oe=Ne),pe=Oe===0?0:($.avail_in-=Oe,l.arraySet(we,$.input,$.next_in,Oe,fe),$.state.wrap===1?$.adler=d($.adler,we,Oe,fe):$.state.wrap===2&&($.adler=h($.adler,we,Oe,fe)),$.next_in+=Oe,$.total_in+=Oe,Oe),B.lookahead+=pe,B.lookahead+B.insert>=q)for(M=B.strstart-B.insert,B.ins_h=B.window[M],B.ins_h=(B.ins_h<<B.hash_shift^B.window[M+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[M+q-1])&B.hash_mask,B.prev[M&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=M,M++,B.insert--,!(B.lookahead+B.insert<q)););}while(B.lookahead<G&&B.strm.avail_in!==0)}function le(B,ve){for(var pe,ie;;){if(B.lookahead<G){if(ae(B),B.lookahead<G&&ve===p)return S;if(B.lookahead===0)break}if(pe=0,B.lookahead>=q&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+q-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),pe!==0&&B.strstart-pe<=B.w_size-G&&(B.match_length=H(B,pe)),B.match_length>=q)if(ie=c._tr_tally(B,B.strstart-B.match_start,B.match_length-q),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=q){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+q-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else ie=c._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(ie&&(T(B,!1),B.strm.avail_out===0))return S}return B.insert=B.strstart<q-1?B.strstart:q-1,ve===_?(T(B,!0),B.strm.avail_out===0?ne:Y):B.last_lit&&(T(B,!1),B.strm.avail_out===0)?S:W}function te(B,ve){for(var pe,ie,se;;){if(B.lookahead<G){if(ae(B),B.lookahead<G&&ve===p)return S;if(B.lookahead===0)break}if(pe=0,B.lookahead>=q&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+q-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=q-1,pe!==0&&B.prev_length<B.max_lazy_match&&B.strstart-pe<=B.w_size-G&&(B.match_length=H(B,pe),B.match_length<=5&&(B.strategy===1||B.match_length===q&&4096<B.strstart-B.match_start)&&(B.match_length=q-1)),B.prev_length>=q&&B.match_length<=B.prev_length){for(se=B.strstart+B.lookahead-q,ie=c._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-q),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=se&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+q-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=q-1,B.strstart++,ie&&(T(B,!1),B.strm.avail_out===0))return S}else if(B.match_available){if((ie=c._tr_tally(B,0,B.window[B.strstart-1]))&&T(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return S}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(ie=c._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<q-1?B.strstart:q-1,ve===_?(T(B,!0),B.strm.avail_out===0?ne:Y):B.last_lit&&(T(B,!1),B.strm.avail_out===0)?S:W}function ce(B,ve,pe,ie,se){this.good_length=B,this.max_lazy=ve,this.nice_length=pe,this.max_chain=ie,this.func=se}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*O),this.dyn_dtree=new l.Buf16(2*(2*j+1)),this.bl_tree=new l.Buf16(2*(2*L+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(V+1),this.heap=new l.Buf16(2*A+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*A+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(B){var ve;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=v,(ve=B.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?P:z,B.adler=ve.wrap===2?0:1,ve.last_flush=p,c._tr_init(ve),w):U(B,E)}function je(B){var ve=Ee(B);return ve===w&&(function(pe){pe.window_size=2*pe.w_size,X(pe.head),pe.max_lazy_match=a[pe.level].max_lazy,pe.good_match=a[pe.level].good_length,pe.nice_match=a[pe.level].nice_length,pe.max_chain_length=a[pe.level].max_chain,pe.strstart=0,pe.block_start=0,pe.lookahead=0,pe.insert=0,pe.match_length=pe.prev_length=q-1,pe.match_available=0,pe.ins_h=0})(B.state),ve}function Ve(B,ve,pe,ie,se,M){if(!B)return E;var $=1;if(ve===b&&(ve=6),ie<0?($=0,ie=-ie):15<ie&&($=2,ie-=16),se<1||m<se||pe!==y||ie<8||15<ie||ve<0||9<ve||M<0||x<M)return U(B,E);ie===8&&(ie=9);var we=new be;return(B.state=we).strm=B,we.wrap=$,we.gzhead=null,we.w_bits=ie,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=se+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+q-1)/q),we.window=new l.Buf8(2*we.w_size),we.head=new l.Buf16(we.hash_size),we.prev=new l.Buf16(we.w_size),we.lit_bufsize=1<<se+6,we.pending_buf_size=4*we.lit_bufsize,we.pending_buf=new l.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=ve,we.strategy=M,we.method=pe,je(B)}a=[new ce(0,0,0,0,function(B,ve){var pe=65535;for(pe>B.pending_buf_size-5&&(pe=B.pending_buf_size-5);;){if(B.lookahead<=1){if(ae(B),B.lookahead===0&&ve===p)return S;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var ie=B.block_start+pe;if((B.strstart===0||B.strstart>=ie)&&(B.lookahead=B.strstart-ie,B.strstart=ie,T(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-G&&(T(B,!1),B.strm.avail_out===0))return S}return B.insert=0,ve===_?(T(B,!0),B.strm.avail_out===0?ne:Y):(B.strstart>B.block_start&&(T(B,!1),B.strm.avail_out),S)}),new ce(4,4,8,4,le),new ce(4,5,16,8,le),new ce(4,6,32,32,le),new ce(4,4,16,16,te),new ce(8,16,32,32,te),new ce(8,16,128,128,te),new ce(8,32,128,256,te),new ce(32,128,258,1024,te),new ce(32,258,258,4096,te)],i.deflateInit=function(B,ve){return Ve(B,ve,y,15,8,0)},i.deflateInit2=Ve,i.deflateReset=je,i.deflateResetKeep=Ee,i.deflateSetHeader=function(B,ve){return B&&B.state?B.state.wrap!==2?E:(B.state.gzhead=ve,w):E},i.deflate=function(B,ve){var pe,ie,se,M;if(!B||!B.state||5<ve||ve<0)return B?U(B,E):E;if(ie=B.state,!B.output||!B.input&&B.avail_in!==0||ie.status===666&&ve!==_)return U(B,B.avail_out===0?-5:E);if(ie.strm=B,pe=ie.last_flush,ie.last_flush=ve,ie.status===P)if(ie.wrap===2)B.adler=0,I(ie,31),I(ie,139),I(ie,8),ie.gzhead?(I(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),I(ie,255&ie.gzhead.time),I(ie,ie.gzhead.time>>8&255),I(ie,ie.gzhead.time>>16&255),I(ie,ie.gzhead.time>>24&255),I(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),I(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(I(ie,255&ie.gzhead.extra.length),I(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(B.adler=h(B.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(I(ie,0),I(ie,0),I(ie,0),I(ie,0),I(ie,0),I(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),I(ie,3),ie.status=z);else{var $=y+(ie.w_bits-8<<4)<<8;$|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&($|=32),$+=31-$%31,ie.status=z,F(ie,$),ie.strstart!==0&&(F(ie,B.adler>>>16),F(ie,65535&B.adler)),B.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(se=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>se&&(B.adler=h(B.adler,ie.pending_buf,ie.pending-se,se)),C(B),se=ie.pending,ie.pending!==ie.pending_buf_size));)I(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>se&&(B.adler=h(B.adler,ie.pending_buf,ie.pending-se,se)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){se=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>se&&(B.adler=h(B.adler,ie.pending_buf,ie.pending-se,se)),C(B),se=ie.pending,ie.pending===ie.pending_buf_size)){M=1;break}M=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,I(ie,M)}while(M!==0);ie.gzhead.hcrc&&ie.pending>se&&(B.adler=h(B.adler,ie.pending_buf,ie.pending-se,se)),M===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){se=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>se&&(B.adler=h(B.adler,ie.pending_buf,ie.pending-se,se)),C(B),se=ie.pending,ie.pending===ie.pending_buf_size)){M=1;break}M=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,I(ie,M)}while(M!==0);ie.gzhead.hcrc&&ie.pending>se&&(B.adler=h(B.adler,ie.pending_buf,ie.pending-se,se)),M===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&C(B),ie.pending+2<=ie.pending_buf_size&&(I(ie,255&B.adler),I(ie,B.adler>>8&255),B.adler=0,ie.status=z)):ie.status=z),ie.pending!==0){if(C(B),B.avail_out===0)return ie.last_flush=-1,w}else if(B.avail_in===0&&Z(ve)<=Z(pe)&&ve!==_)return U(B,-5);if(ie.status===666&&B.avail_in!==0)return U(B,-5);if(B.avail_in!==0||ie.lookahead!==0||ve!==p&&ie.status!==666){var we=ie.strategy===2?(function(fe,Ne){for(var Oe;;){if(fe.lookahead===0&&(ae(fe),fe.lookahead===0)){if(Ne===p)return S;break}if(fe.match_length=0,Oe=c._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,Oe&&(T(fe,!1),fe.strm.avail_out===0))return S}return fe.insert=0,Ne===_?(T(fe,!0),fe.strm.avail_out===0?ne:Y):fe.last_lit&&(T(fe,!1),fe.strm.avail_out===0)?S:W})(ie,ve):ie.strategy===3?(function(fe,Ne){for(var Oe,Re,Le,Qe,He=fe.window;;){if(fe.lookahead<=K){if(ae(fe),fe.lookahead<=K&&Ne===p)return S;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=q&&0<fe.strstart&&(Re=He[Le=fe.strstart-1])===He[++Le]&&Re===He[++Le]&&Re===He[++Le]){Qe=fe.strstart+K;do;while(Re===He[++Le]&&Re===He[++Le]&&Re===He[++Le]&&Re===He[++Le]&&Re===He[++Le]&&Re===He[++Le]&&Re===He[++Le]&&Re===He[++Le]&&Le<Qe);fe.match_length=K-(Qe-Le),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=q?(Oe=c._tr_tally(fe,1,fe.match_length-q),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(Oe=c._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),Oe&&(T(fe,!1),fe.strm.avail_out===0))return S}return fe.insert=0,Ne===_?(T(fe,!0),fe.strm.avail_out===0?ne:Y):fe.last_lit&&(T(fe,!1),fe.strm.avail_out===0)?S:W})(ie,ve):a[ie.level].func(ie,ve);if(we!==ne&&we!==Y||(ie.status=666),we===S||we===ne)return B.avail_out===0&&(ie.last_flush=-1),w;if(we===W&&(ve===1?c._tr_align(ie):ve!==5&&(c._tr_stored_block(ie,0,0,!1),ve===3&&(X(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),C(B),B.avail_out===0))return ie.last_flush=-1,w}return ve!==_?w:ie.wrap<=0?1:(ie.wrap===2?(I(ie,255&B.adler),I(ie,B.adler>>8&255),I(ie,B.adler>>16&255),I(ie,B.adler>>24&255),I(ie,255&B.total_in),I(ie,B.total_in>>8&255),I(ie,B.total_in>>16&255),I(ie,B.total_in>>24&255)):(F(ie,B.adler>>>16),F(ie,65535&B.adler)),C(B),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?w:1)},i.deflateEnd=function(B){var ve;return B&&B.state?(ve=B.state.status)!==P&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==z&&ve!==666?U(B,E):(B.state=null,ve===z?U(B,-3):w):E},i.deflateSetDictionary=function(B,ve){var pe,ie,se,M,$,we,fe,Ne,Oe=ve.length;if(!B||!B.state||(M=(pe=B.state).wrap)===2||M===1&&pe.status!==P||pe.lookahead)return E;for(M===1&&(B.adler=d(B.adler,ve,Oe,0)),pe.wrap=0,Oe>=pe.w_size&&(M===0&&(X(pe.head),pe.strstart=0,pe.block_start=0,pe.insert=0),Ne=new l.Buf8(pe.w_size),l.arraySet(Ne,ve,Oe-pe.w_size,pe.w_size,0),ve=Ne,Oe=pe.w_size),$=B.avail_in,we=B.next_in,fe=B.input,B.avail_in=Oe,B.next_in=0,B.input=ve,ae(pe);pe.lookahead>=q;){for(ie=pe.strstart,se=pe.lookahead-(q-1);pe.ins_h=(pe.ins_h<<pe.hash_shift^pe.window[ie+q-1])&pe.hash_mask,pe.prev[ie&pe.w_mask]=pe.head[pe.ins_h],pe.head[pe.ins_h]=ie,ie++,--se;);pe.strstart=ie,pe.lookahead=q-1,ae(pe)}return pe.strstart+=pe.lookahead,pe.block_start=pe.strstart,pe.insert=pe.lookahead,pe.lookahead=0,pe.match_length=pe.prev_length=q-1,pe.match_available=0,B.next_in=we,B.input=fe,B.avail_in=$,pe.wrap=M,w},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,l){var c,d,h,f,p,_,w,E,b,x,v,y,m,A,j,L,O,V,q,K,G,P,z,S,W;c=a.state,d=a.next_in,S=a.input,h=d+(a.avail_in-5),f=a.next_out,W=a.output,p=f-(l-a.avail_out),_=f+(a.avail_out-257),w=c.dmax,E=c.wsize,b=c.whave,x=c.wnext,v=c.window,y=c.hold,m=c.bits,A=c.lencode,j=c.distcode,L=(1<<c.lenbits)-1,O=(1<<c.distbits)-1;e:do{m<15&&(y+=S[d++]<<m,m+=8,y+=S[d++]<<m,m+=8),V=A[y&L];t:for(;;){if(y>>>=q=V>>>24,m-=q,(q=V>>>16&255)===0)W[f++]=65535&V;else{if(!(16&q)){if((64&q)==0){V=A[(65535&V)+(y&(1<<q)-1)];continue t}if(32&q){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}K=65535&V,(q&=15)&&(m<q&&(y+=S[d++]<<m,m+=8),K+=y&(1<<q)-1,y>>>=q,m-=q),m<15&&(y+=S[d++]<<m,m+=8,y+=S[d++]<<m,m+=8),V=j[y&O];n:for(;;){if(y>>>=q=V>>>24,m-=q,!(16&(q=V>>>16&255))){if((64&q)==0){V=j[(65535&V)+(y&(1<<q)-1)];continue n}a.msg="invalid distance code",c.mode=30;break e}if(G=65535&V,m<(q&=15)&&(y+=S[d++]<<m,(m+=8)<q&&(y+=S[d++]<<m,m+=8)),w<(G+=y&(1<<q)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(y>>>=q,m-=q,(q=f-p)<G){if(b<(q=G-q)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(z=v,(P=0)===x){if(P+=E-q,q<K){for(K-=q;W[f++]=v[P++],--q;);P=f-G,z=W}}else if(x<q){if(P+=E+x-q,(q-=x)<K){for(K-=q;W[f++]=v[P++],--q;);if(P=0,x<K){for(K-=q=x;W[f++]=v[P++],--q;);P=f-G,z=W}}}else if(P+=x-q,q<K){for(K-=q;W[f++]=v[P++],--q;);P=f-G,z=W}for(;2<K;)W[f++]=z[P++],W[f++]=z[P++],W[f++]=z[P++],K-=3;K&&(W[f++]=z[P++],1<K&&(W[f++]=z[P++]))}else{for(P=f-G;W[f++]=W[P++],W[f++]=W[P++],W[f++]=W[P++],2<(K-=3););K&&(W[f++]=W[P++],1<K&&(W[f++]=W[P++]))}break}}break}}while(d<h&&f<_);d-=K=m>>3,y&=(1<<(m-=K<<3))-1,a.next_in=d,a.next_out=f,a.avail_in=d<h?h-d+5:5-(d-h),a.avail_out=f<_?_-f+257:257-(f-_),c.hold=y,c.bits=m}},{}],49:[function(n,r,i){var a=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),d=n("./inffast"),h=n("./inftrees"),f=1,p=2,_=0,w=-2,E=1,b=852,x=592;function v(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(P){var z;return P&&P.state?(z=P.state,P.total_in=P.total_out=z.total=0,P.msg="",z.wrap&&(P.adler=1&z.wrap),z.mode=E,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new a.Buf32(b),z.distcode=z.distdyn=new a.Buf32(x),z.sane=1,z.back=-1,_):w}function A(P){var z;return P&&P.state?((z=P.state).wsize=0,z.whave=0,z.wnext=0,m(P)):w}function j(P,z){var S,W;return P&&P.state?(W=P.state,z<0?(S=0,z=-z):(S=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?w:(W.window!==null&&W.wbits!==z&&(W.window=null),W.wrap=S,W.wbits=z,A(P))):w}function L(P,z){var S,W;return P?(W=new y,(P.state=W).window=null,(S=j(P,z))!==_&&(P.state=null),S):w}var O,V,q=!0;function K(P){if(q){var z;for(O=new a.Buf32(512),V=new a.Buf32(32),z=0;z<144;)P.lens[z++]=8;for(;z<256;)P.lens[z++]=9;for(;z<280;)P.lens[z++]=7;for(;z<288;)P.lens[z++]=8;for(h(f,P.lens,0,288,O,0,P.work,{bits:9}),z=0;z<32;)P.lens[z++]=5;h(p,P.lens,0,32,V,0,P.work,{bits:5}),q=!1}P.lencode=O,P.lenbits=9,P.distcode=V,P.distbits=5}function G(P,z,S,W){var ne,Y=P.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new a.Buf8(Y.wsize)),W>=Y.wsize?(a.arraySet(Y.window,z,S-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(W<(ne=Y.wsize-Y.wnext)&&(ne=W),a.arraySet(Y.window,z,S-W,ne,Y.wnext),(W-=ne)?(a.arraySet(Y.window,z,S-W,W,0),Y.wnext=W,Y.whave=Y.wsize):(Y.wnext+=ne,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=ne))),0}i.inflateReset=A,i.inflateReset2=j,i.inflateResetKeep=m,i.inflateInit=function(P){return L(P,15)},i.inflateInit2=L,i.inflate=function(P,z){var S,W,ne,Y,U,Z,X,C,T,I,F,H,ae,le,te,ce,be,Ee,je,Ve,B,ve,pe,ie,se=0,M=new a.Buf8(4),$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return w;(S=P.state).mode===12&&(S.mode=13),U=P.next_out,ne=P.output,X=P.avail_out,Y=P.next_in,W=P.input,Z=P.avail_in,C=S.hold,T=S.bits,I=Z,F=X,ve=_;e:for(;;)switch(S.mode){case E:if(S.wrap===0){S.mode=13;break}for(;T<16;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(2&S.wrap&&C===35615){M[S.check=0]=255&C,M[1]=C>>>8&255,S.check=c(S.check,M,2,0),T=C=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&C)<<8)+(C>>8))%31){P.msg="incorrect header check",S.mode=30;break}if((15&C)!=8){P.msg="unknown compression method",S.mode=30;break}if(T-=4,B=8+(15&(C>>>=4)),S.wbits===0)S.wbits=B;else if(B>S.wbits){P.msg="invalid window size",S.mode=30;break}S.dmax=1<<B,P.adler=S.check=1,S.mode=512&C?10:12,T=C=0;break;case 2:for(;T<16;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(S.flags=C,(255&S.flags)!=8){P.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){P.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=C>>8&1),512&S.flags&&(M[0]=255&C,M[1]=C>>>8&255,S.check=c(S.check,M,2,0)),T=C=0,S.mode=3;case 3:for(;T<32;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}S.head&&(S.head.time=C),512&S.flags&&(M[0]=255&C,M[1]=C>>>8&255,M[2]=C>>>16&255,M[3]=C>>>24&255,S.check=c(S.check,M,4,0)),T=C=0,S.mode=4;case 4:for(;T<16;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}S.head&&(S.head.xflags=255&C,S.head.os=C>>8),512&S.flags&&(M[0]=255&C,M[1]=C>>>8&255,S.check=c(S.check,M,2,0)),T=C=0,S.mode=5;case 5:if(1024&S.flags){for(;T<16;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}S.length=C,S.head&&(S.head.extra_len=C),512&S.flags&&(M[0]=255&C,M[1]=C>>>8&255,S.check=c(S.check,M,2,0)),T=C=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(Z<(H=S.length)&&(H=Z),H&&(S.head&&(B=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),a.arraySet(S.head.extra,W,Y,H,B)),512&S.flags&&(S.check=c(S.check,W,H,Y)),Z-=H,Y+=H,S.length-=H),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(Z===0)break e;for(H=0;B=W[Y+H++],S.head&&B&&S.length<65536&&(S.head.name+=String.fromCharCode(B)),B&&H<Z;);if(512&S.flags&&(S.check=c(S.check,W,H,Y)),Z-=H,Y+=H,B)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(Z===0)break e;for(H=0;B=W[Y+H++],S.head&&B&&S.length<65536&&(S.head.comment+=String.fromCharCode(B)),B&&H<Z;);if(512&S.flags&&(S.check=c(S.check,W,H,Y)),Z-=H,Y+=H,B)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;T<16;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(C!==(65535&S.check)){P.msg="header crc mismatch",S.mode=30;break}T=C=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),P.adler=S.check=0,S.mode=12;break;case 10:for(;T<32;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}P.adler=S.check=v(C),T=C=0,S.mode=11;case 11:if(S.havedict===0)return P.next_out=U,P.avail_out=X,P.next_in=Y,P.avail_in=Z,S.hold=C,S.bits=T,2;P.adler=S.check=1,S.mode=12;case 12:if(z===5||z===6)break e;case 13:if(S.last){C>>>=7&T,T-=7&T,S.mode=27;break}for(;T<3;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}switch(S.last=1&C,T-=1,3&(C>>>=1)){case 0:S.mode=14;break;case 1:if(K(S),S.mode=20,z!==6)break;C>>>=2,T-=2;break e;case 2:S.mode=17;break;case 3:P.msg="invalid block type",S.mode=30}C>>>=2,T-=2;break;case 14:for(C>>>=7&T,T-=7&T;T<32;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if((65535&C)!=(C>>>16^65535)){P.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&C,T=C=0,S.mode=15,z===6)break e;case 15:S.mode=16;case 16:if(H=S.length){if(Z<H&&(H=Z),X<H&&(H=X),H===0)break e;a.arraySet(ne,W,Y,H,U),Z-=H,Y+=H,X-=H,U+=H,S.length-=H;break}S.mode=12;break;case 17:for(;T<14;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(S.nlen=257+(31&C),C>>>=5,T-=5,S.ndist=1+(31&C),C>>>=5,T-=5,S.ncode=4+(15&C),C>>>=4,T-=4,286<S.nlen||30<S.ndist){P.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;T<3;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}S.lens[$[S.have++]]=7&C,C>>>=3,T-=3}for(;S.have<19;)S.lens[$[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,pe={bits:S.lenbits},ve=h(0,S.lens,0,19,S.lencode,0,S.work,pe),S.lenbits=pe.bits,ve){P.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ce=(se=S.lencode[C&(1<<S.lenbits)-1])>>>16&255,be=65535&se,!((te=se>>>24)<=T);){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(be<16)C>>>=te,T-=te,S.lens[S.have++]=be;else{if(be===16){for(ie=te+2;T<ie;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(C>>>=te,T-=te,S.have===0){P.msg="invalid bit length repeat",S.mode=30;break}B=S.lens[S.have-1],H=3+(3&C),C>>>=2,T-=2}else if(be===17){for(ie=te+3;T<ie;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}T-=te,B=0,H=3+(7&(C>>>=te)),C>>>=3,T-=3}else{for(ie=te+7;T<ie;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}T-=te,B=0,H=11+(127&(C>>>=te)),C>>>=7,T-=7}if(S.have+H>S.nlen+S.ndist){P.msg="invalid bit length repeat",S.mode=30;break}for(;H--;)S.lens[S.have++]=B}}if(S.mode===30)break;if(S.lens[256]===0){P.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,pe={bits:S.lenbits},ve=h(f,S.lens,0,S.nlen,S.lencode,0,S.work,pe),S.lenbits=pe.bits,ve){P.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,pe={bits:S.distbits},ve=h(p,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,pe),S.distbits=pe.bits,ve){P.msg="invalid distances set",S.mode=30;break}if(S.mode=20,z===6)break e;case 20:S.mode=21;case 21:if(6<=Z&&258<=X){P.next_out=U,P.avail_out=X,P.next_in=Y,P.avail_in=Z,S.hold=C,S.bits=T,d(P,F),U=P.next_out,ne=P.output,X=P.avail_out,Y=P.next_in,W=P.input,Z=P.avail_in,C=S.hold,T=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ce=(se=S.lencode[C&(1<<S.lenbits)-1])>>>16&255,be=65535&se,!((te=se>>>24)<=T);){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(ce&&(240&ce)==0){for(Ee=te,je=ce,Ve=be;ce=(se=S.lencode[Ve+((C&(1<<Ee+je)-1)>>Ee)])>>>16&255,be=65535&se,!(Ee+(te=se>>>24)<=T);){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}C>>>=Ee,T-=Ee,S.back+=Ee}if(C>>>=te,T-=te,S.back+=te,S.length=be,ce===0){S.mode=26;break}if(32&ce){S.back=-1,S.mode=12;break}if(64&ce){P.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ce,S.mode=22;case 22:if(S.extra){for(ie=S.extra;T<ie;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}S.length+=C&(1<<S.extra)-1,C>>>=S.extra,T-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ce=(se=S.distcode[C&(1<<S.distbits)-1])>>>16&255,be=65535&se,!((te=se>>>24)<=T);){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if((240&ce)==0){for(Ee=te,je=ce,Ve=be;ce=(se=S.distcode[Ve+((C&(1<<Ee+je)-1)>>Ee)])>>>16&255,be=65535&se,!(Ee+(te=se>>>24)<=T);){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}C>>>=Ee,T-=Ee,S.back+=Ee}if(C>>>=te,T-=te,S.back+=te,64&ce){P.msg="invalid distance code",S.mode=30;break}S.offset=be,S.extra=15&ce,S.mode=24;case 24:if(S.extra){for(ie=S.extra;T<ie;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}S.offset+=C&(1<<S.extra)-1,C>>>=S.extra,T-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){P.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(X===0)break e;if(H=F-X,S.offset>H){if((H=S.offset-H)>S.whave&&S.sane){P.msg="invalid distance too far back",S.mode=30;break}ae=H>S.wnext?(H-=S.wnext,S.wsize-H):S.wnext-H,H>S.length&&(H=S.length),le=S.window}else le=ne,ae=U-S.offset,H=S.length;for(X<H&&(H=X),X-=H,S.length-=H;ne[U++]=le[ae++],--H;);S.length===0&&(S.mode=21);break;case 26:if(X===0)break e;ne[U++]=S.length,X--,S.mode=21;break;case 27:if(S.wrap){for(;T<32;){if(Z===0)break e;Z--,C|=W[Y++]<<T,T+=8}if(F-=X,P.total_out+=F,S.total+=F,F&&(P.adler=S.check=S.flags?c(S.check,ne,F,U-F):l(S.check,ne,F,U-F)),F=X,(S.flags?C:v(C))!==S.check){P.msg="incorrect data check",S.mode=30;break}T=C=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;T<32;){if(Z===0)break e;Z--,C+=W[Y++]<<T,T+=8}if(C!==(4294967295&S.total)){P.msg="incorrect length check",S.mode=30;break}T=C=0}S.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;default:return w}return P.next_out=U,P.avail_out=X,P.next_in=Y,P.avail_in=Z,S.hold=C,S.bits=T,(S.wsize||F!==P.avail_out&&S.mode<30&&(S.mode<27||z!==4))&&G(P,P.output,P.next_out,F-P.avail_out)?(S.mode=31,-4):(I-=P.avail_in,F-=P.avail_out,P.total_in+=I,P.total_out+=F,S.total+=F,S.wrap&&F&&(P.adler=S.check=S.flags?c(S.check,ne,F,P.next_out-F):l(S.check,ne,F,P.next_out-F)),P.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(I==0&&F===0||z===4)&&ve===_&&(ve=-5),ve)},i.inflateEnd=function(P){if(!P||!P.state)return w;var z=P.state;return z.window&&(z.window=null),P.state=null,_},i.inflateGetHeader=function(P,z){var S;return P&&P.state?(2&(S=P.state).wrap)==0?w:((S.head=z).done=!1,_):w},i.inflateSetDictionary=function(P,z){var S,W=z.length;return P&&P.state?(S=P.state).wrap!==0&&S.mode!==11?w:S.mode===11&&l(1,z,W,0)!==S.check?-3:G(P,z,W,W)?(S.mode=31,-4):(S.havedict=1,_):w},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,p,_,w,E,b,x,v){var y,m,A,j,L,O,V,q,K,G=v.bits,P=0,z=0,S=0,W=0,ne=0,Y=0,U=0,Z=0,X=0,C=0,T=null,I=0,F=new a.Buf16(16),H=new a.Buf16(16),ae=null,le=0;for(P=0;P<=15;P++)F[P]=0;for(z=0;z<w;z++)F[p[_+z]]++;for(ne=G,W=15;1<=W&&F[W]===0;W--);if(W<ne&&(ne=W),W===0)return E[b++]=20971520,E[b++]=20971520,v.bits=1,0;for(S=1;S<W&&F[S]===0;S++);for(ne<S&&(ne=S),P=Z=1;P<=15;P++)if(Z<<=1,(Z-=F[P])<0)return-1;if(0<Z&&(f===0||W!==1))return-1;for(H[1]=0,P=1;P<15;P++)H[P+1]=H[P]+F[P];for(z=0;z<w;z++)p[_+z]!==0&&(x[H[p[_+z]]++]=z);if(O=f===0?(T=ae=x,19):f===1?(T=l,I-=257,ae=c,le-=257,256):(T=d,ae=h,-1),P=S,L=b,U=z=C=0,A=-1,j=(X=1<<(Y=ne))-1,f===1&&852<X||f===2&&592<X)return 1;for(;;){for(V=P-U,K=x[z]<O?(q=0,x[z]):x[z]>O?(q=ae[le+x[z]],T[I+x[z]]):(q=96,0),y=1<<P-U,S=m=1<<Y;E[L+(C>>U)+(m-=y)]=V<<24|q<<16|K|0,m!==0;);for(y=1<<P-1;C&y;)y>>=1;if(y!==0?(C&=y-1,C+=y):C=0,z++,--F[P]==0){if(P===W)break;P=p[_+x[z]]}if(ne<P&&(C&j)!==A){for(U===0&&(U=ne),L+=S,Z=1<<(Y=P-U);Y+U<W&&!((Z-=F[Y+U])<=0);)Y++,Z<<=1;if(X+=1<<Y,f===1&&852<X||f===2&&592<X)return 1;E[A=C&j]=ne<<24|Y<<16|L-b|0}}return C!==0&&(E[L+C]=P-U<<24|64<<16|0),v.bits=ne,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),l=0,c=1;function d(se){for(var M=se.length;0<=--M;)se[M]=0}var h=0,f=29,p=256,_=p+1+f,w=30,E=19,b=2*_+1,x=15,v=16,y=7,m=256,A=16,j=17,L=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(_+2));d(G);var P=new Array(2*w);d(P);var z=new Array(512);d(z);var S=new Array(256);d(S);var W=new Array(f);d(W);var ne,Y,U,Z=new Array(w);function X(se,M,$,we,fe){this.static_tree=se,this.extra_bits=M,this.extra_base=$,this.elems=we,this.max_length=fe,this.has_stree=se&&se.length}function C(se,M){this.dyn_tree=se,this.max_code=0,this.stat_desc=M}function T(se){return se<256?z[se]:z[256+(se>>>7)]}function I(se,M){se.pending_buf[se.pending++]=255&M,se.pending_buf[se.pending++]=M>>>8&255}function F(se,M,$){se.bi_valid>v-$?(se.bi_buf|=M<<se.bi_valid&65535,I(se,se.bi_buf),se.bi_buf=M>>v-se.bi_valid,se.bi_valid+=$-v):(se.bi_buf|=M<<se.bi_valid&65535,se.bi_valid+=$)}function H(se,M,$){F(se,$[2*M],$[2*M+1])}function ae(se,M){for(var $=0;$|=1&se,se>>>=1,$<<=1,0<--M;);return $>>>1}function le(se,M,$){var we,fe,Ne=new Array(x+1),Oe=0;for(we=1;we<=x;we++)Ne[we]=Oe=Oe+$[we-1]<<1;for(fe=0;fe<=M;fe++){var Re=se[2*fe+1];Re!==0&&(se[2*fe]=ae(Ne[Re]++,Re))}}function te(se){var M;for(M=0;M<_;M++)se.dyn_ltree[2*M]=0;for(M=0;M<w;M++)se.dyn_dtree[2*M]=0;for(M=0;M<E;M++)se.bl_tree[2*M]=0;se.dyn_ltree[2*m]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function ce(se){8<se.bi_valid?I(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function be(se,M,$,we){var fe=2*M,Ne=2*$;return se[fe]<se[Ne]||se[fe]===se[Ne]&&we[M]<=we[$]}function Ee(se,M,$){for(var we=se.heap[$],fe=$<<1;fe<=se.heap_len&&(fe<se.heap_len&&be(M,se.heap[fe+1],se.heap[fe],se.depth)&&fe++,!be(M,we,se.heap[fe],se.depth));)se.heap[$]=se.heap[fe],$=fe,fe<<=1;se.heap[$]=we}function je(se,M,$){var we,fe,Ne,Oe,Re=0;if(se.last_lit!==0)for(;we=se.pending_buf[se.d_buf+2*Re]<<8|se.pending_buf[se.d_buf+2*Re+1],fe=se.pending_buf[se.l_buf+Re],Re++,we===0?H(se,fe,M):(H(se,(Ne=S[fe])+p+1,M),(Oe=O[Ne])!==0&&F(se,fe-=W[Ne],Oe),H(se,Ne=T(--we),$),(Oe=V[Ne])!==0&&F(se,we-=Z[Ne],Oe)),Re<se.last_lit;);H(se,m,M)}function Ve(se,M){var $,we,fe,Ne=M.dyn_tree,Oe=M.stat_desc.static_tree,Re=M.stat_desc.has_stree,Le=M.stat_desc.elems,Qe=-1;for(se.heap_len=0,se.heap_max=b,$=0;$<Le;$++)Ne[2*$]!==0?(se.heap[++se.heap_len]=Qe=$,se.depth[$]=0):Ne[2*$+1]=0;for(;se.heap_len<2;)Ne[2*(fe=se.heap[++se.heap_len]=Qe<2?++Qe:0)]=1,se.depth[fe]=0,se.opt_len--,Re&&(se.static_len-=Oe[2*fe+1]);for(M.max_code=Qe,$=se.heap_len>>1;1<=$;$--)Ee(se,Ne,$);for(fe=Le;$=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Ee(se,Ne,1),we=se.heap[1],se.heap[--se.heap_max]=$,se.heap[--se.heap_max]=we,Ne[2*fe]=Ne[2*$]+Ne[2*we],se.depth[fe]=(se.depth[$]>=se.depth[we]?se.depth[$]:se.depth[we])+1,Ne[2*$+1]=Ne[2*we+1]=fe,se.heap[1]=fe++,Ee(se,Ne,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],(function(He,Ce){var it,pt,J,ee,oe,ue,he=Ce.dyn_tree,re=Ce.max_code,ye=Ce.stat_desc.static_tree,Se=Ce.stat_desc.has_stree,ge=Ce.stat_desc.extra_bits,Pe=Ce.stat_desc.extra_base,xe=Ce.stat_desc.max_length,Ae=0;for(ee=0;ee<=x;ee++)He.bl_count[ee]=0;for(he[2*He.heap[He.heap_max]+1]=0,it=He.heap_max+1;it<b;it++)xe<(ee=he[2*he[2*(pt=He.heap[it])+1]+1]+1)&&(ee=xe,Ae++),he[2*pt+1]=ee,re<pt||(He.bl_count[ee]++,oe=0,Pe<=pt&&(oe=ge[pt-Pe]),ue=he[2*pt],He.opt_len+=ue*(ee+oe),Se&&(He.static_len+=ue*(ye[2*pt+1]+oe)));if(Ae!==0){do{for(ee=xe-1;He.bl_count[ee]===0;)ee--;He.bl_count[ee]--,He.bl_count[ee+1]+=2,He.bl_count[xe]--,Ae-=2}while(0<Ae);for(ee=xe;ee!==0;ee--)for(pt=He.bl_count[ee];pt!==0;)re<(J=He.heap[--it])||(he[2*J+1]!==ee&&(He.opt_len+=(ee-he[2*J+1])*he[2*J],he[2*J+1]=ee),pt--)}})(se,M),le(Ne,Qe,se.bl_count)}function B(se,M,$){var we,fe,Ne=-1,Oe=M[1],Re=0,Le=7,Qe=4;for(Oe===0&&(Le=138,Qe=3),M[2*($+1)+1]=65535,we=0;we<=$;we++)fe=Oe,Oe=M[2*(we+1)+1],++Re<Le&&fe===Oe||(Re<Qe?se.bl_tree[2*fe]+=Re:fe!==0?(fe!==Ne&&se.bl_tree[2*fe]++,se.bl_tree[2*A]++):Re<=10?se.bl_tree[2*j]++:se.bl_tree[2*L]++,Ne=fe,Qe=(Re=0)===Oe?(Le=138,3):fe===Oe?(Le=6,3):(Le=7,4))}function ve(se,M,$){var we,fe,Ne=-1,Oe=M[1],Re=0,Le=7,Qe=4;for(Oe===0&&(Le=138,Qe=3),we=0;we<=$;we++)if(fe=Oe,Oe=M[2*(we+1)+1],!(++Re<Le&&fe===Oe)){if(Re<Qe)for(;H(se,fe,se.bl_tree),--Re!=0;);else fe!==0?(fe!==Ne&&(H(se,fe,se.bl_tree),Re--),H(se,A,se.bl_tree),F(se,Re-3,2)):Re<=10?(H(se,j,se.bl_tree),F(se,Re-3,3)):(H(se,L,se.bl_tree),F(se,Re-11,7));Ne=fe,Qe=(Re=0)===Oe?(Le=138,3):fe===Oe?(Le=6,3):(Le=7,4)}}d(Z);var pe=!1;function ie(se,M,$,we){F(se,(h<<1)+(we?1:0),3),(function(fe,Ne,Oe,Re){ce(fe),I(fe,Oe),I(fe,~Oe),a.arraySet(fe.pending_buf,fe.window,Ne,Oe,fe.pending),fe.pending+=Oe})(se,M,$)}i._tr_init=function(se){pe||((function(){var M,$,we,fe,Ne,Oe=new Array(x+1);for(fe=we=0;fe<f-1;fe++)for(W[fe]=we,M=0;M<1<<O[fe];M++)S[we++]=fe;for(S[we-1]=fe,fe=Ne=0;fe<16;fe++)for(Z[fe]=Ne,M=0;M<1<<V[fe];M++)z[Ne++]=fe;for(Ne>>=7;fe<w;fe++)for(Z[fe]=Ne<<7,M=0;M<1<<V[fe]-7;M++)z[256+Ne++]=fe;for($=0;$<=x;$++)Oe[$]=0;for(M=0;M<=143;)G[2*M+1]=8,M++,Oe[8]++;for(;M<=255;)G[2*M+1]=9,M++,Oe[9]++;for(;M<=279;)G[2*M+1]=7,M++,Oe[7]++;for(;M<=287;)G[2*M+1]=8,M++,Oe[8]++;for(le(G,_+1,Oe),M=0;M<w;M++)P[2*M+1]=5,P[2*M]=ae(M,5);ne=new X(G,O,p+1,_,x),Y=new X(P,V,0,w,x),U=new X(new Array(0),q,0,E,y)})(),pe=!0),se.l_desc=new C(se.dyn_ltree,ne),se.d_desc=new C(se.dyn_dtree,Y),se.bl_desc=new C(se.bl_tree,U),se.bi_buf=0,se.bi_valid=0,te(se)},i._tr_stored_block=ie,i._tr_flush_block=function(se,M,$,we){var fe,Ne,Oe=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=(function(Re){var Le,Qe=4093624447;for(Le=0;Le<=31;Le++,Qe>>>=1)if(1&Qe&&Re.dyn_ltree[2*Le]!==0)return l;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return c;for(Le=32;Le<p;Le++)if(Re.dyn_ltree[2*Le]!==0)return c;return l})(se)),Ve(se,se.l_desc),Ve(se,se.d_desc),Oe=(function(Re){var Le;for(B(Re,Re.dyn_ltree,Re.l_desc.max_code),B(Re,Re.dyn_dtree,Re.d_desc.max_code),Ve(Re,Re.bl_desc),Le=E-1;3<=Le&&Re.bl_tree[2*K[Le]+1]===0;Le--);return Re.opt_len+=3*(Le+1)+5+5+4,Le})(se),fe=se.opt_len+3+7>>>3,(Ne=se.static_len+3+7>>>3)<=fe&&(fe=Ne)):fe=Ne=$+5,$+4<=fe&&M!==-1?ie(se,M,$,we):se.strategy===4||Ne===fe?(F(se,2+(we?1:0),3),je(se,G,P)):(F(se,4+(we?1:0),3),(function(Re,Le,Qe,He){var Ce;for(F(Re,Le-257,5),F(Re,Qe-1,5),F(Re,He-4,4),Ce=0;Ce<He;Ce++)F(Re,Re.bl_tree[2*K[Ce]+1],3);ve(Re,Re.dyn_ltree,Le-1),ve(Re,Re.dyn_dtree,Qe-1)})(se,se.l_desc.max_code+1,se.d_desc.max_code+1,Oe+1),je(se,se.dyn_ltree,se.dyn_dtree)),te(se),we&&ce(se)},i._tr_tally=function(se,M,$){return se.pending_buf[se.d_buf+2*se.last_lit]=M>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&M,se.pending_buf[se.l_buf+se.last_lit]=255&$,se.last_lit++,M===0?se.dyn_ltree[2*$]++:(se.matches++,M--,se.dyn_ltree[2*(S[$]+p+1)]++,se.dyn_dtree[2*T(M)]++),se.last_lit===se.lit_bufsize-1},i._tr_align=function(se){F(se,2,3),H(se,m,G),(function(M){M.bi_valid===16?(I(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)})(se)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(l,c){if(!l.setImmediate){var d,h,f,p,_=1,w={},E=!1,b=l.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(l);x=x&&x.setTimeout?x:l,d={}.toString.call(l.process)==="[object process]"?function(A){process.nextTick(function(){y(A)})}:(function(){if(l.postMessage&&!l.importScripts){var A=!0,j=l.onmessage;return l.onmessage=function(){A=!1},l.postMessage("","*"),l.onmessage=j,A}})()?(p="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",m,!1):l.attachEvent("onmessage",m),function(A){l.postMessage(p+A,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(A){y(A.data)},function(A){f.port2.postMessage(A)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,function(A){var j=b.createElement("script");j.onreadystatechange=function(){y(A),j.onreadystatechange=null,h.removeChild(j),j=null},h.appendChild(j)}):function(A){setTimeout(y,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var j=new Array(arguments.length-1),L=0;L<j.length;L++)j[L]=arguments[L+1];var O={callback:A,args:j};return w[_]=O,d(_),_++},x.clearImmediate=v}function v(A){delete w[A]}function y(A){if(E)setTimeout(y,0,A);else{var j=w[A];if(j){E=!0;try{(function(L){var O=L.callback,V=L.args;switch(V.length){case 0:O();break;case 1:O(V[0]);break;case 2:O(V[0],V[1]);break;case 3:O(V[0],V[1],V[2]);break;default:O.apply(c,V)}})(j)}finally{v(A),E=!1}}}}function m(A){A.source===l&&typeof A.data=="string"&&A.data.indexOf(p)===0&&y(+A.data.slice(p.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})($p)),$p.exports}var OD=ID();const jD=O1(OD);function LD(t){return new Int8Array(t)}function BD(t){return new Int16Array(t)}function g5(t){return new Int32Array(t)}function v5(t){return new Float32Array(t)}function FD(t){return new Float64Array(t)}function y5(t){if(t.length==1)return v5(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(y5(t));return n}function _5(t){if(t.length==1)return g5(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(_5(t));return n}function b5(t){if(t.length==1)return BD(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(b5(t));return n}function w5(t){if(t.length==1)return new Array(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(w5(t));return n}var x5={};x5.fill=function(t,e,n,r){if(arguments.length==2)for(var i=0;i<t.length;i++)t[i]=arguments[1];else for(var i=e;i<n;i++)t[i]=r};var jc={};jc.arraycopy=function(t,e,n,r,i){for(var a=e+i;e<a;)n[r++]=t[e++]};jc.out={};jc.out.println=function(t){console.log(t)};jc.out.printf=function(){console.log.apply(console,arguments)};var kf={};kf.SQRT2=1.4142135623730951;kf.FAST_LOG10=function(t){return Math.log10(t)};kf.FAST_LOG10_X=function(t,e){return Math.log10(t)*e};function Us(t){this.ordinal=t}Us.short_block_allowed=new Us(0);Us.short_block_coupled=new Us(1);Us.short_block_dispensed=new Us(2);Us.short_block_forced=new Us(3);var S5={};S5.MAX_VALUE=34028235e31;function Sr(t){this.ordinal=t}Sr.vbr_off=new Sr(0);Sr.vbr_mt=new Sr(1);Sr.vbr_rh=new Sr(2);Sr.vbr_abr=new Sr(3);Sr.vbr_mtrh=new Sr(4);Sr.vbr_default=Sr.vbr_mtrh;var VD=function(t){},rn={System:jc,VbrMode:Sr,Float:S5,ShortBlock:Us,Util:kf,Arrays:x5,new_array_n:w5,new_byte:LD,new_double:FD,new_float:v5,new_float_n:y5,new_int:g5,new_int_n:_5,new_short_n:b5,assert:VD},Up,h_;function zD(){if(h_)return Up;h_=1;var t=rn,e=t.System,n=t.Util,r=t.Arrays,i=t.new_float,a=Gn();function l(){var c=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],d=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],h=d[a.SHORT_TYPE],f=d[a.SHORT_TYPE],p=d[a.SHORT_TYPE],_=d[a.SHORT_TYPE],w=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function E(v,y,m){for(var A=10,j=y+238-14-286,L=-15;L<0;L++){var O,V,q;O=c[A+-10],V=v[j+-224]*O,q=v[y+224]*O,O=c[A+-9],V+=v[j+-160]*O,q+=v[y+160]*O,O=c[A+-8],V+=v[j+-96]*O,q+=v[y+96]*O,O=c[A+-7],V+=v[j+-32]*O,q+=v[y+32]*O,O=c[A+-6],V+=v[j+32]*O,q+=v[y+-32]*O,O=c[A+-5],V+=v[j+96]*O,q+=v[y+-96]*O,O=c[A+-4],V+=v[j+160]*O,q+=v[y+-160]*O,O=c[A+-3],V+=v[j+224]*O,q+=v[y+-224]*O,O=c[A+-2],V+=v[y+-256]*O,q-=v[j+256]*O,O=c[A+-1],V+=v[y+-192]*O,q-=v[j+192]*O,O=c[A+0],V+=v[y+-128]*O,q-=v[j+128]*O,O=c[A+1],V+=v[y+-64]*O,q-=v[j+64]*O,O=c[A+2],V+=v[y+0]*O,q-=v[j+0]*O,O=c[A+3],V+=v[y+64]*O,q-=v[j+-64]*O,O=c[A+4],V+=v[y+128]*O,q-=v[j+-128]*O,O=c[A+5],V+=v[y+192]*O,q-=v[j+-192]*O,V*=c[A+6],O=q-V,m[30+L*2]=q+V,m[31+L*2]=c[A+7]*O,A+=18,y--,j++}{var V,q,K,G;q=v[y+-16]*c[A+-10],V=v[y+-32]*c[A+-2],q+=(v[y+-48]-v[y+16])*c[A+-9],V+=v[y+-96]*c[A+-1],q+=(v[y+-80]+v[y+48])*c[A+-8],V+=v[y+-160]*c[A+0],q+=(v[y+-112]-v[y+80])*c[A+-7],V+=v[y+-224]*c[A+1],q+=(v[y+-144]+v[y+112])*c[A+-6],V-=v[y+32]*c[A+2],q+=(v[y+-176]-v[y+144])*c[A+-5],V-=v[y+96]*c[A+3],q+=(v[y+-208]+v[y+176])*c[A+-4],V-=v[y+160]*c[A+4],q+=(v[y+-240]-v[y+208])*c[A+-3],V-=v[y+224],K=V-q,G=V+q,q=m[14],V=m[15]-q,m[31]=G+q,m[30]=K+V,m[15]=K-V,m[14]=G-q}{var P;P=m[28]-m[0],m[0]+=m[28],m[28]=P*c[A+-36+7],P=m[29]-m[1],m[1]+=m[29],m[29]=P*c[A+-36+7],P=m[26]-m[2],m[2]+=m[26],m[26]=P*c[A+-72+7],P=m[27]-m[3],m[3]+=m[27],m[27]=P*c[A+-72+7],P=m[24]-m[4],m[4]+=m[24],m[24]=P*c[A+-108+7],P=m[25]-m[5],m[5]+=m[25],m[25]=P*c[A+-108+7],P=m[22]-m[6],m[6]+=m[22],m[22]=P*n.SQRT2,P=m[23]-m[7],m[7]+=m[23],m[23]=P*n.SQRT2-m[7],m[7]-=m[6],m[22]-=m[7],m[23]-=m[22],P=m[6],m[6]=m[31]-P,m[31]=m[31]+P,P=m[7],m[7]=m[30]-P,m[30]=m[30]+P,P=m[22],m[22]=m[15]-P,m[15]=m[15]+P,P=m[23],m[23]=m[14]-P,m[14]=m[14]+P,P=m[20]-m[8],m[8]+=m[20],m[20]=P*c[A+-180+7],P=m[21]-m[9],m[9]+=m[21],m[21]=P*c[A+-180+7],P=m[18]-m[10],m[10]+=m[18],m[18]=P*c[A+-216+7],P=m[19]-m[11],m[11]+=m[19],m[19]=P*c[A+-216+7],P=m[16]-m[12],m[12]+=m[16],m[16]=P*c[A+-252+7],P=m[17]-m[13],m[13]+=m[17],m[17]=P*c[A+-252+7],P=-m[20]+m[24],m[20]+=m[24],m[24]=P*c[A+-216+7],P=-m[21]+m[25],m[21]+=m[25],m[25]=P*c[A+-216+7],P=m[4]-m[8],m[4]+=m[8],m[8]=P*c[A+-216+7],P=m[5]-m[9],m[5]+=m[9],m[9]=P*c[A+-216+7],P=m[0]-m[12],m[0]+=m[12],m[12]=P*c[A+-72+7],P=m[1]-m[13],m[1]+=m[13],m[13]=P*c[A+-72+7],P=m[16]-m[28],m[16]+=m[28],m[28]=P*c[A+-72+7],P=-m[17]+m[29],m[17]+=m[29],m[29]=P*c[A+-72+7],P=n.SQRT2*(m[2]-m[10]),m[2]+=m[10],m[10]=P,P=n.SQRT2*(m[3]-m[11]),m[3]+=m[11],m[11]=P,P=n.SQRT2*(-m[18]+m[26]),m[18]+=m[26],m[26]=P-m[18],P=n.SQRT2*(-m[19]+m[27]),m[19]+=m[27],m[27]=P-m[19],P=m[2],m[19]-=m[3],m[3]-=P,m[2]=m[31]-P,m[31]+=P,P=m[3],m[11]-=m[19],m[18]-=P,m[3]=m[30]-P,m[30]+=P,P=m[18],m[27]-=m[11],m[19]-=P,m[18]=m[15]-P,m[15]+=P,P=m[19],m[10]-=P,m[19]=m[14]-P,m[14]+=P,P=m[10],m[11]-=P,m[10]=m[23]-P,m[23]+=P,P=m[11],m[26]-=P,m[11]=m[22]-P,m[22]+=P,P=m[26],m[27]-=P,m[26]=m[7]-P,m[7]+=P,P=m[27],m[27]=m[6]-P,m[6]+=P,P=n.SQRT2*(m[0]-m[4]),m[0]+=m[4],m[4]=P,P=n.SQRT2*(m[1]-m[5]),m[1]+=m[5],m[5]=P,P=n.SQRT2*(m[16]-m[20]),m[16]+=m[20],m[20]=P,P=n.SQRT2*(m[17]-m[21]),m[17]+=m[21],m[21]=P,P=-n.SQRT2*(m[8]-m[12]),m[8]+=m[12],m[12]=P-m[8],P=-n.SQRT2*(m[9]-m[13]),m[9]+=m[13],m[13]=P-m[9],P=-n.SQRT2*(m[25]-m[29]),m[25]+=m[29],m[29]=P-m[25],P=-n.SQRT2*(m[24]+m[28]),m[24]-=m[28],m[28]=P-m[24],P=m[24]-m[16],m[24]=P,P=m[20]-P,m[20]=P,P=m[28]-P,m[28]=P,P=m[25]-m[17],m[25]=P,P=m[21]-P,m[21]=P,P=m[29]-P,m[29]=P,P=m[17]-m[1],m[17]=P,P=m[9]-P,m[9]=P,P=m[25]-P,m[25]=P,P=m[5]-P,m[5]=P,P=m[21]-P,m[21]=P,P=m[13]-P,m[13]=P,P=m[29]-P,m[29]=P,P=m[1]-m[0],m[1]=P,P=m[16]-P,m[16]=P,P=m[17]-P,m[17]=P,P=m[8]-P,m[8]=P,P=m[9]-P,m[9]=P,P=m[24]-P,m[24]=P,P=m[25]-P,m[25]=P,P=m[4]-P,m[4]=P,P=m[5]-P,m[5]=P,P=m[20]-P,m[20]=P,P=m[21]-P,m[21]=P,P=m[12]-P,m[12]=P,P=m[13]-P,m[13]=P,P=m[28]-P,m[28]=P,P=m[29]-P,m[29]=P,P=m[0],m[0]+=m[31],m[31]-=P,P=m[1],m[1]+=m[30],m[30]-=P,P=m[16],m[16]+=m[15],m[15]-=P,P=m[17],m[17]+=m[14],m[14]-=P,P=m[8],m[8]+=m[23],m[23]-=P,P=m[9],m[9]+=m[22],m[22]-=P,P=m[24],m[24]+=m[7],m[7]-=P,P=m[25],m[25]+=m[6],m[6]-=P,P=m[4],m[4]+=m[27],m[27]-=P,P=m[5],m[5]+=m[26],m[26]-=P,P=m[20],m[20]+=m[11],m[11]-=P,P=m[21],m[21]+=m[10],m[10]-=P,P=m[12],m[12]+=m[19],m[19]-=P,P=m[13],m[13]+=m[18],m[18]-=P,P=m[28],m[28]+=m[3],m[3]-=P,P=m[29],m[29]+=m[2],m[2]-=P}}function b(v,y){for(var m=0;m<3;m++){var A,j,L,O,V,q;O=v[y+6]*d[a.SHORT_TYPE][0]-v[y+15],A=v[y+0]*d[a.SHORT_TYPE][2]-v[y+9],j=O+A,L=O-A,O=v[y+15]*d[a.SHORT_TYPE][0]+v[y+6],A=v[y+9]*d[a.SHORT_TYPE][2]+v[y+0],V=O+A,q=-O+A,A=(v[y+3]*d[a.SHORT_TYPE][1]-v[y+12])*2069978111953089e-26,O=(v[y+12]*d[a.SHORT_TYPE][1]+v[y+3])*2069978111953089e-26,v[y+0]=j*190752519173728e-25+A,v[y+15]=-V*190752519173728e-25+O,L=L*.8660254037844387*1907525191737281e-26,V=V*.5*1907525191737281e-26+O,v[y+3]=L-V,v[y+6]=L+V,j=j*.5*1907525191737281e-26-A,q=q*.8660254037844387*1907525191737281e-26,v[y+9]=j+q,v[y+12]=j-q,y++}}function x(v,y,m){var A,j;{var L,O,V,q,K,G,P,z;L=m[17]-m[9],V=m[15]-m[11],q=m[14]-m[12],K=m[0]+m[8],G=m[1]+m[7],P=m[2]+m[6],z=m[3]+m[5],v[y+17]=K+P-z-(G-m[4]),j=(K+P-z)*f[19]+(G-m[4]),A=(L-V-q)*f[18],v[y+5]=A+j,v[y+6]=A-j,O=(m[16]-m[10])*f[18],G=G*f[19]+m[4],A=L*f[12]+O+V*f[13]+q*f[14],j=-K*f[16]+G-P*f[17]+z*f[15],v[y+1]=A+j,v[y+2]=A-j,A=L*f[13]-O-V*f[14]+q*f[12],j=-K*f[17]+G-P*f[15]+z*f[16],v[y+9]=A+j,v[y+10]=A-j,A=L*f[14]-O+V*f[12]-q*f[13],j=K*f[15]-G+P*f[16]-z*f[17],v[y+13]=A+j,v[y+14]=A-j}{var S,W,ne,Y,U,Z,X,C;S=m[8]-m[0],ne=m[6]-m[2],Y=m[5]-m[3],U=m[17]+m[9],Z=m[16]+m[10],X=m[15]+m[11],C=m[14]+m[12],v[y+0]=U+X+C+(Z+m[13]),A=(U+X+C)*f[19]-(Z+m[13]),j=(S-ne+Y)*f[18],v[y+11]=A+j,v[y+12]=A-j,W=(m[7]-m[1])*f[18],Z=m[13]-Z*f[19],A=U*f[15]-Z+X*f[16]+C*f[17],j=S*f[14]+W+ne*f[12]+Y*f[13],v[y+3]=A+j,v[y+4]=A-j,A=-U*f[17]+Z-X*f[15]-C*f[16],j=S*f[13]+W-ne*f[14]-Y*f[12],v[y+7]=A+j,v[y+8]=A-j,A=-U*f[16]+Z-X*f[17]-C*f[15],j=S*f[12]-W+ne*f[13]-Y*f[14],v[y+15]=A+j,v[y+16]=A-j}}this.mdct_sub48=function(v,y,m){for(var A=y,j=286,L=0;L<v.channels_out;L++){for(var O=0;O<v.mode_gr;O++){for(var V,q=v.l3_side.tt[O][L],K=q.xr,G=0,P=v.sb_sample[L][1-O],z=0,S=0;S<18/2;S++)for(E(A,j,P[z]),E(A,j+32,P[z+1]),z+=2,j+=64,V=1;V<32;V+=2)P[z-1][V]*=-1;for(V=0;V<32;V++,G+=18){var W=q.block_type,ne=v.sb_sample[L][O],Y=v.sb_sample[L][1-O];if(q.mixed_block_flag!=0&&V<2&&(W=0),v.amp_filter[V]<1e-12)r.fill(K,G+0,G+18,0);else{if(v.amp_filter[V]<1)for(var S=0;S<18;S++)Y[S][w[V]]*=v.amp_filter[V];if(W==a.SHORT_TYPE){for(var S=-12/4;S<0;S++){var U=d[a.SHORT_TYPE][S+3];K[G+S*3+9]=ne[9+S][w[V]]*U-ne[8-S][w[V]],K[G+S*3+18]=ne[14-S][w[V]]*U+ne[15+S][w[V]],K[G+S*3+10]=ne[15+S][w[V]]*U-ne[14-S][w[V]],K[G+S*3+19]=Y[2-S][w[V]]*U+Y[3+S][w[V]],K[G+S*3+11]=Y[3+S][w[V]]*U-Y[2-S][w[V]],K[G+S*3+20]=Y[8-S][w[V]]*U+Y[9+S][w[V]]}b(K,G)}else{for(var Z=i(18),S=-36/4;S<0;S++){var X,C;X=d[W][S+27]*Y[S+9][w[V]]+d[W][S+36]*Y[8-S][w[V]],C=d[W][S+9]*ne[S+9][w[V]]-d[W][S+18]*ne[8-S][w[V]],Z[S+9]=X-C*h[3+S+9],Z[S+18]=X*h[3+S+9]+C}x(K,G,Z)}}if(W!=a.SHORT_TYPE&&V!=0)for(var S=7;S>=0;--S){var T,I;T=K[G+S]*p[20+S]+K[G+-1-S]*_[28+S],I=K[G+S]*_[28+S]-K[G+-1-S]*p[20+S],K[G+-1-S]=T,K[G+S]=I}}}if(A=m,j=286,v.mode_gr==1)for(var F=0;F<18;F++)e.arraycopy(v.sb_sample[L][1][F],0,v.sb_sample[L][0][F],0,32)}}}return Up=l,Up}var Hp,p_;function C5(){if(p_)return Hp;p_=1;var t=Gn(),e=rn,n=e.System,r=e.new_float,i=e.new_float_n;function a(){this.l=r(t.SBMAX_l),this.s=i([t.SBMAX_s,3]);var l=this;this.assign=function(c){n.arraycopy(c.l,0,l.l,0,t.SBMAX_l);for(var d=0;d<t.SBMAX_s;d++)for(var h=0;h<3;h++)l.s[d][h]=c.s[d][h]}}return Hp=a,Hp}var Xp,m_;function WD(){if(m_)return Xp;m_=1;var t=C5();function e(){this.thm=new t,this.en=new t}return Xp=e,Xp}function ns(t){var e=t;this.ordinal=function(){return e}}ns.STEREO=new ns(0);ns.JOINT_STEREO=new ns(1);ns.DUAL_CHANNEL=new ns(2);ns.MONO=new ns(3);ns.NOT_SET=new ns(4);var Lc=ns,qp,g_;function Gn(){if(g_)return qp;g_=1;var t=rn,e=t.System,n=t.VbrMode,r=t.new_array_n,i=t.new_float,a=t.new_float_n,l=t.new_int,c=t.assert;d.ENCDELAY=576,d.POSTDELAY=1152,d.MDCTDELAY=48,d.FFTOFFSET=224+d.MDCTDELAY,d.DECDELAY=528,d.SBLIMIT=32,d.CBANDS=64,d.SBPSY_l=21,d.SBPSY_s=12,d.SBMAX_l=22,d.SBMAX_s=13,d.PSFB21=6,d.PSFB12=6,d.BLKSIZE=1024,d.HBLKSIZE=d.BLKSIZE/2+1,d.BLKSIZE_s=256,d.HBLKSIZE_s=d.BLKSIZE_s/2+1,d.NORM_TYPE=0,d.START_TYPE=1,d.SHORT_TYPE=2,d.STOP_TYPE=3,d.MPG_MD_LR_LR=0,d.MPG_MD_LR_I=1,d.MPG_MD_MS_LR=2,d.MPG_MD_MS_I=3,d.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function d(){var h=zD(),f=WD(),p=Lc,_=d.FFTOFFSET,w=d.MPG_MD_MS_LR,E=null;this.psy=null;var b=null,x=null,v=null;this.setModules=function(L,O,V,q){E=L,this.psy=O,b=O,x=q,v=V};var y=new h;function m(L){var O,V;if(L.ATH.useAdjust==0){L.ATH.adjust=1;return}if(V=L.loudness_sq[0][0],O=L.loudness_sq[1][0],L.channels_out==2?(V+=L.loudness_sq[0][1],O+=L.loudness_sq[1][1]):(V+=V,O+=O),L.mode_gr==2&&(V=Math.max(V,O)),V*=.5,V*=L.ATH.aaSensitivityP,V>.03125)L.ATH.adjust>=1?L.ATH.adjust=1:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=1;else{var q=31.98*V+625e-6;L.ATH.adjust>=q?(L.ATH.adjust*=q*.075+.925,L.ATH.adjust<q&&(L.ATH.adjust=q)):L.ATH.adjustLimit>=q?L.ATH.adjust=q:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=q}}function A(L){var O,V;for(c(0<=L.bitrate_index&&L.bitrate_index<16),c(0<=L.mode_ext&&L.mode_ext<4),L.bitrate_stereoMode_Hist[L.bitrate_index][4]++,L.bitrate_stereoMode_Hist[15][4]++,L.channels_out==2&&(L.bitrate_stereoMode_Hist[L.bitrate_index][L.mode_ext]++,L.bitrate_stereoMode_Hist[15][L.mode_ext]++),O=0;O<L.mode_gr;++O)for(V=0;V<L.channels_out;++V){var q=L.l3_side.tt[O][V].block_type|0;L.l3_side.tt[O][V].mixed_block_flag!=0&&(q=4),L.bitrate_blockType_Hist[L.bitrate_index][q]++,L.bitrate_blockType_Hist[L.bitrate_index][5]++,L.bitrate_blockType_Hist[15][q]++,L.bitrate_blockType_Hist[15][5]++}}function j(L,O){var V=L.internal_flags,q,K;if(V.lame_encode_frame_init==0){var G,P,z=i(2014),S=i(2014);for(V.lame_encode_frame_init=1,G=0,P=0;G<286+576*(1+V.mode_gr);++G)G<576*V.mode_gr?(z[G]=0,V.channels_out==2&&(S[G]=0)):(z[G]=O[0][P],V.channels_out==2&&(S[G]=O[1][P]),++P);for(K=0;K<V.mode_gr;K++)for(q=0;q<V.channels_out;q++)V.l3_side.tt[K][q].block_type=d.SHORT_TYPE;y.mdct_sub48(V,z,S),c(576>=d.FFTOFFSET),c(V.mf_size>=d.BLKSIZE+L.framesize-d.FFTOFFSET),c(V.mf_size>=512+L.framesize-32)}}this.lame_encode_mp3_frame=function(L,O,V,q,K,G){var P,z=r([2,2]);z[0][0]=new f,z[0][1]=new f,z[1][0]=new f,z[1][1]=new f;var S=r([2,2]);S[0][0]=new f,S[0][1]=new f,S[1][0]=new f,S[1][1]=new f;var W,ne=[null,null],Y=L.internal_flags,U=a([2,4]),Z=[.5,.5],X=[[0,0],[0,0]],C=[[0,0],[0,0]],T,I,F;if(ne[0]=O,ne[1]=V,Y.lame_encode_frame_init==0&&j(L,ne),Y.padding=0,(Y.slot_lag-=Y.frac_SpF)<0&&(Y.slot_lag+=L.out_samplerate,Y.padding=1),Y.psymodel!=0){var H,ae=[null,null],le=0,te=l(2);for(F=0;F<Y.mode_gr;F++){for(I=0;I<Y.channels_out;I++)ae[I]=ne[I],le=576+F*576-d.FFTOFFSET;if(L.VBR==n.vbr_mtrh||L.VBR==n.vbr_mt?H=b.L3psycho_anal_vbr(L,ae,le,F,z,S,X[F],C[F],U[F],te):H=b.L3psycho_anal_ns(L,ae,le,F,z,S,X[F],C[F],U[F],te),H!=0)return-4;for(L.mode==p.JOINT_STEREO&&(Z[F]=U[F][2]+U[F][3],Z[F]>0&&(Z[F]=U[F][3]/Z[F])),I=0;I<Y.channels_out;I++){var ce=Y.l3_side.tt[F][I];ce.block_type=te[I],ce.mixed_block_flag=0}}}else for(F=0;F<Y.mode_gr;F++)for(I=0;I<Y.channels_out;I++)Y.l3_side.tt[F][I].block_type=d.NORM_TYPE,Y.l3_side.tt[F][I].mixed_block_flag=0,C[F][I]=X[F][I]=700;if(m(Y),y.mdct_sub48(Y,ne[0],ne[1]),Y.mode_ext=d.MPG_MD_LR_LR,L.force_ms)Y.mode_ext=d.MPG_MD_MS_LR;else if(L.mode==p.JOINT_STEREO){var be=0,Ee=0;for(F=0;F<Y.mode_gr;F++)for(I=0;I<Y.channels_out;I++)be+=C[F][I],Ee+=X[F][I];if(be<=1*Ee){var je=Y.l3_side.tt[0],Ve=Y.l3_side.tt[Y.mode_gr-1];je[0].block_type==je[1].block_type&&Ve[0].block_type==Ve[1].block_type&&(Y.mode_ext=d.MPG_MD_MS_LR)}}if(Y.mode_ext==w?(W=S,T=C):(W=z,T=X),L.analysis&&Y.pinfo!=null)for(F=0;F<Y.mode_gr;F++)for(I=0;I<Y.channels_out;I++)Y.pinfo.ms_ratio[F]=Y.ms_ratio[F],Y.pinfo.ms_ener_ratio[F]=Z[F],Y.pinfo.blocktype[F][I]=Y.l3_side.tt[F][I].block_type,Y.pinfo.pe[F][I]=T[F][I],e.arraycopy(Y.l3_side.tt[F][I].xr,0,Y.pinfo.xr[F][I],0,576),Y.mode_ext==w&&(Y.pinfo.ers[F][I]=Y.pinfo.ers[F][I+2],e.arraycopy(Y.pinfo.energy[F][I+2],0,Y.pinfo.energy[F][I],0,Y.pinfo.energy[F][I].length));if(L.VBR==n.vbr_off||L.VBR==n.vbr_abr){var B,ve;for(B=0;B<18;B++)Y.nsPsy.pefirbuf[B]=Y.nsPsy.pefirbuf[B+1];for(ve=0,F=0;F<Y.mode_gr;F++)for(I=0;I<Y.channels_out;I++)ve+=T[F][I];for(Y.nsPsy.pefirbuf[18]=ve,ve=Y.nsPsy.pefirbuf[9],B=0;B<9;B++)ve+=(Y.nsPsy.pefirbuf[B]+Y.nsPsy.pefirbuf[18-B])*d.fircoef[B];for(ve=670*5*Y.mode_gr*Y.channels_out/ve,F=0;F<Y.mode_gr;F++)for(I=0;I<Y.channels_out;I++)T[F][I]*=ve}if(Y.iteration_loop.iteration_loop(L,T,Z,W),E.format_bitstream(L),P=E.copy_buffer(Y,q,K,G,1),L.bWriteVbrTag&&x.addVbrFrame(L),L.analysis&&Y.pinfo!=null){for(I=0;I<Y.channels_out;I++){var pe;for(pe=0;pe<_;pe++)Y.pinfo.pcmdata[I][pe]=Y.pinfo.pcmdata[I][pe+L.framesize];for(pe=_;pe<1600;pe++)Y.pinfo.pcmdata[I][pe]=ne[I][pe-_]}v.set_frame_pinfo(L,W)}return A(Y),P}}return qp=d,qp}var E5=rn,v_=E5.Util,y_=E5.new_float,gn=Gn();function $D(){var t=y_(gn.BLKSIZE),e=y_(gn.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(a,l,c){var d=0,h,f,p;c<<=1;var _=l+c;h=4;do{var w,E,b,x,v,y,m;m=h>>1,x=h,v=h<<1,y=v+x,h=v<<1,f=l,p=f+m;do{var A,j,L,O;j=a[f+0]-a[f+x],A=a[f+0]+a[f+x],O=a[f+v]-a[f+y],L=a[f+v]+a[f+y],a[f+v]=A-L,a[f+0]=A+L,a[f+y]=j-O,a[f+x]=j+O,j=a[p+0]-a[p+x],A=a[p+0]+a[p+x],O=v_.SQRT2*a[p+y],L=v_.SQRT2*a[p+v],a[p+v]=A-L,a[p+0]=A+L,a[p+y]=j-O,a[p+x]=j+O,p+=h,f+=h}while(f<_);for(E=n[d+0],w=n[d+1],b=1;b<m;b++){var V,q;V=1-2*w*w,q=2*w*E,f=l+b,p=l+x-b;do{var K,G,P,A,j,z,L,S,O,W;G=q*a[f+x]-V*a[p+x],K=V*a[f+x]+q*a[p+x],j=a[f+0]-K,A=a[f+0]+K,z=a[p+0]-G,P=a[p+0]+G,G=q*a[f+y]-V*a[p+y],K=V*a[f+y]+q*a[p+y],O=a[f+v]-K,L=a[f+v]+K,W=a[p+v]-G,S=a[p+v]+G,G=w*L-E*W,K=E*L+w*W,a[f+v]=A-K,a[f+0]=A+K,a[p+y]=z-G,a[p+x]=z+G,G=E*S-w*O,K=w*S+E*O,a[p+v]=P-K,a[p+0]=P+K,a[f+y]=j-G,a[f+x]=j+G,p+=h,f+=h}while(f<_);V=E,E=V*n[d+0]-w*n[d+1],w=V*n[d+1]+w*n[d+0]}d+=2}while(h<c)}var i=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(a,l,c,d,h){for(var f=0;f<3;f++){var p=gn.BLKSIZE_s/2,_=65535&576/3*(f+1),w=gn.BLKSIZE_s/8-1;do{var E,b,x,v,y,m=i[w<<2]&255;E=e[m]*d[c][h+m+_],y=e[127-m]*d[c][h+m+_+128],b=E-y,E=E+y,x=e[m+64]*d[c][h+m+_+64],y=e[63-m]*d[c][h+m+_+192],v=x-y,x=x+y,p-=4,l[f][p+0]=E+x,l[f][p+2]=E-x,l[f][p+1]=b+v,l[f][p+3]=b-v,E=e[m+1]*d[c][h+m+_+1],y=e[126-m]*d[c][h+m+_+129],b=E-y,E=E+y,x=e[m+65]*d[c][h+m+_+65],y=e[62-m]*d[c][h+m+_+193],v=x-y,x=x+y,l[f][p+gn.BLKSIZE_s/2+0]=E+x,l[f][p+gn.BLKSIZE_s/2+2]=E-x,l[f][p+gn.BLKSIZE_s/2+1]=b+v,l[f][p+gn.BLKSIZE_s/2+3]=b-v}while(--w>=0);r(l[f],p,gn.BLKSIZE_s/2)}},this.fft_long=function(a,l,c,d,h){var f=gn.BLKSIZE/8-1,p=gn.BLKSIZE/2;do{var _,w,E,b,x,v=i[f]&255;_=t[v]*d[c][h+v],x=t[v+512]*d[c][h+v+512],w=_-x,_=_+x,E=t[v+256]*d[c][h+v+256],x=t[v+768]*d[c][h+v+768],b=E-x,E=E+x,p-=4,l[p+0]=_+E,l[p+2]=_-E,l[p+1]=w+b,l[p+3]=w-b,_=t[v+1]*d[c][h+v+1],x=t[v+513]*d[c][h+v+513],w=_-x,_=_+x,E=t[v+257]*d[c][h+v+257],x=t[v+769]*d[c][h+v+769],b=E-x,E=E+x,l[p+gn.BLKSIZE/2+0]=_+E,l[p+gn.BLKSIZE/2+2]=_-E,l[p+gn.BLKSIZE/2+1]=w+b,l[p+gn.BLKSIZE/2+3]=w-b}while(--f>=0);r(l,p,gn.BLKSIZE/2)},this.init_fft=function(a){for(var l=0;l<gn.BLKSIZE;l++)t[l]=.42-.5*Math.cos(2*Math.PI*(l+.5)/gn.BLKSIZE)+.08*Math.cos(4*Math.PI*(l+.5)/gn.BLKSIZE);for(var l=0;l<gn.BLKSIZE_s/2;l++)e[l]=.5*(1-Math.cos(2*Math.PI*(l+.5)/gn.BLKSIZE_s))}}var UD=$D,Xs=rn,ea=Xs.VbrMode,__=Xs.Float,ta=Xs.ShortBlock,dr=Xs.Util,HD=Xs.Arrays,Sn=Xs.new_float,Nr=Xs.new_float_n,Ki=Xs.new_int,Ct=Xs.assert,XD=UD,Ie=Gn();function qD(){var t=Lc,e=new XD,n=2.302585092994046,r=2,i=16,a=2,l=16,c=.34,d=1/(14752*14752)/(Ie.BLKSIZE/2),h=.01,f=.8,p=.6,_=.3,w=3.5,E=21,b=.2302585093;function x(J,ee){for(var oe=0,ue=0;ue<Ie.BLKSIZE/2;++ue)oe+=J[ue]*ee.ATH.eql_w[ue];return oe*=d,oe}function v(J,ee,oe,ue,he,re,ye,Se,ge,Pe,xe){var Ae=J.internal_flags;if(ge<2)e.fft_long(Ae,ue[he],ge,Pe,xe),e.fft_short(Ae,re[ye],ge,Pe,xe);else if(ge==2){for(var Ze=Ie.BLKSIZE-1;Ze>=0;--Ze){var ut=ue[he+0][Ze],Fe=ue[he+1][Ze];ue[he+0][Ze]=(ut+Fe)*dr.SQRT2*.5,ue[he+1][Ze]=(ut-Fe)*dr.SQRT2*.5}for(var at=2;at>=0;--at)for(var Ze=Ie.BLKSIZE_s-1;Ze>=0;--Ze){var ut=re[ye+0][at][Ze],Fe=re[ye+1][at][Ze];re[ye+0][at][Ze]=(ut+Fe)*dr.SQRT2*.5,re[ye+1][at][Ze]=(ut-Fe)*dr.SQRT2*.5}}ee[0]=ue[he+0][0],ee[0]*=ee[0];for(var Ze=Ie.BLKSIZE/2-1;Ze>=0;--Ze){var Me=ue[he+0][Ie.BLKSIZE/2-Ze],et=ue[he+0][Ie.BLKSIZE/2+Ze];ee[Ie.BLKSIZE/2-Ze]=(Me*Me+et*et)*.5}for(var at=2;at>=0;--at){oe[at][0]=re[ye+0][at][0],oe[at][0]*=oe[at][0];for(var Ze=Ie.BLKSIZE_s/2-1;Ze>=0;--Ze){var Me=re[ye+0][at][Ie.BLKSIZE_s/2-Ze],et=re[ye+0][at][Ie.BLKSIZE_s/2+Ze];oe[at][Ie.BLKSIZE_s/2-Ze]=(Me*Me+et*et)*.5}}{for(var yt=0,Ze=11;Ze<Ie.HBLKSIZE;Ze++)yt+=ee[Ze];Ae.tot_ener[ge]=yt}if(J.analysis){for(var Ze=0;Ze<Ie.HBLKSIZE;Ze++)Ae.pinfo.energy[Se][ge][Ze]=Ae.pinfo.energy_save[ge][Ze],Ae.pinfo.energy_save[ge][Ze]=ee[Ze];Ae.pinfo.pe[Se][ge]=Ae.pe[ge]}J.athaa_loudapprox==2&&ge<2&&(Ae.loudness_sq[Se][ge]=Ae.loudness_sq_save[ge],Ae.loudness_sq_save[ge]=x(ee,Ae))}var y=8,m=23,A=15,j,L,O,V=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function q(){j=Math.pow(10,(y+1)/16),L=Math.pow(10,(m+1)/16),O=Math.pow(10,A/10)}var K=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],G=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],P=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function z(J,ee,oe,ue,he,re){var ye;if(ee>J)if(ee<J*L)ye=ee/J;else return J+ee;else{if(J>=ee*L)return J+ee;ye=J/ee}if(J+=ee,ue+3<=6){if(ye>=j)return J;var Se=0|dr.FAST_LOG10_X(ye,16);return J*G[Se]}var Se=0|dr.FAST_LOG10_X(ye,16);if(ee=he.ATH.cb_l[oe]*he.ATH.adjust,J<O*ee){if(J>ee){var ge,Pe;return ge=1,Se<=13&&(ge=P[Se]),Pe=dr.FAST_LOG10_X(J/ee,10/15),J*((K[Se]-ge)*Pe+ge)}return Se>13?J:J*P[Se]}return J*K[Se]}var S=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function W(J,ee,oe){var ue;if(J<0&&(J=0),ee<0&&(ee=0),J<=0)return ee;if(ee<=0)return J;if(ee>J?ue=ee/J:ue=J/ee,-2<=oe&&oe<=2){if(ue>=j)return J+ee;var he=0|dr.FAST_LOG10_X(ue,16);return(J+ee)*S[he]}return ue<L?J+ee:(J<ee&&(J=ee),J)}function ne(J,ee){var oe=J.internal_flags;if(oe.channels_out>1){for(var ue=0;ue<Ie.SBMAX_l;ue++){var he=oe.thm[0].l[ue],re=oe.thm[1].l[ue];oe.thm[0].l[ue]+=re*ee,oe.thm[1].l[ue]+=he*ee}for(var ue=0;ue<Ie.SBMAX_s;ue++)for(var ye=0;ye<3;ye++){var he=oe.thm[0].s[ue][ye],re=oe.thm[1].s[ue][ye];oe.thm[0].s[ue][ye]+=re*ee,oe.thm[1].s[ue][ye]+=he*ee}}}function Y(J){for(var ee=0;ee<Ie.SBMAX_l;ee++)if(!(J.thm[0].l[ee]>1.58*J.thm[1].l[ee]||J.thm[1].l[ee]>1.58*J.thm[0].l[ee])){var oe=J.mld_l[ee]*J.en[3].l[ee],ue=Math.max(J.thm[2].l[ee],Math.min(J.thm[3].l[ee],oe));oe=J.mld_l[ee]*J.en[2].l[ee];var he=Math.max(J.thm[3].l[ee],Math.min(J.thm[2].l[ee],oe));J.thm[2].l[ee]=ue,J.thm[3].l[ee]=he}for(var ee=0;ee<Ie.SBMAX_s;ee++)for(var re=0;re<3;re++)if(!(J.thm[0].s[ee][re]>1.58*J.thm[1].s[ee][re]||J.thm[1].s[ee][re]>1.58*J.thm[0].s[ee][re])){var oe=J.mld_s[ee]*J.en[3].s[ee][re],ue=Math.max(J.thm[2].s[ee][re],Math.min(J.thm[3].s[ee][re],oe));oe=J.mld_s[ee]*J.en[2].s[ee][re];var he=Math.max(J.thm[3].s[ee][re],Math.min(J.thm[2].s[ee][re],oe));J.thm[2].s[ee][re]=ue,J.thm[3].s[ee][re]=he}}function U(J,ee,oe){var ue=ee,he=Math.pow(10,oe);ee*=2,ue*=2;for(var re=0;re<Ie.SBMAX_l;re++){var ye,Se,ge,Pe;if(Pe=J.ATH.cb_l[J.bm_l[re]]*he,ye=Math.min(Math.max(J.thm[0].l[re],Pe),Math.max(J.thm[1].l[re],Pe)),Se=Math.max(J.thm[2].l[re],Pe),ge=Math.max(J.thm[3].l[re],Pe),ye*ee<Se+ge){var xe=ye*ue/(Se+ge);Se*=xe,ge*=xe}J.thm[2].l[re]=Math.min(Se,J.thm[2].l[re]),J.thm[3].l[re]=Math.min(ge,J.thm[3].l[re])}he*=Ie.BLKSIZE_s/Ie.BLKSIZE;for(var re=0;re<Ie.SBMAX_s;re++)for(var Ae=0;Ae<3;Ae++){var ye,Se,ge,Pe;if(Pe=J.ATH.cb_s[J.bm_s[re]]*he,ye=Math.min(Math.max(J.thm[0].s[re][Ae],Pe),Math.max(J.thm[1].s[re][Ae],Pe)),Se=Math.max(J.thm[2].s[re][Ae],Pe),ge=Math.max(J.thm[3].s[re][Ae],Pe),ye*ee<Se+ge){var xe=ye*ee/(Se+ge);Se*=xe,ge*=xe}J.thm[2].s[re][Ae]=Math.min(J.thm[2].s[re][Ae],Se),J.thm[3].s[re][Ae]=Math.min(J.thm[3].s[re][Ae],ge)}}function Z(J,ee,oe,ue,he){var re,ye,Se=0,ge=0;for(re=ye=0;re<Ie.SBMAX_s;++ye,++re){for(var Pe=J.bo_s[re],xe=J.npart_s,Ae=Pe<xe?Pe:xe;ye<Ae;)Ct(ee[ye]>=0),Ct(oe[ye]>=0),Se+=ee[ye],ge+=oe[ye],ye++;if(J.en[ue].s[re][he]=Se,J.thm[ue].s[re][he]=ge,ye>=xe){++re;break}Ct(ee[ye]>=0),Ct(oe[ye]>=0);{var Ze=J.PSY.bo_s_weight[re],ut=1-Ze;Se=Ze*ee[ye],ge=Ze*oe[ye],J.en[ue].s[re][he]+=Se,J.thm[ue].s[re][he]+=ge,Se=ut*ee[ye],ge=ut*oe[ye]}}for(;re<Ie.SBMAX_s;++re)J.en[ue].s[re][he]=0,J.thm[ue].s[re][he]=0}function X(J,ee,oe,ue){var he,re,ye=0,Se=0;for(he=re=0;he<Ie.SBMAX_l;++re,++he){for(var ge=J.bo_l[he],Pe=J.npart_l,xe=ge<Pe?ge:Pe;re<xe;)Ct(ee[re]>=0),Ct(oe[re]>=0),ye+=ee[re],Se+=oe[re],re++;if(J.en[ue].l[he]=ye,J.thm[ue].l[he]=Se,re>=Pe){++he;break}Ct(ee[re]>=0),Ct(oe[re]>=0);{var Ae=J.PSY.bo_l_weight[he],Ze=1-Ae;ye=Ae*ee[re],Se=Ae*oe[re],J.en[ue].l[he]+=ye,J.thm[ue].l[he]+=Se,ye=Ze*ee[re],Se=Ze*oe[re]}}for(;he<Ie.SBMAX_l;++he)J.en[ue].l[he]=0,J.thm[ue].l[he]=0}function C(J,ee,oe,ue,he,re){var ye=J.internal_flags,Se,ge;for(ge=Se=0;ge<ye.npart_s;++ge){for(var Pe=0,xe=ye.numlines_s[ge],Ae=0;Ae<xe;++Ae,++Se){var Ze=ee[re][Se];Pe+=Ze}oe[ge]=Pe}for(Ct(ge==ye.npart_s),Se=ge=0;ge<ye.npart_s;ge++){var ut=ye.s3ind_s[ge][0],Fe=ye.s3_ss[Se++]*oe[ut];for(++ut;ut<=ye.s3ind_s[ge][1];)Fe+=ye.s3_ss[Se]*oe[ut],++Se,++ut;{var at=a*ye.nb_s1[he][ge];ue[ge]=Math.min(Fe,at)}if(ye.blocktype_old[he&1]==Ie.SHORT_TYPE){var at=l*ye.nb_s2[he][ge],Me=ue[ge];ue[ge]=Math.min(at,Me)}ye.nb_s2[he][ge]=ye.nb_s1[he][ge],ye.nb_s1[he][ge]=Fe,Ct(ue[ge]>=0)}for(;ge<=Ie.CBANDS;++ge)oe[ge]=0,ue[ge]=0}function T(J,ee,oe,ue){var he=J.internal_flags;J.short_blocks==ta.short_block_coupled&&!(ee[0]!=0&&ee[1]!=0)&&(ee[0]=ee[1]=0);for(var re=0;re<he.channels_out;re++)ue[re]=Ie.NORM_TYPE,J.short_blocks==ta.short_block_dispensed&&(ee[re]=1),J.short_blocks==ta.short_block_forced&&(ee[re]=0),ee[re]!=0?(Ct(he.blocktype_old[re]!=Ie.START_TYPE),he.blocktype_old[re]==Ie.SHORT_TYPE&&(ue[re]=Ie.STOP_TYPE)):(ue[re]=Ie.SHORT_TYPE,he.blocktype_old[re]==Ie.NORM_TYPE&&(he.blocktype_old[re]=Ie.START_TYPE),he.blocktype_old[re]==Ie.STOP_TYPE&&(he.blocktype_old[re]=Ie.SHORT_TYPE)),oe[re]=he.blocktype_old[re],he.blocktype_old[re]=ue[re]}function I(J,ee,oe){return oe>=1?J:oe<=0?ee:ee>0?Math.pow(J/ee,oe)*ee:0}var F=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function H(J,ee){for(var oe=309.07,ue=0;ue<Ie.SBMAX_s-1;ue++)for(var he=0;he<3;he++){var re=J.thm.s[ue][he];if(re>0){var ye=re*ee,Se=J.en.s[ue][he];Se>ye&&(Se>ye*1e10?oe+=F[ue]*(10*n):oe+=F[ue]*dr.FAST_LOG10(Se/ye))}}return oe}var ae=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function le(J,ee){for(var oe=281.0575,ue=0;ue<Ie.SBMAX_l-1;ue++){var he=J.thm.l[ue];if(he>0){var re=he*ee,ye=J.en.l[ue];ye>re&&(ye>re*1e10?oe+=ae[ue]*(10*n):oe+=ae[ue]*dr.FAST_LOG10(ye/re))}}return oe}function te(J,ee,oe,ue,he){var re,ye;for(re=ye=0;re<J.npart_l;++re){var Se=0,ge=0,Pe;for(Pe=0;Pe<J.numlines_l[re];++Pe,++ye){var xe=ee[ye];Se+=xe,ge<xe&&(ge=xe)}oe[re]=Se,ue[re]=ge,he[re]=Se*J.rnumlines_l[re],Ct(J.rnumlines_l[re]>=0),Ct(oe[re]>=0),Ct(ue[re]>=0),Ct(he[re]>=0)}}function ce(J,ee,oe,ue){var he=V.length-1,re=0,ye=oe[re]+oe[re+1];if(ye>0){var Se=ee[re];Se<ee[re+1]&&(Se=ee[re+1]),Ct(J.numlines_l[re]+J.numlines_l[re+1]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_l[re]+J.numlines_l[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;for(re=1;re<J.npart_l-1;re++)if(ye=oe[re-1]+oe[re]+oe[re+1],ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),Se<ee[re+1]&&(Se=ee[re+1]),Ct(J.numlines_l[re-1]+J.numlines_l[re]+J.numlines_l[re+1]-1>0),ye=20*(Se*3-ye)/(ye*(J.numlines_l[re-1]+J.numlines_l[re]+J.numlines_l[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;if(Ct(re==J.npart_l-1),ye=oe[re-1]+oe[re],ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),Ct(J.numlines_l[re-1]+J.numlines_l[re]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_l[re-1]+J.numlines_l[re]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;Ct(re==J.npart_l-1)}var be=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(J,ee,oe,ue,he,re,ye,Se,ge,Pe){var xe=J.internal_flags,Ae=Nr([2,Ie.BLKSIZE]),Ze=Nr([2,3,Ie.BLKSIZE_s]),ut=Sn(Ie.CBANDS+1),Fe=Sn(Ie.CBANDS+1),at=Sn(Ie.CBANDS+2),Me=Ki(2),et=Ki(2),yt,Be,Je,ze,lt,zt,Ye,mt,Tt=Nr([2,576]),Zt,Zn=Ki(Ie.CBANDS+2),$t=Ki(Ie.CBANDS+2);for(HD.fill($t,0),yt=xe.channels_out,J.mode==t.JOINT_STEREO&&(yt=4),J.VBR==ea.vbr_off?Zt=xe.ResvMax==0?0:xe.ResvSize/xe.ResvMax*.5:J.VBR==ea.vbr_rh||J.VBR==ea.vbr_mtrh||J.VBR==ea.vbr_mt?Zt=.6:Zt=1,Be=0;Be<xe.channels_out;Be++){var qt=ee[Be],Nn=oe+576-350-E+192;for(ze=0;ze<576;ze++){var Yn,Bn;for(Yn=qt[Nn+ze+10],Bn=0,lt=0;lt<(E-1)/2-1;lt+=2)Yn+=be[lt]*(qt[Nn+ze+lt]+qt[Nn+ze+E-lt]),Bn+=be[lt+1]*(qt[Nn+ze+lt+1]+qt[Nn+ze+E-lt-1]);Tt[Be][ze]=Yn+Bn}he[ue][Be].en.assign(xe.en[Be]),he[ue][Be].thm.assign(xe.thm[Be]),yt>2&&(re[ue][Be].en.assign(xe.en[Be+2]),re[ue][Be].thm.assign(xe.thm[Be+2]))}for(Be=0;Be<yt;Be++){var nr,rr,Cn=Sn(12),Er=[0,0,0,0],Gs=Sn(12),Kt=1,Xc,Po=Sn(Ie.CBANDS),Ka=Sn(Ie.CBANDS),Ut=[0,0,0,0],qc=Sn(Ie.HBLKSIZE),Qa=Nr([3,Ie.HBLKSIZE_s]);for(Ct(xe.npart_s<=Ie.CBANDS),Ct(xe.npart_l<=Ie.CBANDS),ze=0;ze<3;ze++)Cn[ze]=xe.nsPsy.last_en_subshort[Be][ze+6],Ct(xe.nsPsy.last_en_subshort[Be][ze+4]>0),Gs[ze]=Cn[ze]/xe.nsPsy.last_en_subshort[Be][ze+4],Er[0]+=Cn[ze];if(Be==2)for(ze=0;ze<576;ze++){var Zs,sr;Zs=Tt[0][ze],sr=Tt[1][ze],Tt[0][ze]=Zs+sr,Tt[1][ze]=Zs-sr}{var Gc=Tt[Be&1],Dn=0;for(ze=0;ze<9;ze++){for(var Uf=Dn+64,bn=1;Dn<Uf;Dn++)bn<Math.abs(Gc[Dn])&&(bn=Math.abs(Gc[Dn]));xe.nsPsy.last_en_subshort[Be][ze]=Cn[ze+3]=bn,Er[1+ze/3]+=bn,bn>Cn[ze+3-2]?(Ct(Cn[ze+3-2]>0),bn=bn/Cn[ze+3-2]):Cn[ze+3-2]>bn*10?bn=Cn[ze+3-2]/(bn*10):bn=0,Gs[ze+3]=bn}}if(J.analysis){var Ja=Gs[0];for(ze=1;ze<12;ze++)Ja<Gs[ze]&&(Ja=Gs[ze]);xe.pinfo.ers[ue][Be]=xe.pinfo.ers_save[Be],xe.pinfo.ers_save[Be]=Ja}for(Xc=Be==3?xe.nsPsy.attackthre_s:xe.nsPsy.attackthre,ze=0;ze<12;ze++)Ut[ze/3]==0&&Gs[ze]>Xc&&(Ut[ze/3]=ze%3+1);for(ze=1;ze<4;ze++){var Ys;Er[ze-1]>Er[ze]?(Ct(Er[ze]>0),Ys=Er[ze-1]/Er[ze]):(Ct(Er[ze-1]>0),Ys=Er[ze]/Er[ze-1]),Ys<1.7&&(Ut[ze]=0,ze==1&&(Ut[0]=0))}for(Ut[0]!=0&&xe.nsPsy.lastAttacks[Be]!=0&&(Ut[0]=0),(xe.nsPsy.lastAttacks[Be]==3||Ut[0]+Ut[1]+Ut[2]+Ut[3]!=0)&&(Kt=0,Ut[1]!=0&&Ut[0]!=0&&(Ut[1]=0),Ut[2]!=0&&Ut[1]!=0&&(Ut[2]=0),Ut[3]!=0&&Ut[2]!=0&&(Ut[3]=0)),Be<2?et[Be]=Kt:Kt==0&&(et[0]=et[1]=0),ge[Be]=xe.tot_ener[Be],rr=Ze,nr=Ae,v(J,qc,Qa,nr,Be&1,rr,Be&1,ue,Be,ee,oe),te(xe,qc,ut,Po,Ka),ce(xe,Po,Ka,Zn),mt=0;mt<3;mt++){var Ks,wn;for(C(J,Qa,Fe,at,Be,mt),Z(xe,Fe,at,Be,mt),Ye=0;Ye<Ie.SBMAX_s;Ye++){if(wn=xe.thm[Be].s[Ye][mt],wn*=f,Ut[mt]>=2||Ut[mt+1]==1){var as=mt!=0?mt-1:2,bn=I(xe.thm[Be].s[Ye][as],wn,p*Zt);wn=Math.min(wn,bn)}if(Ut[mt]==1){var as=mt!=0?mt-1:2,bn=I(xe.thm[Be].s[Ye][as],wn,_*Zt);wn=Math.min(wn,bn)}else if(mt!=0&&Ut[mt-1]==3||mt==0&&xe.nsPsy.lastAttacks[Be]==3){var as=mt!=2?mt+1:0,bn=I(xe.thm[Be].s[Ye][as],wn,_*Zt);wn=Math.min(wn,bn)}Ks=Cn[mt*3+3]+Cn[mt*3+4]+Cn[mt*3+5],Cn[mt*3+5]*6<Ks&&(wn*=.5,Cn[mt*3+4]*6<Ks&&(wn*=.5)),xe.thm[Be].s[Ye][mt]=wn}}for(xe.nsPsy.lastAttacks[Be]=Ut[2],zt=0,Je=0;Je<xe.npart_l;Je++){for(var Es=xe.s3ind[Je][0],el=ut[Es]*V[Zn[Es]],Br=xe.s3_ll[zt++]*el;++Es<=xe.s3ind[Je][1];)el=ut[Es]*V[Zn[Es]],Br=z(Br,xe.s3_ll[zt++]*el,Es,Es-Je,xe);Br*=.158489319246111,xe.blocktype_old[Be&1]==Ie.SHORT_TYPE?at[Je]=Br:at[Je]=I(Math.min(Br,Math.min(r*xe.nb_1[Be][Je],i*xe.nb_2[Be][Je])),Br,Zt),xe.nb_2[Be][Je]=xe.nb_1[Be][Je],xe.nb_1[Be][Je]=Br}for(;Je<=Ie.CBANDS;++Je)ut[Je]=0,at[Je]=0;X(xe,ut,at,Be)}if((J.mode==t.STEREO||J.mode==t.JOINT_STEREO)&&J.interChRatio>0&&ne(J,J.interChRatio),J.mode==t.JOINT_STEREO){var Ro;Y(xe),Ro=J.msfix,Math.abs(Ro)>0&&U(xe,Ro,J.ATHlower*xe.ATH.adjust)}for(T(J,et,Pe,Me),Be=0;Be<yt;Be++){var Ts,Fr=0,Ao,Qs;Be>1?(Ts=Se,Fr=-2,Ao=Ie.NORM_TYPE,(Pe[0]==Ie.SHORT_TYPE||Pe[1]==Ie.SHORT_TYPE)&&(Ao=Ie.SHORT_TYPE),Qs=re[ue][Be-2]):(Ts=ye,Fr=0,Ao=Pe[Be],Qs=he[ue][Be]),Ao==Ie.SHORT_TYPE?Ts[Fr+Be]=H(Qs,xe.masking_lower):Ts[Fr+Be]=le(Qs,xe.masking_lower),J.analysis&&(xe.pinfo.pe[ue][Be]=Ts[Fr+Be])}return 0};function Ee(J,ee,oe,ue,he,re,ye,Se){var ge=J.internal_flags;if(ue<2)e.fft_long(ge,ye[Se],ue,ee,oe);else if(ue==2)for(var Pe=Ie.BLKSIZE-1;Pe>=0;--Pe){var xe=ye[Se+0][Pe],Ae=ye[Se+1][Pe];ye[Se+0][Pe]=(xe+Ae)*dr.SQRT2*.5,ye[Se+1][Pe]=(xe-Ae)*dr.SQRT2*.5}re[0]=ye[Se+0][0],re[0]*=re[0];for(var Pe=Ie.BLKSIZE/2-1;Pe>=0;--Pe){var Ze=ye[Se+0][Ie.BLKSIZE/2-Pe],ut=ye[Se+0][Ie.BLKSIZE/2+Pe];re[Ie.BLKSIZE/2-Pe]=(Ze*Ze+ut*ut)*.5}{for(var Fe=0,Pe=11;Pe<Ie.HBLKSIZE;Pe++)Fe+=re[Pe];ge.tot_ener[ue]=Fe}if(J.analysis){for(var Pe=0;Pe<Ie.HBLKSIZE;Pe++)ge.pinfo.energy[he][ue][Pe]=ge.pinfo.energy_save[ue][Pe],ge.pinfo.energy_save[ue][Pe]=re[Pe];ge.pinfo.pe[he][ue]=ge.pe[ue]}}function je(J,ee,oe,ue,he,re,ye,Se){var ge=J.internal_flags;if(he==0&&ue<2&&e.fft_short(ge,ye[Se],ue,ee,oe),ue==2)for(var Pe=Ie.BLKSIZE_s-1;Pe>=0;--Pe){var xe=ye[Se+0][he][Pe],Ae=ye[Se+1][he][Pe];ye[Se+0][he][Pe]=(xe+Ae)*dr.SQRT2*.5,ye[Se+1][he][Pe]=(xe-Ae)*dr.SQRT2*.5}re[he][0]=ye[Se+0][he][0],re[he][0]*=re[he][0];for(var Pe=Ie.BLKSIZE_s/2-1;Pe>=0;--Pe){var Ze=ye[Se+0][he][Ie.BLKSIZE_s/2-Pe],ut=ye[Se+0][he][Ie.BLKSIZE_s/2+Pe];re[he][Ie.BLKSIZE_s/2-Pe]=(Ze*Ze+ut*ut)*.5}}function Ve(J,ee,oe,ue){var he=J.internal_flags;J.athaa_loudapprox==2&&oe<2&&(he.loudness_sq[ee][oe]=he.loudness_sq_save[oe],he.loudness_sq_save[oe]=x(ue,he))}var B=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ve(J,ee,oe,ue,he,re,ye,Se,ge,Pe){for(var xe=Nr([2,576]),Ae=J.internal_flags,Ze=Ae.channels_out,ut=J.mode==t.JOINT_STEREO?4:Ze,Fe=0;Fe<Ze;Fe++){firbuf=ee[Fe];for(var at=oe+576-350-E+192,Me=0;Me<576;Me++){var et,yt;et=firbuf[at+Me+10],yt=0;for(var Be=0;Be<(E-1)/2-1;Be+=2)et+=B[Be]*(firbuf[at+Me+Be]+firbuf[at+Me+E-Be]),yt+=B[Be+1]*(firbuf[at+Me+Be+1]+firbuf[at+Me+E-Be-1]);xe[Fe][Me]=et+yt}he[ue][Fe].en.assign(Ae.en[Fe]),he[ue][Fe].thm.assign(Ae.thm[Fe]),ut>2&&(re[ue][Fe].en.assign(Ae.en[Fe+2]),re[ue][Fe].thm.assign(Ae.thm[Fe+2]))}for(var Fe=0;Fe<ut;Fe++){var Je=Sn(12),ze=Sn(12),lt=[0,0,0,0],zt=xe[Fe&1],Ye=0,mt=Fe==3?Ae.nsPsy.attackthre_s:Ae.nsPsy.attackthre,Tt=1;if(Fe==2)for(var Me=0,Be=576;Be>0;++Me,--Be){var Zt=xe[0][Me],Zn=xe[1][Me];xe[0][Me]=Zt+Zn,xe[1][Me]=Zt-Zn}for(var Me=0;Me<3;Me++)ze[Me]=Ae.nsPsy.last_en_subshort[Fe][Me+6],Ct(Ae.nsPsy.last_en_subshort[Fe][Me+4]>0),Je[Me]=ze[Me]/Ae.nsPsy.last_en_subshort[Fe][Me+4],lt[0]+=ze[Me];for(var Me=0;Me<9;Me++){for(var $t=Ye+64,qt=1;Ye<$t;Ye++)qt<Math.abs(zt[Ye])&&(qt=Math.abs(zt[Ye]));Ae.nsPsy.last_en_subshort[Fe][Me]=ze[Me+3]=qt,lt[1+Me/3]+=qt,qt>ze[Me+3-2]?(Ct(ze[Me+3-2]>0),qt=qt/ze[Me+3-2]):ze[Me+3-2]>qt*10?qt=ze[Me+3-2]/(qt*10):qt=0,Je[Me+3]=qt}for(var Me=0;Me<3;++Me){var Nn=ze[Me*3+3]+ze[Me*3+4]+ze[Me*3+5],Yn=1;ze[Me*3+5]*6<Nn&&(Yn*=.5,ze[Me*3+4]*6<Nn&&(Yn*=.5)),Se[Fe][Me]=Yn}if(J.analysis){for(var Bn=Je[0],Me=1;Me<12;Me++)Bn<Je[Me]&&(Bn=Je[Me]);Ae.pinfo.ers[ue][Fe]=Ae.pinfo.ers_save[Fe],Ae.pinfo.ers_save[Fe]=Bn}for(var Me=0;Me<12;Me++)ge[Fe][Me/3]==0&&Je[Me]>mt&&(ge[Fe][Me/3]=Me%3+1);for(var Me=1;Me<4;Me++){var nr=lt[Me-1],rr=lt[Me],Cn=Math.max(nr,rr);Cn<4e4&&nr<1.7*rr&&rr<1.7*nr&&(Me==1&&ge[Fe][0]<=ge[Fe][Me]&&(ge[Fe][0]=0),ge[Fe][Me]=0)}ge[Fe][0]<=Ae.nsPsy.lastAttacks[Fe]&&(ge[Fe][0]=0),(Ae.nsPsy.lastAttacks[Fe]==3||ge[Fe][0]+ge[Fe][1]+ge[Fe][2]+ge[Fe][3]!=0)&&(Tt=0,ge[Fe][1]!=0&&ge[Fe][0]!=0&&(ge[Fe][1]=0),ge[Fe][2]!=0&&ge[Fe][1]!=0&&(ge[Fe][2]=0),ge[Fe][3]!=0&&ge[Fe][2]!=0&&(ge[Fe][3]=0)),Fe<2?Pe[Fe]=Tt:Tt==0&&(Pe[0]=Pe[1]=0),ye[Fe]=Ae.tot_ener[Fe]}}function pe(J,ee,oe){if(oe==0)for(var ue=0;ue<J.npart_s;ue++)J.nb_s2[ee][ue]=J.nb_s1[ee][ue],J.nb_s1[ee][ue]=0}function ie(J,ee){for(var oe=0;oe<J.npart_l;oe++)J.nb_2[ee][oe]=J.nb_1[ee][oe],J.nb_1[ee][oe]=0}function se(J,ee,oe,ue){var he=V.length-1,re=0,ye=oe[re]+oe[re+1];if(ye>0){var Se=ee[re];Se<ee[re+1]&&(Se=ee[re+1]),Ct(J.numlines_s[re]+J.numlines_s[re+1]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_s[re]+J.numlines_s[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;for(re=1;re<J.npart_s-1;re++)if(ye=oe[re-1]+oe[re]+oe[re+1],Ct(re+1<J.npart_s),ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),Se<ee[re+1]&&(Se=ee[re+1]),Ct(J.numlines_s[re-1]+J.numlines_s[re]+J.numlines_s[re+1]-1>0),ye=20*(Se*3-ye)/(ye*(J.numlines_s[re-1]+J.numlines_s[re]+J.numlines_s[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;if(Ct(re==J.npart_s-1),ye=oe[re-1]+oe[re],ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),Ct(J.numlines_s[re-1]+J.numlines_s[re]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_s[re-1]+J.numlines_s[re]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;Ct(re==J.npart_s-1)}function M(J,ee,oe,ue,he,re){var ye=J.internal_flags,Se=new float[Ie.CBANDS],ge=Sn(Ie.CBANDS),Pe,xe,Ae,Ze=new int[Ie.CBANDS];for(Ae=xe=0;Ae<ye.npart_s;++Ae){var ut=0,Fe=0,at=ye.numlines_s[Ae];for(Pe=0;Pe<at;++Pe,++xe){var Me=ee[re][xe];ut+=Me,Fe<Me&&(Fe=Me)}oe[Ae]=ut,Se[Ae]=Fe,ge[Ae]=ut/at,Ct(ge[Ae]>=0)}for(Ct(Ae==ye.npart_s);Ae<Ie.CBANDS;++Ae)Se[Ae]=0,ge[Ae]=0;for(se(ye,Se,ge,Ze),xe=Ae=0;Ae<ye.npart_s;Ae++){var et=ye.s3ind_s[Ae][0],yt=ye.s3ind_s[Ae][1],Be,Je,ze,lt,zt;for(Be=Ze[et],Je=1,lt=ye.s3_ss[xe]*oe[et]*V[Ze[et]],++xe,++et;et<=yt;)Be+=Ze[et],Je+=1,ze=ye.s3_ss[xe]*oe[et]*V[Ze[et]],lt=W(lt,ze,et-Ae),++xe,++et;Be=(1+2*Be)/(2*Je),zt=V[Be]*.5,lt*=zt,ue[Ae]=lt,ye.nb_s2[he][Ae]=ye.nb_s1[he][Ae],ye.nb_s1[he][Ae]=lt,ze=Se[Ae],ze*=ye.minval_s[Ae],ze*=zt,ue[Ae]>ze&&(ue[Ae]=ze),ye.masking_lower>1&&(ue[Ae]*=ye.masking_lower),ue[Ae]>oe[Ae]&&(ue[Ae]=oe[Ae]),ye.masking_lower<1&&(ue[Ae]*=ye.masking_lower),Ct(ue[Ae]>=0)}for(;Ae<Ie.CBANDS;++Ae)oe[Ae]=0,ue[Ae]=0}function $(J,ee,oe,ue,he){var re=Sn(Ie.CBANDS),ye=Sn(Ie.CBANDS),Se=Ki(Ie.CBANDS+2),ge;te(J,ee,oe,re,ye),ce(J,re,ye,Se);var Pe=0;for(ge=0;ge<J.npart_l;ge++){var xe,Ae,Ze,ut,Fe=J.s3ind[ge][0],at=J.s3ind[ge][1],Me=0,et=0;for(Me=Se[Fe],et+=1,Ae=J.s3_ll[Pe]*oe[Fe]*V[Se[Fe]],++Pe,++Fe;Fe<=at;)Me+=Se[Fe],et+=1,xe=J.s3_ll[Pe]*oe[Fe]*V[Se[Fe]],ut=W(Ae,xe,Fe-ge),Ae=ut,++Pe,++Fe;if(Me=(1+2*Me)/(2*et),Ze=V[Me]*.5,Ae*=Ze,J.blocktype_old[he&1]==Ie.SHORT_TYPE){var yt=r*J.nb_1[he][ge];yt>0?ue[ge]=Math.min(Ae,yt):ue[ge]=Math.min(Ae,oe[ge]*_)}else{var Be=i*J.nb_2[he][ge],Je=r*J.nb_1[he][ge],yt;Be<=0&&(Be=Ae),Je<=0&&(Je=Ae),J.blocktype_old[he&1]==Ie.NORM_TYPE?yt=Math.min(Je,Be):yt=Je,ue[ge]=Math.min(Ae,yt)}J.nb_2[he][ge]=J.nb_1[he][ge],J.nb_1[he][ge]=Ae,xe=re[ge],xe*=J.minval_l[ge],xe*=Ze,ue[ge]>xe&&(ue[ge]=xe),J.masking_lower>1&&(ue[ge]*=J.masking_lower),ue[ge]>oe[ge]&&(ue[ge]=oe[ge]),J.masking_lower<1&&(ue[ge]*=J.masking_lower),Ct(ue[ge]>=0)}for(;ge<Ie.CBANDS;++ge)oe[ge]=0,ue[ge]=0}function we(J,ee){var oe=J.internal_flags;J.short_blocks==ta.short_block_coupled&&!(ee[0]!=0&&ee[1]!=0)&&(ee[0]=ee[1]=0);for(var ue=0;ue<oe.channels_out;ue++)J.short_blocks==ta.short_block_dispensed&&(ee[ue]=1),J.short_blocks==ta.short_block_forced&&(ee[ue]=0)}function fe(J,ee,oe){for(var ue=J.internal_flags,he=0;he<ue.channels_out;he++){var re=Ie.NORM_TYPE;ee[he]!=0?(Ct(ue.blocktype_old[he]!=Ie.START_TYPE),ue.blocktype_old[he]==Ie.SHORT_TYPE&&(re=Ie.STOP_TYPE)):(re=Ie.SHORT_TYPE,ue.blocktype_old[he]==Ie.NORM_TYPE&&(ue.blocktype_old[he]=Ie.START_TYPE),ue.blocktype_old[he]==Ie.STOP_TYPE&&(ue.blocktype_old[he]=Ie.SHORT_TYPE)),oe[he]=ue.blocktype_old[he],ue.blocktype_old[he]=re}}function Ne(J,ee,oe,ue,he,re,ye){for(var Se=re*2,ge=re>0?Math.pow(10,he):1,Pe,xe,Ae=0;Ae<ye;++Ae){var Ze=J[2][Ae],ut=J[3][Ae],Fe=ee[0][Ae],at=ee[1][Ae],Me=ee[2][Ae],et=ee[3][Ae];if(Fe<=1.58*at&&at<=1.58*Fe){var yt=oe[Ae]*ut,Be=oe[Ae]*Ze;xe=Math.max(Me,Math.min(et,yt)),Pe=Math.max(et,Math.min(Me,Be))}else xe=Me,Pe=et;if(re>0){var Je,ze,lt=ue[Ae]*ge;if(Je=Math.min(Math.max(Fe,lt),Math.max(at,lt)),Me=Math.max(xe,lt),et=Math.max(Pe,lt),ze=Me+et,ze>0&&Je*Se<ze){var zt=Je*Se/ze;Me*=zt,et*=zt}xe=Math.min(Me,xe),Pe=Math.min(et,Pe)}xe>Ze&&(xe=Ze),Pe>ut&&(Pe=ut),ee[2][Ae]=xe,ee[3][Ae]=Pe}}this.L3psycho_anal_vbr=function(J,ee,oe,ue,he,re,ye,Se,ge,Pe){var xe=J.internal_flags,Ae,Ze,ut=Sn(Ie.HBLKSIZE),Fe=Nr([3,Ie.HBLKSIZE_s]),at=Nr([2,Ie.BLKSIZE]),Me=Nr([2,3,Ie.BLKSIZE_s]),et=Nr([4,Ie.CBANDS]),yt=Nr([4,Ie.CBANDS]),Be=Nr([4,3]),Je=.6,ze=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],lt=Ki(2),zt=J.mode==t.JOINT_STEREO?4:xe.channels_out;ve(J,ee,oe,ue,he,re,ge,Be,ze,lt),we(J,lt);{for(var Ye=0;Ye<zt;Ye++){var mt=Ye&1;Ae=at,Ee(J,ee,oe,Ye,ue,ut,Ae,mt),Ve(J,ue,Ye,ut),lt[mt]!=0?$(xe,ut,et[Ye],yt[Ye],Ye):ie(xe,Ye)}lt[0]+lt[1]==2&&J.mode==t.JOINT_STEREO&&Ne(et,yt,xe.mld_cb_l,xe.ATH.cb_l,J.ATHlower*xe.ATH.adjust,J.msfix,xe.npart_l);for(var Ye=0;Ye<zt;Ye++){var mt=Ye&1;lt[mt]!=0&&X(xe,et[Ye],yt[Ye],Ye)}}{for(var Tt=0;Tt<3;Tt++){for(var Ye=0;Ye<zt;++Ye){var mt=Ye&1;lt[mt]!=0?pe(xe,Ye,Tt):(Ze=Me,je(J,ee,oe,Ye,Tt,Fe,Ze,mt),M(J,Fe,et[Ye],yt[Ye],Ye,Tt))}lt[0]+lt[1]==0&&J.mode==t.JOINT_STEREO&&Ne(et,yt,xe.mld_cb_s,xe.ATH.cb_s,J.ATHlower*xe.ATH.adjust,J.msfix,xe.npart_s);for(var Ye=0;Ye<zt;++Ye){var mt=Ye&1;lt[mt]==0&&Z(xe,et[Ye],yt[Ye],Ye,Tt)}}for(var Ye=0;Ye<zt;Ye++){var mt=Ye&1;if(lt[mt]==0)for(var Zt=0;Zt<Ie.SBMAX_s;Zt++){for(var Zn=Sn(3),Tt=0;Tt<3;Tt++){var $t=xe.thm[Ye].s[Zt][Tt];if($t*=f,ze[Ye][Tt]>=2||ze[Ye][Tt+1]==1){var qt=Tt!=0?Tt-1:2,Nn=I(xe.thm[Ye].s[Zt][qt],$t,p*Je);$t=Math.min($t,Nn)}else if(ze[Ye][Tt]==1){var qt=Tt!=0?Tt-1:2,Nn=I(xe.thm[Ye].s[Zt][qt],$t,_*Je);$t=Math.min($t,Nn)}else if(Tt!=0&&ze[Ye][Tt-1]==3||Tt==0&&xe.nsPsy.lastAttacks[Ye]==3){var qt=Tt!=2?Tt+1:0,Nn=I(xe.thm[Ye].s[Zt][qt],$t,_*Je);$t=Math.min($t,Nn)}$t*=Be[Ye][Tt],Zn[Tt]=$t}for(var Tt=0;Tt<3;Tt++)xe.thm[Ye].s[Zt][Tt]=Zn[Tt]}}}for(var Ye=0;Ye<zt;Ye++)xe.nsPsy.lastAttacks[Ye]=ze[Ye][2];fe(J,lt,Pe);for(var Ye=0;Ye<zt;Ye++){var Yn,Bn,nr,rr;Ye>1?(Yn=Se,Bn=-2,nr=Ie.NORM_TYPE,(Pe[0]==Ie.SHORT_TYPE||Pe[1]==Ie.SHORT_TYPE)&&(nr=Ie.SHORT_TYPE),rr=re[ue][Ye-2]):(Yn=ye,Bn=0,nr=Pe[Ye],rr=he[ue][Ye]),nr==Ie.SHORT_TYPE?Yn[Bn+Ye]=H(rr,xe.masking_lower):Yn[Bn+Ye]=le(rr,xe.masking_lower),J.analysis&&(xe.pinfo.pe[ue][Ye]=Yn[Bn+Ye])}return 0};function Oe(J,ee){var oe=J,ue;return oe>=0?ue=-oe*27:ue=oe*ee,ue<=-72?0:Math.exp(ue*b)}function Re(J){var ee=0,oe=0;{var ue=0,he,re;for(ue=0;Oe(ue,J)>1e-20;ue-=1);for(he=ue,re=0;Math.abs(re-he)>1e-12;)ue=(re+he)/2,Oe(ue,J)>0?re=ue:he=ue;ee=he}{var ue=0,he,re;for(ue=0;Oe(ue,J)>1e-20;ue+=1);for(he=0,re=ue;Math.abs(re-he)>1e-12;)ue=(re+he)/2,Oe(ue,J)>0?he=ue:re=ue;oe=re}{var ye=0,Se=1e3,ge;for(ge=0;ge<=Se;++ge){var ue=ee+ge*(oe-ee)/Se,Pe=Oe(ue,J);ye+=Pe}{var xe=(Se+1)/(ye*(oe-ee));return xe}}}function Le(J){var ee,oe,ue,he;return ee=J,ee>=0?ee*=3:ee*=1.5,ee>=.5&&ee<=2.5?(he=ee-.5,oe=8*(he*he-2*he)):oe=0,ee+=.474,ue=15.811389+7.5*ee-17.5*Math.sqrt(1+ee*ee),ue<=-60?0:(ee=Math.exp((oe+ue)*b),ee/=.6609193,ee)}function Qe(J){return J<0&&(J=0),J=J*.001,13*Math.atan(.76*J)+3.5*Math.atan(J*J/(7.5*7.5))}function He(J,ee,oe,ue,he,re,ye,Se,ge,Pe,xe,Ae){var Ze=Sn(Ie.CBANDS+1),ut=Se/(Ae>15?2*576:384),Fe=Ki(Ie.HBLKSIZE),at;Se/=ge;var Me=0,et=0;for(at=0;at<Ie.CBANDS;at++){var yt,Be;for(yt=Qe(Se*Me),Ze[at]=Se*Me,Be=Me;Qe(Se*Be)-yt<c&&Be<=ge/2;Be++);for(J[at]=Be-Me,et=at+1;Me<Be;)Ct(Me<Ie.HBLKSIZE),Fe[Me++]=at;if(Me>ge/2){Me=ge/2,++at;break}}Ct(at<Ie.CBANDS),Ze[at]=Se*Me;for(var Je=0;Je<Ae;Je++){var ze,lt,zt,Ye,mt;zt=Pe[Je],Ye=Pe[Je+1],ze=0|Math.floor(.5+xe*(zt-.5)),ze<0&&(ze=0),lt=0|Math.floor(.5+xe*(Ye-.5)),lt>ge/2&&(lt=ge/2),oe[Je]=(Fe[ze]+Fe[lt])/2,ee[Je]=Fe[lt];var Tt=ut*Ye;ye[Je]=(Tt-Ze[ee[Je]])/(Ze[ee[Je]+1]-Ze[ee[Je]]),ye[Je]<0?ye[Je]=0:ye[Je]>1&&(ye[Je]=1),mt=Qe(Se*Pe[Je]*xe),mt=Math.min(mt,15.5)/15.5,re[Je]=Math.pow(10,1.25*(1-Math.cos(Math.PI*mt))-2.5)}Me=0;for(var Zt=0;Zt<et;Zt++){var Zn=J[Zt],yt,$t;yt=Qe(Se*Me),$t=Qe(Se*(Me+Zn-1)),ue[Zt]=.5*(yt+$t),yt=Qe(Se*(Me-.5)),$t=Qe(Se*(Me+Zn-.5)),he[Zt]=$t-yt,Me+=Zn}return et}function Ce(J,ee,oe,ue,he,re){var ye=Nr([Ie.CBANDS,Ie.CBANDS]),Se,ge=0;if(re)for(var Pe=0;Pe<ee;Pe++)for(Se=0;Se<ee;Se++){var xe=Le(oe[Pe]-oe[Se])*ue[Se];ye[Pe][Se]=xe*he[Pe]}else for(Se=0;Se<ee;Se++)for(var Ae=15+Math.min(21/oe[Se],12),Ze=Re(Ae),Pe=0;Pe<ee;Pe++){var xe=Ze*Oe(oe[Pe]-oe[Se],Ae)*ue[Se];ye[Pe][Se]=xe*he[Pe]}for(var Pe=0;Pe<ee;Pe++){for(Se=0;Se<ee&&!(ye[Pe][Se]>0);Se++);for(J[Pe][0]=Se,Se=ee-1;Se>0&&!(ye[Pe][Se]>0);Se--);J[Pe][1]=Se,ge+=J[Pe][1]-J[Pe][0]+1}for(var ut=Sn(ge),Fe=0,Pe=0;Pe<ee;Pe++)for(Se=J[Pe][0];Se<=J[Pe][1];Se++)ut[Fe++]=ye[Pe][Se];return ut}function it(J){var ee=Qe(J);return ee=Math.min(ee,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*ee))-2.5)}this.psymodel_init=function(J){var ee=J.internal_flags,oe,ue=!0,he=13,re=24,ye=0,Se=0,ge=-8.25,Pe=-4.5,xe=Sn(Ie.CBANDS),Ae=Sn(Ie.CBANDS),Ze=Sn(Ie.CBANDS),ut=J.out_samplerate;switch(J.experimentalZ){default:case 0:ue=!0;break;case 1:ue=!(J.VBR==ea.vbr_mtrh||J.VBR==ea.vbr_mt);break;case 2:ue=!1;break;case 3:he=8,ye=-1.75,Se=-.0125,ge=-8.25,Pe=-2.25;break}for(ee.ms_ener_ratio_old=.25,ee.blocktype_old[0]=ee.blocktype_old[1]=Ie.NORM_TYPE,oe=0;oe<4;++oe){for(var Me=0;Me<Ie.CBANDS;++Me)ee.nb_1[oe][Me]=1e20,ee.nb_2[oe][Me]=1e20,ee.nb_s1[oe][Me]=ee.nb_s2[oe][Me]=1;for(var Fe=0;Fe<Ie.SBMAX_l;Fe++)ee.en[oe].l[Fe]=1e20,ee.thm[oe].l[Fe]=1e20;for(var Me=0;Me<3;++Me){for(var Fe=0;Fe<Ie.SBMAX_s;Fe++)ee.en[oe].s[Fe][Me]=1e20,ee.thm[oe].s[Fe][Me]=1e20;ee.nsPsy.lastAttacks[oe]=0}for(var Me=0;Me<9;Me++)ee.nsPsy.last_en_subshort[oe][Me]=10}for(ee.loudness_sq_save[0]=ee.loudness_sq_save[1]=0,ee.npart_l=He(ee.numlines_l,ee.bo_l,ee.bm_l,xe,Ae,ee.mld_l,ee.PSY.bo_l_weight,ut,Ie.BLKSIZE,ee.scalefac_band.l,Ie.BLKSIZE/(2*576),Ie.SBMAX_l),Ct(ee.npart_l<Ie.CBANDS),oe=0;oe<ee.npart_l;oe++){var at=ye;xe[oe]>=he&&(at=Se*(xe[oe]-he)/(re-he)+ye*(re-xe[oe])/(re-he)),Ze[oe]=Math.pow(10,at/10),ee.numlines_l[oe]>0?ee.rnumlines_l[oe]=1/ee.numlines_l[oe]:ee.rnumlines_l[oe]=0}ee.s3_ll=Ce(ee.s3ind,ee.npart_l,xe,Ae,Ze,ue);var Me=0;for(oe=0;oe<ee.npart_l;oe++){var et;et=__.MAX_VALUE;for(var yt=0;yt<ee.numlines_l[oe];yt++,Me++){var Be=ut*Me/(1e3*Ie.BLKSIZE),Je;Je=this.ATHformula(Be*1e3,J)-20,Je=Math.pow(10,.1*Je),Je*=ee.numlines_l[oe],et>Je&&(et=Je)}ee.ATH.cb_l[oe]=et,et=-20+xe[oe]*20/10,et>6&&(et=100),et<-15&&(et=-15),et-=8,ee.minval_l[oe]=Math.pow(10,et/10)*ee.numlines_l[oe]}for(ee.npart_s=He(ee.numlines_s,ee.bo_s,ee.bm_s,xe,Ae,ee.mld_s,ee.PSY.bo_s_weight,ut,Ie.BLKSIZE_s,ee.scalefac_band.s,Ie.BLKSIZE_s/384,Ie.SBMAX_s),Ct(ee.npart_s<Ie.CBANDS),Me=0,oe=0;oe<ee.npart_s;oe++){var et,at=ge;xe[oe]>=he&&(at=Pe*(xe[oe]-he)/(re-he)+ge*(re-xe[oe])/(re-he)),Ze[oe]=Math.pow(10,at/10),et=__.MAX_VALUE;for(var yt=0;yt<ee.numlines_s[oe];yt++,Me++){var Be=ut*Me/(1e3*Ie.BLKSIZE_s),Je;Je=this.ATHformula(Be*1e3,J)-20,Je=Math.pow(10,.1*Je),Je*=ee.numlines_s[oe],et>Je&&(et=Je)}ee.ATH.cb_s[oe]=et,et=-7+xe[oe]*7/12,xe[oe]>12&&(et*=1+Math.log(1+et)*3.1),xe[oe]<12&&(et*=1+Math.log(1-et)*2.3),et<-15&&(et=-15),et-=8,ee.minval_s[oe]=Math.pow(10,et/10)*ee.numlines_s[oe]}ee.s3_ss=Ce(ee.s3ind_s,ee.npart_s,xe,Ae,Ze,ue),q(),e.init_fft(ee),ee.decay=Math.exp(-1*n/(h*ut/192));{var ze;ze=w,J.exp_nspsytune&2&&(ze=1),Math.abs(J.msfix)>0&&(ze=J.msfix),J.msfix=ze;for(var lt=0;lt<ee.npart_l;lt++)ee.s3ind[lt][1]>ee.npart_l-1&&(ee.s3ind[lt][1]=ee.npart_l-1)}var zt=576*ee.mode_gr/ut;if(ee.ATH.decay=Math.pow(10,-12/10*zt),ee.ATH.adjust=.01,ee.ATH.adjustLimit=1,Ct(ee.bo_l[Ie.SBMAX_l-1]<=ee.npart_l),Ct(ee.bo_s[Ie.SBMAX_s-1]<=ee.npart_s),J.ATHtype!=-1){var Be,Ye=J.out_samplerate/Ie.BLKSIZE,mt=0;for(Be=0,oe=0;oe<Ie.BLKSIZE/2;++oe)Be+=Ye,ee.ATH.eql_w[oe]=1/Math.pow(10,this.ATHformula(Be,J)/10),mt+=ee.ATH.eql_w[oe];for(mt=1/mt,oe=Ie.BLKSIZE/2;--oe>=0;)ee.ATH.eql_w[oe]*=mt}{for(var lt=Me=0;lt<ee.npart_s;++lt)for(oe=0;oe<ee.numlines_s[lt];++oe)++Me;for(var lt=Me=0;lt<ee.npart_l;++lt)for(oe=0;oe<ee.numlines_l[lt];++oe)++Me}for(Me=0,oe=0;oe<ee.npart_l;oe++){var Be=ut*(Me+ee.numlines_l[oe]/2)/(1*Ie.BLKSIZE);ee.mld_cb_l[oe]=it(Be),Me+=ee.numlines_l[oe]}for(;oe<Ie.CBANDS;++oe)ee.mld_cb_l[oe]=1;for(Me=0,oe=0;oe<ee.npart_s;oe++){var Be=ut*(Me+ee.numlines_s[oe]/2)/(1*Ie.BLKSIZE_s);ee.mld_cb_s[oe]=it(Be),Me+=ee.numlines_s[oe]}for(;oe<Ie.CBANDS;++oe)ee.mld_cb_s[oe]=1;return 0};function pt(J,ee){J<-.3&&(J=3410),J/=1e3,J=Math.max(.1,J);var oe=3.64*Math.pow(J,-.8)-6.8*Math.exp(-.6*Math.pow(J-3.4,2))+6*Math.exp(-.15*Math.pow(J-8.7,2))+(.6+.04*ee)*.001*Math.pow(J,4);return oe}this.ATHformula=function(J,ee){var oe;switch(ee.ATHtype){case 0:oe=pt(J,9);break;case 1:oe=pt(J,-1);break;case 2:oe=pt(J,0);break;case 3:oe=pt(J,1)+6;break;case 4:oe=pt(J,ee.ATHcurve);break;default:oe=pt(J,0);break}return oe}}var GD=qD,ZD=Lc;function YD(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=ZD.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var KD=YD,QD=Gn(),T5={};T5.SFBMAX=QD.SBMAX_s*3;var Pf=T5,k5=rn,JD=k5.new_float,Qi=k5.new_int,Gp=Pf;function eI(){this.xr=JD(576),this.l3_enc=Qi(576),this.scalefac=Qi(Gp.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=Qi(3),this.subblock_gain=Qi(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=Qi(Gp.SFBMAX),this.window=Qi(Gp.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=Qi(4),this.max_nonzero_coeff=0;var t=this;function e(r){return new Int32Array(r)}function n(r){return new Float32Array(r)}this.assign=function(r){t.xr=n(r.xr),t.l3_enc=e(r.l3_enc),t.scalefac=e(r.scalefac),t.xrpow_max=r.xrpow_max,t.part2_3_length=r.part2_3_length,t.big_values=r.big_values,t.count1=r.count1,t.global_gain=r.global_gain,t.scalefac_compress=r.scalefac_compress,t.block_type=r.block_type,t.mixed_block_flag=r.mixed_block_flag,t.table_select=e(r.table_select),t.subblock_gain=e(r.subblock_gain),t.region0_count=r.region0_count,t.region1_count=r.region1_count,t.preflag=r.preflag,t.scalefac_scale=r.scalefac_scale,t.count1table_select=r.count1table_select,t.part2_length=r.part2_length,t.sfb_lmax=r.sfb_lmax,t.sfb_smin=r.sfb_smin,t.psy_lmax=r.psy_lmax,t.sfbmax=r.sfbmax,t.psymax=r.psymax,t.sfbdivide=r.sfbdivide,t.width=e(r.width),t.window=e(r.window),t.count1bits=r.count1bits,t.sfb_partition_table=r.sfb_partition_table.slice(0),t.slen=e(r.slen),t.max_nonzero_coeff=r.max_nonzero_coeff}}var C0=eI,tI=rn,b_=tI.new_int,nI=C0;function rI(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[b_(4),b_(4)];for(var t=0;t<2;t++)for(var e=0;e<2;e++)this.tt[t][e]=new nI}var sI=rI,P5=rn,nd=P5.System,rd=P5.new_int,sd=Gn();function iI(t,e,n,r){this.l=rd(1+sd.SBMAX_l),this.s=rd(1+sd.SBMAX_s),this.psfb21=rd(1+sd.PSFB21),this.psfb12=rd(1+sd.PSFB12);var i=this.l,a=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],nd.arraycopy(this.arrL,0,i,0,Math.min(this.arrL.length,this.l.length)),nd.arraycopy(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),nd.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),nd.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var R5=iI,E0=rn,Zp=E0.new_float,oI=E0.new_float_n,aI=E0.new_int,w_=Gn();function lI(){this.last_en_subshort=oI([4,9]),this.lastAttacks=aI(4),this.pefirbuf=Zp(19),this.longfact=Zp(w_.SBMAX_l),this.shortfact=Zp(w_.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var cI=lI;function uI(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var dI=uI,Ha=rn,fI=Ha.new_byte,hI=Ha.new_double,Dr=Ha.new_float,Ji=Ha.new_float_n,Xr=Ha.new_int,id=Ha.new_int_n,pI=sI,mI=R5,gI=cI,vI=dI,x_=C5(),dn=Gn(),yI=Pf;Bs.MFSIZE=3*1152+dn.ENCDELAY-dn.MDCTDELAY;Bs.MAX_HEADER_BUF=256;Bs.MAX_BITS_PER_CHANNEL=4095;Bs.MAX_BITS_PER_GRANULE=7680;Bs.BPC=320;function Bs(){var t=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Ji([2,Bs.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new pI,this.ms_ratio=Dr(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=Xr(2),this.CurrentStep=Xr(2),this.masking_lower=0,this.bv_scf=Xr(576),this.pseudohalf=Xr(yI.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*Bs.BPC+1),this.itime=hI(2),this.sideinfo_len=0,this.sb_sample=Ji([2,2,18,dn.SBLIMIT]),this.amp_filter=Dr(32);function e(){this.write_timing=0,this.ptr=0,this.buf=fI(t)}this.header=new Array(Bs.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new mI,this.minval_l=Dr(dn.CBANDS),this.minval_s=Dr(dn.CBANDS),this.nb_1=Ji([4,dn.CBANDS]),this.nb_2=Ji([4,dn.CBANDS]),this.nb_s1=Ji([4,dn.CBANDS]),this.nb_s2=Ji([4,dn.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Dr(4),this.loudness_sq=Ji([2,2]),this.loudness_sq_save=Dr(2),this.mld_l=Dr(dn.SBMAX_l),this.mld_s=Dr(dn.SBMAX_s),this.bm_l=Xr(dn.SBMAX_l),this.bo_l=Xr(dn.SBMAX_l),this.bm_s=Xr(dn.SBMAX_s),this.bo_s=Xr(dn.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=id([dn.CBANDS,2]),this.s3ind_s=id([dn.CBANDS,2]),this.numlines_s=Xr(dn.CBANDS),this.numlines_l=Xr(dn.CBANDS),this.rnumlines_l=Dr(dn.CBANDS),this.mld_cb_l=Dr(dn.CBANDS),this.mld_cb_s=Dr(dn.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Dr(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=Xr(2),this.nsPsy=new gI,this.VBR_seek_table=new vI,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=id([16,5]),this.bitrate_blockType_Hist=id([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new x_;for(var n=0;n<this.thm.length;n++)this.thm[n]=new x_;for(var n=0;n<this.header.length;n++)this.header[n]=new e}var Rf=Bs,_I=rn,eo=_I.new_float,to=Gn();function bI(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=eo(to.SBMAX_l),this.s=eo(to.SBMAX_s),this.psfb21=eo(to.PSFB21),this.psfb12=eo(to.PSFB12),this.cb_l=eo(to.CBANDS),this.cb_s=eo(to.CBANDS),this.eql_w=eo(to.BLKSIZE/2)}var wI=bI,A5=rn,fr=A5.System,S_=A5.Arrays;pn.STEPS_per_dB=100;pn.MAX_dB=120;pn.GAIN_NOT_ENOUGH_SAMPLES=-24601;pn.GAIN_ANALYSIS_ERROR=0;pn.GAIN_ANALYSIS_OK=1;pn.INIT_GAIN_ANALYSIS_ERROR=0;pn.INIT_GAIN_ANALYSIS_OK=1;pn.YULE_ORDER=10;pn.MAX_ORDER=pn.YULE_ORDER;pn.MAX_SAMP_FREQ=48e3;pn.RMS_WINDOW_TIME_NUMERATOR=1;pn.RMS_WINDOW_TIME_DENOMINATOR=20;pn.MAX_SAMPLES_PER_WINDOW=pn.MAX_SAMP_FREQ*pn.RMS_WINDOW_TIME_NUMERATOR/pn.RMS_WINDOW_TIME_DENOMINATOR+1;function pn(){var t=64.82,e=.95,n=pn.RMS_WINDOW_TIME_NUMERATOR,r=pn.RMS_WINDOW_TIME_DENOMINATOR,i=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],a=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function l(p,_,w,E,b,x){for(;b--!=0;)w[E]=1e-10+p[_+0]*x[0]-w[E-1]*x[1]+p[_-1]*x[2]-w[E-2]*x[3]+p[_-2]*x[4]-w[E-3]*x[5]+p[_-3]*x[6]-w[E-4]*x[7]+p[_-4]*x[8]-w[E-5]*x[9]+p[_-5]*x[10]-w[E-6]*x[11]+p[_-6]*x[12]-w[E-7]*x[13]+p[_-7]*x[14]-w[E-8]*x[15]+p[_-8]*x[16]-w[E-9]*x[17]+p[_-9]*x[18]-w[E-10]*x[19]+p[_-10]*x[20],++E,++_}function c(p,_,w,E,b,x){for(;b--!=0;)w[E]=p[_+0]*x[0]-w[E-1]*x[1]+p[_-1]*x[2]-w[E-2]*x[3]+p[_-2]*x[4],++E,++_}function d(p,_){for(var w=0;w<MAX_ORDER;w++)p.linprebuf[w]=p.lstepbuf[w]=p.loutbuf[w]=p.rinprebuf[w]=p.rstepbuf[w]=p.routbuf[w]=0;switch(0|_){case 48e3:p.reqindex=0;break;case 44100:p.reqindex=1;break;case 32e3:p.reqindex=2;break;case 24e3:p.reqindex=3;break;case 22050:p.reqindex=4;break;case 16e3:p.reqindex=5;break;case 12e3:p.reqindex=6;break;case 11025:p.reqindex=7;break;case 8e3:p.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return p.sampleWindow=0|(_*n+r-1)/r,p.lsum=0,p.rsum=0,p.totsamp=0,S_.ill(p.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(p,_){return d(p,_)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(p.linpre=MAX_ORDER,p.rinpre=MAX_ORDER,p.lstep=MAX_ORDER,p.rstep=MAX_ORDER,p.lout=MAX_ORDER,p.rout=MAX_ORDER,S_.fill(p.B,0),INIT_GAIN_ANALYSIS_OK)};function h(p){return p*p}this.AnalyzeSamples=function(p,_,w,E,b,x,v){var y,m,A,j,L,O,V;if(x==0)return GAIN_ANALYSIS_OK;switch(V=0,L=x,v){case 1:E=_,b=w;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(x<MAX_ORDER?(fr.arraycopy(_,w,p.linprebuf,MAX_ORDER,x),fr.arraycopy(E,b,p.rinprebuf,MAX_ORDER,x)):(fr.arraycopy(_,w,p.linprebuf,MAX_ORDER,MAX_ORDER),fr.arraycopy(E,b,p.rinprebuf,MAX_ORDER,MAX_ORDER));L>0;){O=L>p.sampleWindow-p.totsamp?p.sampleWindow-p.totsamp:L,V<MAX_ORDER?(y=p.linpre+V,m=p.linprebuf,A=p.rinpre+V,j=p.rinprebuf,O>MAX_ORDER-V&&(O=MAX_ORDER-V)):(y=w+V,m=_,A=b+V,j=E),l(m,y,p.lstepbuf,p.lstep+p.totsamp,O,i[p.reqindex]),l(j,A,p.rstepbuf,p.rstep+p.totsamp,O,i[p.reqindex]),c(p.lstepbuf,p.lstep+p.totsamp,p.loutbuf,p.lout+p.totsamp,O,a[p.reqindex]),c(p.rstepbuf,p.rstep+p.totsamp,p.routbuf,p.rout+p.totsamp,O,a[p.reqindex]),y=p.lout+p.totsamp,m=p.loutbuf,A=p.rout+p.totsamp,j=p.routbuf;for(var q=O%8;q--!=0;)p.lsum+=h(m[y++]),p.rsum+=h(j[A++]);for(q=O/8;q--!=0;)p.lsum+=h(m[y+0])+h(m[y+1])+h(m[y+2])+h(m[y+3])+h(m[y+4])+h(m[y+5])+h(m[y+6])+h(m[y+7]),y+=8,p.rsum+=h(j[A+0])+h(j[A+1])+h(j[A+2])+h(j[A+3])+h(j[A+4])+h(j[A+5])+h(j[A+6])+h(j[A+7]),A+=8;if(L-=O,V+=O,p.totsamp+=O,p.totsamp==p.sampleWindow){var K=pn.STEPS_per_dB*10*Math.log10((p.lsum+p.rsum)/p.totsamp*.5+1e-37),G=K<=0?0:0|K;G>=p.A.length&&(G=p.A.length-1),p.A[G]++,p.lsum=p.rsum=0,fr.arraycopy(p.loutbuf,p.totsamp,p.loutbuf,0,MAX_ORDER),fr.arraycopy(p.routbuf,p.totsamp,p.routbuf,0,MAX_ORDER),fr.arraycopy(p.lstepbuf,p.totsamp,p.lstepbuf,0,MAX_ORDER),fr.arraycopy(p.rstepbuf,p.totsamp,p.rstepbuf,0,MAX_ORDER),p.totsamp=0}if(p.totsamp>p.sampleWindow)return GAIN_ANALYSIS_ERROR}return x<MAX_ORDER?(fr.arraycopy(p.linprebuf,x,p.linprebuf,0,MAX_ORDER-x),fr.arraycopy(p.rinprebuf,x,p.rinprebuf,0,MAX_ORDER-x),fr.arraycopy(_,w,p.linprebuf,MAX_ORDER-x,x),fr.arraycopy(E,b,p.rinprebuf,MAX_ORDER-x,x)):(fr.arraycopy(_,w+x-MAX_ORDER,p.linprebuf,0,MAX_ORDER),fr.arraycopy(E,b+x-MAX_ORDER,p.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function f(p,_){var w,E=0;for(w=0;w<_;w++)E+=p[w];if(E==0)return GAIN_NOT_ENOUGH_SAMPLES;var b=0|Math.ceil(E*(1-e));for(w=_;w-- >0&&!((b-=p[w])<=0););return t-w/pn.STEPS_per_dB}this.GetTitleGain=function(p){for(var _=f(p.A,p.A.length),w=0;w<p.A.length;w++)p.B[w]+=p.A[w],p.A[w]=0;for(var w=0;w<MAX_ORDER;w++)p.linprebuf[w]=p.lstepbuf[w]=p.loutbuf[w]=p.rinprebuf[w]=p.rstepbuf[w]=p.routbuf[w]=0;return p.totsamp=0,p.lsum=p.rsum=0,_}}var M5=pn,N5=rn,na=N5.new_float,C_=N5.new_int,hr=M5;function xI(){this.linprebuf=na(hr.MAX_ORDER*2),this.linpre=0,this.lstepbuf=na(hr.MAX_SAMPLES_PER_WINDOW+hr.MAX_ORDER),this.lstep=0,this.loutbuf=na(hr.MAX_SAMPLES_PER_WINDOW+hr.MAX_ORDER),this.lout=0,this.rinprebuf=na(hr.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=na(hr.MAX_SAMPLES_PER_WINDOW+hr.MAX_ORDER),this.rstep=0,this.routbuf=na(hr.MAX_SAMPLES_PER_WINDOW+hr.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=C_(0|hr.STEPS_per_dB*hr.MAX_dB),this.B=C_(0|hr.STEPS_per_dB*hr.MAX_dB)}var SI=xI;function CI(t){this.bits=t}var D5=CI,T0=rn,E_=T0.new_float,EI=T0.new_int,T_=T0.assert,TI=D5,k_=Gn(),kI=Pf,PI=Rf;function RI(t){var e=t;this.quantize=e,this.iteration_loop=function(n,r,i,a){var l=n.internal_flags,c=E_(kI.SFBMAX),d=E_(576),h=EI(2),f=0,p,_=l.l3_side,w=new TI(f);this.quantize.rv.ResvFrameBegin(n,w),f=w.bits;for(var E=0;E<l.mode_gr;E++){p=this.quantize.qupvt.on_pe(n,r,h,f,E,E),l.mode_ext==k_.MPG_MD_MS_LR&&(this.quantize.ms_convert(l.l3_side,E),this.quantize.qupvt.reduce_side(h,i[E],f,p));for(var b=0;b<l.channels_out;b++){var x,v,y=_.tt[E][b];y.block_type!=k_.SHORT_TYPE?(x=0,v=l.PSY.mask_adjust-x):(x=0,v=l.PSY.mask_adjust_short-x),l.masking_lower=Math.pow(10,v*.1),this.quantize.init_outer_loop(l,y),this.quantize.init_xrpow(l,y,d)&&(this.quantize.qupvt.calc_xmin(n,a[E][b],y,c),this.quantize.outer_loop(n,y,c,d,b,h[b])),this.quantize.iteration_finish_one(l,E,b),T_(y.part2_3_length<=PI.MAX_BITS_PER_CHANNEL),T_(y.part2_3_length<=h[b])}}this.quantize.rv.ResvFrameEnd(l,f)}}var AI=RI;function It(t,e,n,r){this.xlen=t,this.linmax=e,this.table=n,this.hlen=r}var We={};We.t1HB=[1,1,1,0];We.t2HB=[1,2,1,3,1,1,3,2,0];We.t3HB=[3,2,1,1,1,1,3,2,0];We.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];We.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];We.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];We.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];We.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];We.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];We.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];We.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];We.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];We.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];We.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];We.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];We.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];We.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];We.t1l=[1,4,3,5];We.t2l=[1,4,7,4,5,7,6,7,8];We.t3l=[2,3,7,4,4,7,6,7,8];We.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];We.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];We.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];We.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];We.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];We.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];We.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];We.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];We.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];We.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];We.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];We.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];We.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];We.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];We.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];We.ht=[new It(0,0,null,null),new It(2,0,We.t1HB,We.t1l),new It(3,0,We.t2HB,We.t2l),new It(3,0,We.t3HB,We.t3l),new It(0,0,null,null),new It(4,0,We.t5HB,We.t5l),new It(4,0,We.t6HB,We.t6l),new It(6,0,We.t7HB,We.t7l),new It(6,0,We.t8HB,We.t8l),new It(6,0,We.t9HB,We.t9l),new It(8,0,We.t10HB,We.t10l),new It(8,0,We.t11HB,We.t11l),new It(8,0,We.t12HB,We.t12l),new It(16,0,We.t13HB,We.t13l),new It(0,0,null,We.t16_5l),new It(16,0,We.t15HB,We.t15l),new It(1,1,We.t16HB,We.t16l),new It(2,3,We.t16HB,We.t16l),new It(3,7,We.t16HB,We.t16l),new It(4,15,We.t16HB,We.t16l),new It(6,63,We.t16HB,We.t16l),new It(8,255,We.t16HB,We.t16l),new It(10,1023,We.t16HB,We.t16l),new It(13,8191,We.t16HB,We.t16l),new It(4,15,We.t24HB,We.t24l),new It(5,31,We.t24HB,We.t24l),new It(6,63,We.t24HB,We.t24l),new It(7,127,We.t24HB,We.t24l),new It(8,255,We.t24HB,We.t24l),new It(9,511,We.t24HB,We.t24l),new It(11,2047,We.t24HB,We.t24l),new It(13,8191,We.t24HB,We.t24l),new It(0,0,We.t32HB,We.t32l),new It(0,0,We.t33HB,We.t33l)];We.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];We.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];We.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];We.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];We.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];We.scfsi_band=[0,6,11,16,21];var k0=We,Yp,P_;function I5(){if(P_)return Yp;P_=1;var t=R5,e=rn,n=e.VbrMode,r=e.Float,i=e.Util,a=e.new_float,l=e.new_int,c=e.assert,d=Gn(),h=D5,f=Rf;p.Q_MAX=257,p.Q_MAX2=116,p.LARGE_BITS=1e5,p.IXMAX_VAL=8206;function p(){var _=P0(),w=null,E=null,b=null;this.setModules=function(W,ne,Y){w=W,E=ne,b=Y};function x(W){return c(0<=W+p.Q_MAX2&&W<p.Q_MAX),V[W+p.Q_MAX2]}this.IPOW20=function(W){return c(0<=W&&W<p.Q_MAX),q[W]};var v=2220446049250313e-31,y=p.IXMAX_VAL,m=y+2,A=p.Q_MAX,j=p.Q_MAX2;p.LARGE_BITS;var L=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var O=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=O,this.sfBandIndex=[new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var V=a(A+j+1),q=a(A),K=a(m),G=a(m);this.adj43=G;function P(W,ne){var Y=b.ATHformula(ne,W);return Y-=L,Y=Math.pow(10,Y/10+W.ATHlower),Y}function z(W){for(var ne=W.internal_flags.ATH.l,Y=W.internal_flags.ATH.psfb21,U=W.internal_flags.ATH.s,Z=W.internal_flags.ATH.psfb12,X=W.internal_flags,C=W.out_samplerate,T=0;T<d.SBMAX_l;T++){var I=X.scalefac_band.l[T],F=X.scalefac_band.l[T+1];ne[T]=r.MAX_VALUE;for(var H=I;H<F;H++){var ae=H*C/1152,le=P(W,ae);ne[T]=Math.min(ne[T],le)}}for(var T=0;T<d.PSFB21;T++){var I=X.scalefac_band.psfb21[T],F=X.scalefac_band.psfb21[T+1];Y[T]=r.MAX_VALUE;for(var H=I;H<F;H++){var ae=H*C/1152,le=P(W,ae);Y[T]=Math.min(Y[T],le)}}for(var T=0;T<d.SBMAX_s;T++){var I=X.scalefac_band.s[T],F=X.scalefac_band.s[T+1];U[T]=r.MAX_VALUE;for(var H=I;H<F;H++){var ae=H*C/384,le=P(W,ae);U[T]=Math.min(U[T],le)}U[T]*=X.scalefac_band.s[T+1]-X.scalefac_band.s[T]}for(var T=0;T<d.PSFB12;T++){var I=X.scalefac_band.psfb12[T],F=X.scalefac_band.psfb12[T+1];Z[T]=r.MAX_VALUE;for(var H=I;H<F;H++){var ae=H*C/384,le=P(W,ae);Z[T]=Math.min(Z[T],le)}Z[T]*=X.scalefac_band.s[13]-X.scalefac_band.s[12]}if(W.noATH){for(var T=0;T<d.SBMAX_l;T++)ne[T]=1e-20;for(var T=0;T<d.PSFB21;T++)Y[T]=1e-20;for(var T=0;T<d.SBMAX_s;T++)U[T]=1e-20;for(var T=0;T<d.PSFB12;T++)Z[T]=1e-20}X.ATH.floor=10*Math.log10(P(W,-1))}this.iteration_init=function(W){var ne=W.internal_flags,Y=ne.l3_side,U;if(ne.iteration_init_init==0){for(ne.iteration_init_init=1,Y.main_data_begin=0,z(W),K[0]=0,U=1;U<m;U++)K[U]=Math.pow(U,4/3);for(U=0;U<m-1;U++)G[U]=U+1-Math.pow(.5*(K[U]+K[U+1]),.75);for(G[U]=.5,U=0;U<A;U++)q[U]=Math.pow(2,(U-210)*-.1875);for(U=0;U<=A+j;U++)V[U]=Math.pow(2,(U-210-j)*.25);w.huffman_init(ne);{var Z,X,C,T;for(U=W.exp_nspsytune>>2&63,U>=32&&(U-=64),Z=Math.pow(10,U/4/10),U=W.exp_nspsytune>>8&63,U>=32&&(U-=64),X=Math.pow(10,U/4/10),U=W.exp_nspsytune>>14&63,U>=32&&(U-=64),C=Math.pow(10,U/4/10),U=W.exp_nspsytune>>20&63,U>=32&&(U-=64),T=C*Math.pow(10,U/4/10),U=0;U<d.SBMAX_l;U++){var I;U<=6?I=Z:U<=13?I=X:U<=20?I=C:I=T,ne.nsPsy.longfact[U]=I}for(U=0;U<d.SBMAX_s;U++){var I;U<=5?I=Z:U<=10?I=X:U<=11?I=C:I=T,ne.nsPsy.shortfact[U]=I}}}},this.on_pe=function(W,ne,Y,U,Z,X){var C=W.internal_flags,T=0,I,F=l(2),H,ae=new h(T),le=E.ResvMaxBits(W,U,ae,X);T=ae.bits;var te=T+le;for(te>f.MAX_BITS_PER_GRANULE&&(te=f.MAX_BITS_PER_GRANULE),I=0,H=0;H<C.channels_out;++H)Y[H]=Math.min(f.MAX_BITS_PER_CHANNEL,T/C.channels_out),F[H]=0|Y[H]*ne[Z][H]/700-Y[H],F[H]>U*3/4&&(F[H]=U*3/4),F[H]<0&&(F[H]=0),F[H]+Y[H]>f.MAX_BITS_PER_CHANNEL&&(F[H]=Math.max(0,f.MAX_BITS_PER_CHANNEL-Y[H])),I+=F[H];if(I>le)for(H=0;H<C.channels_out;++H)F[H]=le*F[H]/I;for(H=0;H<C.channels_out;++H)Y[H]+=F[H],le-=F[H];for(I=0,H=0;H<C.channels_out;++H)I+=Y[H];if(I>f.MAX_BITS_PER_GRANULE){var ce=0;for(H=0;H<C.channels_out;++H)Y[H]*=f.MAX_BITS_PER_GRANULE,Y[H]/=I,ce+=Y[H]}return te},this.reduce_side=function(W,ne,Y,U){c(W[0]+W[1]<=f.MAX_BITS_PER_GRANULE);var Z=.33*(.5-ne)/.5;Z<0&&(Z=0),Z>.5&&(Z=.5);var X=0|Z*.5*(W[0]+W[1]);X>f.MAX_BITS_PER_CHANNEL-W[0]&&(X=f.MAX_BITS_PER_CHANNEL-W[0]),X<0&&(X=0),W[1]>=125&&(W[1]-X>125?(W[0]<Y&&(W[0]+=X),W[1]-=X):(W[0]+=W[1]-125,W[1]=125)),X=W[0]+W[1],X>U&&(W[0]=U*W[0]/X,W[1]=U*W[1]/X),c(W[0]<=f.MAX_BITS_PER_CHANNEL),c(W[1]<=f.MAX_BITS_PER_CHANNEL),c(W[0]+W[1]<=f.MAX_BITS_PER_GRANULE)},this.athAdjust=function(W,ne,Y){var U=90.30873362,Z=94.82444863,X=i.FAST_LOG10_X(ne,10),C=W*W,T=0;return X-=Y,C>1e-20&&(T=1+i.FAST_LOG10_X(C,10/U)),T<0&&(T=0),X*=T,X+=Y+U-Z,Math.pow(10,.1*X)},this.calc_xmin=function(W,ne,Y,U){var Z=0,X=W.internal_flags,C,T=0,I=0,F=X.ATH,H=Y.xr,ae=W.VBR==n.vbr_mtrh?1:0,le=X.masking_lower;for((W.VBR==n.vbr_mtrh||W.VBR==n.vbr_mt)&&(le=1),C=0;C<Y.psy_lmax;C++){var te,ce,be,Ee,je,Ve;W.VBR==n.vbr_rh||W.VBR==n.vbr_mtrh?ce=athAdjust(F.adjust,F.l[C],F.floor):ce=F.adjust*F.l[C],je=Y.width[C],be=ce/je,Ee=v,Ve=je>>1,te=0;do{var B,ve;B=H[T]*H[T],te+=B,Ee+=B<be?B:be,T++,ve=H[T]*H[T],te+=ve,Ee+=ve<be?ve:be,T++}while(--Ve>0);if(te>ce&&I++,C==d.SBPSY_l){var pe=ce*X.nsPsy.longfact[C];Ee<pe&&(Ee=pe)}if(ae!=0&&(ce=Ee),!W.ATHonly){var ie=ne.en.l[C];if(ie>0){var pe;pe=te*ne.thm.l[C]*le/ie,ae!=0&&(pe*=X.nsPsy.longfact[C]),ce<pe&&(ce=pe)}}ae!=0?U[Z++]=ce:U[Z++]=ce*X.nsPsy.longfact[C]}var se=575;if(Y.block_type!=d.SHORT_TYPE)for(var M=576;M--!=0&&_.EQ(H[M],0);)se=M;Y.max_nonzero_coeff=se;for(var $=Y.sfb_smin;C<Y.psymax;$++,C+=3){var je,we,fe;for(W.VBR==n.vbr_rh||W.VBR==n.vbr_mtrh?fe=athAdjust(F.adjust,F.s[$],F.floor):fe=F.adjust*F.s[$],je=Y.width[C],we=0;we<3;we++){var te=0,ce,be,Ee,Ve=je>>1;be=fe/je,Ee=v;do{var B,ve;B=H[T]*H[T],te+=B,Ee+=B<be?B:be,T++,ve=H[T]*H[T],te+=ve,Ee+=ve<be?ve:be,T++}while(--Ve>0);if(te>fe&&I++,$==d.SBPSY_s){var pe=fe*X.nsPsy.shortfact[$];Ee<pe&&(Ee=pe)}if(ae!=0?ce=Ee:ce=fe,!W.ATHonly&&!W.ATHshort){var ie=ne.en.s[$][we];if(ie>0){var pe;pe=te*ne.thm.s[$][we]*le/ie,ae!=0&&(pe*=X.nsPsy.shortfact[$]),ce<pe&&(ce=pe)}}ae!=0?U[Z++]=ce:U[Z++]=ce*X.nsPsy.shortfact[$]}W.useTemporal&&(U[Z-3]>U[Z-3+1]&&(U[Z-3+1]+=(U[Z-3]-U[Z-3+1])*X.decay),U[Z-3+1]>U[Z-3+2]&&(U[Z-3+2]+=(U[Z-3+1]-U[Z-3+2])*X.decay))}return I};function S(W){this.s=W}this.calc_noise_core=function(W,ne,Y,U){var Z=0,X=ne.s,C=W.l3_enc;if(X>W.count1)for(;Y--!=0;){var T;T=W.xr[X],X++,Z+=T*T,T=W.xr[X],X++,Z+=T*T}else if(X>W.big_values){var I=a(2);for(I[0]=0,I[1]=U;Y--!=0;){var T;T=Math.abs(W.xr[X])-I[C[X]],X++,Z+=T*T,T=Math.abs(W.xr[X])-I[C[X]],X++,Z+=T*T}}else for(;Y--!=0;){var T;T=Math.abs(W.xr[X])-K[C[X]]*U,X++,Z+=T*T,T=Math.abs(W.xr[X])-K[C[X]]*U,X++,Z+=T*T}return ne.s=X,Z},this.calc_noise=function(W,ne,Y,U,Z){var X=0,C=0,T,I,F=0,H=0,ae=0,le=-20,te=0,ce=W.scalefac,be=0;for(U.over_SSD=0,T=0;T<W.psymax;T++){var Ee=W.global_gain-(ce[be++]+(W.preflag!=0?O[T]:0)<<W.scalefac_scale+1)-W.subblock_gain[W.window[T]]*8,je=0;if(Z!=null&&Z.step[T]==Ee)je=Z.noise[T],te+=W.width[T],Y[X++]=je/ne[C++],je=Z.noise_log[T];else{var Ve=x(Ee);if(I=W.width[T]>>1,te+W.width[T]>W.max_nonzero_coeff){var B;B=W.max_nonzero_coeff-te+1,B>0?I=B>>1:I=0}var ve=new S(te);je=this.calc_noise_core(W,ve,I,Ve),te=ve.s,Z!=null&&(Z.step[T]=Ee,Z.noise[T]=je),je=Y[X++]=je/ne[C++],je=i.FAST_LOG10(Math.max(je,1e-20)),Z!=null&&(Z.noise_log[T]=je)}if(Z!=null&&(Z.global_gain=W.global_gain),ae+=je,je>0){var pe;pe=Math.max(0|je*10+.5,1),U.over_SSD+=pe*pe,F++,H+=je}le=Math.max(le,je)}return U.over_count=F,U.tot_noise=ae,U.over_noise=H,U.max_noise=le,F},this.set_pinfo=function(W,ne,Y,U,Z){var X=W.internal_flags,C,T,I,F,H,ae=ne.scalefac_scale==0?.5:1,le=ne.scalefac,te=a(L3Side.SFBMAX),ce=a(L3Side.SFBMAX),be=new CalcNoiseResult;calc_xmin(W,Y,ne,te),calc_noise(ne,te,ce,be,null);var Ee=0;for(T=ne.sfb_lmax,ne.block_type!=d.SHORT_TYPE&&ne.mixed_block_flag==0&&(T=22),C=0;C<T;C++){var je=X.scalefac_band.l[C],Ve=X.scalefac_band.l[C+1],B=Ve-je;for(F=0;Ee<Ve;Ee++)F+=ne.xr[Ee]*ne.xr[Ee];F/=B,H=1e15,X.pinfo.en[U][Z][C]=H*F,X.pinfo.xfsf[U][Z][C]=H*te[C]*ce[C]/B,Y.en.l[C]>0&&!W.ATHonly?F=F/Y.en.l[C]:F=0,X.pinfo.thr[U][Z][C]=H*Math.max(F*Y.thm.l[C],X.ATH.l[C]),X.pinfo.LAMEsfb[U][Z][C]=0,ne.preflag!=0&&C>=11&&(X.pinfo.LAMEsfb[U][Z][C]=-ae*O[C]),C<d.SBPSY_l&&(c(le[C]>=0),X.pinfo.LAMEsfb[U][Z][C]-=ae*le[C])}if(ne.block_type==d.SHORT_TYPE)for(T=C,C=ne.sfb_smin;C<d.SBMAX_s;C++)for(var je=X.scalefac_band.s[C],Ve=X.scalefac_band.s[C+1],B=Ve-je,ve=0;ve<3;ve++){for(F=0,I=je;I<Ve;I++)F+=ne.xr[Ee]*ne.xr[Ee],Ee++;F=Math.max(F/B,1e-20),H=1e15,X.pinfo.en_s[U][Z][3*C+ve]=H*F,X.pinfo.xfsf_s[U][Z][3*C+ve]=H*te[T]*ce[T]/B,Y.en.s[C][ve]>0?F=F/Y.en.s[C][ve]:F=0,(W.ATHonly||W.ATHshort)&&(F=0),X.pinfo.thr_s[U][Z][3*C+ve]=H*Math.max(F*Y.thm.s[C][ve],X.ATH.s[C]),X.pinfo.LAMEsfb_s[U][Z][3*C+ve]=-2*ne.subblock_gain[ve],C<d.SBPSY_s&&(X.pinfo.LAMEsfb_s[U][Z][3*C+ve]-=ae*le[T]),T++}X.pinfo.LAMEqss[U][Z]=ne.global_gain,X.pinfo.LAMEmainbits[U][Z]=ne.part2_3_length+ne.part2_length,X.pinfo.LAMEsfbits[U][Z]=ne.part2_length,X.pinfo.over[U][Z]=be.over_count,X.pinfo.max_noise[U][Z]=be.max_noise*10,X.pinfo.over_noise[U][Z]=be.over_noise*10,X.pinfo.tot_noise[U][Z]=be.tot_noise*10,X.pinfo.over_SSD[U][Z]=be.over_SSD}}return Yp=p,Yp}var Kp,R_;function O5(){if(R_)return Kp;R_=1;var t=rn,e=t.System,n=t.Arrays,r=t.new_int,i=t.assert,a=Gn(),l=k0,c=C0,d=I5();function h(){var f=null;this.qupvt=null,this.setModules=function(X){this.qupvt=X,f=X};function p(X){this.bits=0|X}var _=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function w(X,C,T,I,F,H){var ae=.5946/C;for(X=X>>1;X--!=0;)F[H++]=ae>T[I++]?0:1,F[H++]=ae>T[I++]?0:1}function E(X,C,T,I,F,H){X=X>>1;var ae=X%2;for(X=X>>1;X--!=0;){var le,te,ce,be,Ee,je,Ve,B;le=T[I++]*C,te=T[I++]*C,Ee=0|le,ce=T[I++]*C,je=0|te,be=T[I++]*C,Ve=0|ce,le+=f.adj43[Ee],B=0|be,te+=f.adj43[je],F[H++]=0|le,ce+=f.adj43[Ve],F[H++]=0|te,be+=f.adj43[B],F[H++]=0|ce,F[H++]=0|be}if(ae!=0){var le,te,Ee,je;le=T[I++]*C,te=T[I++]*C,Ee=0|le,je=0|te,le+=f.adj43[Ee],te+=f.adj43[je],F[H++]=0|le,F[H++]=0|te}}function b(X,C,T,I,F){var H,ae,le=0,te,ce=0,be=0,Ee=0,je=C,Ve=0,B=je,ve=0,pe=X,ie=0;for(te=F!=null&&I.global_gain==F.global_gain,I.block_type==a.SHORT_TYPE?ae=38:ae=21,H=0;H<=ae;H++){var se=-1;if((te||I.block_type==a.NORM_TYPE)&&(se=I.global_gain-(I.scalefac[H]+(I.preflag!=0?f.pretab[H]:0)<<I.scalefac_scale+1)-I.subblock_gain[I.window[H]]*8),i(I.width[H]>=0),te&&F.step[H]==se)ce!=0&&(E(ce,T,pe,ie,B,ve),ce=0),be!=0&&(w(be,T,pe,ie,B,ve),be=0);else{var M=I.width[H];if(le+I.width[H]>I.max_nonzero_coeff){var $;$=I.max_nonzero_coeff-le+1,n.fill(C,I.max_nonzero_coeff,576,0),M=$,M<0&&(M=0),H=ae+1}if(ce==0&&be==0&&(B=je,ve=Ve,pe=X,ie=Ee),F!=null&&F.sfb_count1>0&&H>=F.sfb_count1&&F.step[H]>0&&se>=F.step[H]?(ce!=0&&(E(ce,T,pe,ie,B,ve),ce=0,B=je,ve=Ve,pe=X,ie=Ee),be+=M):(be!=0&&(w(be,T,pe,ie,B,ve),be=0,B=je,ve=Ve,pe=X,ie=Ee),ce+=M),M<=0){be!=0&&(w(be,T,pe,ie,B,ve),be=0),ce!=0&&(E(ce,T,pe,ie,B,ve),ce=0);break}}H<=ae&&(Ve+=I.width[H],Ee+=I.width[H],le+=I.width[H])}ce!=0&&(E(ce,T,pe,ie,B,ve),ce=0),be!=0&&(w(be,T,pe,ie,B,ve),be=0)}function x(X,C,T){var I=0,F=0;do{var H=X[C++],ae=X[C++];I<H&&(I=H),F<ae&&(F=ae)}while(C<T);return I<F&&(I=F),I}function v(X,C,T,I,F,H){var ae=l.ht[I].xlen*65536+l.ht[F].xlen,le=0,te;do{var ce=X[C++],be=X[C++];ce!=0&&(ce>14&&(ce=15,le+=ae),ce*=16),be!=0&&(be>14&&(be=15,le+=ae),ce+=be),le+=l.largetbl[ce]}while(C<T);return te=le&65535,le>>=16,le>te&&(le=te,I=F),H.bits+=le,I}function y(X,C,T,I){var F=0,H=l.ht[1].hlen;do{var ae=X[C+0]*2+X[C+1];C+=2,F+=H[ae]}while(C<T);return I.bits+=F,1}function m(X,C,T,I,F){var H=0,ae,le=l.ht[I].xlen,te;I==2?te=l.table23:te=l.table56;do{var ce=X[C+0]*le+X[C+1];C+=2,H+=te[ce]}while(C<T);return ae=H&65535,H>>=16,H>ae&&(H=ae,I++),F.bits+=H,I}function A(X,C,T,I,F){var H=0,ae=0,le=0,te=l.ht[I].xlen,ce=l.ht[I].hlen,be=l.ht[I+1].hlen,Ee=l.ht[I+2].hlen;do{var je=X[C+0]*te+X[C+1];C+=2,H+=ce[je],ae+=be[je],le+=Ee[je]}while(C<T);var Ve=I;return H>ae&&(H=ae,Ve++),H>le&&(H=le,Ve=I+2),F.bits+=H,Ve}var j=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function L(X,C,T,I){var F=x(X,C,T);switch(F){case 0:return F;case 1:return y(X,C,T,I);case 2:case 3:return m(X,C,T,j[F-1],I);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return A(X,C,T,j[F-1],I);default:if(F>d.IXMAX_VAL)return I.bits=d.LARGE_BITS,-1;F-=15;var H;for(H=24;H<32&&!(l.ht[H].linmax>=F);H++);var ae;for(ae=H-8;ae<24&&!(l.ht[ae].linmax>=F);ae++);return v(X,C,T,ae,H,I)}}this.noquant_count_bits=function(X,C,T){var I=C.l3_enc,F=Math.min(576,C.max_nonzero_coeff+2>>1<<1);for(T!=null&&(T.sfb_count1=0);F>1&&!(I[F-1]|I[F-2]);F-=2);C.count1=F;for(var H=0,ae=0;F>3;F-=4){var le;if(((I[F-1]|I[F-2]|I[F-3]|I[F-4])&2147483647)>1)break;le=((I[F-4]*2+I[F-3])*2+I[F-2])*2+I[F-1],H+=l.t32l[le],ae+=l.t33l[le]}var te=H;if(C.count1table_select=0,H>ae&&(te=ae,C.count1table_select=1),C.count1bits=te,C.big_values=F,F==0)return te;if(C.block_type==a.SHORT_TYPE)H=3*X.scalefac_band.s[3],H>C.big_values&&(H=C.big_values),ae=C.big_values;else if(C.block_type==a.NORM_TYPE){if(H=C.region0_count=X.bv_scf[F-2],ae=C.region1_count=X.bv_scf[F-1],i(H+ae+2<a.SBPSY_l),ae=X.scalefac_band.l[H+ae+2],H=X.scalefac_band.l[H+1],ae<F){var ce=new p(te);C.table_select[2]=L(I,ae,F,ce),te=ce.bits}}else C.region0_count=7,C.region1_count=a.SBMAX_l-1-7-1,H=X.scalefac_band.l[8],ae=F,H>ae&&(H=ae);if(H=Math.min(H,F),ae=Math.min(ae,F),0<H){var ce=new p(te);C.table_select[0]=L(I,0,H,ce),te=ce.bits}if(H<ae){var ce=new p(te);C.table_select[1]=L(I,H,ae,ce),te=ce.bits}if(X.use_best_huffman==2&&(C.part2_3_length=te,best_huffman_divide(X,C),te=C.part2_3_length),T!=null&&C.block_type==a.NORM_TYPE){for(var be=0;X.scalefac_band.l[be]<C.big_values;)be++;T.sfb_count1=be}return te},this.count_bits=function(X,C,T,I){var F=T.l3_enc,H=d.IXMAX_VAL/f.IPOW20(T.global_gain);if(T.xrpow_max>H)return d.LARGE_BITS;if(b(C,F,f.IPOW20(T.global_gain),T,I),X.substep_shaping&2)for(var ae=0,le=T.global_gain+T.scalefac_scale,te=.634521682242439/f.IPOW20(le),ce=0;ce<T.sfbmax;ce++){var be=T.width[ce];if(X.pseudohalf[ce]==0)ae+=be;else{var Ee;for(Ee=ae,ae+=be;Ee<ae;++Ee)F[Ee]=C[Ee]>=te?F[Ee]:0}}return this.noquant_count_bits(X,T,I)};function O(X,C,T,I,F,H,ae){for(var le=C.big_values,te=0;te<=22;te++)I[te]=d.LARGE_BITS;for(var te=0;te<16;te++){var ce=X.scalefac_band.l[te+1];if(ce>=le)break;var be=0,Ee=new p(be),je=L(T,0,ce,Ee);be=Ee.bits;for(var Ve=0;Ve<8;Ve++){var B=X.scalefac_band.l[te+Ve+2];if(B>=le)break;var ve=be;Ee=new p(ve);var pe=L(T,ce,B,Ee);ve=Ee.bits,I[te+Ve]>ve&&(I[te+Ve]=ve,F[te+Ve]=te,H[te+Ve]=je,ae[te+Ve]=pe)}}}function V(X,C,T,I,F,H,ae,le){for(var te=C.big_values,ce=2;ce<a.SBMAX_l+1;ce++){var be=X.scalefac_band.l[ce];if(be>=te)break;var Ee=F[ce-2]+C.count1bits;if(T.part2_3_length<=Ee)break;var je=new p(Ee),Ve=L(I,be,te,je);Ee=je.bits,!(T.part2_3_length<=Ee)&&(T.assign(C),T.part2_3_length=Ee,T.region0_count=H[ce-2],T.region1_count=ce-2-H[ce-2],T.table_select[0]=ae[ce-2],T.table_select[1]=le[ce-2],T.table_select[2]=Ve)}}this.best_huffman_divide=function(X,C){var T=new c,I=C.l3_enc,F=r(23),H=r(23),ae=r(23),le=r(23);if(!(C.block_type==a.SHORT_TYPE&&X.mode_gr==1)){T.assign(C),C.block_type==a.NORM_TYPE&&(O(X,C,I,F,H,ae,le),V(X,T,C,I,F,H,ae,le));var te=T.big_values;if(!(te==0||(I[te-2]|I[te-1])>1)&&(te=C.count1+2,!(te>576))){T.assign(C),T.count1=te;for(var ce=0,be=0;te>T.big_values;te-=4){var Ee=((I[te-4]*2+I[te-3])*2+I[te-2])*2+I[te-1];ce+=l.t32l[Ee],be+=l.t33l[Ee]}if(T.big_values=te,T.count1table_select=0,ce>be&&(ce=be,T.count1table_select=1),T.count1bits=ce,T.block_type==a.NORM_TYPE)V(X,T,C,I,F,H,ae,le);else{if(T.part2_3_length=ce,ce=X.scalefac_band.l[8],ce>te&&(ce=te),ce>0){var je=new p(T.part2_3_length);T.table_select[0]=L(I,0,ce,je),T.part2_3_length=je.bits}if(te>ce){var je=new p(T.part2_3_length);T.table_select[1]=L(I,ce,te,je),T.part2_3_length=je.bits}C.part2_3_length>T.part2_3_length&&C.assign(T)}}}};var q=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],K=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],G=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],P=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];h.slen1_tab=G,h.slen2_tab=P;function z(X,C){for(var T,I=C.tt[1][X],F=C.tt[0][X],H=0;H<l.scfsi_band.length-1;H++){for(T=l.scfsi_band[H];T<l.scfsi_band[H+1]&&!(F.scalefac[T]!=I.scalefac[T]&&I.scalefac[T]>=0);T++);if(T==l.scfsi_band[H+1]){for(T=l.scfsi_band[H];T<l.scfsi_band[H+1];T++)I.scalefac[T]=-1;C.scfsi[X][H]=1}}var ae=0,le=0;for(T=0;T<11;T++)I.scalefac[T]!=-1&&(le++,ae<I.scalefac[T]&&(ae=I.scalefac[T]));for(var te=0,ce=0;T<a.SBPSY_l;T++)I.scalefac[T]!=-1&&(ce++,te<I.scalefac[T]&&(te=I.scalefac[T]));for(var H=0;H<16;H++)if(ae<q[H]&&te<K[H]){var be=G[H]*le+P[H]*ce;I.part2_length>be&&(I.part2_length=be,I.scalefac_compress=H)}}this.best_scalefac_store=function(X,C,T,I){var F=I.tt[C][T],H,ae,le,te,ce=0;for(le=0,H=0;H<F.sfbmax;H++){var be=F.width[H];for(le+=be,te=-be;te<0&&F.l3_enc[te+le]==0;te++);te==0&&(F.scalefac[H]=ce=-2)}if(F.scalefac_scale==0&&F.preflag==0){var Ee=0;for(H=0;H<F.sfbmax;H++)F.scalefac[H]>0&&(Ee|=F.scalefac[H]);if(!(Ee&1)&&Ee!=0){for(H=0;H<F.sfbmax;H++)F.scalefac[H]>0&&(F.scalefac[H]>>=1);F.scalefac_scale=ce=1}}if(F.preflag==0&&F.block_type!=a.SHORT_TYPE&&X.mode_gr==2){for(H=11;H<a.SBPSY_l&&!(F.scalefac[H]<f.pretab[H]&&F.scalefac[H]!=-2);H++);if(H==a.SBPSY_l){for(H=11;H<a.SBPSY_l;H++)F.scalefac[H]>0&&(F.scalefac[H]-=f.pretab[H]);F.preflag=ce=1}}for(ae=0;ae<4;ae++)I.scfsi[T][ae]=0;for(X.mode_gr==2&&C==1&&I.tt[0][T].block_type!=a.SHORT_TYPE&&I.tt[1][T].block_type!=a.SHORT_TYPE&&(z(T,I),ce=0),H=0;H<F.sfbmax;H++)F.scalefac[H]==-2&&(F.scalefac[H]=0);ce!=0&&(X.mode_gr==2?this.scale_bitcount(F):this.scale_bitcount_lsf(X,F))};function S(X,C){for(var T=0;T<C;++T)if(X[T]<0)return!1;return!0}var W=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],ne=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],Y=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(X){var C,T,I=0,F=0,H,ae=X.scalefac;if(i(S(ae,X.sfbmax)),X.block_type==a.SHORT_TYPE)H=W,X.mixed_block_flag!=0&&(H=ne);else if(H=Y,X.preflag==0){for(T=11;T<a.SBPSY_l&&!(ae[T]<f.pretab[T]);T++);if(T==a.SBPSY_l)for(X.preflag=1,T=11;T<a.SBPSY_l;T++)ae[T]-=f.pretab[T]}for(T=0;T<X.sfbdivide;T++)I<ae[T]&&(I=ae[T]);for(;T<X.sfbmax;T++)F<ae[T]&&(F=ae[T]);for(X.part2_length=d.LARGE_BITS,C=0;C<16;C++)I<q[C]&&F<K[C]&&X.part2_length>H[C]&&(X.part2_length=H[C],X.scalefac_compress=C);return X.part2_length==d.LARGE_BITS};var U=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(X,C){var T,I,F,H,ae,le,te,ce,be=r(4),Ee=C.scalefac;for(C.preflag!=0?T=2:T=0,te=0;te<4;te++)be[te]=0;if(C.block_type==a.SHORT_TYPE){I=1;var je=f.nr_of_sfb_block[T][I];for(ce=0,F=0;F<4;F++)for(H=je[F]/3,te=0;te<H;te++,ce++)for(ae=0;ae<3;ae++)Ee[ce*3+ae]>be[F]&&(be[F]=Ee[ce*3+ae])}else{I=0;var je=f.nr_of_sfb_block[T][I];for(ce=0,F=0;F<4;F++)for(H=je[F],te=0;te<H;te++,ce++)Ee[ce]>be[F]&&(be[F]=Ee[ce])}for(le=!1,F=0;F<4;F++)be[F]>U[T][F]&&(le=!0);if(!le){var Ve,B,ve,pe;for(C.sfb_partition_table=f.nr_of_sfb_block[T][I],F=0;F<4;F++)C.slen[F]=Z[be[F]];switch(Ve=C.slen[0],B=C.slen[1],ve=C.slen[2],pe=C.slen[3],T){case 0:C.scalefac_compress=(Ve*5+B<<4)+(ve<<2)+pe;break;case 1:C.scalefac_compress=400+(Ve*5+B<<2)+ve;break;case 2:C.scalefac_compress=500+Ve*3+B;break;default:e.err.printf(`intensity stereo not implemented yet
`);break}}if(!le)for(i(C.sfb_partition_table!=null),C.part2_length=0,F=0;F<4;F++)C.part2_length+=C.slen[F]*C.sfb_partition_table[F];return le};var Z=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(X){for(var C=2;C<=576;C+=2){for(var T=0,I;X.scalefac_band.l[++T]<C;);for(I=_[T][0];X.scalefac_band.l[I+1]>C;)I--;for(I<0&&(I=_[T][0]),X.bv_scf[C-2]=I,I=_[T][1];X.scalefac_band.l[I+X.bv_scf[C-2]+2]>C;)I--;I<0&&(I=_[T][1]),X.bv_scf[C-1]=I}}}return Kp=h,Kp}var Qp,A_;function P0(){if(A_)return Qp;A_=1;var t=rn,e=t.System,n=t.Arrays,r=t.new_byte,i=t.new_float_n,a=t.new_int,l=t.assert,c=O5(),d=k0,h=Gn(),f=Rf;p.EQ=function(_,w){return Math.abs(_)>Math.abs(w)?Math.abs(_-w)<=Math.abs(_)*1e-6:Math.abs(_-w)<=Math.abs(w)*1e-6},p.NEQ=function(_,w){return!p.EQ(_,w)};function p(){var _=R0(),w=this,E=32773,b=null,x=null,v=null,y=null;this.setModules=function(C,T,I,F){b=C,x=T,v=I,y=F};var m=null,A=0,j=0,L=0;this.getframebits=function(C){var T=C.internal_flags,I;T.bitrate_index!=0?I=d.bitrate_table[C.version][T.bitrate_index]:I=C.brate;var F=0|(C.version+1)*72e3*I/C.out_samplerate+T.padding;return 8*F};function O(C){e.arraycopy(C.header[C.w_ptr].buf,0,m,j,C.sideinfo_len),j+=C.sideinfo_len,A+=C.sideinfo_len*8,C.w_ptr=C.w_ptr+1&f.MAX_HEADER_BUF-1}function V(C,T,I){for(;I>0;){var F;L==0&&(L=8,j++,l(j<_.LAME_MAXMP3BUFFER),l(C.header[C.w_ptr].write_timing>=A),C.header[C.w_ptr].write_timing==A&&O(C),m[j]=0),F=Math.min(I,L),I-=F,L-=F,m[j]|=T>>I<<L,A+=F}}function q(C,T,I){for(;I>0;){var F;L==0&&(L=8,j++,l(j<_.LAME_MAXMP3BUFFER),m[j]=0),F=Math.min(I,L),I-=F,L-=F,m[j]|=T>>I<<L,A+=F}}function K(C,T){var I=C.internal_flags,F;if(T>=8&&(V(I,76,8),T-=8),T>=8&&(V(I,65,8),T-=8),T>=8&&(V(I,77,8),T-=8),T>=8&&(V(I,69,8),T-=8),T>=32){var H=v.getLameShortVersion();if(T>=32)for(F=0;F<H.length&&T>=8;++F)T-=8,V(I,H.charAt(F),8)}for(;T>=1;T-=1)V(I,I.ancillary_flag,1),I.ancillary_flag^=C.disable_reservoir?0:1}function G(C,T,I){for(var F=C.header[C.h_ptr].ptr;I>0;){var H=Math.min(I,8-(F&7));I-=H,C.header[C.h_ptr].buf[F>>3]|=T>>I<<8-(F&7)-H,F+=H}C.header[C.h_ptr].ptr=F}function P(C,T){C<<=8;for(var I=0;I<8;I++)C<<=1,T<<=1,(T^C)&65536&&(T^=E);return T}this.CRC_writeheader=function(C,T){var I=65535;I=P(T[2]&255,I),I=P(T[3]&255,I);for(var F=6;F<C.sideinfo_len;F++)I=P(T[F]&255,I);T[4]=byte(I>>8),T[5]=byte(I&255)};function z(C,T){var I=C.internal_flags,F,H,ae;if(F=I.l3_side,I.header[I.h_ptr].ptr=0,n.fill(I.header[I.h_ptr].buf,0,I.sideinfo_len,0),C.out_samplerate<16e3?G(I,4094,12):G(I,4095,12),G(I,C.version,1),G(I,1,2),G(I,C.error_protection?0:1,1),G(I,I.bitrate_index,4),G(I,I.samplerate_index,2),G(I,I.padding,1),G(I,C.extension,1),G(I,C.mode.ordinal(),2),G(I,I.mode_ext,2),G(I,C.copyright,1),G(I,C.original,1),G(I,C.emphasis,2),C.error_protection&&G(I,0,16),C.version==1){for(l(F.main_data_begin>=0),G(I,F.main_data_begin,9),I.channels_out==2?G(I,F.private_bits,3):G(I,F.private_bits,5),ae=0;ae<I.channels_out;ae++){var le;for(le=0;le<4;le++)G(I,F.scfsi[ae][le],1)}for(H=0;H<2;H++)for(ae=0;ae<I.channels_out;ae++){var te=F.tt[H][ae];G(I,te.part2_3_length+te.part2_length,12),G(I,te.big_values/2,9),G(I,te.global_gain,8),G(I,te.scalefac_compress,4),te.block_type!=h.NORM_TYPE?(G(I,1,1),G(I,te.block_type,2),G(I,te.mixed_block_flag,1),te.table_select[0]==14&&(te.table_select[0]=16),G(I,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(I,te.table_select[1],5),G(I,te.subblock_gain[0],3),G(I,te.subblock_gain[1],3),G(I,te.subblock_gain[2],3)):(G(I,0,1),te.table_select[0]==14&&(te.table_select[0]=16),G(I,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(I,te.table_select[1],5),te.table_select[2]==14&&(te.table_select[2]=16),G(I,te.table_select[2],5),l(0<=te.region0_count&&te.region0_count<16),l(0<=te.region1_count&&te.region1_count<8),G(I,te.region0_count,4),G(I,te.region1_count,3)),G(I,te.preflag,1),G(I,te.scalefac_scale,1),G(I,te.count1table_select,1)}}else for(l(F.main_data_begin>=0),G(I,F.main_data_begin,8),G(I,F.private_bits,I.channels_out),H=0,ae=0;ae<I.channels_out;ae++){var te=F.tt[H][ae];G(I,te.part2_3_length+te.part2_length,12),G(I,te.big_values/2,9),G(I,te.global_gain,8),G(I,te.scalefac_compress,9),te.block_type!=h.NORM_TYPE?(G(I,1,1),G(I,te.block_type,2),G(I,te.mixed_block_flag,1),te.table_select[0]==14&&(te.table_select[0]=16),G(I,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(I,te.table_select[1],5),G(I,te.subblock_gain[0],3),G(I,te.subblock_gain[1],3),G(I,te.subblock_gain[2],3)):(G(I,0,1),te.table_select[0]==14&&(te.table_select[0]=16),G(I,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(I,te.table_select[1],5),te.table_select[2]==14&&(te.table_select[2]=16),G(I,te.table_select[2],5),l(0<=te.region0_count&&te.region0_count<16),l(0<=te.region1_count&&te.region1_count<8),G(I,te.region0_count,4),G(I,te.region1_count,3)),G(I,te.scalefac_scale,1),G(I,te.count1table_select,1)}C.error_protection&&CRC_writeheader(I,I.header[I.h_ptr].buf);{var ce=I.h_ptr;l(I.header[ce].ptr==I.sideinfo_len*8),I.h_ptr=ce+1&f.MAX_HEADER_BUF-1,I.header[I.h_ptr].write_timing=I.header[ce].write_timing+T,I.h_ptr==I.w_ptr&&e.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function S(C,T){var I=d.ht[T.count1table_select+32],F,H=0,ae=T.big_values,le=T.big_values;for(l(T.count1table_select<2),F=(T.count1-T.big_values)/4;F>0;--F){var te=0,ce=0,be;be=T.l3_enc[ae+0],be!=0&&(ce+=8,T.xr[le+0]<0&&te++),be=T.l3_enc[ae+1],be!=0&&(ce+=4,te*=2,T.xr[le+1]<0&&te++),be=T.l3_enc[ae+2],be!=0&&(ce+=2,te*=2,T.xr[le+2]<0&&te++),be=T.l3_enc[ae+3],be!=0&&(ce++,te*=2,T.xr[le+3]<0&&te++),ae+=4,le+=4,V(C,te+I.table[ce],I.hlen[ce]),H+=I.hlen[ce]}return H}function W(C,T,I,F,H){var ae=d.ht[T],le=0;if(T==0)return le;for(var te=I;te<F;te+=2){var ce=0,be=0,Ee=ae.xlen,je=ae.xlen,Ve=0,B=H.l3_enc[te],ve=H.l3_enc[te+1];if(B!=0&&(H.xr[te]<0&&Ve++,ce--),T>15){if(B>14){var pe=B-15;l(pe<=ae.linmax),Ve|=pe<<1,be=Ee,B=15}if(ve>14){var ie=ve-15;l(ie<=ae.linmax),Ve<<=Ee,Ve|=ie,be+=Ee,ve=15}je=16}ve!=0&&(Ve<<=1,H.xr[te+1]<0&&Ve++,ce--),B=B*je+ve,be-=ce,ce+=ae.hlen[B],V(C,ae.table[B],ce),V(C,Ve,be),le+=ce+be}return le}function ne(C,T){var I=3*C.scalefac_band.s[3];I>T.big_values&&(I=T.big_values);var F=W(C,T.table_select[0],0,I,T);return F+=W(C,T.table_select[1],I,T.big_values,T),F}function Y(C,T){var I,F,H,ae;I=T.big_values;var le=T.region0_count+1;return l(le<C.scalefac_band.l.length),H=C.scalefac_band.l[le],le+=T.region1_count+1,l(le<C.scalefac_band.l.length),ae=C.scalefac_band.l[le],H>I&&(H=I),ae>I&&(ae=I),F=W(C,T.table_select[0],0,H,T),F+=W(C,T.table_select[1],H,ae,T),F+=W(C,T.table_select[2],ae,I,T),F}function U(C){var T,I,F,H,ae=0,le=C.internal_flags,te=le.l3_side;if(C.version==1)for(T=0;T<2;T++)for(I=0;I<le.channels_out;I++){var ce=te.tt[T][I],be=c.slen1_tab[ce.scalefac_compress],Ee=c.slen2_tab[ce.scalefac_compress];for(H=0,F=0;F<ce.sfbdivide;F++)ce.scalefac[F]!=-1&&(V(le,ce.scalefac[F],be),H+=be);for(;F<ce.sfbmax;F++)ce.scalefac[F]!=-1&&(V(le,ce.scalefac[F],Ee),H+=Ee);l(H==ce.part2_length),ce.block_type==h.SHORT_TYPE?H+=ne(le,ce):H+=Y(le,ce),H+=S(le,ce),l(H==ce.part2_3_length+ce.part2_length),ae+=H}else for(T=0,I=0;I<le.channels_out;I++){var ce=te.tt[T][I],je,Ve,B=0;if(l(ce.sfb_partition_table!=null),H=0,F=0,Ve=0,ce.block_type==h.SHORT_TYPE){for(;Ve<4;Ve++){var ve=ce.sfb_partition_table[Ve]/3,pe=ce.slen[Ve];for(je=0;je<ve;je++,F++)V(le,Math.max(ce.scalefac[F*3+0],0),pe),V(le,Math.max(ce.scalefac[F*3+1],0),pe),V(le,Math.max(ce.scalefac[F*3+2],0),pe),B+=3*pe}H+=ne(le,ce)}else{for(;Ve<4;Ve++){var ve=ce.sfb_partition_table[Ve],pe=ce.slen[Ve];for(je=0;je<ve;je++,F++)V(le,Math.max(ce.scalefac[F],0),pe),B+=pe}H+=Y(le,ce)}H+=S(le,ce),l(H==ce.part2_3_length),l(B==ce.part2_length),ae+=B+H}return ae}function Z(){this.total=0}function X(C,T){var I=C.internal_flags,F,H,ae,le,te;return te=I.w_ptr,le=I.h_ptr-1,le==-1&&(le=f.MAX_HEADER_BUF-1),F=I.header[le].write_timing-A,T.total=F,F>=0&&(H=1+le-te,le<te&&(H=1+le-te+f.MAX_HEADER_BUF),F-=H*8*I.sideinfo_len),ae=w.getframebits(C),F+=ae,T.total+=ae,T.total%8!=0?T.total=1+T.total/8:T.total=T.total/8,T.total+=j+1,F<0&&e.err.println(`strange error flushing buffer ... 
`),F}this.flush_bitstream=function(C){var T=C.internal_flags,I,F,H=T.h_ptr-1;if(H==-1&&(H=f.MAX_HEADER_BUF-1),I=T.l3_side,!((F=X(C,new Z))<0)){if(K(C,F),l(T.header[H].write_timing+this.getframebits(C)==A),T.ResvSize=0,I.main_data_begin=0,T.findReplayGain){var ae=b.GetTitleGain(T.rgdata);l(NEQ(ae,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),T.RadioGain=Math.floor(ae*10+.5)|0}T.findPeakSample&&(T.noclipGainChange=Math.ceil(Math.log10(T.PeakSample/32767)*20*10)|0,T.noclipGainChange>0&&(EQ(C.scale,1)||EQ(C.scale,0))?T.noclipScale=Math.floor(32767/T.PeakSample*100)/100:T.noclipScale=-1)}},this.add_dummy_byte=function(C,T,I){for(var F=C.internal_flags,H;I-- >0;)for(q(F,T,8),H=0;H<f.MAX_HEADER_BUF;++H)F.header[H].write_timing+=8},this.format_bitstream=function(C){var T=C.internal_flags,I;I=T.l3_side;var F=this.getframebits(C);K(C,I.resvDrain_pre),z(C,F);var H=8*T.sideinfo_len;if(H+=U(C),K(C,I.resvDrain_post),H+=I.resvDrain_post,I.main_data_begin+=(F-H)/8,X(C,new Z)!=T.ResvSize&&e.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),I.main_data_begin*8!=T.ResvSize&&(e.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*I.main_data_begin,T.ResvSize,I.resvDrain_post,I.resvDrain_pre,8*T.sideinfo_len,H-I.resvDrain_post-8*T.sideinfo_len,H,H%8,F),e.err.println("This is a fatal error.  It has several possible causes:"),e.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),e.err.println(" 9%%  Your system is overclocked"),e.err.println(" 1%%  bug in LAME encoding library"),T.ResvSize=I.main_data_begin*8),A>1e9){var ae;for(ae=0;ae<f.MAX_HEADER_BUF;++ae)T.header[ae].write_timing-=A;A=0}return 0},this.copy_buffer=function(C,T,I,F,H){var ae=j+1;if(ae<=0)return 0;if(F!=0&&ae>F)return-1;if(e.arraycopy(m,0,T,I,ae),j=-1,L=0,H!=0){var le=a(1);if(le[0]=C.nMusicCRC,y.updateMusicCRC(le,T,I,ae),C.nMusicCRC=le[0],ae>0&&(C.VBR_seek_table.nBytesWritten+=ae),C.decode_on_the_fly){for(var te=i([2,1152]),ce=ae,be=-1,Ee;be!=0;)if(be=x.hip_decode1_unclipped(C.hip,T,I,ce,te[0],te[1]),ce=0,be==-1&&(be=0),be>0){if(C.findPeakSample){for(Ee=0;Ee<be;Ee++)te[0][Ee]>C.PeakSample?C.PeakSample=te[0][Ee]:-te[0][Ee]>C.PeakSample&&(C.PeakSample=-te[0][Ee]);if(C.channels_out>1)for(Ee=0;Ee<be;Ee++)te[1][Ee]>C.PeakSample?C.PeakSample=te[1][Ee]:-te[1][Ee]>C.PeakSample&&(C.PeakSample=-te[1][Ee])}if(C.findReplayGain&&b.AnalyzeSamples(C.rgdata,te[0],0,te[1],0,be,C.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return ae},this.init_bit_stream_w=function(C){m=r(_.LAME_MAXMP3BUFFER),C.h_ptr=C.w_ptr=0,C.header[C.h_ptr].write_timing=0,j=-1,L=0,A=0}}return Qp=p,Qp}var Jp,M_;function R0(){if(M_)return Jp;M_=1;var t=rn,e=t.System,n=t.VbrMode,r=t.ShortBlock,i=t.new_float,a=t.new_int_n,l=t.new_short_n,c=t.assert,d=GD,h=KD,f=Rf,p=wI,_=SI,w=AI,E=P0(),b=k0,x=Gn();function v(){var y=Lc,m=this,A=128*1024;v.V9=410,v.V8=420,v.V7=430,v.V6=440,v.V5=450,v.V4=460,v.V3=470,v.V2=480,v.V1=490,v.V0=500,v.R3MIX=1e3,v.STANDARD=1001,v.EXTREME=1002,v.INSANE=1003,v.STANDARD_FAST=1004,v.EXTREME_FAST=1005,v.MEDIUM=1006,v.MEDIUM_FAST=1007;var j=16384+A;v.LAME_MAXMP3BUFFER=j;var L,O,V,q,K,G=new d,P,z,S;this.enc=new x,this.setModules=function(M,$,we,fe,Ne,Oe,Re,Le,Qe){L=M,O=$,V=we,q=fe,K=Ne,P=Oe,z=Le,S=Qe,this.enc.setModules(O,G,q,P)};function W(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(x.SBMAX_l),this.bo_s_weight=i(x.SBMAX_s)}function ne(){this.lowerlimit=0}function Y(M,$){this.lowpass=$}var U=4294479419;function Z(M){var $;return M.class_id=U,$=M.internal_flags=new f,M.mode=y.NOT_SET,M.original=1,M.in_samplerate=44100,M.num_channels=2,M.num_samples=-1,M.bWriteVbrTag=!0,M.quality=-1,M.short_blocks=null,$.subblock_gain=-1,M.lowpassfreq=0,M.highpassfreq=0,M.lowpasswidth=-1,M.highpasswidth=-1,M.VBR=n.vbr_off,M.VBR_q=4,M.ATHcurve=-1,M.VBR_mean_bitrate_kbps=128,M.VBR_min_bitrate_kbps=0,M.VBR_max_bitrate_kbps=0,M.VBR_hard_min=0,$.VBR_min_bitrate=1,$.VBR_max_bitrate=13,M.quant_comp=-1,M.quant_comp_short=-1,M.msfix=-1,$.resample_ratio=1,$.OldValue[0]=180,$.OldValue[1]=180,$.CurrentStep[0]=4,$.CurrentStep[1]=4,$.masking_lower=1,$.nsPsy.attackthre=-1,$.nsPsy.attackthre_s=-1,M.scale=-1,M.athaa_type=-1,M.ATHtype=-1,M.athaa_loudapprox=-1,M.athaa_sensitivity=0,M.useTemporal=null,M.interChRatio=-1,$.mf_samples_to_encode=x.ENCDELAY+x.POSTDELAY,M.encoder_padding=0,$.mf_size=x.ENCDELAY-x.MDCTDELAY,M.findReplayGain=!1,M.decode_on_the_fly=!1,$.decode_on_the_fly=!1,$.findReplayGain=!1,$.findPeakSample=!1,$.RadioGain=0,$.AudiophileGain=0,$.noclipGainChange=0,$.noclipScale=-1,M.preset=0,M.write_id3tag_automatic=!0,0}this.lame_init=function(){var M=new h;return Z(M),M.lame_allocated_gfp=1,M};function X(M){return M>1?0:M<=0?1:Math.cos(Math.PI/2*M)}this.nearestBitrateFullIndex=function(M){var $=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],we=0,fe=0,Ne=0,Oe=0;Oe=$[16],Ne=16,fe=$[16],we=16;for(var Re=0;Re<16;Re++)if(Math.max(M,$[Re+1])!=M){Oe=$[Re+1],Ne=Re+1,fe=$[Re],we=Re;break}return Oe-M>M-fe?we:Ne};function C(M,$){var we=44100;return $>=48e3?we=48e3:$>=44100?we=44100:$>=32e3?we=32e3:$>=24e3?we=24e3:$>=22050?we=22050:$>=16e3?we=16e3:$>=12e3?we=12e3:$>=11025?we=11025:$>=8e3&&(we=8e3),M==-1?we:(M<=15960&&(we=44100),M<=15250&&(we=32e3),M<=11220&&(we=24e3),M<=9970&&(we=22050),M<=7230&&(we=16e3),M<=5420&&(we=12e3),M<=4510&&(we=11025),M<=3970&&(we=8e3),$<we?$>44100?48e3:$>32e3?44100:$>24e3?32e3:$>22050?24e3:$>16e3?22050:$>12e3?16e3:$>11025?12e3:$>8e3?11025:8e3:we)}function T(M,$){switch(M){case 44100:return $.version=1,0;case 48e3:return $.version=1,1;case 32e3:return $.version=1,2;case 22050:return $.version=0,0;case 24e3:return $.version=0,1;case 16e3:return $.version=0,2;case 11025:return $.version=0,0;case 12e3:return $.version=0,1;case 8e3:return $.version=0,2;default:return $.version=0,-1}}function I(M,$,we){we<16e3&&($=2);for(var fe=b.bitrate_table[$][1],Ne=2;Ne<=14;Ne++)b.bitrate_table[$][Ne]>0&&Math.abs(b.bitrate_table[$][Ne]-M)<Math.abs(fe-M)&&(fe=b.bitrate_table[$][Ne]);return fe}function F(M,$,we){we<16e3&&($=2);for(var fe=0;fe<=14;fe++)if(b.bitrate_table[$][fe]>0&&b.bitrate_table[$][fe]==M)return fe;return-1}function H(M,$){var we=[new Y(8,2e3),new Y(16,3700),new Y(24,3900),new Y(32,5500),new Y(40,7e3),new Y(48,7500),new Y(56,1e4),new Y(64,11e3),new Y(80,13500),new Y(96,15100),new Y(112,15600),new Y(128,17e3),new Y(160,17500),new Y(192,18600),new Y(224,19400),new Y(256,19700),new Y(320,20500)],fe=m.nearestBitrateFullIndex($);M.lowerlimit=we[fe].lowpass}function ae(M){var $=M.internal_flags,we=32,fe=-1;if($.lowpass1>0){for(var Ne=999,Oe=0;Oe<=31;Oe++){var Re=Oe/31;Re>=$.lowpass2&&(we=Math.min(we,Oe)),$.lowpass1<Re&&Re<$.lowpass2&&(Ne=Math.min(Ne,Oe))}Ne==999?$.lowpass1=(we-.75)/31:$.lowpass1=(Ne-.75)/31,$.lowpass2=we/31}if($.highpass2>0&&$.highpass2<.9*(.75/31)&&($.highpass1=0,$.highpass2=0,e.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),$.highpass2>0){for(var Le=-1,Oe=0;Oe<=31;Oe++){var Re=Oe/31;Re<=$.highpass1&&(fe=Math.max(fe,Oe)),$.highpass1<Re&&Re<$.highpass2&&(Le=Math.max(Le,Oe))}$.highpass1=fe/31,Le==-1?$.highpass2=(fe+.75)/31:$.highpass2=(Le+.75)/31}for(var Oe=0;Oe<32;Oe++){var Qe,He,Re=Oe/31;$.highpass2>$.highpass1?Qe=X(($.highpass2-Re)/($.highpass2-$.highpass1+1e-20)):Qe=1,$.lowpass2>$.lowpass1?He=X((Re-$.lowpass1)/($.lowpass2-$.lowpass1+1e-20)):He=1,$.amp_filter[Oe]=Qe*He}}function le(M){var $=M.internal_flags;switch(M.quality){default:case 9:$.psymodel=0,$.noise_shaping=0,$.noise_shaping_amp=0,$.noise_shaping_stop=0,$.use_best_huffman=0,$.full_outer_loop=0;break;case 8:M.quality=7;case 7:$.psymodel=1,$.noise_shaping=0,$.noise_shaping_amp=0,$.noise_shaping_stop=0,$.use_best_huffman=0,$.full_outer_loop=0;break;case 6:$.psymodel=1,$.noise_shaping==0&&($.noise_shaping=1),$.noise_shaping_amp=0,$.noise_shaping_stop=0,$.subblock_gain==-1&&($.subblock_gain=1),$.use_best_huffman=0,$.full_outer_loop=0;break;case 5:$.psymodel=1,$.noise_shaping==0&&($.noise_shaping=1),$.noise_shaping_amp=0,$.noise_shaping_stop=0,$.subblock_gain==-1&&($.subblock_gain=1),$.use_best_huffman=0,$.full_outer_loop=0;break;case 4:$.psymodel=1,$.noise_shaping==0&&($.noise_shaping=1),$.noise_shaping_amp=0,$.noise_shaping_stop=0,$.subblock_gain==-1&&($.subblock_gain=1),$.use_best_huffman=1,$.full_outer_loop=0;break;case 3:$.psymodel=1,$.noise_shaping==0&&($.noise_shaping=1),$.noise_shaping_amp=1,$.noise_shaping_stop=1,$.subblock_gain==-1&&($.subblock_gain=1),$.use_best_huffman=1,$.full_outer_loop=0;break;case 2:$.psymodel=1,$.noise_shaping==0&&($.noise_shaping=1),$.substep_shaping==0&&($.substep_shaping=2),$.noise_shaping_amp=1,$.noise_shaping_stop=1,$.subblock_gain==-1&&($.subblock_gain=1),$.use_best_huffman=1,$.full_outer_loop=0;break;case 1:$.psymodel=1,$.noise_shaping==0&&($.noise_shaping=1),$.substep_shaping==0&&($.substep_shaping=2),$.noise_shaping_amp=2,$.noise_shaping_stop=1,$.subblock_gain==-1&&($.subblock_gain=1),$.use_best_huffman=1,$.full_outer_loop=0;break;case 0:$.psymodel=1,$.noise_shaping==0&&($.noise_shaping=1),$.substep_shaping==0&&($.substep_shaping=2),$.noise_shaping_amp=2,$.noise_shaping_stop=1,$.subblock_gain==-1&&($.subblock_gain=1),$.use_best_huffman=1,$.full_outer_loop=0;break}}function te(M){var $=M.internal_flags;M.frameNum=0,M.write_id3tag_automatic&&z.id3tag_write_v2(M),$.bitrate_stereoMode_Hist=a([16,5]),$.bitrate_blockType_Hist=a([16,6]),$.PeakSample=0,M.bWriteVbrTag&&P.InitVbrTag(M)}this.lame_init_params=function(M){var $=M.internal_flags;if($.Class_ID=0,$.ATH==null&&($.ATH=new p),$.PSY==null&&($.PSY=new W),$.rgdata==null&&($.rgdata=new _),$.channels_in=M.num_channels,$.channels_in==1&&(M.mode=y.MONO),$.channels_out=M.mode==y.MONO?1:2,$.mode_ext=x.MPG_MD_MS_LR,M.mode==y.MONO&&(M.force_ms=!1),M.VBR==n.vbr_off&&M.VBR_mean_bitrate_kbps!=128&&M.brate==0&&(M.brate=M.VBR_mean_bitrate_kbps),M.VBR==n.vbr_off||M.VBR==n.vbr_mtrh||M.VBR==n.vbr_mt||(M.free_format=!1),M.VBR==n.vbr_off&&M.brate==0&&E.EQ(M.compression_ratio,0)&&(M.compression_ratio=11.025),M.VBR==n.vbr_off&&M.compression_ratio>0&&(M.out_samplerate==0&&(M.out_samplerate=map2MP3Frequency(int(.97*M.in_samplerate))),M.brate=0|M.out_samplerate*16*$.channels_out/(1e3*M.compression_ratio),$.samplerate_index=T(M.out_samplerate,M),M.free_format||(M.brate=I(M.brate,M.version,M.out_samplerate))),M.out_samplerate!=0&&(M.out_samplerate<16e3?(M.VBR_mean_bitrate_kbps=Math.max(M.VBR_mean_bitrate_kbps,8),M.VBR_mean_bitrate_kbps=Math.min(M.VBR_mean_bitrate_kbps,64)):M.out_samplerate<32e3?(M.VBR_mean_bitrate_kbps=Math.max(M.VBR_mean_bitrate_kbps,8),M.VBR_mean_bitrate_kbps=Math.min(M.VBR_mean_bitrate_kbps,160)):(M.VBR_mean_bitrate_kbps=Math.max(M.VBR_mean_bitrate_kbps,32),M.VBR_mean_bitrate_kbps=Math.min(M.VBR_mean_bitrate_kbps,320))),M.lowpassfreq==0){var we=16e3;switch(M.VBR){case n.vbr_off:{var fe=new ne;H(fe,M.brate),we=fe.lowerlimit;break}case n.vbr_abr:{var fe=new ne;H(fe,M.VBR_mean_bitrate_kbps),we=fe.lowerlimit;break}case n.vbr_rh:{var Ne=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=M.VBR_q&&M.VBR_q<=9){var Oe=Ne[M.VBR_q],Re=Ne[M.VBR_q+1],Le=M.VBR_q_frac;we=linear_int(Oe,Re,Le)}else we=19500;break}default:{var Ne=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=M.VBR_q&&M.VBR_q<=9){var Oe=Ne[M.VBR_q],Re=Ne[M.VBR_q+1],Le=M.VBR_q_frac;we=linear_int(Oe,Re,Le)}else we=19500}}M.mode==y.MONO&&(M.VBR==n.vbr_off||M.VBR==n.vbr_abr)&&(we*=1.5),M.lowpassfreq=we|0}if(M.out_samplerate==0&&(2*M.lowpassfreq>M.in_samplerate&&(M.lowpassfreq=M.in_samplerate/2),M.out_samplerate=C(M.lowpassfreq|0,M.in_samplerate)),M.lowpassfreq=Math.min(20500,M.lowpassfreq),M.lowpassfreq=Math.min(M.out_samplerate/2,M.lowpassfreq),M.VBR==n.vbr_off&&(M.compression_ratio=M.out_samplerate*16*$.channels_out/(1e3*M.brate)),M.VBR==n.vbr_abr&&(M.compression_ratio=M.out_samplerate*16*$.channels_out/(1e3*M.VBR_mean_bitrate_kbps)),M.bWriteVbrTag||(M.findReplayGain=!1,M.decode_on_the_fly=!1,$.findPeakSample=!1),$.findReplayGain=M.findReplayGain,$.decode_on_the_fly=M.decode_on_the_fly,$.decode_on_the_fly&&($.findPeakSample=!0),$.findReplayGain&&L.InitGainAnalysis($.rgdata,M.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return M.internal_flags=null,-6;switch($.decode_on_the_fly&&!M.decode_only&&($.hip!=null&&S.hip_decode_exit($.hip),$.hip=S.hip_decode_init()),$.mode_gr=M.out_samplerate<=24e3?1:2,M.framesize=576*$.mode_gr,M.encoder_delay=x.ENCDELAY,$.resample_ratio=M.in_samplerate/M.out_samplerate,M.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var Qe=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];M.compression_ratio=Qe[M.VBR_q]}break;case n.vbr_abr:M.compression_ratio=M.out_samplerate*16*$.channels_out/(1e3*M.VBR_mean_bitrate_kbps);break;default:M.compression_ratio=M.out_samplerate*16*$.channels_out/(1e3*M.brate);break}if(M.mode==y.NOT_SET&&(M.mode=y.JOINT_STEREO),M.highpassfreq>0?($.highpass1=2*M.highpassfreq,M.highpasswidth>=0?$.highpass2=2*(M.highpassfreq+M.highpasswidth):$.highpass2=2*M.highpassfreq,$.highpass1/=M.out_samplerate,$.highpass2/=M.out_samplerate):($.highpass1=0,$.highpass2=0),M.lowpassfreq>0?($.lowpass2=2*M.lowpassfreq,M.lowpasswidth>=0?($.lowpass1=2*(M.lowpassfreq-M.lowpasswidth),$.lowpass1<0&&($.lowpass1=0)):$.lowpass1=2*M.lowpassfreq,$.lowpass1/=M.out_samplerate,$.lowpass2/=M.out_samplerate):($.lowpass1=0,$.lowpass2=0),ae(M),$.samplerate_index=T(M.out_samplerate,M),$.samplerate_index<0)return M.internal_flags=null,-1;if(M.VBR==n.vbr_off){if(M.free_format)$.bitrate_index=0;else if(M.brate=I(M.brate,M.version,M.out_samplerate),$.bitrate_index=F(M.brate,M.version,M.out_samplerate),$.bitrate_index<=0)return M.internal_flags=null,-1}else $.bitrate_index=1;M.analysis&&(M.bWriteVbrTag=!1),$.pinfo!=null&&(M.bWriteVbrTag=!1),O.init_bit_stream_w($);for(var He=$.samplerate_index+3*M.version+6*(M.out_samplerate<16e3?1:0),Ce=0;Ce<x.SBMAX_l+1;Ce++)$.scalefac_band.l[Ce]=q.sfBandIndex[He].l[Ce];for(var Ce=0;Ce<x.PSFB21+1;Ce++){var it=($.scalefac_band.l[22]-$.scalefac_band.l[21])/x.PSFB21,pt=$.scalefac_band.l[21]+Ce*it;$.scalefac_band.psfb21[Ce]=pt}$.scalefac_band.psfb21[x.PSFB21]=576;for(var Ce=0;Ce<x.SBMAX_s+1;Ce++)$.scalefac_band.s[Ce]=q.sfBandIndex[He].s[Ce];for(var Ce=0;Ce<x.PSFB12+1;Ce++){var it=($.scalefac_band.s[13]-$.scalefac_band.s[12])/x.PSFB12,pt=$.scalefac_band.s[12]+Ce*it;$.scalefac_band.psfb12[Ce]=pt}$.scalefac_band.psfb12[x.PSFB12]=192,M.version==1?$.sideinfo_len=$.channels_out==1?21:36:$.sideinfo_len=$.channels_out==1?13:21,M.error_protection&&($.sideinfo_len+=2),te(M),$.Class_ID=U;{var J;for(J=0;J<19;J++)$.nsPsy.pefirbuf[J]=700*$.mode_gr*$.channels_out;M.ATHtype==-1&&(M.ATHtype=4)}switch(c(M.VBR_q<=9),c(M.VBR_q>=0),M.VBR){case n.vbr_mt:M.VBR=n.vbr_mtrh;case n.vbr_mtrh:{M.useTemporal==null&&(M.useTemporal=!1),V.apply_preset(M,500-M.VBR_q*10,0),M.quality<0&&(M.quality=LAME_DEFAULT_QUALITY),M.quality<5&&(M.quality=0),M.quality>5&&(M.quality=5),$.PSY.mask_adjust=M.maskingadjust,$.PSY.mask_adjust_short=M.maskingadjust_short,M.experimentalY?$.sfb21_extra=!1:$.sfb21_extra=M.out_samplerate>44e3,$.iteration_loop=new VBRNewIterationLoop(K);break}case n.vbr_rh:{V.apply_preset(M,500-M.VBR_q*10,0),$.PSY.mask_adjust=M.maskingadjust,$.PSY.mask_adjust_short=M.maskingadjust_short,M.experimentalY?$.sfb21_extra=!1:$.sfb21_extra=M.out_samplerate>44e3,M.quality>6&&(M.quality=6),M.quality<0&&(M.quality=LAME_DEFAULT_QUALITY),$.iteration_loop=new VBROldIterationLoop(K);break}default:{var ee;$.sfb21_extra=!1,M.quality<0&&(M.quality=LAME_DEFAULT_QUALITY),ee=M.VBR,ee==n.vbr_off&&(M.VBR_mean_bitrate_kbps=M.brate),V.apply_preset(M,M.VBR_mean_bitrate_kbps,0),M.VBR=ee,$.PSY.mask_adjust=M.maskingadjust,$.PSY.mask_adjust_short=M.maskingadjust_short,ee==n.vbr_off?$.iteration_loop=new w(K):$.iteration_loop=new ABRIterationLoop(K);break}}if(c(M.scale>=0),M.VBR!=n.vbr_off){if($.VBR_min_bitrate=1,$.VBR_max_bitrate=14,M.out_samplerate<16e3&&($.VBR_max_bitrate=8),M.VBR_min_bitrate_kbps!=0&&(M.VBR_min_bitrate_kbps=I(M.VBR_min_bitrate_kbps,M.version,M.out_samplerate),$.VBR_min_bitrate=F(M.VBR_min_bitrate_kbps,M.version,M.out_samplerate),$.VBR_min_bitrate<0)||M.VBR_max_bitrate_kbps!=0&&(M.VBR_max_bitrate_kbps=I(M.VBR_max_bitrate_kbps,M.version,M.out_samplerate),$.VBR_max_bitrate=F(M.VBR_max_bitrate_kbps,M.version,M.out_samplerate),$.VBR_max_bitrate<0))return-1;M.VBR_min_bitrate_kbps=b.bitrate_table[M.version][$.VBR_min_bitrate],M.VBR_max_bitrate_kbps=b.bitrate_table[M.version][$.VBR_max_bitrate],M.VBR_mean_bitrate_kbps=Math.min(b.bitrate_table[M.version][$.VBR_max_bitrate],M.VBR_mean_bitrate_kbps),M.VBR_mean_bitrate_kbps=Math.max(b.bitrate_table[M.version][$.VBR_min_bitrate],M.VBR_mean_bitrate_kbps)}return M.tune&&($.PSY.mask_adjust+=M.tune_value_a,$.PSY.mask_adjust_short+=M.tune_value_a),le(M),c(M.scale>=0),M.athaa_type<0?$.ATH.useAdjust=3:$.ATH.useAdjust=M.athaa_type,$.ATH.aaSensitivityP=Math.pow(10,M.athaa_sensitivity/-10),M.short_blocks==null&&(M.short_blocks=r.short_block_allowed),M.short_blocks==r.short_block_allowed&&(M.mode==y.JOINT_STEREO||M.mode==y.STEREO)&&(M.short_blocks=r.short_block_coupled),M.quant_comp<0&&(M.quant_comp=1),M.quant_comp_short<0&&(M.quant_comp_short=0),M.msfix<0&&(M.msfix=0),M.exp_nspsytune=M.exp_nspsytune|1,M.internal_flags.nsPsy.attackthre<0&&(M.internal_flags.nsPsy.attackthre=d.NSATTACKTHRE),M.internal_flags.nsPsy.attackthre_s<0&&(M.internal_flags.nsPsy.attackthre_s=d.NSATTACKTHRE_S),c(M.scale>=0),M.scale<0&&(M.scale=1),M.ATHtype<0&&(M.ATHtype=4),M.ATHcurve<0&&(M.ATHcurve=4),M.athaa_loudapprox<0&&(M.athaa_loudapprox=2),M.interChRatio<0&&(M.interChRatio=0),M.useTemporal==null&&(M.useTemporal=!0),$.slot_lag=$.frac_SpF=0,M.VBR==n.vbr_off&&($.slot_lag=$.frac_SpF=(M.version+1)*72e3*M.brate%M.out_samplerate|0),q.iteration_init(M),G.psymodel_init(M),c(M.scale>=0),0};function ce(M,$){(M.in_buffer_0==null||M.in_buffer_nsamples<$)&&(M.in_buffer_0=i($),M.in_buffer_1=i($),M.in_buffer_nsamples=$)}this.lame_encode_flush=function(M,$,we,fe){var Ne=M.internal_flags,Oe=l([2,1152]),Re=0,Le,Qe,He,Ce,it=Ne.mf_samples_to_encode-x.POSTDELAY,pt=be(M);if(Ne.mf_samples_to_encode<1)return 0;for(Le=0,M.in_samplerate!=M.out_samplerate&&(it+=16*M.out_samplerate/M.in_samplerate),He=M.framesize-it%M.framesize,He<576&&(He+=M.framesize),M.encoder_padding=He,Ce=(it+He)/M.framesize;Ce>0&&Re>=0;){var J=pt-Ne.mf_size,ee=M.frameNum;J*=M.in_samplerate,J/=M.out_samplerate,J>1152&&(J=1152),J<1&&(J=1),Qe=fe-Le,fe==0&&(Qe=0),Re=this.lame_encode_buffer(M,Oe[0],Oe[1],J,$,we,Qe),we+=Re,Le+=Re,Ce-=ee!=M.frameNum?1:0}if(Ne.mf_samples_to_encode=0,Re<0||(Qe=fe-Le,fe==0&&(Qe=0),O.flush_bitstream(M),Re=O.copy_buffer(Ne,$,we,Qe,1),Re<0))return Re;if(we+=Re,Le+=Re,Qe=fe-Le,fe==0&&(Qe=0),M.write_id3tag_automatic){if(z.id3tag_write_v1(M),Re=O.copy_buffer(Ne,$,we,Qe,0),Re<0)return Re;Le+=Re}return Le},this.lame_encode_buffer=function(M,$,we,fe,Ne,Oe,Re){var Le=M.internal_flags,Qe=[null,null];if(Le.Class_ID!=U)return-3;if(fe==0)return 0;ce(Le,fe),Qe[0]=Le.in_buffer_0,Qe[1]=Le.in_buffer_1;for(var He=0;He<fe;He++)Qe[0][He]=$[He],Le.channels_in>1&&(Qe[1][He]=we[He]);return Ee(M,Qe[0],Qe[1],fe,Ne,Oe,Re)};function be(M){var $=x.BLKSIZE+M.framesize-x.FFTOFFSET;return $=Math.max($,512+M.framesize-32),$}function Ee(M,$,we,fe,Ne,Oe,Re){var Le=M.internal_flags,Qe=0,He,Ce,it,pt,J,ee=[null,null],oe=[null,null];if(Le.Class_ID!=U)return-3;if(fe==0)return 0;if(J=O.copy_buffer(Le,Ne,Oe,Re,0),J<0)return J;if(Oe+=J,Qe+=J,oe[0]=$,oe[1]=we,E.NEQ(M.scale,0)&&E.NEQ(M.scale,1))for(Ce=0;Ce<fe;++Ce)oe[0][Ce]*=M.scale,Le.channels_out==2&&(oe[1][Ce]*=M.scale);if(E.NEQ(M.scale_left,0)&&E.NEQ(M.scale_left,1))for(Ce=0;Ce<fe;++Ce)oe[0][Ce]*=M.scale_left;if(E.NEQ(M.scale_right,0)&&E.NEQ(M.scale_right,1))for(Ce=0;Ce<fe;++Ce)oe[1][Ce]*=M.scale_right;if(M.num_channels==2&&Le.channels_out==1)for(Ce=0;Ce<fe;++Ce)oe[0][Ce]=.5*(oe[0][Ce]+oe[1][Ce]),oe[1][Ce]=0;pt=be(M),ee[0]=Le.mfbuf[0],ee[1]=Le.mfbuf[1];for(var ue=0;fe>0;){var he=[null,null],re=0,ye=0;he[0]=oe[0],he[1]=oe[1];var Se=new Ve;if(se(M,ee,he,ue,fe,Se),re=Se.n_in,ye=Se.n_out,Le.findReplayGain&&!Le.decode_on_the_fly&&L.AnalyzeSamples(Le.rgdata,ee[0],Le.mf_size,ee[1],Le.mf_size,ye,Le.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(fe-=re,ue+=re,Le.channels_out==2,Le.mf_size+=ye,c(Le.mf_size<=f.MFSIZE),Le.mf_samples_to_encode<1&&(Le.mf_samples_to_encode=x.ENCDELAY+x.POSTDELAY),Le.mf_samples_to_encode+=ye,Le.mf_size>=pt){var ge=Re-Qe;if(Re==0&&(ge=0),He=je(M,ee[0],ee[1],Ne,Oe,ge),He<0)return He;for(Oe+=He,Qe+=He,Le.mf_size-=M.framesize,Le.mf_samples_to_encode-=M.framesize,it=0;it<Le.channels_out;it++)for(Ce=0;Ce<Le.mf_size;Ce++)ee[it][Ce]=ee[it][Ce+M.framesize]}}return Qe}function je(M,$,we,fe,Ne,Oe){var Re=m.enc.lame_encode_mp3_frame(M,$,we,fe,Ne,Oe);return M.frameNum++,Re}function Ve(){this.n_in=0,this.n_out=0}function B(){this.num_used=0}function ve(M,$){return $!=0?ve($,M%$):M}function pe(M,$,we){var fe=Math.PI*$;M/=we,M<0&&(M=0),M>1&&(M=1);var Ne=M-.5,Oe=.42-.5*Math.cos(2*M*Math.PI)+.08*Math.cos(4*M*Math.PI);return Math.abs(Ne)<1e-9?fe/Math.PI:Oe*Math.sin(we*fe*Ne)/(Math.PI*we*Ne)}function ie(M,$,we,fe,Ne,Oe,Re,Le,Qe){var He=M.internal_flags,Ce,it=0,pt,J=M.out_samplerate/ve(M.out_samplerate,M.in_samplerate);J>f.BPC&&(J=f.BPC);var ee=Math.abs(He.resample_ratio-Math.floor(.5+He.resample_ratio))<1e-4?1:0,oe=1/He.resample_ratio;oe>1&&(oe=1);var ue=31;ue%2==0&&--ue,ue+=ee;var he=ue+1;if(He.fill_buffer_resample_init==0){for(He.inbuf_old[0]=i(he),He.inbuf_old[1]=i(he),Ce=0;Ce<=2*J;++Ce)He.blackfilt[Ce]=i(he);for(He.itime[0]=0,He.itime[1]=0,it=0;it<=2*J;it++){var re=0,ye=(it-J)/(2*J);for(Ce=0;Ce<=ue;Ce++)re+=He.blackfilt[it][Ce]=pe(Ce-ye,oe,ue);for(Ce=0;Ce<=ue;Ce++)He.blackfilt[it][Ce]/=re}He.fill_buffer_resample_init=1}var Se=He.inbuf_old[Qe];for(pt=0;pt<fe;pt++){var ge,Pe;if(ge=pt*He.resample_ratio,it=0|Math.floor(ge-He.itime[Qe]),ue+it-ue/2>=Re)break;var ye=ge-He.itime[Qe]-(it+.5*(ue%2));Pe=0|Math.floor(ye*2*J+J+.5);var xe=0;for(Ce=0;Ce<=ue;++Ce){var Ae=0|Ce+it-ue/2,Ze;Ze=Ae<0?Se[he+Ae]:Ne[Oe+Ae],xe+=Ze*He.blackfilt[Pe][Ce]}$[we+pt]=xe}if(Le.num_used=Math.min(Re,ue+it-ue/2),He.itime[Qe]+=Le.num_used-pt*He.resample_ratio,Le.num_used>=he)for(Ce=0;Ce<he;Ce++)Se[Ce]=Ne[Oe+Le.num_used+Ce-he];else{var ut=he-Le.num_used;for(Ce=0;Ce<ut;++Ce)Se[Ce]=Se[Ce+Le.num_used];for(it=0;Ce<he;++Ce,++it)Se[Ce]=Ne[Oe+it];c(it==Le.num_used)}return pt}function se(M,$,we,fe,Ne,Oe){var Re=M.internal_flags;if(Re.resample_ratio<.9999||Re.resample_ratio>1.0001)for(var Le=0;Le<Re.channels_out;Le++){var Qe=new B;Oe.n_out=ie(M,$[Le],Re.mf_size,M.framesize,we[Le],fe,Ne,Qe,Le),Oe.n_in=Qe.num_used}else{Oe.n_out=Math.min(M.framesize,Ne),Oe.n_in=Oe.n_out;for(var He=0;He<Oe.n_out;++He)$[0][Re.mf_size+He]=we[0][fe+He],Re.channels_out==2&&($[1][Re.mf_size+He]=we[1][fe+He])}}}return Jp=v,Jp}var MI=rn,fs=MI.VbrMode;function NI(){var t=R0();function e(f,p,_,w,E,b,x,v,y,m,A,j,L,O,V){this.vbr_q=f,this.quant_comp=p,this.quant_comp_s=_,this.expY=w,this.st_lrm=E,this.st_s=b,this.masking_adj=x,this.masking_adj_short=v,this.ath_lower=y,this.ath_curve=m,this.ath_sensitivity=A,this.interch=j,this.safejoint=L,this.sfb21mod=O,this.msfix=V}function n(f,p,_,w,E,b,x,v,y,m,A,j,L,O){this.quant_comp=p,this.quant_comp_s=_,this.safejoint=w,this.nsmsfix=E,this.st_lrm=b,this.st_s=x,this.nsbass=v,this.scale=y,this.masking_adj=m,this.ath_lower=A,this.ath_curve=j,this.interch=L,this.sfscale=O}var r;this.setModules=function(f){r=f};var i=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],a=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(f,p,_){var w=f.VBR==fs.vbr_rh?i:a,E=f.VBR_q_frac,b=w[p],x=w[p+1],v=b;b.st_lrm=b.st_lrm+E*(x.st_lrm-b.st_lrm),b.st_s=b.st_s+E*(x.st_s-b.st_s),b.masking_adj=b.masking_adj+E*(x.masking_adj-b.masking_adj),b.masking_adj_short=b.masking_adj_short+E*(x.masking_adj_short-b.masking_adj_short),b.ath_lower=b.ath_lower+E*(x.ath_lower-b.ath_lower),b.ath_curve=b.ath_curve+E*(x.ath_curve-b.ath_curve),b.ath_sensitivity=b.ath_sensitivity+E*(x.ath_sensitivity-b.ath_sensitivity),b.interch=b.interch+E*(x.interch-b.interch),b.msfix=b.msfix+E*(x.msfix-b.msfix),h(f,v.vbr_q),_!=0?f.quant_comp=v.quant_comp:Math.abs(f.quant_comp- -1)>0||(f.quant_comp=v.quant_comp),_!=0?f.quant_comp_short=v.quant_comp_s:Math.abs(f.quant_comp_short- -1)>0||(f.quant_comp_short=v.quant_comp_s),v.expY!=0&&(f.experimentalY=v.expY!=0),_!=0?f.internal_flags.nsPsy.attackthre=v.st_lrm:Math.abs(f.internal_flags.nsPsy.attackthre- -1)>0||(f.internal_flags.nsPsy.attackthre=v.st_lrm),_!=0?f.internal_flags.nsPsy.attackthre_s=v.st_s:Math.abs(f.internal_flags.nsPsy.attackthre_s- -1)>0||(f.internal_flags.nsPsy.attackthre_s=v.st_s),_!=0?f.maskingadjust=v.masking_adj:Math.abs(f.maskingadjust-0)>0||(f.maskingadjust=v.masking_adj),_!=0?f.maskingadjust_short=v.masking_adj_short:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=v.masking_adj_short),_!=0?f.ATHlower=-v.ath_lower/10:Math.abs(-f.ATHlower*10-0)>0||(f.ATHlower=-v.ath_lower/10),_!=0?f.ATHcurve=v.ath_curve:Math.abs(f.ATHcurve- -1)>0||(f.ATHcurve=v.ath_curve),_!=0?f.athaa_sensitivity=v.ath_sensitivity:Math.abs(f.athaa_sensitivity- -1)>0||(f.athaa_sensitivity=v.ath_sensitivity),v.interch>0&&(_!=0?f.interChRatio=v.interch:Math.abs(f.interChRatio- -1)>0||(f.interChRatio=v.interch)),v.safejoint>0&&(f.exp_nspsytune=f.exp_nspsytune|v.safejoint),v.sfb21mod>0&&(f.exp_nspsytune=f.exp_nspsytune|v.sfb21mod<<20),_!=0?f.msfix=v.msfix:Math.abs(f.msfix- -1)>0||(f.msfix=v.msfix),_==0&&(f.VBR_q=p,f.VBR_q_frac=E)}var c=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function d(f,p,_){var w=p,E=r.nearestBitrateFullIndex(p);if(f.VBR=fs.vbr_abr,f.VBR_mean_bitrate_kbps=w,f.VBR_mean_bitrate_kbps=Math.min(f.VBR_mean_bitrate_kbps,320),f.VBR_mean_bitrate_kbps=Math.max(f.VBR_mean_bitrate_kbps,8),f.brate=f.VBR_mean_bitrate_kbps,f.VBR_mean_bitrate_kbps>320&&(f.disable_reservoir=!0),c[E].safejoint>0&&(f.exp_nspsytune=f.exp_nspsytune|2),c[E].sfscale>0&&(f.internal_flags.noise_shaping=2),Math.abs(c[E].nsbass)>0){var b=int(c[E].nsbass*4);b<0&&(b+=64),f.exp_nspsytune=f.exp_nspsytune|b<<2}return _!=0?f.quant_comp=c[E].quant_comp:Math.abs(f.quant_comp- -1)>0||(f.quant_comp=c[E].quant_comp),_!=0?f.quant_comp_short=c[E].quant_comp_s:Math.abs(f.quant_comp_short- -1)>0||(f.quant_comp_short=c[E].quant_comp_s),_!=0?f.msfix=c[E].nsmsfix:Math.abs(f.msfix- -1)>0||(f.msfix=c[E].nsmsfix),_!=0?f.internal_flags.nsPsy.attackthre=c[E].st_lrm:Math.abs(f.internal_flags.nsPsy.attackthre- -1)>0||(f.internal_flags.nsPsy.attackthre=c[E].st_lrm),_!=0?f.internal_flags.nsPsy.attackthre_s=c[E].st_s:Math.abs(f.internal_flags.nsPsy.attackthre_s- -1)>0||(f.internal_flags.nsPsy.attackthre_s=c[E].st_s),_!=0?f.scale=c[E].scale:Math.abs(f.scale- -1)>0||(f.scale=c[E].scale),_!=0?f.maskingadjust=c[E].masking_adj:Math.abs(f.maskingadjust-0)>0||(f.maskingadjust=c[E].masking_adj),c[E].masking_adj>0?_!=0?f.maskingadjust_short=c[E].masking_adj*.9:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=c[E].masking_adj*.9):_!=0?f.maskingadjust_short=c[E].masking_adj*1.1:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=c[E].masking_adj*1.1),_!=0?f.ATHlower=-c[E].ath_lower/10:Math.abs(-f.ATHlower*10-0)>0||(f.ATHlower=-c[E].ath_lower/10),_!=0?f.ATHcurve=c[E].ath_curve:Math.abs(f.ATHcurve- -1)>0||(f.ATHcurve=c[E].ath_curve),_!=0?f.interChRatio=c[E].interch:Math.abs(f.interChRatio- -1)>0||(f.interChRatio=c[E].interch),p}this.apply_preset=function(f,p,_){switch(p){case t.R3MIX:{p=t.V3,f.VBR=fs.vbr_mtrh;break}case t.MEDIUM:{p=t.V4,f.VBR=fs.vbr_rh;break}case t.MEDIUM_FAST:{p=t.V4,f.VBR=fs.vbr_mtrh;break}case t.STANDARD:{p=t.V2,f.VBR=fs.vbr_rh;break}case t.STANDARD_FAST:{p=t.V2,f.VBR=fs.vbr_mtrh;break}case t.EXTREME:{p=t.V0,f.VBR=fs.vbr_rh;break}case t.EXTREME_FAST:{p=t.V0,f.VBR=fs.vbr_mtrh;break}case t.INSANE:return p=320,f.preset=p,d(f,p,_),f.VBR=fs.vbr_off,p}switch(f.preset=p,p){case t.V9:return l(f,9,_),p;case t.V8:return l(f,8,_),p;case t.V7:return l(f,7,_),p;case t.V6:return l(f,6,_),p;case t.V5:return l(f,5,_),p;case t.V4:return l(f,4,_),p;case t.V3:return l(f,3,_),p;case t.V2:return l(f,2,_),p;case t.V1:return l(f,1,_),p;case t.V0:return l(f,0,_),p}return 8<=p&&p<=320?d(f,p,_):(f.preset=0,p)};function h(f,p){var _=0;return 0>p&&(_=-1,p=0),9<p&&(_=-1,p=9),f.VBR_q=p,f.VBR_q_frac=0,_}}var DI=NI;function II(){this.setModules=function(t,e){}}var OI=II;function jI(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var LI=jI,j5=rn,N_=j5.new_float,BI=j5.new_int;function FI(){this.global_gain=0,this.sfb_count1=0,this.step=BI(39),this.noise=N_(39),this.noise_log=N_(39)}var VI=FI,Xa=rn,wi=Xa.System,D_=Xa.VbrMode,em=Xa.Util,ra=Xa.Arrays,Bl=Xa.new_float,Fl=Xa.assert,zI=OI,tm=LI,WI=VI,Ot=Gn(),I_=C0,O_=Pf;function $I(){var t;this.rv=null;var e;this.qupvt=null;var n,r=new zI,i;this.setModules=function(v,y,m,A){t=v,e=y,this.rv=y,n=m,this.qupvt=m,i=A,r.setModules(n,i)},this.ms_convert=function(v,y){for(var m=0;m<576;++m){var A=v.tt[y][0].xr[m],j=v.tt[y][1].xr[m];v.tt[y][0].xr[m]=(A+j)*(em.SQRT2*.5),v.tt[y][1].xr[m]=(A-j)*(em.SQRT2*.5)}};function a(v,y,m,A){A=0;for(var j=0;j<=m;++j){var L=Math.abs(v.xr[j]);A+=L,y[j]=Math.sqrt(L*Math.sqrt(L)),y[j]>v.xrpow_max&&(v.xrpow_max=y[j])}return A}this.init_xrpow=function(v,y,m){var A=0,j=0|y.max_nonzero_coeff;if(y.xrpow_max=0,ra.fill(m,j,576,0),A=a(y,m,j,A),A>1e-20){var L=0;v.substep_shaping&2&&(L=1);for(var O=0;O<y.psymax;O++)v.pseudohalf[O]=L;return!0}return ra.fill(y.l3_enc,0,576,0),!1};function l(v,y){var m=v.ATH,A=y.xr;if(y.block_type!=Ot.SHORT_TYPE)for(var j=!1,L=Ot.PSFB21-1;L>=0&&!j;L--){var O=v.scalefac_band.psfb21[L],V=v.scalefac_band.psfb21[L+1],q=n.athAdjust(m.adjust,m.psfb21[L],m.floor);v.nsPsy.longfact[21]>1e-12&&(q*=v.nsPsy.longfact[21]);for(var K=V-1;K>=O;K--)if(Math.abs(A[K])<q)A[K]=0;else{j=!0;break}}else for(var G=0;G<3;G++)for(var j=!1,L=Ot.PSFB12-1;L>=0&&!j;L--){var O=v.scalefac_band.s[12]*3+(v.scalefac_band.s[13]-v.scalefac_band.s[12])*G+(v.scalefac_band.psfb12[L]-v.scalefac_band.psfb12[0]),V=O+(v.scalefac_band.psfb12[L+1]-v.scalefac_band.psfb12[L]),P=n.athAdjust(m.adjust,m.psfb12[L],m.floor);v.nsPsy.shortfact[12]>1e-12&&(P*=v.nsPsy.shortfact[12]);for(var K=V-1;K>=O;K--)if(Math.abs(A[K])<P)A[K]=0;else{j=!0;break}}}this.init_outer_loop=function(v,y){y.part2_3_length=0,y.big_values=0,y.count1=0,y.global_gain=210,y.scalefac_compress=0,y.table_select[0]=0,y.table_select[1]=0,y.table_select[2]=0,y.subblock_gain[0]=0,y.subblock_gain[1]=0,y.subblock_gain[2]=0,y.subblock_gain[3]=0,y.region0_count=0,y.region1_count=0,y.preflag=0,y.scalefac_scale=0,y.count1table_select=0,y.part2_length=0,y.sfb_lmax=Ot.SBPSY_l,y.sfb_smin=Ot.SBPSY_s,y.psy_lmax=v.sfb21_extra?Ot.SBMAX_l:Ot.SBPSY_l,y.psymax=y.psy_lmax,y.sfbmax=y.sfb_lmax,y.sfbdivide=11;for(var m=0;m<Ot.SBMAX_l;m++)y.width[m]=v.scalefac_band.l[m+1]-v.scalefac_band.l[m],y.window[m]=3;if(y.block_type==Ot.SHORT_TYPE){var A=Bl(576);y.sfb_smin=0,y.sfb_lmax=0,y.mixed_block_flag!=0&&(y.sfb_smin=3,y.sfb_lmax=v.mode_gr*2+4),y.psymax=y.sfb_lmax+3*((v.sfb21_extra?Ot.SBMAX_s:Ot.SBPSY_s)-y.sfb_smin),y.sfbmax=y.sfb_lmax+3*(Ot.SBPSY_s-y.sfb_smin),y.sfbdivide=y.sfbmax-18,y.psy_lmax=y.sfb_lmax;var j=v.scalefac_band.l[y.sfb_lmax];wi.arraycopy(y.xr,0,A,0,576);for(var m=y.sfb_smin;m<Ot.SBMAX_s;m++)for(var L=v.scalefac_band.s[m],O=v.scalefac_band.s[m+1],V=0;V<3;V++)for(var q=L;q<O;q++)y.xr[j++]=A[3*q+V];for(var K=y.sfb_lmax,m=y.sfb_smin;m<Ot.SBMAX_s;m++)y.width[K]=y.width[K+1]=y.width[K+2]=v.scalefac_band.s[m+1]-v.scalefac_band.s[m],y.window[K]=0,y.window[K+1]=1,y.window[K+2]=2,K+=3}y.count1bits=0,y.sfb_partition_table=n.nr_of_sfb_block[0][0],y.slen[0]=0,y.slen[1]=0,y.slen[2]=0,y.slen[3]=0,y.max_nonzero_coeff=575,ra.fill(y.scalefac,0),l(v,y)};function c(v){this.ordinal=v}c.BINSEARCH_NONE=new c(0),c.BINSEARCH_UP=new c(1),c.BINSEARCH_DOWN=new c(2);function d(v,y,m,A,j){var L,O=v.CurrentStep[A],V=!1,q=v.OldValue[A],K=c.BINSEARCH_NONE;for(y.global_gain=q,m-=y.part2_length;;){var G;if(L=i.count_bits(v,j,y,null),O==1||L==m)break;L>m?(K==c.BINSEARCH_DOWN&&(V=!0),V&&(O/=2),K=c.BINSEARCH_UP,G=O):(K==c.BINSEARCH_UP&&(V=!0),V&&(O/=2),K=c.BINSEARCH_DOWN,G=-O),y.global_gain+=G,y.global_gain<0&&(y.global_gain=0,V=!0),y.global_gain>255&&(y.global_gain=255,V=!0)}for(Fl(y.global_gain>=0),Fl(y.global_gain<256);L>m&&y.global_gain<255;)y.global_gain++,L=i.count_bits(v,j,y,null);return v.CurrentStep[A]=q-y.global_gain>=4?4:2,v.OldValue[A]=y.global_gain,y.part2_3_length=L,L}this.trancate_smallspectrums=function(v,y,m,A){var j=Bl(O_.SFBMAX);if(!(!(v.substep_shaping&4)&&y.block_type==Ot.SHORT_TYPE||v.substep_shaping&128)){n.calc_noise(y,m,j,new tm,null);for(var O=0;O<576;O++){var L=0;y.l3_enc[O]!=0&&(L=Math.abs(y.xr[O])),A[O]=L}var O=0,V=8;y.block_type==Ot.SHORT_TYPE&&(V=6);do{var q,K,G,P,z=y.width[V];if(O+=z,!(j[V]>=1)&&(ra.sort(A,O-z,z),!BitStream.EQ(A[O-1],0))){q=(1-j[V])*m[V],K=0,P=0;do{var S;for(G=1;P+G<z&&!BitStream.NEQ(A[P+O-z],A[P+O+G-z]);G++);if(S=A[P+O-z]*A[P+O-z]*G,q<S){P!=0&&(K=A[P+O-z-1]);break}q-=S,P+=G}while(P<z);if(!BitStream.EQ(K,0))do Math.abs(y.xr[O-z])<=K&&(y.l3_enc[O-z]=0);while(--z>0)}}while(++V<y.psymax);y.part2_3_length=i.noquant_count_bits(v,y,null)}};function h(v){for(var y=0;y<v.sfbmax;y++)if(v.scalefac[y]+v.subblock_gain[v.window[y]]==0)return!1;return!0}function f(v){return em.FAST_LOG10(.368+.632*v*v*v)}function p(v,y){for(var m=1e-37,A=0;A<y.psymax;A++)m+=f(v[A]);return Math.max(1e-20,m)}function _(v,y,m,A,j){var L;switch(v){default:case 9:{y.over_count>0?(L=m.over_SSD<=y.over_SSD,m.over_SSD==y.over_SSD&&(L=m.bits<y.bits)):L=m.max_noise<0&&m.max_noise*10+m.bits<=y.max_noise*10+y.bits;break}case 0:L=m.over_count<y.over_count||m.over_count==y.over_count&&m.over_noise<y.over_noise||m.over_count==y.over_count&&BitStream.EQ(m.over_noise,y.over_noise)&&m.tot_noise<y.tot_noise;break;case 8:m.max_noise=p(j,A);case 1:L=m.max_noise<y.max_noise;break;case 2:L=m.tot_noise<y.tot_noise;break;case 3:L=m.tot_noise<y.tot_noise&&m.max_noise<y.max_noise;break;case 4:L=m.max_noise<=0&&y.max_noise>.2||m.max_noise<=0&&y.max_noise<0&&y.max_noise>m.max_noise-.2&&m.tot_noise<y.tot_noise||m.max_noise<=0&&y.max_noise>0&&y.max_noise>m.max_noise-.2&&m.tot_noise<y.tot_noise+y.over_noise||m.max_noise>0&&y.max_noise>-.05&&y.max_noise>m.max_noise-.1&&m.tot_noise+m.over_noise<y.tot_noise+y.over_noise||m.max_noise>0&&y.max_noise>-.1&&y.max_noise>m.max_noise-.15&&m.tot_noise+m.over_noise+m.over_noise<y.tot_noise+y.over_noise+y.over_noise;break;case 5:L=m.over_noise<y.over_noise||BitStream.EQ(m.over_noise,y.over_noise)&&m.tot_noise<y.tot_noise;break;case 6:L=m.over_noise<y.over_noise||BitStream.EQ(m.over_noise,y.over_noise)&&(m.max_noise<y.max_noise||BitStream.EQ(m.max_noise,y.max_noise)&&m.tot_noise<=y.tot_noise);break;case 7:L=m.over_count<y.over_count||m.over_noise<y.over_noise;break}return y.over_count==0&&(L=L&&m.bits<y.bits),L}function w(v,y,m,A,j){var L=v.internal_flags,O;y.scalefac_scale==0?O=1.2968395546510096:O=1.6817928305074292;for(var V=0,q=0;q<y.sfbmax;q++)V<m[q]&&(V=m[q]);var K=L.noise_shaping_amp;switch(K==3&&(j?K=2:K=1),K){case 2:break;case 1:V>1?V=Math.pow(V,.5):V*=.95;break;default:V>1?V=1:V*=.95;break}for(var G=0,q=0;q<y.sfbmax;q++){var P=y.width[q],z;if(G+=P,!(m[q]<V)){if(L.substep_shaping&2&&(L.pseudohalf[q]=L.pseudohalf[q]==0?1:0,L.pseudohalf[q]==0&&L.noise_shaping_amp==2))return;for(y.scalefac[q]++,z=-P;z<0;z++)A[G+z]*=O,A[G+z]>y.xrpow_max&&(y.xrpow_max=A[G+z]);if(L.noise_shaping_amp==2)return}}}function E(v,y){for(var m=1.2968395546510096,A=0,j=0;j<v.sfbmax;j++){var L=v.width[j],O=v.scalefac[j];if(v.preflag!=0&&(O+=n.pretab[j]),A+=L,O&1){O++;for(var V=-L;V<0;V++)y[A+V]*=m,y[A+V]>v.xrpow_max&&(v.xrpow_max=y[A+V])}v.scalefac[j]=O>>1}v.preflag=0,v.scalefac_scale=1}function b(v,y,m){var A,j=y.scalefac;for(A=0;A<y.sfb_lmax;A++)if(j[A]>=16)return!0;for(var L=0;L<3;L++){var O=0,V=0;for(A=y.sfb_lmax+L;A<y.sfbdivide;A+=3)O<j[A]&&(O=j[A]);for(;A<y.sfbmax;A+=3)V<j[A]&&(V=j[A]);if(!(O<16&&V<8)){if(y.subblock_gain[L]>=7)return!0;y.subblock_gain[L]++;var q=v.scalefac_band.l[y.sfb_lmax];for(A=y.sfb_lmax+L;A<y.sfbmax;A+=3){var K,G=y.width[A],P=j[A];if(P=P-(4>>y.scalefac_scale),P>=0){j[A]=P,q+=G*3;continue}j[A]=0;{var z=210+(P<<y.scalefac_scale+1);K=n.IPOW20(z)}q+=G*(L+1);for(var S=-G;S<0;S++)m[q+S]*=K,m[q+S]>y.xrpow_max&&(y.xrpow_max=m[q+S]);q+=G*(3-L-1)}{var K=n.IPOW20(202);q+=y.width[A]*(L+1);for(var S=-y.width[A];S<0;S++)m[q+S]*=K,m[q+S]>y.xrpow_max&&(y.xrpow_max=m[q+S])}}}return!1}function x(v,y,m,A,j){var L=v.internal_flags;w(v,y,m,A,j);var O=h(y);return O?!1:(L.mode_gr==2?O=i.scale_bitcount(y):O=i.scale_bitcount_lsf(L,y),O?(L.noise_shaping>1&&(ra.fill(L.pseudohalf,0),y.scalefac_scale==0?(E(y,A),O=!1):y.block_type==Ot.SHORT_TYPE&&L.subblock_gain>0&&(O=b(L,y,A)||h(y))),O||(L.mode_gr==2?O=i.scale_bitcount(y):O=i.scale_bitcount_lsf(L,y)),!O):!0)}this.outer_loop=function(v,y,m,A,j,L){var O=v.internal_flags,V=new I_,q=Bl(576),K=Bl(O_.SFBMAX),G=new tm,P,z=new WI,S=9999999,W=!1,ne=!1,Y=0;if(d(O,y,L,j,A),O.noise_shaping==0)return 100;n.calc_noise(y,m,K,G,z),G.bits=y.part2_3_length,V.assign(y);var U=0;for(wi.arraycopy(A,0,q,0,576);!W;){do{var Z=new tm,X,C=255;if(O.substep_shaping&2?X=20:X=3,O.sfb21_extra&&(K[V.sfbmax]>1||V.block_type==Ot.SHORT_TYPE&&(K[V.sfbmax+1]>1||K[V.sfbmax+2]>1))||!x(v,V,K,A,ne))break;V.scalefac_scale!=0&&(C=254);var T=L-V.part2_length;if(T<=0)break;for(;(V.part2_3_length=i.count_bits(O,A,V,z))>T&&V.global_gain<=C;)V.global_gain++;if(V.global_gain>C)break;if(G.over_count==0){for(;(V.part2_3_length=i.count_bits(O,A,V,z))>S&&V.global_gain<=C;)V.global_gain++;if(V.global_gain>C)break}if(n.calc_noise(V,m,K,Z,z),Z.bits=V.part2_3_length,y.block_type!=Ot.SHORT_TYPE?P=v.quant_comp:P=v.quant_comp_short,P=_(P,G,Z,V,K)?1:0,P!=0)S=y.part2_3_length,G=Z,y.assign(V),U=0,wi.arraycopy(A,0,q,0,576);else if(O.full_outer_loop==0&&(++U>X&&G.over_count==0||O.noise_shaping_amp==3&&ne&&U>30||O.noise_shaping_amp==3&&ne&&V.global_gain-Y>15))break}while(V.global_gain+V.scalefac_scale<255);O.noise_shaping_amp==3?ne?W=!0:(V.assign(y),wi.arraycopy(q,0,A,0,576),U=0,Y=V.global_gain,ne=!0):W=!0}return Fl(y.global_gain+y.scalefac_scale<=255),v.VBR==D_.vbr_rh||v.VBR==D_.vbr_mtrh?wi.arraycopy(q,0,A,0,576):O.substep_shaping&1&&trancate_smallspectrums(O,y,m,A),G.over_count},this.iteration_finish_one=function(v,y,m){var A=v.l3_side,j=A.tt[y][m];i.best_scalefac_store(v,y,m,A),v.use_best_huffman==1&&i.best_huffman_divide(v,j),e.ResvAdjust(v,j)},this.VBR_encode_granule=function(v,y,m,A,j,L,O){var V=v.internal_flags,q=new I_,K=Bl(576),G=O,P=O+1,z=(O+L)/2,S,W,ne=0,Y=V.sfb21_extra;Fl(G<=LameInternalFlags.MAX_BITS_PER_CHANNEL),ra.fill(q.l3_enc,0);do z>G-42?V.sfb21_extra=!1:V.sfb21_extra=Y,W=outer_loop(v,y,m,A,j,z),W<=0?(ne=1,P=y.part2_3_length,q.assign(y),wi.arraycopy(A,0,K,0,576),O=P-32,S=O-L,z=(O+L)/2):(L=z+32,S=O-L,z=(O+L)/2,ne!=0&&(ne=2,y.assign(q),wi.arraycopy(K,0,A,0,576)));while(S>12);V.sfb21_extra=Y,ne==2&&wi.arraycopy(q.l3_enc,0,y.l3_enc,0,576),Fl(y.part2_3_length<=G)},this.get_framebits=function(v,y){var m=v.internal_flags;m.bitrate_index=m.VBR_min_bitrate;var A=t.getframebits(v);m.bitrate_index=1,A=t.getframebits(v);for(var j=1;j<=m.VBR_max_bitrate;j++){m.bitrate_index=j;var L=new MeanBits(A);y[j]=e.ResvFrameBegin(v,L),A=L.bits}},this.VBR_old_prepare=function(v,y,m,A,j,L,O,V,q){var K=v.internal_flags,G,P=0,z=1,S=0;K.bitrate_index=K.VBR_max_bitrate;var W=e.ResvFrameBegin(v,new MeanBits(0))/K.mode_gr;get_framebits(v,L);for(var ne=0;ne<K.mode_gr;ne++){var Y=n.on_pe(v,y,V[ne],W,ne,0);K.mode_ext==Ot.MPG_MD_MS_LR&&(ms_convert(K.l3_side,ne),n.reduce_side(V[ne],m[ne],W,Y));for(var U=0;U<K.channels_out;++U){var Z=K.l3_side.tt[ne][U];Z.block_type!=Ot.SHORT_TYPE?(P=1.28/(1+Math.exp(3.5-y[ne][U]/300))-.05,G=K.PSY.mask_adjust-P):(P=2.56/(1+Math.exp(3.5-y[ne][U]/300))-.14,G=K.PSY.mask_adjust_short-P),K.masking_lower=Math.pow(10,G*.1),init_outer_loop(K,Z),q[ne][U]=n.calc_xmin(v,A[ne][U],Z,j[ne][U]),q[ne][U]!=0&&(z=0),O[ne][U]=126,S+=V[ne][U]}}for(var ne=0;ne<K.mode_gr;ne++)for(var U=0;U<K.channels_out;U++)S>L[K.VBR_max_bitrate]&&(V[ne][U]*=L[K.VBR_max_bitrate],V[ne][U]/=S),O[ne][U]>V[ne][U]&&(O[ne][U]=V[ne][U]);return z},this.bitpressure_strategy=function(v,y,m,A){for(var j=0;j<v.mode_gr;j++)for(var L=0;L<v.channels_out;L++){for(var O=v.l3_side.tt[j][L],V=y[j][L],q=0,K=0;K<O.psy_lmax;K++)V[q++]*=1+.029*K*K/Ot.SBMAX_l/Ot.SBMAX_l;if(O.block_type==Ot.SHORT_TYPE)for(var K=O.sfb_smin;K<Ot.SBMAX_s;K++)V[q++]*=1+.029*K*K/Ot.SBMAX_s/Ot.SBMAX_s,V[q++]*=1+.029*K*K/Ot.SBMAX_s/Ot.SBMAX_s,V[q++]*=1+.029*K*K/Ot.SBMAX_s/Ot.SBMAX_s;A[j][L]=0|Math.max(m[j][L],.9*A[j][L])}},this.VBR_new_prepare=function(v,y,m,A,j,L){var O=v.internal_flags,V=1,q=0,K=0,G;if(v.free_format){O.bitrate_index=0;var P=new MeanBits(q);G=e.ResvFrameBegin(v,P),q=P.bits,j[0]=G}else{O.bitrate_index=O.VBR_max_bitrate;var P=new MeanBits(q);e.ResvFrameBegin(v,P),q=P.bits,get_framebits(v,j),G=j[O.VBR_max_bitrate]}for(var z=0;z<O.mode_gr;z++){n.on_pe(v,y,L[z],q,z,0),O.mode_ext==Ot.MPG_MD_MS_LR&&ms_convert(O.l3_side,z);for(var S=0;S<O.channels_out;++S){var W=O.l3_side.tt[z][S];O.masking_lower=Math.pow(10,O.PSY.mask_adjust*.1),init_outer_loop(O,W),n.calc_xmin(v,m[z][S],W,A[z][S])!=0&&(V=0),K+=L[z][S]}}for(var z=0;z<O.mode_gr;z++)for(var S=0;S<O.channels_out;S++)K>G&&(L[z][S]*=G,L[z][S]/=K);return V},this.calc_target_bits=function(v,y,m,A,j,L){var O=v.internal_flags,V=O.l3_side,q,K,G,P,z=0;O.bitrate_index=O.VBR_max_bitrate;var S=new MeanBits(z);for(L[0]=e.ResvFrameBegin(v,S),z=S.bits,O.bitrate_index=1,z=t.getframebits(v)-O.sideinfo_len*8,j[0]=z/(O.mode_gr*O.channels_out),z=v.VBR_mean_bitrate_kbps*v.framesize*1e3,O.substep_shaping&1&&(z*=1.09),z/=v.out_samplerate,z-=O.sideinfo_len*8,z/=O.mode_gr*O.channels_out,q=.93+.07*(11-v.compression_ratio)/(11-5.5),q<.9&&(q=.9),q>1&&(q=1),K=0;K<O.mode_gr;K++){var W=0;for(G=0;G<O.channels_out;G++){if(A[K][G]=int(q*z),y[K][G]>700){var ne=int((y[K][G]-700)/1.4),Y=V.tt[K][G];A[K][G]=int(q*z),Y.block_type==Ot.SHORT_TYPE&&ne<z/2&&(ne=z/2),ne>z*3/2?ne=z*3/2:ne<0&&(ne=0),A[K][G]+=ne}A[K][G]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(A[K][G]=LameInternalFlags.MAX_BITS_PER_CHANNEL),W+=A[K][G]}if(W>LameInternalFlags.MAX_BITS_PER_GRANULE)for(G=0;G<O.channels_out;++G)A[K][G]*=LameInternalFlags.MAX_BITS_PER_GRANULE,A[K][G]/=W}if(O.mode_ext==Ot.MPG_MD_MS_LR)for(K=0;K<O.mode_gr;K++)n.reduce_side(A[K],m[K],z*O.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(P=0,K=0;K<O.mode_gr;K++)for(G=0;G<O.channels_out;G++)A[K][G]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(A[K][G]=LameInternalFlags.MAX_BITS_PER_CHANNEL),P+=A[K][G];if(P>L[0])for(K=0;K<O.mode_gr;K++)for(G=0;G<O.channels_out;G++)A[K][G]*=L[0],A[K][G]/=P}}var UI=$I,HI=rn,j_=HI.assert;function XI(){var t;this.setModules=function(e){t=e},this.ResvFrameBegin=function(e,n){var r=e.internal_flags,i,a=r.l3_side,l=t.getframebits(e);n.bits=(l-r.sideinfo_len*8)/r.mode_gr;var c=8*256*r.mode_gr-8;e.brate>320?i=8*int(e.brate*1e3/(e.out_samplerate/1152)/8+.5):(i=8*1440,e.strict_ISO&&(i=8*int(32e4/(e.out_samplerate/1152)/8+.5))),r.ResvMax=i-l,r.ResvMax>c&&(r.ResvMax=c),(r.ResvMax<0||e.disable_reservoir)&&(r.ResvMax=0);var d=n.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return d>i&&(d=i),j_(r.ResvMax%8==0),j_(r.ResvMax>=0),a.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=n.bits/2,r.pinfo.resvsize=r.ResvSize),d},this.ResvMaxBits=function(e,n,r,i){var a=e.internal_flags,l,c=a.ResvSize,d=a.ResvMax;i!=0&&(c+=n),a.substep_shaping&1&&(d*=.9),r.bits=n,c*10>d*9?(l=c-d*9/10,r.bits+=l,a.substep_shaping|=128):(l=0,a.substep_shaping&=127,!e.disable_reservoir&&!(a.substep_shaping&1)&&(r.bits-=.1*n));var h=c<a.ResvMax*6/10?c:a.ResvMax*6/10;return h-=l,h<0&&(h=0),h},this.ResvAdjust=function(e,n){e.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(e,n){var r,i=e.l3_side;e.ResvSize+=n*e.mode_gr;var a=0;i.resvDrain_post=0,i.resvDrain_pre=0,(r=e.ResvSize%8)!=0&&(a+=r),r=e.ResvSize-a-e.ResvMax,r>0&&(a+=r);{var l=Math.min(i.main_data_begin*8,a)/8;i.resvDrain_pre+=8*l,a-=8*l,e.ResvSize-=8*l,i.main_data_begin-=l}i.resvDrain_post+=a,e.ResvSize-=a}}var qI=XI;function GI(){var t="http://www.mp3dev.org/",e=3,n=98,r=4,i=0,a=93;this.getLameVersion=function(){return e+"."+n+"."+r},this.getLameShortVersion=function(){return e+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+e+"."+n+"r"},this.getPsyVersion=function(){return i+"."+a},this.getLameUrl=function(){return t},this.getLameOsBitness=function(){return"32bits"}}var ZI=GI,qa=rn,YI=qa.System,nm=qa.VbrMode,L_=qa.ShortBlock,KI=qa.Arrays,od=qa.new_byte,QI=qa.assert;bc.NUMTOCENTRIES=100;bc.MAXFRAMESIZE=2880;function bc(){var t,e,n;this.setModules=function(z,S,W){t=z,e=S,n=W};var r=1,i=2,a=4,l=8,c=bc.NUMTOCENTRIES,d=bc.MAXFRAMESIZE,h=c+4+4+4+4+4,f=h+9+1+1+8+1+1+3+1+1+2+4+2+2,p=128,_=64,w=32,E=null,b="Xing",x="Info",v=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function y(z,S){if(z.nVbrNumFrames++,z.sum+=S,z.seen++,!(z.seen<z.want)&&(z.pos<z.size&&(z.bag[z.pos]=z.sum,z.pos++,z.seen=0),z.pos==z.size)){for(var W=1;W<z.size;W+=2)z.bag[W/2]=z.bag[W];z.want*=2,z.pos/=2}}function m(z,S){if(!(z.pos<=0))for(var W=1;W<c;++W){var ne=W/c,Y,U,Z=0|Math.floor(ne*z.pos);Z>z.pos-1&&(Z=z.pos-1),Y=z.bag[Z],U=z.sum;var X=0|256*Y/U;X>255&&(X=255),S[W]=255&X}}this.addVbrFrame=function(z){var S=z.internal_flags,W=Tables.bitrate_table[z.version][S.bitrate_index];QI(S.VBR_seek_table.bag!=null),y(S.VBR_seek_table,W)};function A(z,S){var W=z[S+0]&255;return W<<=8,W|=z[S+1]&255,W<<=8,W|=z[S+2]&255,W<<=8,W|=z[S+3]&255,W}function j(z,S,W){z[S+0]=255&(W>>24&255),z[S+1]=255&(W>>16&255),z[S+2]=255&(W>>8&255),z[S+3]=255&(W&255)}function L(z,S,W){z[S+0]=255&(W>>8&255),z[S+1]=255&(W&255)}function O(z,S){return new String(z,S,b.length(),E).equals(b)||new String(z,S,x.length(),E).equals(x)}function V(z,S,W){return 255&(z<<S|W&~(-1<<S))}function q(z,S){var W=z.internal_flags;S[0]=V(S[0],8,255),S[1]=V(S[1],3,7),S[1]=V(S[1],1,z.out_samplerate<16e3?0:1),S[1]=V(S[1],1,z.version),S[1]=V(S[1],2,1),S[1]=V(S[1],1,z.error_protection?0:1),S[2]=V(S[2],4,W.bitrate_index),S[2]=V(S[2],2,W.samplerate_index),S[2]=V(S[2],1,0),S[2]=V(S[2],1,z.extension),S[3]=V(S[3],2,z.mode.ordinal()),S[3]=V(S[3],2,W.mode_ext),S[3]=V(S[3],1,z.copyright),S[3]=V(S[3],1,z.original),S[3]=V(S[3],2,z.emphasis),S[0]=255;var ne=255&(S[1]&241),Y;z.version==1?Y=p:z.out_samplerate<16e3?Y=w:Y=_,z.VBR==nm.vbr_off&&(Y=z.brate);var U;z.free_format?U=0:U=255&16*t.BitrateIndex(Y,z.version,z.out_samplerate),z.version==1?(S[1]=255&(ne|10),ne=255&(S[2]&13),S[2]=255&(U|ne)):(S[1]=255&(ne|2),ne=255&(S[2]&13),S[2]=255&(U|ne))}this.getVbrTag=function(z){var S=new VBRTagData,W=0;S.flags=0;var ne=z[W+1]>>3&1,Y=z[W+2]>>2&3,U=z[W+3]>>6&3,Z=z[W+2]>>4&15;if(Z=Tables.bitrate_table[ne][Z],z[W+1]>>4==14?S.samprate=Tables.samplerate_table[2][Y]:S.samprate=Tables.samplerate_table[ne][Y],ne!=0?U!=3?W+=36:W+=21:U!=3?W+=21:W+=13,!O(z,W))return null;W+=4,S.hId=ne;var X=S.flags=A(z,W);if(W+=4,X&r&&(S.frames=A(z,W),W+=4),X&i&&(S.bytes=A(z,W),W+=4),X&a){if(S.toc!=null)for(var C=0;C<c;C++)S.toc[C]=z[W+C];W+=c}S.vbrScale=-1,X&l&&(S.vbrScale=A(z,W),W+=4),S.headersize=(ne+1)*72e3*Z/S.samprate,W+=21;var T=z[W+0]<<4;T+=z[W+1]>>4;var I=(z[W+1]&15)<<8;return I+=z[W+2]&255,(T<0||T>3e3)&&(T=-1),(I<0||I>3e3)&&(I=-1),S.encDelay=T,S.encPadding=I,S},this.InitVbrTag=function(z){var S=z.internal_flags,W;z.version==1?W=p:z.out_samplerate<16e3?W=w:W=_,z.VBR==nm.vbr_off&&(W=z.brate);var ne=(z.version+1)*72e3*W/z.out_samplerate,Y=S.sideinfo_len+f;if(S.VBR_seek_table.TotalFrameSize=ne,ne<Y||ne>d){z.bWriteVbrTag=!1;return}S.VBR_seek_table.nVbrNumFrames=0,S.VBR_seek_table.nBytesWritten=0,S.VBR_seek_table.sum=0,S.VBR_seek_table.seen=0,S.VBR_seek_table.want=1,S.VBR_seek_table.pos=0,S.VBR_seek_table.bag==null&&(S.VBR_seek_table.bag=new int[400],S.VBR_seek_table.size=400);var U=od(d);q(z,U);for(var Z=S.VBR_seek_table.TotalFrameSize,X=0;X<Z;++X)e.add_dummy_byte(z,U[X]&255,1)};function K(z,S){var W=S^z;return S=S>>8^v[W&255],S}this.updateMusicCRC=function(z,S,W,ne){for(var Y=0;Y<ne;++Y)z[0]=K(S[W+Y],z[0])};function G(z,S,W,ne,Y){var U=z.internal_flags,Z=0,X=z.encoder_delay,C=z.encoder_padding,T=100-10*z.VBR_q-z.quality,I=n.getLameVeryShortVersion(),F,H=0,ae,le=[1,5,3,2,4,0,3],te=0|(z.lowpassfreq/100+.5>255?255:z.lowpassfreq/100+.5),ce=0,be=0,Ee=0,je=z.internal_flags.noise_shaping,Ve=0,B=0,ve=0,pe=0,ie=0,se=(z.exp_nspsytune&1)!=0,M=(z.exp_nspsytune&2)!=0,$=!1,we=!1,fe=z.internal_flags.nogap_total,Ne=z.internal_flags.nogap_current,Oe=z.ATHtype,Re=0,Le;switch(z.VBR){case vbr_abr:Le=z.VBR_mean_bitrate_kbps;break;case vbr_off:Le=z.brate;break;default:Le=z.VBR_min_bitrate_kbps}switch(z.VBR.ordinal()<le.length?F=le[z.VBR.ordinal()]:F=0,ae=16*H+F,U.findReplayGain&&(U.RadioGain>510&&(U.RadioGain=510),U.RadioGain<-510&&(U.RadioGain=-510),be=8192,be|=3072,U.RadioGain>=0?be|=U.RadioGain:(be|=512,be|=-U.RadioGain)),U.findPeakSample&&(ce=Math.abs(0|U.PeakSample/32767*Math.pow(2,23)+.5)),fe!=-1&&(Ne>0&&(we=!0),Ne<fe-1&&($=!0)),Re=Oe+((se?1:0)<<4)+((M?1:0)<<5)+(($?1:0)<<6)+((we?1:0)<<7),T<0&&(T=0),z.mode){case MONO:Ve=0;break;case STEREO:Ve=1;break;case DUAL_CHANNEL:Ve=2;break;case JOINT_STEREO:z.force_ms?Ve=4:Ve=3;break;case NOT_SET:default:Ve=7;break}z.in_samplerate<=32e3?ve=0:z.in_samplerate==48e3?ve=2:z.in_samplerate>48e3?ve=3:ve=1,(z.short_blocks==L_.short_block_forced||z.short_blocks==L_.short_block_dispensed||z.lowpassfreq==-1&&z.highpassfreq==-1||z.scale_left<z.scale_right||z.scale_left>z.scale_right||z.disable_reservoir&&z.brate<320||z.noATH||z.ATHonly||Oe==0||z.in_samplerate<=32e3)&&(B=1),pe=je+(Ve<<2)+(B<<5)+(ve<<6),ie=U.nMusicCRC,j(W,ne+Z,T),Z+=4;for(var Qe=0;Qe<9;Qe++)W[ne+Z+Qe]=255&I.charAt(Qe);Z+=9,W[ne+Z]=255&ae,Z++,W[ne+Z]=255&te,Z++,j(W,ne+Z,ce),Z+=4,L(W,ne+Z,be),Z+=2,L(W,ne+Z,Ee),Z+=2,W[ne+Z]=255&Re,Z++,Le>=255?W[ne+Z]=255:W[ne+Z]=255&Le,Z++,W[ne+Z]=255&X>>4,W[ne+Z+1]=255&(X<<4)+(C>>8),W[ne+Z+2]=255&C,Z+=3,W[ne+Z]=255&pe,Z++,W[ne+Z++]=0,L(W,ne+Z,z.preset),Z+=2,j(W,ne+Z,S),Z+=4,L(W,ne+Z,ie),Z+=2;for(var He=0;He<Z;He++)Y=K(W[ne+He],Y);return L(W,ne+Z,Y),Z+=2,Z}function P(z){z.seek(0);var S=od(10);z.readFully(S);var W;return new String(S,"ISO-8859-1").startsWith("ID3")?W=0:W=((S[6]&127)<<21|(S[7]&127)<<14|(S[8]&127)<<7|S[9]&127)+S.length,W}this.getLameTagFrame=function(z,S){var W=z.internal_flags;if(!z.bWriteVbrTag||W.Class_ID!=Lame.LAME_ID||W.VBR_seek_table.pos<=0)return 0;if(S.length<W.VBR_seek_table.TotalFrameSize)return W.VBR_seek_table.TotalFrameSize;KI.fill(S,0,W.VBR_seek_table.TotalFrameSize,0),q(z,S);var ne=od(c);if(z.free_format)for(var Y=1;Y<c;++Y)ne[Y]=255&255*Y/100;else m(W.VBR_seek_table,ne);var U=W.sideinfo_len;z.error_protection&&(U-=2),z.VBR==nm.vbr_off?(S[U++]=255&x.charAt(0),S[U++]=255&x.charAt(1),S[U++]=255&x.charAt(2),S[U++]=255&x.charAt(3)):(S[U++]=255&b.charAt(0),S[U++]=255&b.charAt(1),S[U++]=255&b.charAt(2),S[U++]=255&b.charAt(3)),j(S,U,r+i+a+l),U+=4,j(S,U,W.VBR_seek_table.nVbrNumFrames),U+=4;var Z=W.VBR_seek_table.nBytesWritten+W.VBR_seek_table.TotalFrameSize;j(S,U,0|Z),U+=4,YI.arraycopy(ne,0,S,U,ne.length),U+=ne.length,z.error_protection&&e.CRC_writeheader(W,S);for(var X=0,Y=0;Y<U;Y++)X=K(S[Y],X);return U+=G(z,Z,S,U,X),W.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(z,S){var W=z.internal_flags;if(W.VBR_seek_table.pos<=0||(S.seek(S.length()),S.length()==0))return-1;var ne=P(S);S.seek(ne);var Y=od(d),U=getLameTagFrame(z,Y);return U>Y.length?-1:(U<1||S.write(Y,0,U),0)}}var JI=bc,L5=rn,B_=L5.new_byte,eO=L5.assert,tO=R0(),nO=DI,rO=M5,sO=I5(),iO=UI,oO=O5(),aO=qI,lO=Lc,cO=P0();Gn();var uO=ZI,dO=JI;function fO(){this.setModules=function(t,e){}}function hO(){this.setModules=function(t,e,n){}}function pO(){}function mO(){this.setModules=function(t,e){}}function gO(t,e,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),t=1,e=44100,n=128);var r=new tO,i=new fO,a=new rO,l=new cO,c=new nO,d=new sO,h=new iO,f=new dO,p=new uO,_=new mO,w=new aO,E=new oO,b=new hO,x=new pO;r.setModules(a,l,c,d,h,f,p,_,x),l.setModules(a,x,p,f),_.setModules(l,p),c.setModules(r),h.setModules(l,w,d,E),d.setModules(E,w,r.enc.psy),w.setModules(l),E.setModules(d),f.setModules(r,l,p),i.setModules(b,x),b.setModules(p,_,c);var v=r.lame_init();v.num_channels=t,v.in_samplerate=e,v.brate=n,v.mode=lO.STEREO,v.quality=3,v.bWriteVbrTag=!1,v.disable_reservoir=!0,v.write_id3tag_automatic=!1,r.lame_init_params(v);var y=1152,m=0|1.25*y+7200,A=B_(m);this.encodeBuffer=function(j,L){t==1&&(L=j),eO(j.length==L.length),j.length>y&&(y=j.length,m=0|1.25*y+7200,A=B_(m));var O=r.lame_encode_buffer(v,j,L,j.length,A,0,m);return new Int8Array(A.subarray(0,O))},this.flush=function(){var j=r.lame_encode_flush(v,A,0,m);return new Int8Array(A.subarray(0,j))}}function hs(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Af(t){return t.charCodeAt(0)<<24|t.charCodeAt(1)<<16|t.charCodeAt(2)<<8|t.charCodeAt(3)}hs.RIFF=Af("RIFF");hs.WAVE=Af("WAVE");hs.fmt_=Af("fmt ");hs.data=Af("data");hs.readHeader=function(t){var e=new hs,n=t.getUint32(0,!1);if(hs.RIFF==n&&(t.getUint32(4,!0),hs.WAVE==t.getUint32(8,!1)&&hs.fmt_==t.getUint32(12,!1))){var r=t.getUint32(16,!0),i=20;switch(r){case 16:case 18:e.channels=t.getUint16(i+2,!0),e.sampleRate=t.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=r;for(var a=hs.data,l=0;a!=n&&(n=t.getUint32(i,!1),l=t.getUint32(i+4,!0),a!=n);)i+=l+8;return e.dataLen=l,e.dataOffset=i+8,e}};var B5=gO;async function s1(t){if(t.type==="audio/mpeg")return t;const e=new AudioContext;try{const n=await t.arrayBuffer(),r=await e.decodeAudioData(n),i=r.sampleRate,a=r.numberOfChannels,l=128;return a===1?vO(r.getChannelData(0),i,l):yO(r.getChannelData(0),r.getChannelData(1),i,l)}finally{await e.close()}}function i1(t){const e=new Int16Array(t.length);for(let n=0;n<t.length;n++){const r=Math.max(-1,Math.min(1,t[n]));e[n]=r<0?r*32768:r*32767}return e}function vO(t,e,n){const r=new B5(1,e,n),i=i1(t),a=1152,l=[];for(let d=0;d<i.length;d+=a){const h=i.subarray(d,d+a),f=r.encodeBuffer(h);f.length>0&&l.push(new Uint8Array(f))}const c=r.flush();return c.length>0&&l.push(new Uint8Array(c)),new Blob(l,{type:"audio/mpeg"})}function yO(t,e,n,r){const i=new B5(2,n,r),a=i1(t),l=i1(e),c=1152,d=[];for(let f=0;f<a.length;f+=c){const p=a.subarray(f,f+c),_=l.subarray(f,f+c),w=i.encodeBuffer(p,_);w.length>0&&d.push(new Uint8Array(w))}const h=i.flush();return h.length>0&&d.push(new Uint8Array(h)),new Blob(d,{type:"audio/mpeg"})}const F5="flagit-theme";function _O(){if(typeof window>"u")return"light";const t=localStorage.getItem(F5);return t==="dark"||t==="light"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function A0(){const[t,e]=D.useState(_O);return D.useEffect(()=>{const r=document.documentElement;t==="dark"?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem(F5,t)},[t]),{theme:t,toggleTheme:()=>e(r=>r==="dark"?"light":"dark")}}var rm="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",F_={bubbles:!1,cancelable:!0},bO="FocusScope",Mf=D.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[c,d]=D.useState(null),h=Hn(i),f=Hn(a),p=D.useRef(null),_=Bt(e,b=>d(b)),w=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(r){let b=function(m){if(w.paused||!c)return;const A=m.target;c.contains(A)?p.current=A:Si(p.current,{select:!0})},x=function(m){if(w.paused||!c)return;const A=m.relatedTarget;A!==null&&(c.contains(A)||Si(p.current,{select:!0}))},v=function(m){if(document.activeElement===document.body)for(const j of m)j.removedNodes.length>0&&Si(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const y=new MutationObserver(v);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),y.disconnect()}}},[r,c,w.paused]),D.useEffect(()=>{if(c){z_.add(w);const b=document.activeElement;if(!c.contains(b)){const v=new CustomEvent(rm,F_);c.addEventListener(rm,h),c.dispatchEvent(v),v.defaultPrevented||(wO(TO(V5(c)),{select:!0}),document.activeElement===b&&Si(c))}return()=>{c.removeEventListener(rm,h),setTimeout(()=>{const v=new CustomEvent(sm,F_);c.addEventListener(sm,f),c.dispatchEvent(v),v.defaultPrevented||Si(b??document.body,{select:!0}),c.removeEventListener(sm,f),z_.remove(w)},0)}}},[c,h,f,w]);const E=D.useCallback(b=>{if(!n&&!r||w.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(x&&v){const y=b.currentTarget,[m,A]=xO(y);m&&A?!b.shiftKey&&v===A?(b.preventDefault(),n&&Si(m,{select:!0})):b.shiftKey&&v===m&&(b.preventDefault(),n&&Si(A,{select:!0})):v===y&&b.preventDefault()}},[n,r,w.paused]);return R.jsx(Et.div,{tabIndex:-1,...l,ref:_,onKeyDown:E})});Mf.displayName=bO;function wO(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Si(r,{select:e}),document.activeElement!==n)return}function xO(t){const e=V5(t),n=V_(e,t),r=V_(e.reverse(),t);return[n,r]}function V5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function V_(t,e){for(const n of t)if(!SO(n,{upTo:e}))return n}function SO(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function CO(t){return t instanceof HTMLInputElement&&"select"in t}function Si(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&CO(t)&&e&&t.select()}}var z_=EO();function EO(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=W_(t,e),t.unshift(e)},remove(e){t=W_(t,e),t[0]?.resume()}}}function W_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function TO(t){return t.filter(e=>e.tagName!=="A")}var im=0;function M0(){D.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$_()),document.body.insertAdjacentElement("beforeend",t[1]??$_()),im++,()=>{im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),im--}},[])}function $_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ps=function(){return ps=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ps.apply(this,arguments)};function z5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kO(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var _d="right-scroll-bar-position",bd="width-before-scroll-bar",PO="with-scroll-bars-hidden",RO="--removed-body-scroll-bar-size";function om(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function AO(t,e){var n=D.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var MO=typeof window<"u"?D.useLayoutEffect:D.useEffect,U_=new WeakMap;function NO(t,e){var n=AO(null,function(r){return t.forEach(function(i){return om(i,r)})});return MO(function(){var r=U_.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(c){a.has(c)||om(c,null)}),a.forEach(function(c){i.has(c)||om(c,l)})}U_.set(n,t)},[t]),n}function DO(t){return t}function IO(t,e){e===void 0&&(e=DO);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(a),l=n}var d=function(){var f=l;l=[],f.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),n}}}};return i}function OO(t){t===void 0&&(t={});var e=IO(null);return e.options=ps({async:!0,ssr:!1},t),e}var W5=function(t){var e=t.sideCar,n=z5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return D.createElement(r,ps({},n))};W5.isSideCarExport=!0;function jO(t,e){return t.useMedium(e),W5}var $5=OO(),am=function(){},Nf=D.forwardRef(function(t,e){var n=D.useRef(null),r=D.useState({onScrollCapture:am,onWheelCapture:am,onTouchMoveCapture:am}),i=r[0],a=r[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,f=t.enabled,p=t.shards,_=t.sideCar,w=t.noIsolation,E=t.inert,b=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,y=t.gapMode,m=z5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=_,j=NO([n,e]),L=ps(ps({},m),i);return D.createElement(D.Fragment,null,f&&D.createElement(A,{sideCar:$5,removeScrollBar:h,shards:p,noIsolation:w,inert:E,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:y}),l?D.cloneElement(D.Children.only(c),ps(ps({},L),{ref:j})):D.createElement(v,ps({},L,{className:d,ref:j}),c))});Nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nf.classNames={fullWidth:bd,zeroRight:_d};var LO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LO();return e&&t.setAttribute("nonce",e),t}function FO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function VO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=BO())&&(FO(e,n),VO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WO=function(){var t=zO();return function(e,n){D.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},U5=function(){var t=WO(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},$O={left:0,top:0,right:0,gap:0},lm=function(t){return parseInt(t||"",10)||0},UO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[lm(n),lm(r),lm(i)]},HO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $O;var e=UO(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},XO=U5(),Ta="data-scroll-locked",qO=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(PO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ta,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_d,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(bd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bd," .").concat(bd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ta,`] {
    `).concat(RO,": ").concat(c,`px;
  }
`)},H_=function(){var t=parseInt(document.body.getAttribute(Ta)||"0",10);return isFinite(t)?t:0},GO=function(){D.useEffect(function(){return document.body.setAttribute(Ta,(H_()+1).toString()),function(){var t=H_()-1;t<=0?document.body.removeAttribute(Ta):document.body.setAttribute(Ta,t.toString())}},[])},ZO=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;GO();var a=D.useMemo(function(){return HO(i)},[i]);return D.createElement(XO,{styles:qO(a,!e,i,n?"":"!important")})},o1=!1;if(typeof window<"u")try{var ad=Object.defineProperty({},"passive",{get:function(){return o1=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{o1=!1}var sa=o1?{passive:!1}:!1,YO=function(t){return t.tagName==="TEXTAREA"},H5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!YO(t)&&n[e]==="visible")},KO=function(t){return H5(t,"overflowY")},QO=function(t){return H5(t,"overflowX")},X_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=X5(t,r);if(i){var a=q5(t,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JO=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ej=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},X5=function(t,e){return t==="v"?KO(e):QO(e)},q5=function(t,e){return t==="v"?JO(e):ej(e)},tj=function(t,e){return t==="h"&&e==="rtl"?-1:1},nj=function(t,e,n,r,i){var a=tj(t,window.getComputedStyle(e).direction),l=a*r,c=n.target,d=e.contains(c),h=!1,f=l>0,p=0,_=0;do{var w=q5(t,c),E=w[0],b=w[1],x=w[2],v=b-x-a*E;(E||v)&&X5(t,c)&&(p+=v,_+=E),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(f&&Math.abs(p)<1||!f&&Math.abs(_)<1)&&(h=!0),h},ld=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},q_=function(t){return[t.deltaX,t.deltaY]},G_=function(t){return t&&"current"in t?t.current:t},rj=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sj=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ij=0,ia=[];function oj(t){var e=D.useRef([]),n=D.useRef([0,0]),r=D.useRef(),i=D.useState(ij++)[0],a=D.useState(U5)[0],l=D.useRef(t);D.useEffect(function(){l.current=t},[t]),D.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=kO([t.lockRef.current],(t.shards||[]).map(G_),!0).filter(Boolean);return b.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=D.useCallback(function(b,x){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var v=ld(b),y=n.current,m="deltaX"in b?b.deltaX:y[0]-v[0],A="deltaY"in b?b.deltaY:y[1]-v[1],j,L=b.target,O=Math.abs(m)>Math.abs(A)?"h":"v";if("touches"in b&&O==="h"&&L.type==="range")return!1;var V=X_(O,L);if(!V)return!0;if(V?j=O:(j=O==="v"?"h":"v",V=X_(O,L)),!V)return!1;if(!r.current&&"changedTouches"in b&&(m||A)&&(r.current=j),!j)return!0;var q=r.current||j;return nj(q,x,b,q==="h"?m:A)},[]),d=D.useCallback(function(b){var x=b;if(!(!ia.length||ia[ia.length-1]!==a)){var v="deltaY"in x?q_(x):ld(x),y=e.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&rj(j.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var m=(l.current.shards||[]).map(G_).filter(Boolean).filter(function(j){return j.contains(x.target)}),A=m.length>0?c(x,m[0]):!l.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),h=D.useCallback(function(b,x,v,y){var m={name:b,delta:x,target:v,should:y,shadowParent:aj(v)};e.current.push(m),setTimeout(function(){e.current=e.current.filter(function(A){return A!==m})},1)},[]),f=D.useCallback(function(b){n.current=ld(b),r.current=void 0},[]),p=D.useCallback(function(b){h(b.type,q_(b),b.target,c(b,t.lockRef.current))},[]),_=D.useCallback(function(b){h(b.type,ld(b),b.target,c(b,t.lockRef.current))},[]);D.useEffect(function(){return ia.push(a),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:_}),document.addEventListener("wheel",d,sa),document.addEventListener("touchmove",d,sa),document.addEventListener("touchstart",f,sa),function(){ia=ia.filter(function(b){return b!==a}),document.removeEventListener("wheel",d,sa),document.removeEventListener("touchmove",d,sa),document.removeEventListener("touchstart",f,sa)}},[]);var w=t.removeScrollBar,E=t.inert;return D.createElement(D.Fragment,null,E?D.createElement(a,{styles:sj(i)}):null,w?D.createElement(ZO,{gapMode:t.gapMode}):null)}function aj(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lj=jO($5,oj);var Df=D.forwardRef(function(t,e){return D.createElement(Nf,ps({},t,{ref:e,sideCar:lj}))});Df.classNames=Nf.classNames;var cj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},oa=new WeakMap,cd=new WeakMap,ud={},cm=0,G5=function(t){return t&&(t.host||G5(t.parentNode))},uj=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=G5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},dj=function(t,e,n,r){var i=uj(e,Array.isArray(t)?t:[t]);ud[n]||(ud[n]=new WeakMap);var a=ud[n],l=[],c=new Set,d=new Set(i),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};i.forEach(h);var f=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(_){if(c.has(_))f(_);else try{var w=_.getAttribute(r),E=w!==null&&w!=="false",b=(oa.get(_)||0)+1,x=(a.get(_)||0)+1;oa.set(_,b),a.set(_,x),l.push(_),b===1&&E&&cd.set(_,!0),x===1&&_.setAttribute(n,"true"),E||_.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",_,v)}})};return f(e),c.clear(),cm++,function(){l.forEach(function(p){var _=oa.get(p)-1,w=a.get(p)-1;oa.set(p,_),a.set(p,w),_||(cd.has(p)||p.removeAttribute(r),cd.delete(p)),w||p.removeAttribute(n)}),cm--,cm||(oa=new WeakMap,oa=new WeakMap,cd=new WeakMap,ud={})}},N0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=cj(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),dj(r,i,n,"aria-hidden")):function(){return null}},D0="Dialog",[Z5,Y5]=rs(D0),[fj,os]=Z5(D0),K5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=D.useRef(null),d=D.useRef(null),[h=!1,f]=vo({prop:r,defaultProp:i,onChange:a});return R.jsx(fj,{scope:e,triggerRef:c,contentRef:d,contentId:ms(),titleId:ms(),descriptionId:ms(),open:h,onOpenChange:f,onOpenToggle:D.useCallback(()=>f(p=>!p),[f]),modal:l,children:n})};K5.displayName=D0;var Q5="DialogTrigger",J5=D.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(Q5,n),a=Bt(e,i.triggerRef);return R.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":j0(i.open),...r,ref:a,onClick:tt(t.onClick,i.onOpenToggle)})});J5.displayName=Q5;var I0="DialogPortal",[hj,e4]=Z5(I0,{forceMount:void 0}),t4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=os(I0,e);return R.jsx(hj,{scope:e,forceMount:n,children:D.Children.map(r,l=>R.jsx(ss,{present:n||a.open,children:R.jsx(Mc,{asChild:!0,container:i,children:l})}))})};t4.displayName=I0;var Hd="DialogOverlay",n4=D.forwardRef((t,e)=>{const n=e4(Hd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=os(Hd,t.__scopeDialog);return a.modal?R.jsx(ss,{present:r||a.open,children:R.jsx(mj,{...i,ref:e})}):null});n4.displayName=Hd;var pj=go("DialogOverlay.RemoveScroll"),mj=D.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(Hd,n);return R.jsx(Df,{as:pj,allowPinchZoom:!0,shards:[i.contentRef],children:R.jsx(Et.div,{"data-state":j0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),So="DialogContent",r4=D.forwardRef((t,e)=>{const n=e4(So,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=os(So,t.__scopeDialog);return R.jsx(ss,{present:r||a.open,children:a.modal?R.jsx(gj,{...i,ref:e}):R.jsx(vj,{...i,ref:e})})});r4.displayName=So;var gj=D.forwardRef((t,e)=>{const n=os(So,t.__scopeDialog),r=D.useRef(null),i=Bt(e,n.contentRef,r);return D.useEffect(()=>{const a=r.current;if(a)return N0(a)},[]),R.jsx(s4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:tt(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:tt(t.onFocusOutside,a=>a.preventDefault())})}),vj=D.forwardRef((t,e)=>{const n=os(So,t.__scopeDialog),r=D.useRef(!1),i=D.useRef(!1);return R.jsx(s4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),s4=D.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,c=os(So,n),d=D.useRef(null),h=Bt(e,d);return M0(),R.jsxs(R.Fragment,{children:[R.jsx(Mf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:R.jsx(Fa,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":j0(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),R.jsxs(R.Fragment,{children:[R.jsx(_j,{titleId:c.titleId}),R.jsx(wj,{contentRef:d,descriptionId:c.descriptionId})]})]})}),O0="DialogTitle",i4=D.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(O0,n);return R.jsx(Et.h2,{id:i.titleId,...r,ref:e})});i4.displayName=O0;var o4="DialogDescription",a4=D.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(o4,n);return R.jsx(Et.p,{id:i.descriptionId,...r,ref:e})});a4.displayName=o4;var l4="DialogClose",c4=D.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(l4,n);return R.jsx(Et.button,{type:"button",...r,ref:e,onClick:tt(t.onClick,()=>i.onOpenChange(!1))})});c4.displayName=l4;function j0(t){return t?"open":"closed"}var u4="DialogTitleWarning",[yj,d4]=ek(u4,{contentName:So,titleName:O0,docsSlug:"dialog"}),_j=({titleId:t})=>{const e=d4(u4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return D.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},bj="DialogDescriptionWarning",wj=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d4(bj).contentName}}.`;return D.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},f4=K5,xj=J5,h4=t4,L0=n4,B0=r4,F0=i4,V0=a4,z0=c4,p4="AlertDialog",[Sj]=rs(p4,[Y5]),qs=Y5(),m4=t=>{const{__scopeAlertDialog:e,...n}=t,r=qs(e);return R.jsx(f4,{...r,...n,modal:!0})};m4.displayName=p4;var Cj="AlertDialogTrigger",g4=D.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=qs(n);return R.jsx(xj,{...i,...r,ref:e})});g4.displayName=Cj;var Ej="AlertDialogPortal",v4=t=>{const{__scopeAlertDialog:e,...n}=t,r=qs(e);return R.jsx(h4,{...r,...n})};v4.displayName=Ej;var Tj="AlertDialogOverlay",y4=D.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=qs(n);return R.jsx(L0,{...i,...r,ref:e})});y4.displayName=Tj;var ka="AlertDialogContent",[kj,Pj]=Sj(ka),Rj=qw("AlertDialogContent"),_4=D.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=qs(n),l=D.useRef(null),c=Bt(e,l),d=D.useRef(null);return R.jsx(yj,{contentName:ka,titleName:b4,docsSlug:"alert-dialog",children:R.jsx(kj,{scope:n,cancelRef:d,children:R.jsxs(B0,{role:"alertdialog",...a,...i,ref:c,onOpenAutoFocus:tt(i.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[R.jsx(Rj,{children:r}),R.jsx(Mj,{contentRef:l})]})})})});_4.displayName=ka;var b4="AlertDialogTitle",w4=D.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=qs(n);return R.jsx(F0,{...i,...r,ref:e})});w4.displayName=b4;var x4="AlertDialogDescription",S4=D.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=qs(n);return R.jsx(V0,{...i,...r,ref:e})});S4.displayName=x4;var Aj="AlertDialogAction",C4=D.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=qs(n);return R.jsx(z0,{...i,...r,ref:e})});C4.displayName=Aj;var E4="AlertDialogCancel",T4=D.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Pj(E4,n),a=qs(n),l=Bt(e,i);return R.jsx(z0,{...a,...r,ref:l})});T4.displayName=E4;var Mj=({contentRef:t})=>{const e=`\`${ka}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ka}\` by passing a \`${x4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ka}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return D.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Nj=m4,Dj=g4,Ij=v4,k4=y4,P4=_4,R4=C4,A4=T4,M4=w4,N4=S4;const Oj=Nj,jj=Dj,Lj=Ij,D4=D.forwardRef(({className:t,...e},n)=>R.jsx(k4,{className:bt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));D4.displayName=k4.displayName;const I4=D.forwardRef(({className:t,...e},n)=>R.jsxs(Lj,{children:[R.jsx(D4,{}),R.jsx(P4,{ref:n,className:bt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));I4.displayName=P4.displayName;const O4=({className:t,...e})=>R.jsx("div",{className:bt("flex flex-col space-y-2 text-center sm:text-left",t),...e});O4.displayName="AlertDialogHeader";const j4=({className:t,...e})=>R.jsx("div",{className:bt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});j4.displayName="AlertDialogFooter";const L4=D.forwardRef(({className:t,...e},n)=>R.jsx(M4,{ref:n,className:bt("text-lg font-semibold",t),...e}));L4.displayName=M4.displayName;const B4=D.forwardRef(({className:t,...e},n)=>R.jsx(N4,{ref:n,className:bt("text-sm text-muted-foreground",t),...e}));B4.displayName=N4.displayName;const F4=D.forwardRef(({className:t,...e},n)=>R.jsx(R4,{ref:n,className:bt(x0(),t),...e}));F4.displayName=R4.displayName;const V4=D.forwardRef(({className:t,...e},n)=>R.jsx(A4,{ref:n,className:bt(x0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));V4.displayName=A4.displayName;const a1=f4,Bj=h4,z4=D.forwardRef(({className:t,...e},n)=>R.jsx(L0,{ref:n,className:bt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));z4.displayName=L0.displayName;const Xd=D.forwardRef(({className:t,children:e,...n},r)=>R.jsxs(Bj,{children:[R.jsx(z4,{}),R.jsxs(B0,{ref:r,className:bt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,R.jsxs(z0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[R.jsx(Cx,{className:"h-4 w-4"}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xd.displayName=B0.displayName;const qd=({className:t,...e})=>R.jsx("div",{className:bt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});qd.displayName="DialogHeader";const Gd=({className:t,...e})=>R.jsx("div",{className:bt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Gd.displayName="DialogFooter";const Zd=D.forwardRef(({className:t,...e},n)=>R.jsx(F0,{ref:n,className:bt("text-lg font-semibold leading-none tracking-tight",t),...e}));Zd.displayName=F0.displayName;const Fj=D.forwardRef(({className:t,...e},n)=>R.jsx(V0,{ref:n,className:bt("text-sm text-muted-foreground",t),...e}));Fj.displayName=V0.displayName;function Vj(){const{data:t,isLoading:e}=B3(),{data:n}=_0(),r=V3(),{toast:i}=Ac(),[a,l]=D.useState("All"),[c,d]=D.useState(()=>new Set),[h,f]=D.useState(!1),[p,_]=D.useState(!1),[w,E]=D.useState(!1),[b,x]=D.useState(!1),[v,y]=D.useState(!1),{theme:m,toggleTheme:A}=A0(),j=t?.reduce((C,T)=>{const I=T.category||"Recordings";return C[I]||(C[I]=[]),C[I].push(T),C},{}),L=D.useMemo(()=>{const C=(n||[]).map(F=>F.name),T=Object.keys(j||{});return Array.from(new Set([...C,...T])).sort((F,H)=>F==="Recordings"?-1:H==="Recordings"?1:F.localeCompare(H))},[n,j]),O=D.useMemo(()=>{const C=new Map;return(t??[]).forEach(T=>C.set(T.id,T)),C},[t]),V=D.useMemo(()=>Array.from(c).map(C=>O.get(C)).filter(Boolean),[c,O]),q=D.useMemo(()=>t?a==="All"?t:j?.[a]??[]:[],[a,t,j]),K=D.useMemo(()=>q.map(C=>C.id),[q]),G=D.useMemo(()=>K.length===0?!1:K.every(C=>c.has(C)),[K,c]),P=D.useMemo(()=>(t??[]).map(C=>C.id),[t]),z=D.useMemo(()=>P.length===0?!1:P.every(C=>c.has(C)),[P,c]),S=C=>{d(T=>{const I=new Set(T);return I.has(C)?I.delete(C):I.add(C),I})},W=()=>{d(C=>{const T=new Set(C);if(G)K.forEach(I=>T.delete(I));else{const I=new Set;return K.forEach(F=>I.add(F)),I}return T})},ne=()=>{d(C=>z?new Set:new Set(P))},Y=()=>d(new Set),U=async()=>{c.size!==0&&x(!0)},Z=async()=>{if(c.size!==0){f(!0),x(!1);try{const C=V,T=[],I=new jD;if(C.length===1){const F=C[0],H=await r1(F.id);if(!H){i({variant:"destructive",title:"Audio not found",description:"This recording's audio blob wasn't found in local storage."});return}const ae=await s1(H),le=URL.createObjectURL(ae),te=document.createElement("a");if(te.href=le,te.download=dd(F,new Map),te.click(),URL.revokeObjectURL(le),v){const ce=`Recording: ${F.name}
Date: ${Ea(new Date(F.createdAt),"yyyy-MM-dd 'at' HH:mm")}
Duration: ${l1(F.duration)}
Category: ${F.category||"Recordings"}

Notes:
${F.notes||"No notes added"}`;zj(new Blob([ce],{type:"text/plain"}),dd(F,new Map).replace(".mp3",".txt"))}i({title:"Download complete",description:`${F.name} has been downloaded.`})}else{const F=new Map,H=new Map;C.forEach(Ee=>{const je=wd(Ee.name||`recording-${Ee.id}`);F.set(je,(F.get(je)||0)+1)});const ae=new Map;C.forEach(Ee=>{const je=wd(Ee.name||`recording-${Ee.id}`);if((F.get(je)||0)>1){const Ve=(ae.get(je)||0)+1;ae.set(je,Ve),H.set(Ee.id,Ve)}});let le=0;for(const Ee of C)try{const je=await r1(Ee.id);if(!je){T.push(Ee);continue}const Ve=await s1(je),B=wd(Ee.category||"Recordings"),ve=I.folder(B)??I;if(ve.file(dd(Ee,H),Ve),v){const pe=`Recording: ${Ee.name}
Date: ${Ea(new Date(Ee.createdAt),"yyyy-MM-dd 'at' HH:mm")}
Duration: ${l1(Ee.duration)}
Category: ${Ee.category||"Recordings"}

Notes:
${Ee.notes||"No notes added"}`;ve.file(dd(Ee,H).replace(".mp3",".txt"),pe)}le+=1}catch(je){console.error(`Failed to process recording ${Ee.id}:`,je),T.push(Ee)}const te=await I.generateAsync({type:"blob"}),ce=URL.createObjectURL(te),be=document.createElement("a");be.href=ce,be.download=`recordings-${Ea(new Date,"yyyy-MM-dd-HHmm")}.zip`,be.click(),URL.revokeObjectURL(ce),T.length>0?i({variant:"destructive",title:"Some recordings missing",description:`${T.length} recordings couldn't be downloaded because their audio wasn't found in local storage.`}):i({title:"Download complete",description:`${le} recordings have been downloaded.`})}}catch(C){console.error("Download error:",C),i({variant:"destructive",title:"Download Failed",description:"An error occurred while preparing the download."})}finally{f(!1),y(!1)}}},X=async()=>{if(c.size!==0){_(!0);try{let C=0,T=0;for(const I of Array.from(c))try{await r.mutateAsync(I),await DD(I),C+=1}catch{T+=1}Y(),T>0?i({variant:"destructive",title:"Some deletions failed",description:`Deleted ${C}. Failed ${T}.`}):i({title:"Deleted",description:`Deleted ${C} recording(s).`})}finally{_(!1),E(!1)}}};return R.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[R.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border",children:R.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between",children:[R.jsx(ua,{href:"/",children:R.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent cursor-pointer",children:"FLAG IT"})}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(ua,{href:"/",children:R.jsxs("button",{className:"flex items-center gap-2 bg-primary text-primary-foreground px-3 sm:px-4 py-2 rounded-full font-semibold text-sm hover:opacity-90 transition-opacity shadow-lg hover:shadow-xl",children:[R.jsx(Om,{className:"w-4 h-4"}),R.jsx("span",{className:"hidden sm:inline",children:"New Recording"})]})}),R.jsx(Gt,{variant:"ghost",size:"icon",className:"rounded-full",onClick:A,children:m==="dark"?R.jsx(Y1,{className:"w-5 h-5"}):R.jsx(Z1,{className:"w-5 h-5"})}),R.jsx(ua,{href:"/settings",children:R.jsx(Gt,{variant:"ghost",size:"icon",className:"rounded-full",children:R.jsx(hf,{className:"w-5 h-5"})})})]})]})}),R.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"My Recordings"}),R.jsx("div",{className:"space-y-1",children:R.jsx("p",{className:"text-lg text-primary font-semibold",children:"Click a flag on the waveform to save snippets of key moments."})})]}),!!t?.length&&R.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between bg-card/50 border border-border rounded-xl p-3",children:[R.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[R.jsxs("button",{type:"button",onClick:W,className:"inline-flex items-center gap-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:[G?R.jsx(jm,{className:"w-4 h-4"}):R.jsx(Ad,{className:"w-4 h-4"}),"Select all in view"]}),R.jsxs("button",{type:"button",onClick:ne,className:"inline-flex items-center gap-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:[z?R.jsx(jm,{className:"w-4 h-4"}):R.jsx(Ad,{className:"w-4 h-4"}),"All recordings"]})]}),R.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2",children:[R.jsxs("div",{className:"text-sm text-muted-foreground mr-2",children:["Selected: ",R.jsx("span",{className:"font-semibold text-foreground",children:c.size})]}),R.jsxs(Gt,{variant:"outline",onClick:U,disabled:c.size===0||h||p,className:"gap-2",children:[R.jsx(Im,{className:"w-4 h-4"}),h?"Preparing...":"Download"]}),R.jsxs(Oj,{open:w,onOpenChange:E,children:[R.jsx(jj,{asChild:!0,children:R.jsxs(Gt,{variant:"destructive",disabled:c.size===0||h||p,className:"gap-2",children:[R.jsx(K1,{className:"w-4 h-4"}),"Delete"]})}),R.jsxs(I4,{children:[R.jsxs(O4,{children:[R.jsx(L4,{children:"Are you sure?"}),R.jsxs(B4,{children:["This will permanently delete ",c.size," recording(s) and remove their audio from local storage."]})]}),R.jsxs(j4,{children:[R.jsx(V4,{disabled:p,children:"Cancel"}),R.jsx(F4,{onClick:C=>{C.preventDefault(),X()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:p,children:p?"Deleting...":"Delete"})]})]})]})]})]}),e?R.jsx("div",{className:"grid gap-4",children:[1,2,3].map(C=>R.jsx("div",{className:"h-24 rounded-xl bg-card animate-pulse border border-border"},C))}):t?.length===0?R.jsxs("div",{className:"text-center py-20 border border-dashed border-border rounded-3xl bg-card/30",children:[R.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:R.jsx(Om,{className:"w-8 h-8 text-primary"})}),R.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No recordings yet"}),R.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm mx-auto",children:"Start capturing your thoughts and flagging important moments."}),R.jsx(ua,{href:"/",children:R.jsx("button",{className:"px-6 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-all shadow-lg shadow-primary/20",children:"Start Recording"})})]}):R.jsxs(_D,{value:a,onValueChange:l,className:"w-full",children:[R.jsxs(f5,{className:"mb-6 bg-card border border-border p-1",children:[R.jsx(Ym,{value:"All",children:"All"}),L.map(C=>R.jsx(Ym,{value:C,children:C},C))]}),R.jsx(Km,{value:"All",children:R.jsx("div",{className:"grid gap-4 w-full overflow-hidden",children:t?.map(C=>R.jsx(Z_,{recording:C,selected:c.has(C.id),onToggleSelected:()=>S(C.id)},C.id))})}),L.map(C=>R.jsx(Km,{value:C,children:R.jsx("div",{className:"grid gap-4 w-full overflow-hidden",children:j?.[C]?.map(T=>R.jsx(Z_,{recording:T,selected:c.has(T.id),onToggleSelected:()=>S(T.id)},T.id))})},C))]})]}),R.jsx(Wj,{open:b,onOpenChange:x,includeNotes:v,onIncludeNotesChange:y,onDownload:Z,onCancel:()=>{x(!1),y(!1)}})]})}function Z_({recording:t,selected:e,onToggleSelected:n}){const[,r]=Rc();return R.jsx("div",{className:"group relative bg-card hover:bg-card/80 border border-border hover:border-primary/50 rounded-xl p-3 sm:p-5 transition-all duration-300 cursor-pointer shadow-sm hover:shadow-md hover:-translate-y-0.5",role:"button",tabIndex:0,onClick:()=>r(`/recordings/${t.id}`),onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&r(`/recordings/${t.id}`)},children:R.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4",children:[R.jsxs("div",{className:"flex items-start gap-2 sm:gap-4 min-w-0",children:[R.jsx("button",{type:"button","aria-label":e?"Deselect recording":"Select recording",onClick:i=>{i.preventDefault(),i.stopPropagation(),n()},className:"mt-1 inline-flex items-center justify-center w-5 h-5 sm:w-6 sm:h-6 rounded-md border border-border bg-background/60 hover:bg-background transition-colors shrink-0",children:e?R.jsx(jm,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary"}):R.jsx(Ad,{className:"w-3 h-3 sm:w-4 sm:h-4 text-muted-foreground"})}),R.jsxs("div",{className:"space-y-1 min-w-0",children:[R.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[R.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors shrink-0",children:R.jsx(qk,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),R.jsx("h3",{className:"font-semibold text-sm sm:text-lg text-foreground group-hover:text-primary transition-colors truncate min-w-0 flex-1",children:t.name})]}),R.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-muted-foreground pl-8 sm:pl-12",children:[R.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5",children:[R.jsx(Zk,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),l1(t.duration)]}),R.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5 min-w-0",children:[R.jsx(r9,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),R.jsx("span",{className:"truncate",children:t.category})]})]})]})]}),R.jsx("div",{className:"flex flex-col items-end gap-1 shrink-0",children:R.jsx(Rd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground/50 group-hover:text-primary transition-colors"})})]})})}function l1(t){const e=Math.floor(t/1e3),n=Math.floor(e/60),r=e%60;return`${n}m ${r}s`}function wd(t){return t.replace(/[^a-z0-9]/gi,"_").toLowerCase()}function dd(t,e){const n=wd(t.name||`recording-${t.id}`),r=e.get(t.id);return r&&r>0?`${n} (${r}).mp3`:`${n}.mp3`}function zj(t,e){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),r.remove(),setTimeout(()=>URL.revokeObjectURL(n),2500)}function Wj({open:t,onOpenChange:e,includeNotes:n,onIncludeNotesChange:r,onDownload:i,onCancel:a}){return R.jsx(a1,{open:t,onOpenChange:e,children:R.jsxs(Xd,{className:"bg-card text-foreground border-border",children:[R.jsx(qd,{children:R.jsx(Zd,{children:"Download Recordings"})}),R.jsxs("div",{className:"py-4",children:[R.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Would you like to include notes with your download?"}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx("input",{type:"checkbox",id:"include-notes",checked:n,onChange:l=>r(l.target.checked),className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary"}),R.jsx("label",{htmlFor:"include-notes",className:"text-sm font-medium text-foreground",children:"Yes, include notes"})]})]}),R.jsxs(Gd,{children:[R.jsx(Gt,{variant:"outline",onClick:a,children:"Cancel"}),R.jsx(Gt,{onClick:i,children:"Download"})]})]})})}function $j({stream:t,isRecording:e,height:n=64}){const r=D.useRef(null),i=D.useRef(),a=D.useRef(),l=D.useRef();return D.useEffect(()=>{if(!t||!e)return;const c=r.current;if(!c)return;const d=c.getContext("2d");if(!d)return;const h=new(window.AudioContext||window.webkitAudioContext);l.current=h;const f=h.createMediaStreamSource(t),p=h.createAnalyser();p.fftSize=256,f.connect(p),a.current=p;const _=p.frequencyBinCount,w=new Uint8Array(_),E=()=>{if(!e)return;i.current=requestAnimationFrame(E),p.getByteFrequencyData(w),d.fillStyle="rgba(17, 24, 39, 0.0)",d.clearRect(0,0,c.width,c.height);const b=c.width/_*2.5;let x,v=0;for(let y=0;y<_;y++){x=w[y]/255*c.height;const m=d.createLinearGradient(0,c.height,0,0);m.addColorStop(0,"#7c3aed"),m.addColorStop(1,"#0ea5e9"),d.fillStyle=m,d.beginPath(),d.roundRect(v,c.height-x,b,x,[4]),d.fill(),v+=b+2}};return E(),()=>{i.current&&cancelAnimationFrame(i.current),l.current?.state!=="closed"&&l.current?.close()}},[t,e]),R.jsx("canvas",{ref:r,width:600,height:n,className:"w-full h-full rounded-lg"})}function W4(){const t=Ss();return Oi({mutationFn:async e=>{const n=Rt.flags.create.input.parse(e),r=await fetch(Rt.flags.create.path,{method:Rt.flags.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});if(!r.ok){if(r.status===400){const i=Rt.flags.create.responses[400].parse(await r.json());throw new Error(i.message)}throw new Error("Failed to create flag")}return Rt.flags.create.responses[201].parse(await r.json())},onSuccess:e=>{t.invalidateQueries({queryKey:[Rt.recordings.get.path,e.recordingId]})}})}function Uj(){const t=Ss();return Oi({mutationFn:async({id:e,...n})=>{const r=Rt.flags.update.input.parse(n),i=Ua(Rt.flags.update.path,{id:e}),a=await fetch(i,{method:Rt.flags.update.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(!a.ok)throw new Error("Failed to update flag");return Rt.flags.update.responses[200].parse(await a.json())},onSuccess:e=>{t.invalidateQueries({queryKey:[Rt.recordings.get.path,e.recordingId]})}})}function Hj(){const t=Ss();return Oi({mutationFn:async({id:e,recordingId:n})=>{const r=Ua(Rt.flags.delete.path,{id:e});if(!(await fetch(r,{method:Rt.flags.delete.method,credentials:"include"})).ok)throw new Error("Failed to delete flag")},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:[Rt.recordings.get.path,n.recordingId]})}})}const $4=D.createContext({});function Xj(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const W0=D.createContext(null),U4=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function qj(t=!0){const e=D.useContext(W0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=D.useId();D.useEffect(()=>{t&&i(a)},[t]);const l=D.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const $0=typeof window<"u",Gj=$0?D.useLayoutEffect:D.useEffect,xr=t=>t;let H4=xr;function U0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Da=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Fs=t=>t*1e3,Vs=t=>t/1e3,Zj={useManualTiming:!1};function Yj(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,f=!1,p=!1)=>{const w=p&&r?e:n;return f&&a.add(h),w.has(h)||w.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,d.process(h))}};return d}const fd=["read","resolveKeyframes","update","preRender","render","postRender"],Kj=40;function X4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=fd.reduce((v,y)=>(v[y]=Yj(a),v),{}),{read:c,resolveKeyframes:d,update:h,preRender:f,render:p,postRender:_}=l,w=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,Kj),1),i.timestamp=v,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),f.process(i),p.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},E=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:fd.reduce((v,y)=>{const m=l[y];return v[y]=(A,j=!1,L=!1)=>(n||E(),m.schedule(A,j,L)),v},{}),cancel:v=>{for(let y=0;y<fd.length;y++)l[fd[y]].cancel(v)},state:i,steps:l}}const{schedule:tn,cancel:Di,state:Ln,steps:um}=X4(typeof requestAnimationFrame<"u"?requestAnimationFrame:xr,!0),q4=D.createContext({strict:!1}),Y_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ia={};for(const t in Y_)Ia[t]={isEnabled:e=>Y_[t].some(n=>!!e[n])};function Qj(t){for(const e in t)Ia[e]={...Ia[e],...t[e]}}const Jj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Jj.has(t)}let G4=t=>!Yd(t);function eL(t){t&&(G4=e=>e.startsWith("on")?!Yd(e):t(e))}try{eL(require("@emotion/is-prop-valid").default)}catch{}function tL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(G4(i)||n===!0&&Yd(i)||!e&&!Yd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function nL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const If=D.createContext({});function wc(t){return typeof t=="string"||Array.isArray(t)}function Of(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const H0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X0=["initial",...H0];function jf(t){return Of(t.animate)||X0.some(e=>wc(t[e]))}function Z4(t){return!!(jf(t)||t.variants)}function rL(t,e){if(jf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wc(n)?n:void 0,animate:wc(r)?r:void 0}}return t.inherit!==!1?e:{}}function sL(t){const{initial:e,animate:n}=rL(t,D.useContext(If));return D.useMemo(()=>({initial:e,animate:n}),[K_(e),K_(n)])}function K_(t){return Array.isArray(t)?t.join(" "):t}const iL=Symbol.for("motionComponentSymbol");function fa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oL(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fa(n)&&(n.current=r))},[e])}const q0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aL="framerAppearId",Y4="data-"+q0(aL),{schedule:G0}=X4(queueMicrotask,!1),K4=D.createContext({});function lL(t,e,n,r,i){var a,l;const{visualElement:c}=D.useContext(If),d=D.useContext(q4),h=D.useContext(W0),f=D.useContext(U4).reducedMotion,p=D.useRef(null);r=r||d.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const _=p.current,w=D.useContext(K4);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&cL(p.current,n,i,w);const E=D.useRef(!1);D.useInsertionEffect(()=>{_&&E.current&&_.update(n,h)});const b=n[Y4],x=D.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,b)));return Gj(()=>{_&&(E.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),G0.render(_.render),x.current&&_.animationState&&_.animationState.animateChanges())}),D.useEffect(()=>{_&&(!x.current&&_.animationState&&_.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,b)}),x.current=!1))}),_}function cL(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Q4(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&fa(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:h})}function Q4(t){if(t)return t.options.allowProjection!==!1?t.projection:Q4(t.parent)}function uL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&Qj(t);function c(h,f){let p;const _={...D.useContext(U4),...h,layoutId:dL(h)},{isStatic:w}=_,E=sL(h),b=r(h,w);if(!w&&$0){fL();const x=hL(_);p=x.MeasureLayout,E.visualElement=lL(i,b,_,e,x.ProjectionNode)}return R.jsxs(If.Provider,{value:E,children:[p&&E.visualElement?R.jsx(p,{visualElement:E.visualElement,..._}):null,n(i,h,oL(b,E.visualElement,f),b,w,E.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const d=D.forwardRef(c);return d[iL]=i,d}function dL({layoutId:t}){const e=D.useContext($4).id;return e&&t!==void 0?e+"-"+t:t}function fL(t,e){D.useContext(q4).strict}function hL(t){const{drag:e,layout:n}=Ia;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z0(t){return typeof t!="string"||t.includes("-")?!1:!!(pL.indexOf(t)>-1||/[A-Z]/u.test(t))}function Q_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Y0(t,e,n,r){if(typeof e=="function"){const[i,a]=Q_(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Q_(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const c1=t=>Array.isArray(t),mL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),gL=t=>c1(t)?t[t.length-1]||0:t,Un=t=>!!(t&&t.getVelocity);function xd(t){const e=Un(t)?t.get():t;return mL(e)?e.toValue():e}function vL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:yL(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const J4=t=>(e,n)=>{const r=D.useContext(If),i=D.useContext(W0),a=()=>vL(t,e,r,i);return n?a():Xj(a)};function yL(t,e,n,r){const i={},a=r(t,{});for(const _ in a)i[_]=xd(a[_]);let{initial:l,animate:c}=t;const d=jf(t),h=Z4(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let f=n?n.initial===!1:!1;f=f||l===!1;const p=f?c:l;if(p&&typeof p!="boolean"&&!Of(p)){const _=Array.isArray(p)?p:[p];for(let w=0;w<_.length;w++){const E=Y0(t,_[w]);if(E){const{transitionEnd:b,transition:x,...v}=E;for(const y in v){let m=v[y];if(Array.isArray(m)){const A=f?m.length-1:0;m=m[A]}m!==null&&(i[y]=m)}for(const y in b)i[y]=b[y]}}}return i}const Ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eo=new Set(Ga),eS=t=>e=>typeof e=="string"&&e.startsWith(t),tS=eS("--"),_L=eS("var(--"),K0=t=>_L(t)?bL.test(t.split("/*")[0].trim()):!1,bL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hs=(t,e,n)=>n>e?e:n<t?t:n,Za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xc={...Za,transform:t=>Hs(0,1,t)},hd={...Za,default:1},Bc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ci=Bc("deg"),ys=Bc("%"),_t=Bc("px"),wL=Bc("vh"),xL=Bc("vw"),J_={...ys,parse:t=>ys.parse(t)/100,transform:t=>ys.transform(t*100)},SL={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,backgroundPositionX:_t,backgroundPositionY:_t},CL={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:Ci,skewX:Ci,skewY:Ci,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:xc,originX:J_,originY:J_,originZ:_t},eb={...Za,transform:Math.round},Q0={...SL,...CL,zIndex:eb,size:_t,fillOpacity:xc,strokeOpacity:xc,numOctaves:eb},EL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TL=Ga.length;function kL(t,e,n){let r="",i=!0;for(let a=0;a<TL;a++){const l=Ga[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=nS(c,Q0[l]);if(!d){i=!1;const f=EL[l]||l;r+=`${f}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function J0(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(Eo.has(d)){l=!0;continue}else if(tS(d)){i[d]=h;continue}else{const f=nS(h,Q0[d]);d.startsWith("origin")?(c=!0,a[d]=f):r[d]=f}}if(e.transform||(l||n?r.transform=kL(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;r.transformOrigin=`${d} ${h} ${f}`}}const PL={offset:"stroke-dashoffset",array:"stroke-dasharray"},RL={offset:"strokeDashoffset",array:"strokeDasharray"};function AL(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?PL:RL;t[a.offset]=_t.transform(-r);const l=_t.transform(e),c=_t.transform(n);t[a.array]=`${l} ${c}`}function tb(t,e,n){return typeof t=="string"?t:_t.transform(e+n*t)}function ML(t,e,n){const r=tb(e,t.x,t.width),i=tb(n,t.y,t.height);return`${r} ${i}`}function eg(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...h},f,p){if(J0(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w,dimensions:E}=t;_.transform&&(E&&(w.transform=_.transform),delete _.transform),E&&(i!==void 0||a!==void 0||w.transform)&&(w.transformOrigin=ML(E,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),l!==void 0&&AL(_,l,c,d,!1)}const tg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rS=()=>({...tg(),attrs:{}}),ng=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const iS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oS(t,e,n,r){sS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(iS.has(i)?i:q0(i),e.attrs[i])}const Kd={};function NL(t){Object.assign(Kd,t)}function aS(t,{layout:e,layoutId:n}){return Eo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kd[t]||t==="opacity")}function rg(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(Un(i[l])||e.style&&Un(e.style[l])||aS(l,t)||((r=n?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function lS(t,e,n){const r=rg(t,e,n);for(const i in t)if(Un(t[i])||Un(e[i])){const a=Ga.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function DL(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const nb=["x","y","width","height","cx","cy","r"],IL={useVisualState:J4({scrapeMotionValuesFromProps:lS,createRenderState:rS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(Eo.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<nb.length;c++){const d=nb[c];t[d]!==e[d]&&(l=!0)}l&&tn.read(()=>{DL(n,r),tn.render(()=>{eg(r,i,ng(n.tagName),t.transformTemplate),oS(n,r)})})}})},OL={useVisualState:J4({scrapeMotionValuesFromProps:rg,createRenderState:tg})};function cS(t,e,n){for(const r in e)!Un(e[r])&&!aS(r,n)&&(t[r]=e[r])}function jL({transformTemplate:t},e){return D.useMemo(()=>{const n=tg();return J0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function LL(t,e){const n=t.style||{},r={};return cS(r,n,t),Object.assign(r,jL(t,e)),r}function BL(t,e){const n={},r=LL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function FL(t,e,n,r){const i=D.useMemo(()=>{const a=rS();return eg(a,e,ng(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};cS(a,t.style,t),i.style={...a,...i.style}}return i}function VL(t=!1){return(n,r,i,{latestValues:a},l)=>{const d=(Z0(n)?FL:BL)(r,a,l,n),h=tL(r,typeof n=="string",t),f=n!==D.Fragment?{...h,...d,ref:i}:{},{children:p}=r,_=D.useMemo(()=>Un(p)?p.get():p,[p]);return D.createElement(n,{...f,children:_})}}function zL(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Z0(r)?IL:OL,preloadedFeatures:t,useRender:VL(i),createVisualElement:e,Component:r};return uL(l)}}function uS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Lf(t,e,n){const r=t.getProps();return Y0(r,e,n!==void 0?n:r.custom,t)}const WL=U0(()=>window.ScrollTimeline!==void 0);class $L{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(WL()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class UL extends $L{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sg(t,e){return t?t[e]||t.default||t:void 0}const u1=2e4;function dS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<u1;)e+=n,r=t.next(e);return e>=u1?1/0:e}function ig(t){return typeof t=="function"}function rb(t,e){t.timeline=e,t.onfinish=null}const og=t=>Array.isArray(t)&&typeof t[0]=="number",HL={linearEasing:void 0};function XL(t,e){const n=U0(t);return()=>{var r;return(r=HL[e])!==null&&r!==void 0?r:n()}}const Qd=XL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Da(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function hS(t){return!!(typeof t=="function"&&Qd()||!t||typeof t=="string"&&(t in d1||Qd())||og(t)||Array.isArray(t)&&t.every(hS))}const $l=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,d1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$l([0,.65,.55,1]),circOut:$l([.55,0,1,.45]),backIn:$l([.31,.01,.66,-.59]),backOut:$l([.33,1.53,.69,.99])};function pS(t,e){if(t)return typeof t=="function"&&Qd()?fS(t,e):og(t)?$l(t):Array.isArray(t)?t.map(n=>pS(n,e)||d1.easeOut):d1[t]}const qr={x:!1,y:!1};function mS(){return qr.x||qr.y}function qL(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function gS(t,e){const n=qL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function sb(t){return e=>{e.pointerType==="touch"||mS()||t(e)}}function GL(t,e,n={}){const[r,i,a]=gS(t,n),l=sb(c=>{const{target:d}=c,h=e(c);if(typeof h!="function"||!d)return;const f=sb(p=>{h(p),d.removeEventListener("pointerleave",f)});d.addEventListener("pointerleave",f,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const vS=(t,e)=>e?t===e?!0:vS(t,e.parentElement):!1,ag=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YL(t){return ZL.has(t.tagName)||t.tabIndex!==-1}const Ul=new WeakSet;function ib(t){return e=>{e.key==="Enter"&&t(e)}}function dm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ib(()=>{if(Ul.has(n))return;dm(n,"down");const i=ib(()=>{dm(n,"up")}),a=()=>dm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ob(t){return ag(t)&&!mS()}function QL(t,e,n={}){const[r,i,a]=gS(t,n),l=c=>{const d=c.currentTarget;if(!ob(c)||Ul.has(d))return;Ul.add(d);const h=e(c),f=(w,E)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",_),!(!ob(w)||!Ul.has(d))&&(Ul.delete(d),typeof h=="function"&&h(w,{success:E}))},p=w=>{f(w,n.useGlobalTarget||vS(d,w.target))},_=w=>{f(w,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",_,i)};return r.forEach(c=>{!YL(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",h=>KL(h,i),i)}),a}function JL(t){return t==="x"||t==="y"?qr[t]?null:(qr[t]=!0,()=>{qr[t]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}const yS=new Set(["width","height","top","left","right","bottom",...Ga]);let Sd;function eB(){Sd=void 0}const _s={now:()=>(Sd===void 0&&_s.set(Ln.isProcessing||Zj.useManualTiming?Ln.timestamp:performance.now()),Sd),set:t=>{Sd=t,queueMicrotask(eB)}};function lg(t,e){t.indexOf(e)===-1&&t.push(e)}function cg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ug{constructor(){this.subscriptions=[]}add(e){return lg(this.subscriptions,e),()=>cg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function _S(t,e){return e?t*(1e3/e):0}const ab=30,tB=t=>!isNaN(parseFloat(t));class nB{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=_s.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_s.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ug);const r=this.events[e].add(n);return e==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_s.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ab)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ab);return _S(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sc(t,e){return new nB(t,e)}function rB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sc(n))}function sB(t,e){const n=Lf(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=gL(a[l]);rB(t,l,c)}}function iB(t){return!!(Un(t)&&t.add)}function f1(t,e){const n=t.getValue("willChange");if(iB(n))return n.add(e)}function bS(t){return t.props[Y4]}const wS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oB=1e-7,aB=12;function lB(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=wS(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>oB&&++c<aB);return l}function Fc(t,e,n,r){if(t===e&&n===r)return xr;const i=a=>lB(a,0,1,t,n);return a=>a===0||a===1?a:wS(i(a),e,r)}const xS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SS=t=>e=>1-t(1-e),CS=Fc(.33,1.53,.69,.99),dg=SS(CS),ES=xS(dg),TS=t=>(t*=2)<1?.5*dg(t):.5*(2-Math.pow(2,-10*(t-1))),fg=t=>1-Math.sin(Math.acos(t)),kS=SS(fg),PS=xS(fg),RS=t=>/^0[^.\s]+$/u.test(t);function cB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RS(t):!0}const Yl=t=>Math.round(t*1e5)/1e5,hg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uB(t){return t==null}const dB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pg=(t,e)=>n=>!!(typeof n=="string"&&dB.test(n)&&n.startsWith(t)||e&&!uB(n)&&Object.prototype.hasOwnProperty.call(n,e)),AS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(hg);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},fB=t=>Hs(0,255,t),fm={...Za,transform:t=>Math.round(fB(t))},co={test:pg("rgb","red"),parse:AS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fm.transform(t)+", "+fm.transform(e)+", "+fm.transform(n)+", "+Yl(xc.transform(r))+")"};function hB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const h1={test:pg("#"),parse:hB,transform:co.transform},ha={test:pg("hsl","hue"),parse:AS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ys.transform(Yl(e))+", "+ys.transform(Yl(n))+", "+Yl(xc.transform(r))+")"},$n={test:t=>co.test(t)||h1.test(t)||ha.test(t),parse:t=>co.test(t)?co.parse(t):ha.test(t)?ha.parse(t):h1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?co.transform(t):ha.transform(t)},pB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mB(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pB))===null||n===void 0?void 0:n.length)||0)>0}const MS="number",NS="color",gB="var",vB="var(",lb="${}",yB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(yB,d=>($n.test(d)?(r.color.push(a),i.push(NS),n.push($n.parse(d))):d.startsWith(vB)?(r.var.push(a),i.push(gB),n.push(d)):(r.number.push(a),i.push(MS),n.push(parseFloat(d))),++a,lb)).split(lb);return{values:n,split:c,indexes:r,types:i}}function DS(t){return Cc(t).values}function IS(t){const{split:e,types:n}=Cc(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===MS?a+=Yl(i[l]):c===NS?a+=$n.transform(i[l]):a+=i[l]}return a}}const _B=t=>typeof t=="number"?0:t;function bB(t){const e=DS(t);return IS(t)(e.map(_B))}const Ii={test:mB,parse:DS,createTransformer:IS,getAnimatableNone:bB},wB=new Set(["brightness","contrast","saturate","opacity"]);function xB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hg)||[];if(!r)return t;const i=n.replace(r,"");let a=wB.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const SB=/\b([a-z-]*)\(.*?\)/gu,p1={...Ii,getAnimatableNone:t=>{const e=t.match(SB);return e?e.map(xB).join(" "):t}},CB={...Q0,color:$n,backgroundColor:$n,outlineColor:$n,fill:$n,stroke:$n,borderColor:$n,borderTopColor:$n,borderRightColor:$n,borderBottomColor:$n,borderLeftColor:$n,filter:p1,WebkitFilter:p1},mg=t=>CB[t];function OS(t,e){let n=mg(t);return n!==p1&&(n=Ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const EB=new Set(["auto","none","0"]);function TB(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!EB.has(a)&&Cc(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=OS(n,i)}const cb=t=>t===Za||t===_t,ub=(t,e)=>parseFloat(t.split(", ")[e]),db=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ub(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?ub(a[1],t):0}},kB=new Set(["x","y","z"]),PB=Ga.filter(t=>!kB.has(t));function RB(t){const e=[];return PB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:db(4,13),y:db(5,14)};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const ho=new Set;let m1=!1,g1=!1;function jS(){if(g1){const t=Array.from(ho).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=RB(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}g1=!1,m1=!1,ho.forEach(t=>t.complete()),ho.clear()}function LS(){ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(g1=!0)})}function AB(){LS(),jS()}class gg{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ho.add(this),m1||(m1=!0,tn.read(LS),tn.resolveKeyframes(jS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const BS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),MB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NB(t){const e=MB.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function FS(t,e,n=1){const[r,i]=NB(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return BS(l)?parseFloat(l):l}return K0(i)?FS(i,e,n+1):i}const VS=t=>e=>e.test(t),DB={test:t=>t==="auto",parse:t=>t},zS=[Za,_t,ys,Ci,xL,wL,DB],fb=t=>zS.find(VS(t));class WS extends gg{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),K0(h))){const f=FS(h,n.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!yS.has(r)||e.length!==2)return;const[i,a]=e,l=fb(i),c=fb(a);if(l!==c)if(cb(l)&&cb(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)cB(e[i])&&r.push(i);r.length&&TB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Oa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,h])=>{n.getValue(d).set(h)}),this.resolveNoneKeyframes()}}const hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ii.test(t)||t==="0")&&!t.startsWith("url("));function IB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function OB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=hb(i,e),c=hb(a,e);return!l||!c?!1:IB(t)||(n==="spring"||ig(n))&&r}const jB=t=>t!==null;function Bf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(jB),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const LB=40;class $S{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=_s.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>LB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&AB(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=_s.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:h}=this.options;if(!h&&!OB(e,r,i,a))if(l)this.options.duration=0;else{d&&d(Bf(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const cn=(t,e,n)=>t+(e-t)*n;function hm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=hm(d,c,t+1/3),a=hm(d,c,t),l=hm(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Jd(t,e){return n=>n>0?e:t}const pm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},FB=[h1,co,ha],VB=t=>FB.find(e=>e.test(t));function pb(t){const e=VB(t);if(!e)return!1;let n=e.parse(t);return e===ha&&(n=BB(n)),n}const mb=(t,e)=>{const n=pb(t),r=pb(e);if(!n||!r)return Jd(t,e);const i={...n};return a=>(i.red=pm(n.red,r.red,a),i.green=pm(n.green,r.green,a),i.blue=pm(n.blue,r.blue,a),i.alpha=cn(n.alpha,r.alpha,a),co.transform(i))},zB=(t,e)=>n=>e(t(n)),Vc=(...t)=>t.reduce(zB),v1=new Set(["none","hidden"]);function WB(t,e){return v1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $B(t,e){return n=>cn(t,e,n)}function vg(t){return typeof t=="number"?$B:typeof t=="string"?K0(t)?Jd:$n.test(t)?mb:XB:Array.isArray(t)?US:typeof t=="object"?$n.test(t)?mb:UB:Jd}function US(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>vg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function UB(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=vg(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function HB(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=d,i[l]++}return r}const XB=(t,e)=>{const n=Ii.createTransformer(e),r=Cc(t),i=Cc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?v1.has(t)&&!i.values.length||v1.has(e)&&!r.values.length?WB(t,e):Vc(US(HB(r,i),i.values),n):Jd(t,e)};function HS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?cn(t,e,n):vg(t)(t,e)}const qB=5;function XS(t,e,n){const r=Math.max(e-qB,0);return _S(n-t(r),e-r)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mm=.001;function GB({duration:t=fn.duration,bounce:e=fn.bounce,velocity:n=fn.velocity,mass:r=fn.mass}){let i,a,l=1-e;l=Hs(fn.minDamping,fn.maxDamping,l),t=Hs(fn.minDuration,fn.maxDuration,Vs(t)),l<1?(i=h=>{const f=h*l,p=f*t,_=f-n,w=y1(h,l),E=Math.exp(-p);return mm-_/w*E},a=h=>{const p=h*l*t,_=p*n+n,w=Math.pow(l,2)*Math.pow(h,2)*t,E=Math.exp(-p),b=y1(Math.pow(h,2),l);return(-i(h)+mm>0?-1:1)*((_-w)*E)/b}):(i=h=>{const f=Math.exp(-h*t),p=(h-n)*t+1;return-mm+f*p},a=h=>{const f=Math.exp(-h*t),p=(n-h)*(t*t);return f*p});const c=5/t,d=YB(i,a,c);if(t=Fs(t),isNaN(d))return{stiffness:fn.stiffness,damping:fn.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const ZB=12;function YB(t,e,n){let r=n;for(let i=1;i<ZB;i++)r=r-t(r)/e(r);return r}function y1(t,e){return t*Math.sqrt(1-e*e)}const KB=["duration","bounce"],QB=["stiffness","damping","mass"];function gb(t,e){return e.some(n=>t[n]!==void 0)}function JB(t){let e={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...t};if(!gb(t,QB)&&gb(t,KB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Hs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:fn.mass,stiffness:i,damping:a}}else{const n=GB(t);e={...e,...n,mass:fn.mass},e.isResolvedFromDuration=!0}return e}function qS(t=fn.visualDuration,e=fn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:f,duration:p,velocity:_,isResolvedFromDuration:w}=JB({...n,velocity:-Vs(n.velocity||0)}),E=_||0,b=h/(2*Math.sqrt(d*f)),x=l-a,v=Vs(Math.sqrt(d/f)),y=Math.abs(x)<5;r||(r=y?fn.restSpeed.granular:fn.restSpeed.default),i||(i=y?fn.restDelta.granular:fn.restDelta.default);let m;if(b<1){const j=y1(v,b);m=L=>{const O=Math.exp(-b*v*L);return l-O*((E+b*v*x)/j*Math.sin(j*L)+x*Math.cos(j*L))}}else if(b===1)m=j=>l-Math.exp(-v*j)*(x+(E+v*x)*j);else{const j=v*Math.sqrt(b*b-1);m=L=>{const O=Math.exp(-b*v*L),V=Math.min(j*L,300);return l-O*((E+b*v*x)*Math.sinh(V)+j*x*Math.cosh(V))/j}}const A={calculatedDuration:w&&p||null,next:j=>{const L=m(j);if(w)c.done=j>=p;else{let O=0;b<1&&(O=j===0?Fs(E):XS(m,j,L));const V=Math.abs(O)<=r,q=Math.abs(l-L)<=i;c.done=V&&q}return c.value=c.done?l:L,c},toString:()=>{const j=Math.min(dS(A),u1),L=fS(O=>A.next(j*O).value,j,30);return j+"ms "+L}};return A}function vb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:f}){const p=t[0],_={done:!1,value:p},w=V=>c!==void 0&&V<c||d!==void 0&&V>d,E=V=>c===void 0?d:d===void 0||Math.abs(c-V)<Math.abs(d-V)?c:d;let b=n*e;const x=p+b,v=l===void 0?x:l(x);v!==x&&(b=v-p);const y=V=>-b*Math.exp(-V/r),m=V=>v+y(V),A=V=>{const q=y(V),K=m(V);_.done=Math.abs(q)<=h,_.value=_.done?v:K};let j,L;const O=V=>{w(_.value)&&(j=V,L=qS({keyframes:[_.value,E(_.value)],velocity:XS(m,V,_.value),damping:i,stiffness:a,restDelta:h,restSpeed:f}))};return O(0),{calculatedDuration:null,next:V=>{let q=!1;return!L&&j===void 0&&(q=!0,A(V),O(V)),j!==void 0&&V>=j?L.next(V-j):(!q&&A(V),_)}}}const eF=Fc(.42,0,1,1),tF=Fc(0,0,.58,1),GS=Fc(.42,0,.58,1),nF=t=>Array.isArray(t)&&typeof t[0]!="number",rF={linear:xr,easeIn:eF,easeInOut:GS,easeOut:tF,circIn:fg,circInOut:PS,circOut:kS,backIn:dg,backInOut:ES,backOut:CS,anticipate:TS},yb=t=>{if(og(t)){H4(t.length===4);const[e,n,r,i]=t;return Fc(e,n,r,i)}else if(typeof t=="string")return rF[t];return t};function sF(t,e,n){const r=[],i=n||HS,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||xr:e;c=Vc(d,c)}r.push(c)}return r}function iF(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(H4(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=sF(e,r,i),d=c.length,h=f=>{if(l&&f<t[0])return e[0];let p=0;if(d>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const _=Da(t[p],t[p+1],f);return c[p](_)};return n?f=>h(Hs(t[0],t[a-1],f)):h}function oF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Da(0,e,r);t.push(cn(n,1,i))}}function aF(t){const e=[0];return oF(e,t.length-1),e}function lF(t,e){return t.map(n=>n*e)}function cF(t,e){return t.map(()=>e||GS).splice(0,t.length-1)}function ef({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=nF(r)?r.map(yb):yb(r),a={done:!1,value:e[0]},l=lF(n&&n.length===e.length?n:aF(e),t),c=iF(l,e,{ease:Array.isArray(i)?i:cF(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const uF=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tn.update(e,!0),stop:()=>Di(e),now:()=>Ln.isProcessing?Ln.timestamp:_s.now()}},dF={decay:vb,inertia:vb,tween:ef,keyframes:ef,spring:qS},fF=t=>t/100;class yg extends $S{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=i?.KeyframeResolver||gg,c=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=ig(n)?n:dF[n]||ef;let d,h;c!==ef&&typeof e[0]!="number"&&(d=Vc(fF,HS(e[0],e[1])),e=[0,100]);const f=c({...this.options,keyframes:e});a==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=dS(f));const{calculatedDuration:p}=f,_=p+i,w=_*(r+1)-i;return{generator:f,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:p,resolvedDuration:_,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:h,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return a.next(0);const{delay:_,repeat:w,repeatType:E,repeatDelay:b,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-_*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>f;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let m=this.currentTime,A=a;if(w){const V=Math.min(this.currentTime,f)/p;let q=Math.floor(V),K=V%1;!K&&V>=1&&(K=1),K===1&&q--,q=Math.min(q,w+1),q%2&&(E==="reverse"?(K=1-K,b&&(K-=b/p)):E==="mirror"&&(A=l)),m=Hs(0,1,K)*p}const j=y?{done:!1,value:d[0]}:A.next(m);c&&(j.value=c(j.value));let{done:L}=j;!y&&h!==null&&(L=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return O&&i!==void 0&&(j.value=Bf(d,this.options,i)),x&&x(j.value),O&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Vs(e.calculatedDuration):0}get time(){return Vs(this.currentTime)}set time(e){e=Fs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=uF,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hF=new Set(["opacity","clipPath","filter","transform"]);function pF(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const h={[e]:n};d&&(h.offset=d);const f=pS(c,i);return Array.isArray(f)&&(h.easing=f),t.animate(h,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const mF=U0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tf=10,gF=2e4;function vF(t){return ig(t.type)||t.type==="spring"||!hS(t.ease)}function yF(t,e){const n=new yg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<gF;)r=n.sample(a),i.push(r.value),a+=tf;return{times:void 0,keyframes:i,duration:a-tf,ease:"linear"}}const ZS={anticipate:TS,backInOut:ES,circInOut:PS};function _F(t){return t in ZS}class _b extends $S{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new WS(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:d,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Qd()&&_F(a)&&(a=ZS[a]),vF(this.options)){const{onComplete:p,onUpdate:_,motionValue:w,element:E,...b}=this.options,x=yF(e,b);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,l="keyframes"}const f=pF(c.owner.current,d,e,{...this.options,duration:r,times:i,ease:a});return f.startTime=h??this.calcStartTime(),this.pendingTimeline?(rb(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;c.set(Bf(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Fs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return xr;const{animation:r}=n;rb(r,e)}return xr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:f,onComplete:p,element:_,...w}=this.options,E=new yg({...w,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),b=Fs(this.time);h.setWithVelocity(E.sample(b-tf).value,E.sample(b).value,tf)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=n.owner.getProps();return mF()&&r&&hF.has(r)&&!d&&!h&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const bF={type:"spring",stiffness:500,damping:25,restSpeed:10},wF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xF={type:"keyframes",duration:.8},SF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CF=(t,{keyframes:e})=>e.length>2?xF:Eo.has(t)?t.startsWith("scale")?wF(e[1]):bF:SF;function EF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:h,...f}){return!!Object.keys(f).length}const _g=(t,e,n,r={},i,a)=>l=>{const c=sg(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Fs(d);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};EF(c)||(f={...f,...CF(t,f)}),f.duration&&(f.duration=Fs(f.duration)),f.repeatDelay&&(f.repeatDelay=Fs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!a&&e.get()!==void 0){const _=Bf(f.keyframes,c);if(_!==void 0)return tn.update(()=>{f.onUpdate(_),f.onComplete()}),new UL([])}return!a&&_b.supports(f)?new _b(f):new yg(f)};function TF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in d){const _=t.getValue(p,(a=t.latestValues[p])!==null&&a!==void 0?a:null),w=d[p];if(w===void 0||f&&TF(f,p))continue;const E={delay:n,...sg(l||{},p)};let b=!1;if(window.MotionHandoffAnimation){const v=bS(t);if(v){const y=window.MotionHandoffAnimation(v,p,tn);y!==null&&(E.startTime=y,b=!0)}}f1(t,p),_.start(_g(p,_,w,t.shouldReduceMotion&&yS.has(p)?{type:!1}:E,t,b));const x=_.animation;x&&h.push(x)}return c&&Promise.all(h).then(()=>{tn.update(()=>{c&&sB(t,c)})}),h}function _1(t,e,n={}){var r;const i=Lf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(YS(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:_}=a;return kF(t,e,f+h,p,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[h,f]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>f())}else return Promise.all([l(),c(n.delay)])}function kF(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,d=i===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(t.variantChildren).sort(PF).forEach((h,f)=>{h.notify("AnimationStart",e),l.push(_1(h,e,{...a,delay:n+d(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function PF(t,e){return t.sortNodePosition(e)}function RF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>_1(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=_1(t,e,n);else{const i=typeof e=="function"?Lf(t,e,n.custom):e;r=Promise.all(YS(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const AF=X0.length;function KS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?KS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AF;n++){const r=X0[n],i=t.props[r];(wc(i)||i===!1)&&(e[r]=i)}return e}const MF=[...H0].reverse(),NF=H0.length;function DF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>RF(t,n,r)))}function IF(t){let e=DF(t),n=bb(),r=!0;const i=d=>(h,f)=>{var p;const _=Lf(t,f,d==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(_){const{transition:w,transitionEnd:E,...b}=_;h={...h,...b,...E}}return h};function a(d){e=d(t)}function l(d){const{props:h}=t,f=KS(t.parent)||{},p=[],_=new Set;let w={},E=1/0;for(let x=0;x<NF;x++){const v=MF[x],y=n[v],m=h[v]!==void 0?h[v]:f[v],A=wc(m),j=v===d?y.isActive:null;j===!1&&(E=x);let L=m===f[v]&&m!==h[v]&&A;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),y.protectedKeys={...w},!y.isActive&&j===null||!m&&!y.prevProp||Of(m)||typeof m=="boolean")continue;const O=OF(y.prevProp,m);let V=O||v===d&&y.isActive&&!L&&A||x>E&&A,q=!1;const K=Array.isArray(m)?m:[m];let G=K.reduce(i(v),{});j===!1&&(G={});const{prevResolvedValues:P={}}=y,z={...P,...G},S=Y=>{V=!0,_.has(Y)&&(q=!0,_.delete(Y)),y.needsAnimating[Y]=!0;const U=t.getValue(Y);U&&(U.liveStyle=!1)};for(const Y in z){const U=G[Y],Z=P[Y];if(w.hasOwnProperty(Y))continue;let X=!1;c1(U)&&c1(Z)?X=!uS(U,Z):X=U!==Z,X?U!=null?S(Y):_.add(Y):U!==void 0&&_.has(Y)?S(Y):y.protectedKeys[Y]=!0}y.prevProp=m,y.prevResolvedValues=G,y.isActive&&(w={...w,...G}),r&&t.blockInitialAnimation&&(V=!1),V&&(!(L&&O)||q)&&p.push(...K.map(Y=>({animation:Y,options:{type:v}})))}if(_.size){const x={};_.forEach(v=>{const y=t.getBaseTarget(v),m=t.getValue(v);m&&(m.liveStyle=!0),x[v]=y??null}),p.push({animation:x})}let b=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(p):Promise.resolve()}function c(d,h){var f;if(n[d].isActive===h)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(_=>{var w;return(w=_.animationState)===null||w===void 0?void 0:w.setActive(d,h)}),n[d].isActive=h;const p=l(d);for(const _ in n)n[_].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=bb(),r=!0}}}function OF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uS(e,t):!1}function no(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bb(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}class ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jF extends ji{constructor(e){super(e),e.animationState||(e.animationState=IF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Of(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let LF=0;class BF extends ji{constructor(){super(...arguments),this.id=LF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const FF={animation:{Feature:jF},exit:{Feature:BF}};function Ec(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zc(t){return{point:{x:t.pageX,y:t.pageY}}}const VF=t=>e=>ag(e)&&t(e,zc(e));function Kl(t,e,n,r){return Ec(t,e,VF(n),r)}const wb=(t,e)=>Math.abs(t-e);function zF(t,e){const n=wb(t.x,e.x),r=wb(t.y,e.y);return Math.sqrt(n**2+r**2)}class QS{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=vm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,w=zF(p.offset,{x:0,y:0})>=3;if(!_&&!w)return;const{point:E}=p,{timestamp:b}=Ln;this.history.push({...E,timestamp:b});const{onStart:x,onMove:v}=this.handlers;_||(x&&x(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,_)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=gm(_,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(p,_)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=vm(p.type==="pointercancel"?this.lastMoveEventInfo:gm(_,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,x),E&&E(p,x)},!ag(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=zc(e),c=gm(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ln;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,vm(c,this.history)),this.removeListeners=Vc(Kl(this.contextWindow,"pointermove",this.handlePointerMove),Kl(this.contextWindow,"pointerup",this.handlePointerUp),Kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Di(this.updatePoint)}}function gm(t,e){return e?{point:e(t.point)}:t}function xb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vm({point:t},e){return{point:t,delta:xb(t,JS(e)),offset:xb(t,WF(e)),velocity:$F(e,.1)}}function WF(t){return t[0]}function JS(t){return t[t.length-1]}function $F(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=JS(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Fs(e)));)n--;if(!r)return{x:0,y:0};const a=Vs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const e6=1e-4,UF=1-e6,HF=1+e6,t6=.01,XF=0-t6,qF=0+t6;function Cr(t){return t.max-t.min}function GF(t,e,n){return Math.abs(t-e)<=n}function Sb(t,e,n,r=.5){t.origin=r,t.originPoint=cn(e.min,e.max,t.origin),t.scale=Cr(n)/Cr(e),t.translate=cn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UF&&t.scale<=HF||isNaN(t.scale))&&(t.scale=1),(t.translate>=XF&&t.translate<=qF||isNaN(t.translate))&&(t.translate=0)}function Ql(t,e,n,r){Sb(t.x,e.x,n.x,r?r.originX:void 0),Sb(t.y,e.y,n.y,r?r.originY:void 0)}function Cb(t,e,n){t.min=n.min+e.min,t.max=t.min+Cr(e)}function ZF(t,e,n){Cb(t.x,e.x,n.x),Cb(t.y,e.y,n.y)}function Eb(t,e,n){t.min=e.min-n.min,t.max=t.min+Cr(e)}function Jl(t,e,n){Eb(t.x,e.x,n.x),Eb(t.y,e.y,n.y)}function YF(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?cn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?cn(n,t,r.max):Math.min(t,n)),t}function Tb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function KF(t,{top:e,left:n,bottom:r,right:i}){return{x:Tb(t.x,n,i),y:Tb(t.y,e,r)}}function kb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function QF(t,e){return{x:kb(t.x,e.x),y:kb(t.y,e.y)}}function JF(t,e){let n=.5;const r=Cr(t),i=Cr(e);return i>r?n=Da(e.min,e.max-r,t.min):r>i&&(n=Da(t.min,t.max-i,e.min)),Hs(0,1,n)}function eV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const b1=.35;function tV(t=b1){return t===!1?t=0:t===!0&&(t=b1),{x:Pb(t,"left","right"),y:Pb(t,"top","bottom")}}function Pb(t,e,n){return{min:Rb(t,e),max:Rb(t,n)}}function Rb(t,e){return typeof t=="number"?t:t[e]||0}const Ab=()=>({translate:0,scale:1,origin:0,originPoint:0}),pa=()=>({x:Ab(),y:Ab()}),Mb=()=>({min:0,max:0}),vn=()=>({x:Mb(),y:Mb()});function Or(t){return[t("x"),t("y")]}function n6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ym(t){return t===void 0||t===1}function w1({scale:t,scaleX:e,scaleY:n}){return!ym(t)||!ym(e)||!ym(n)}function so(t){return w1(t)||r6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function r6(t){return Nb(t.x)||Nb(t.y)}function Nb(t){return t&&t!=="0%"}function nf(t,e,n){const r=t-n,i=e*r;return n+i}function Db(t,e,n,r,i){return i!==void 0&&(t=nf(t,i,r)),nf(t,n,r)+e}function x1(t,e=0,n=1,r,i){t.min=Db(t.min,e,n,r,i),t.max=Db(t.max,e,n,r,i)}function s6(t,{x:e,y:n}){x1(t.x,e.translate,e.scale,e.originPoint),x1(t.y,n.translate,n.scale,n.originPoint)}const Ib=.999999999999,Ob=1.0000000000001;function sV(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ga(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,s6(t,l)),r&&so(a.latestValues)&&ga(t,a.latestValues))}e.x<Ob&&e.x>Ib&&(e.x=1),e.y<Ob&&e.y>Ib&&(e.y=1)}function ma(t,e){t.min=t.min+e,t.max=t.max+e}function jb(t,e,n,r,i=.5){const a=cn(t.min,t.max,i);x1(t,e,n,a,r)}function ga(t,e){jb(t.x,e.x,e.scaleX,e.scale,e.originX),jb(t.y,e.y,e.scaleY,e.scale,e.originY)}function i6(t,e){return n6(rV(t.getBoundingClientRect(),e))}function iV(t,e,n){const r=i6(t,n),{scroll:i}=e;return i&&(ma(r.x,i.offset.x),ma(r.y,i.offset.y)),r}const o6=({current:t})=>t?t.ownerDocument.defaultView:null,oV=new WeakMap;class aV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zc(f).point)},a=(f,p)=>{const{drag:_,dragPropagation:w,onDragStart:E}=this.getProps();if(_&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JL(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Or(x=>{let v=this.getAxisMotionValue(x).get()||0;if(ys.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const m=y.layout.layoutBox[x];m&&(v=Cr(m)*(parseFloat(v)/100))}}this.originPoint[x]=v}),E&&tn.postRender(()=>E(f,p)),f1(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,p)=>{const{dragPropagation:_,dragDirectionLock:w,onDirectionLock:E,onDrag:b}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:x}=p;if(w&&this.currentDirection===null){this.currentDirection=lV(x),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",p.point,x),this.updateAxis("y",p.point,x),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>this.stop(f,p),d=()=>Or(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new QS(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:o6(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&tn.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!pd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=YF(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&fa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=KF(i.layoutBox,n):this.constraints=!1,this.elastic=tV(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Or(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=eV(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=iV(r,i.root,this.visualElement.getTransformPagePoint());let l=QF(i.layout.layoutBox,a);if(n){const c=n(nV(l));this.hasMutatedConstraints=!!c,c&&(l=n6(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Or(f=>{if(!pd(f,n,this.currentDirection))return;let p=d&&d[f]||{};l&&(p={min:0,max:0});const _=i?200:1e6,w=i?40:1e7,E={type:"inertia",velocity:r?e[f]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(f,E)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return f1(this.visualElement,e),r.start(_g(e,r,0,n,this.visualElement,!1))}stopAnimation(){Or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Or(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Or(n=>{const{drag:r}=this.getProps();if(!pd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-cn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Or(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=JF({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Or(l=>{if(!pd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(cn(d,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;oV.set(this.visualElement,this);const e=this.visualElement.current,n=Kl(e,"pointerdown",d=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();fa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tn.read(r);const l=Ec(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Or(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=d[f].translate,p.set(p.get()+d[f].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=b1,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function pd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cV extends ji{constructor(e){super(e),this.removeGroupControls=xr,this.removeListeners=xr,this.controls=new aV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lb=t=>(e,n)=>{t&&tn.postRender(()=>t(e,n))};class uV extends ji{constructor(){super(...arguments),this.removePointerDownListener=xr}onPointerDown(e){this.session=new QS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lb(e),onStart:Lb(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&tn.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Kl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_t.test(t))t=parseFloat(t);else return t;const n=Bb(t,e.target.x),r=Bb(t,e.target.y);return`${n}% ${r}%`}},dV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ii.parse(t);if(i.length>5)return r;const a=Ii.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const h=cn(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class fV extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;NL(hV),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tn.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a6(t){const[e,n]=qj(),r=D.useContext($4);return R.jsx(fV,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(K4),isPresent:e,safeToRemove:n})}const hV={borderRadius:{...Vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:dV};function pV(t,e,n){const r=Un(t)?t:Sc(t);return r.start(_g("",r,e,n)),r.animation}function mV(t){return t instanceof SVGElement&&t.tagName!=="svg"}const gV=(t,e)=>t.depth-e.depth;class vV{constructor(){this.children=[],this.isDirty=!1}add(e){lg(this.children,e),this.isDirty=!0}remove(e){cg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gV),this.isDirty=!1,this.children.forEach(e)}}function yV(t,e){const n=_s.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Di(r),t(a-e))};return tn.read(r,!0),()=>Di(r)}const l6=["TopLeft","TopRight","BottomLeft","BottomRight"],_V=l6.length,Fb=t=>typeof t=="string"?parseFloat(t):t,Vb=t=>typeof t=="number"||_t.test(t);function bV(t,e,n,r,i,a){i?(t.opacity=cn(0,n.opacity!==void 0?n.opacity:1,wV(r)),t.opacityExit=cn(e.opacity!==void 0?e.opacity:1,0,xV(r))):a&&(t.opacity=cn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<_V;l++){const c=`border${l6[l]}Radius`;let d=zb(e,c),h=zb(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Vb(d)===Vb(h)?(t[c]=Math.max(cn(Fb(d),Fb(h),r),0),(ys.test(h)||ys.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=cn(e.rotate||0,n.rotate||0,r))}function zb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wV=c6(0,.5,kS),xV=c6(.5,.95,xr);function c6(t,e,n){return r=>r<t?0:r>e?1:n(Da(t,e,r))}function Wb(t,e){t.min=e.min,t.max=e.max}function Ir(t,e){Wb(t.x,e.x),Wb(t.y,e.y)}function $b(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ub(t,e,n,r,i){return t-=e,t=nf(t,1/n,r),i!==void 0&&(t=nf(t,1/i,r)),t}function SV(t,e=0,n=1,r=.5,i,a=t,l=t){if(ys.test(e)&&(e=parseFloat(e),e=cn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=cn(a.min,a.max,r);t===a&&(c-=e),t.min=Ub(t.min,e,n,c,i),t.max=Ub(t.max,e,n,c,i)}function Hb(t,e,[n,r,i],a,l){SV(t,e[n],e[r],e[i],e.scale,a,l)}const CV=["x","scaleX","originX"],EV=["y","scaleY","originY"];function Xb(t,e,n,r){Hb(t.x,e,CV,n?n.x:void 0,r?r.x:void 0),Hb(t.y,e,EV,n?n.y:void 0,r?r.y:void 0)}function qb(t){return t.translate===0&&t.scale===1}function u6(t){return qb(t.x)&&qb(t.y)}function Gb(t,e){return t.min===e.min&&t.max===e.max}function TV(t,e){return Gb(t.x,e.x)&&Gb(t.y,e.y)}function Zb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function d6(t,e){return Zb(t.x,e.x)&&Zb(t.y,e.y)}function Yb(t){return Cr(t.x)/Cr(t.y)}function Kb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kV{constructor(){this.members=[]}add(e){lg(this.members,e),e.scheduleRender()}remove(e){if(cg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PV(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:_,skewX:w,skewY:E}=n;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),_&&(r+=`rotateY(${_}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const io={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hl=typeof window<"u"&&window.MotionDebug!==void 0,_m=["","X","Y","Z"],RV={visibility:"hidden"},Qb=1e3;let AV=0;function bm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function f6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&f6(r)}function h6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=AV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hl&&(io.totalNodes=io.resolvedTargetDeltas=io.recalculatedProjection=0),this.nodes.forEach(DV),this.nodes.forEach(BV),this.nodes.forEach(FV),this.nodes.forEach(IV),Hl&&window.MotionDebug.record(io)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new vV)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ug),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mV(l),this.instance=l;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||d)&&(this.isLayoutDirty=!0),t){let p;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=yV(_,250),Cd.hasAnimatedSinceResize&&(Cd.hasAnimatedSinceResize=!1,this.nodes.forEach(ew))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:_,hasRelativeTargetChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||UV,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=f.getProps(),y=!this.targetLayout||!d6(this.targetLayout,E)||w,m=!_&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||_&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,m);const A={...sg(b,"layout"),onPlay:x,onComplete:v};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else _||ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VV),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&f6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jb);return}this.isUpdating||this.nodes.forEach(jV),this.isUpdating=!1,this.nodes.forEach(LV),this.nodes.forEach(MV),this.nodes.forEach(NV),this.clearAllSnapshots();const c=_s.now();Ln.delta=Hs(0,1e3/60,c-Ln.timestamp),Ln.timestamp=c,Ln.isProcessing=!0,um.update.process(Ln),um.preRender.process(Ln),um.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OV),this.sharedNodes.forEach(zV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!u6(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;l&&(c||so(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),HV(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return vn();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(XV))){const{scroll:f}=this.root;f&&(ma(d.x,f.offset.x),ma(d.y,f.offset.y))}return d}removeElementScroll(l){var c;const d=vn();if(Ir(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:_}=f;f!==this.root&&p&&_.layoutScroll&&(p.wasRoot&&Ir(d,l),ma(d.x,p.offset.x),ma(d.y,p.offset.y))}return d}applyTransform(l,c=!1){const d=vn();Ir(d,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ga(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),so(f.latestValues)&&ga(d,f.latestValues)}return so(this.latestValues)&&ga(d,this.latestValues),d}removeTransform(l){const c=vn();Ir(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!so(h.latestValues))continue;w1(h.latestValues)&&h.updateSnapshot();const f=vn(),p=h.measurePageBox();Ir(f,p),Xb(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return so(this.latestValues)&&Xb(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:_}=this.options;if(!(!this.layout||!(p||_))){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Jl(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),s6(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Jl(this.relativeTargetOrigin,this.target,w.target),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hl&&io.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||w1(this.parent.latestValues)||r6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ir(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;sV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vn());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($b(this.prevProjectionDelta.x,this.projectionDelta.x),$b(this.prevProjectionDelta.y,this.projectionDelta.y)),Ql(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!Kb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Hl&&io.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pa(),this.projectionDelta=pa(),this.projectionDeltaWithTransform=pa()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},f={...this.latestValues},p=pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=vn(),w=d?d.source:void 0,E=this.layout?this.layout.source:void 0,b=w!==E,x=this.getStack(),v=!x||x.members.length<=1,y=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some($V));this.animationProgress=0;let m;this.mixTargetDelta=A=>{const j=A/1e3;tw(p.x,l.x,j),tw(p.y,l.y,j),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jl(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WV(this.relativeTarget,this.relativeTargetOrigin,_,j),m&&TV(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=vn()),Ir(m,this.relativeTarget)),b&&(this.animationValues=f,bV(f,h,this.latestValues,j,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{Cd.hasAnimatedSinceResize=!0,this.currentAnimation=pV(0,Qb,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:f}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&p6(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||vn();const p=Cr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+p;const _=Cr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+_}Ir(c,d),ga(c,f),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new kV),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&bm("z",l,h,this.animationValues);for(let f=0;f<_m.length;f++)bm(`rotate${_m[f]}`,l,h,this.animationValues),bm(`skew${_m[f]}`,l,h,this.animationValues);l.render();for(const f in h)l.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return RV;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=xd(l?.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=xd(l?.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const _=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=PV(this.projectionDeltaWithTransform,this.treeScale,_),f&&(h.transform=f(_,h.transform));const{x:w,y:E}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,p.animationValues?h.opacity=p===this?(d=(c=_.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:h.opacity=p===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const b in Kd){if(_[b]===void 0)continue;const{correct:x,applyTo:v}=Kd[b],y=h.transform==="none"?_[b]:x(_[b],p);if(v){const m=v.length;for(let A=0;A<m;A++)h[v[A]]=y}else h[b]=y}return this.options.layoutId&&(h.pointerEvents=p===this?xd(l?.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Jb),this.root.sharedNodes.clear()}}}function MV(t){t.updateLayout()}function NV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Or(p=>{const _=l?n.measuredBox[p]:n.layoutBox[p],w=Cr(_);_.min=r[p].min,_.max=_.min+w}):p6(a,n.layoutBox,r)&&Or(p=>{const _=l?n.measuredBox[p]:n.layoutBox[p],w=Cr(r[p]);_.max=_.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+w)});const c=pa();Ql(c,r,n.layoutBox);const d=pa();l?Ql(d,t.applyTransform(i,!0),n.measuredBox):Ql(d,r,n.layoutBox);const h=!u6(c);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:_,layout:w}=p;if(_&&w){const E=vn();Jl(E,n.layoutBox,_.layoutBox);const b=vn();Jl(b,r,w.layoutBox),d6(E,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function DV(t){Hl&&io.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function OV(t){t.clearSnapshot()}function Jb(t){t.clearMeasurements()}function jV(t){t.isLayoutDirty=!1}function LV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ew(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function BV(t){t.resolveTargetDelta()}function FV(t){t.calcProjection()}function VV(t){t.resetSkewAndRotation()}function zV(t){t.removeLeadSnapshot()}function tw(t,e,n){t.translate=cn(e.translate,0,n),t.scale=cn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nw(t,e,n,r){t.min=cn(e.min,n.min,r),t.max=cn(e.max,n.max,r)}function WV(t,e,n,r){nw(t.x,e.x,n.x,r),nw(t.y,e.y,n.y,r)}function $V(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UV={duration:.45,ease:[.4,0,.1,1]},rw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sw=rw("applewebkit/")&&!rw("chrome/")?Math.round:xr;function iw(t){t.min=sw(t.min),t.max=sw(t.max)}function HV(t){iw(t.x),iw(t.y)}function p6(t,e,n){return t==="position"||t==="preserve-aspect"&&!GF(Yb(e),Yb(n),.2)}function XV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const qV=h6({attachResizeListener:(t,e)=>Ec(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wm={current:void 0},m6=h6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wm.current){const t=new qV({});t.mount(window),t.setOptions({layoutScroll:!0}),wm.current=t}return wm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GV={pan:{Feature:uV},drag:{Feature:cV,ProjectionNode:m6,MeasureLayout:a6}};function ow(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&tn.postRender(()=>a(e,zc(e)))}class ZV extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=GL(e,n=>(ow(this.node,n,"Start"),r=>ow(this.node,r,"End"))))}unmount(){}}class YV extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vc(Ec(this.node.current,"focus",()=>this.onFocus()),Ec(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&tn.postRender(()=>a(e,zc(e)))}class KV extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=QL(e,n=>(aw(this.node,n,"Start"),(r,{success:i})=>aw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S1=new WeakMap,xm=new WeakMap,QV=t=>{const e=S1.get(t.target);e&&e(t)},JV=t=>{t.forEach(QV)};function ez({root:t,...e}){const n=t||document;xm.has(n)||xm.set(n,{});const r=xm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(JV,{root:t,...e})),r[i]}function tz(t,e,n){const r=ez(e);return S1.set(t,n),r.observe(t),()=>{S1.delete(t),r.unobserve(t)}}const nz={some:0,all:1};class rz extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:nz[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),_=h?f:p;_&&_(d)};return tz(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sz(e,n))&&this.startObserver()}unmount(){}}function sz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iz={inView:{Feature:rz},tap:{Feature:KV},focus:{Feature:YV},hover:{Feature:ZV}},oz={layout:{ProjectionNode:m6,MeasureLayout:a6}},C1={current:null},g6={current:!1};function az(){if(g6.current=!0,!!$0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>C1.current=t.matches;t.addListener(e),e()}else C1.current=!1}const lz=[...zS,$n,Ii],cz=t=>lz.find(VS(t)),lw=new WeakMap;function uz(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Un(i))t.addValue(r,i);else if(Un(a))t.addValue(r,Sc(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Sc(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=_s.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,tn.render(this.render,!1,!0))};const{latestValues:d,renderState:h,onUpdate:f}=l;this.onUpdate=f,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=jf(n),this.isVariantNode=Z4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const E=_[w];d[w]!==void 0&&Un(E)&&E.set(d[w],!1)}}mount(e){this.current=e,lw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),g6.current||az(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:C1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lw.delete(this.current),this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Eo.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ia){const n=Ia[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cw.length;r++){const i=cw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=uz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Sc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(BS(i)||RS(i))?i=parseFloat(i):!cz(i)&&Ii.test(n)&&(i=OS(e,n)),this.setBaseTarget(e,Un(i)?i.get():i)),Un(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Y0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Un(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ug),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class v6 extends dz{constructor(){super(...arguments),this.KeyframeResolver=WS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fz(t){return window.getComputedStyle(t)}class hz extends v6{constructor(){super(...arguments),this.type="html",this.renderInstance=sS}readValueFromInstance(e,n){if(Eo.has(n)){const r=mg(n);return r&&r.default||0}else{const r=fz(e),i=(tS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return i6(e,n)}build(e,n,r){J0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return rg(e,n,r)}}class pz extends v6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Eo.has(n)){const r=mg(n);return r&&r.default||0}return n=iS.has(n)?n:q0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lS(e,n,r)}build(e,n,r){eg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){oS(e,n,r,i)}mount(e){this.isSVGTag=ng(e.tagName),super.mount(e)}}const mz=(t,e)=>Z0(t)?new pz(e):new hz(e,{allowProjection:t!==D.Fragment}),gz=zL({...FF,...iz,...GV,...oz},mz),vz=nL(gz);function yz(){const[t,e]=Rc(),{toast:n}=Ac(),[r,i]=D.useState(!1),[a,l]=D.useState(0),[c,d]=D.useState(null),[h,f]=D.useState([]),[p,_]=D.useState(null),{theme:w,toggleTheme:E}=A0(),b=D.useRef(null),x=D.useRef([]),v=D.useRef(0),y=D.useRef(),m=D.useRef(null),A=D.useRef(!1),j=F3(),L=W4();D.useEffect(()=>{async function K(){try{const G=await navigator.mediaDevices.getUserMedia({audio:!0});d(G);const P=window.SpeechRecognition||window.webkitSpeechRecognition;if(P){const z=new P;z.continuous=!0,z.interimResults=!1,z.lang="en-US",z.onresult=S=>{const W=S.results.length-1,ne=S.results[W][0].transcript.toLowerCase().trim();console.log("Speech detected:",ne),(ne.includes("flag it")||ne.includes("flag that")||ne.includes("flagit"))&&q("Voice Triggered",!0)},z.onend=()=>{if(A.current)try{z.start(),console.log("Speech recognition restarted")}catch(S){console.log("Speech recognition restart failed, retrying...",S),setTimeout(()=>{if(A.current)try{z.start()}catch{}},300)}},z.onerror=S=>{console.log("Speech recognition error:",S.error)},m.current=z}}catch(G){console.error("Microphone access denied:",G),n({variant:"destructive",title:"Microphone Error",description:"Please allow microphone access to record audio."})}}return K(),()=>{c?.getTracks().forEach(G=>G.stop()),m.current&&m.current.stop()}},[]);const O=()=>{if(!c)return;const K=new MediaRecorder(c);b.current=K,x.current=[],K.ondataavailable=G=>{G.data.size>0&&(x.current.push(G.data),console.log("Chunk recorded:",G.data.size))},K.onstop=()=>{console.log("Recorder stopped, total chunks:",x.current.length)},K.start(1e3),i(!0),A.current=!0,v.current=Date.now(),l(0),f([]),y.current=window.setInterval(()=>{l(Date.now()-v.current)},100);try{m.current?.start()}catch{console.log("Speech recognition already started")}},V=async()=>{if(!b.current)return;b.current.stop(),i(!1),A.current=!1,clearInterval(y.current),m.current?.stop();const K=new Blob(x.current,{type:"audio/webm"}),G=a;try{const P=await j.mutateAsync({name:`Recording ${new Date().toLocaleString()}`,category:"Recordings",duration:G});await m5(P.id,K),await Promise.all(h.map(z=>L.mutateAsync({recordingId:P.id,timestamp:z.timestamp,color:z.color,description:"Flagged it"}))),_(P.id),n({title:"Recording saved",description:"Your recording has been added to your collection.",duration:3e3}),l(0),f([]),x.current=[]}catch(P){console.error("Save recording error:",P);const z=P instanceof Error?P.message:"Unknown error";n({variant:"destructive",title:"Save Failed",description:`Could not save the recording: ${z}`})}},q=(K="Manual",G=!1)=>{i(P=>{if(!P)return P;let z=Date.now()-v.current;G&&(z=Math.max(0,z-1e3));const S={id:Math.random().toString(),timestamp:z,color:"green"};return f(W=>[...W,S]),n({title:"Flag Added!",description:`${K} at ${uw(z)}`,duration:1500}),P})};return R.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[r&&R.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:R.jsx("div",{className:"w-96 h-96 bg-red-500/10 rounded-full blur-3xl animate-pulse"})}),R.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-center z-10",children:[R.jsx("div",{className:"flex items-center gap-4",children:R.jsx(ua,{href:"/recordings",children:R.jsxs("button",{className:"px-4 py-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground font-medium flex items-center gap-2",children:["Recordings",R.jsx(Rd,{className:"w-4 h-4"})]})})}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("button",{onClick:E,className:"p-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground",children:w==="dark"?R.jsx(Y1,{className:"w-5 h-5"}):R.jsx(Z1,{className:"w-5 h-5"})}),R.jsx(ua,{href:"/settings",children:R.jsx("button",{className:"p-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground",children:R.jsx(hf,{className:"w-5 h-5"})})}),R.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-card/50 border border-white/5 backdrop-blur-sm",children:[R.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-red-500 animate-pulse":"bg-gray-500"}`}),R.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:r?"REC":"READY"})]})]})]}),R.jsxs("div",{className:"w-full max-w-2xl space-y-12 z-10",children:[R.jsxs("div",{className:"text-center space-y-4",children:[R.jsx("h1",{className:"text-7xl font-mono font-bold tracking-tighter timer-text tabular-nums",children:uw(a)}),R.jsxs("div",{className:"space-y-1",children:[R.jsxs("p",{className:"text-lg text-primary font-semibold max-w-sm mx-auto leading-relaxed",children:["Say ",R.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent font-bold",children:"FLAG IT"})]}),R.jsx("p",{className:"text-lg text-primary font-semibold max-w-sm mx-auto leading-relaxed",children:"or click the flag"}),R.jsx("p",{className:"text-lg text-primary font-semibold max-w-sm mx-auto leading-relaxed",children:"to mark key moments"})]})]}),R.jsxs("div",{className:"h-32 bg-card/30 rounded-2xl border border-white/5 backdrop-blur-sm overflow-hidden flex items-center justify-center relative",children:[c?R.jsx($j,{stream:c,isRecording:r,height:128}):R.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[R.jsx(xx,{className:"w-5 h-5"}),R.jsx("span",{children:"Waiting for microphone..."})]}),h.map(K=>R.jsx(vz.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"absolute top-0 bottom-0 w-0.5 bg-green-500",style:{left:`${K.timestamp/a*100}%`}},K.id))]}),R.jsx("div",{className:"text-center",children:R.jsx("p",{className:"text-muted-foreground font-medium",children:r?"Listening for 'Flag It'...":"Press record to start"})}),R.jsxs("div",{className:"flex items-center justify-center gap-8",children:[R.jsxs("button",{onClick:()=>q("Manual"),disabled:!r,className:"group flex flex-col items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[R.jsx("div",{className:"w-16 h-16 rounded-2xl bg-card border border-border flex items-center justify-center shadow-lg group-hover:border-green-500/50 group-active:scale-95 transition-all",children:R.jsx(Sx,{className:"w-6 h-6 text-green-500 fill-current"})}),R.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Flag"})]}),R.jsx("button",{onClick:r?V:O,className:`w-24 h-24 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 transform hover:scale-105 active:scale-95
              ${r?"bg-red-500 text-white animate-pulse-ring":"record-button text-white"}`,children:r?R.jsx(Ad,{className:"w-8 h-8 fill-current"}):R.jsx(Om,{className:"w-8 h-8 fill-current text-white dark:text-black"})}),p?R.jsxs("button",{onClick:()=>e(`/recordings/${p}`),className:"group w-16 flex flex-col items-center gap-2 transition-all",children:[R.jsx("div",{className:"w-16 h-16 rounded-2xl bg-card border border-border flex items-center justify-center shadow-lg group-hover:border-primary/50 group-active:scale-95 transition-all",children:R.jsx(Rd,{className:"w-6 h-6 text-primary"})}),R.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Latest"})]}):R.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 opacity-0 pointer-events-none",children:[R.jsx("div",{className:"w-16 h-16 rounded-2xl bg-card border border-border flex items-center justify-center shadow-lg"}),R.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Latest"})]})]})]})]})}function uw(t){const e=Math.floor(t/1e3),n=Math.floor(e/60),r=e%60,i=Math.floor(t%1e3/10);return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}.${i.toString().padStart(2,"0")}`}async function _z(t){const e=t.numberOfChannels,n=t.length*e*2+44,r=new ArrayBuffer(n),i=new DataView(r),a=[];let l,c,d=0,h=0;for(p(1179011410),p(n-8),p(1163280727),p(544501094),p(16),f(1),f(e),p(t.sampleRate),p(t.sampleRate*2*e),f(e*2),f(16),p(1635017060),p(n-h-4),l=0;l<t.numberOfChannels;l++)a.push(t.getChannelData(l));for(;h<n;){for(l=0;l<e;l++)c=Math.max(-1,Math.min(1,a[l][d])),c=(.5+c<0?c*32768:c*32767)|0,i.setInt16(h,c,!0),h+=2;d++}return new Blob([r],{type:"audio/wav"});function f(_){i.setUint16(h,_,!0),h+=2}function p(_){i.setUint32(h,_,!0),h+=4}}function Jn(t,e,n,r){return new(n||(n=Promise))((function(i,a){function l(h){try{d(r.next(h))}catch(f){a(f)}}function c(h){try{d(r.throw(h))}catch(f){a(f)}}function d(h){var f;h.done?i(h.value):(f=h.value,f instanceof n?f:new n((function(p){p(f)}))).then(l,c)}d((r=r.apply(t,e||[])).next())}))}let Wc=class{constructor(){this.listeners={}}on(e,n,r){if(this.listeners[e]||(this.listeners[e]=new Set),r?.once){const i=(...a)=>{this.un(e,i),n(...a)};return this.listeners[e].add(i),()=>this.un(e,i)}return this.listeners[e].add(n),()=>this.un(e,n)}un(e,n){var r;(r=this.listeners[e])===null||r===void 0||r.delete(n)}once(e,n){return this.on(e,n,{once:!0})}unAll(){this.listeners={}}emit(e,...n){this.listeners[e]&&this.listeners[e].forEach((r=>r(...n)))}};const md={decode:function(t,e){return Jn(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:e});try{return yield n.decodeAudioData(t)}finally{n.close()}}))},createBuffer:function(t,e){if(!t||t.length===0)throw new Error("channelData must be a non-empty array");if(e<=0)throw new Error("duration must be greater than 0");if(typeof t[0]=="number"&&(t=[t]),!t[0]||t[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(r){const i=r[0];if(i.some((a=>a>1||a<-1))){const a=i.length;let l=0;for(let c=0;c<a;c++){const d=Math.abs(i[c]);d>l&&(l=d)}for(const c of r)for(let d=0;d<a;d++)c[d]/=l}})(t);const n=t.map((r=>r instanceof Float32Array?r:Float32Array.from(r)));return{duration:e,length:n[0].length,sampleRate:n[0].length/e,numberOfChannels:n.length,getChannelData:r=>{const i=n[r];if(!i)throw new Error(`Channel ${r} not found`);return i},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function y6(t,e){const n=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[r,i]of Object.entries(e))if(r==="children"&&i)for(const[a,l]of Object.entries(i))l instanceof Node?n.appendChild(l):typeof l=="string"?n.appendChild(document.createTextNode(l)):n.appendChild(y6(a,l));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function dw(t,e,n){const r=y6(t,e||{});return n?.appendChild(r),r}var bz=Object.freeze({__proto__:null,createElement:dw,default:dw});const wz={fetchBlob:function(t,e,n){return Jn(this,void 0,void 0,(function*(){const r=yield fetch(t,n);if(r.status>=400)throw new Error(`Failed to fetch ${t}: ${r.status} (${r.statusText})`);return(function(i,a){Jn(this,void 0,void 0,(function*(){if(!i.body||!i.headers)return;const l=i.body.getReader(),c=Number(i.headers.get("Content-Length"))||0;let d=0;const h=f=>{d+=f?.length||0;const p=Math.round(d/c*100);a(p)};try{for(;;){const f=yield l.read();if(f.done)break;h(f.value)}}catch(f){console.warn("Progress tracking error:",f)}}))})(r.clone(),e),r.blob()}))}};function yn(t){let e=t;const n=new Set;return{get value(){return e},set(r){Object.is(e,r)||(e=r,n.forEach((i=>i(e))))},update(r){this.set(r(e))},subscribe:r=>(n.add(r),()=>n.delete(r))}}function lo(t,e){const n=yn(t());return e.forEach((r=>r.subscribe((()=>{const i=t();Object.is(n.value,i)||n.set(i)})))),{get value(){return n.value},subscribe:r=>n.subscribe(r)}}function Ei(t,e){let n;const r=()=>{n&&(n(),n=void 0),n=t()},i=e.map((a=>a.subscribe(r)));return r(),()=>{n&&(n(),n=void 0),i.forEach((a=>a()))}}class xz extends Wc{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(e){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=yn(!1),this._currentTime=yn(0),this._duration=yn(0),this._volume=yn(this.media.volume),this._muted=yn(this.media.muted),this._playbackRate=yn(this.media.playbackRate||1),this._seeking=yn(!1),this.setupReactiveMediaEvents(),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(e,n,r){return this.media.addEventListener(e,n,r),()=>this.media.removeEventListener(e,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return this.media.canPlayType(e)!==""}setSrc(e,n){const r=this.getSrc();if(e&&r===e)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!e)?URL.createObjectURL(n):e;if(r&&this.media.removeAttribute("src"),i||e)try{this.media.src=i}catch{this.media.src=e}}destroy(){this.reactiveMediaEventCleanups.forEach((e=>e())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(e){this.reactiveMediaEventCleanups.forEach((n=>n())),this.reactiveMediaEventCleanups=[],this.media=e,this.setupReactiveMediaEvents()}play(){return Jn(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(e){if(e instanceof DOMException&&e.name==="AbortError")return;throw e}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=Math.max(0,Math.min(e,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}function Sz({maxTop:t,maxBottom:e,halfHeight:n,vScale:r,barMinHeight:i=0,barAlign:a}){let l=Math.round(t*n*r),c=l+Math.round(e*n*r)||1;return c<i&&(c=i,a||(l=c/2)),{topHeight:l,totalHeight:c}}function Cz({barAlign:t,halfHeight:e,topHeight:n,totalHeight:r,canvasHeight:i}){return t==="top"?0:t==="bottom"?i-r:e-n}function fw(t,e,n){const r=e-t.left,i=n-t.top;return[r/t.width,i/t.height]}function _6(t){return!!(t.barWidth||t.barGap||t.barAlign)}function hw(t,e){if(!_6(e))return t;const n=e.barWidth||.5,r=n+(e.barGap||n/2);return r===0?t:Math.floor(t/r)*r}function pw({scrollLeft:t,totalWidth:e,numCanvases:n}){if(e===0)return[0];const r=t/e,i=Math.floor(r*n);return[i-1,i,i+1]}function b6(t){const e=t._cleanup;typeof e=="function"&&e()}function Ez(t){const e=yn({scrollLeft:t.scrollLeft,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth}),n=lo((()=>(function(a){const{scrollLeft:l,scrollWidth:c,clientWidth:d}=a;if(c===0)return{startX:0,endX:1};const h=l/c,f=(l+d)/c;return{startX:Math.max(0,Math.min(1,h)),endX:Math.max(0,Math.min(1,f))}})(e.value)),[e]),r=lo((()=>(function(a){return{left:a.scrollLeft,right:a.scrollLeft+a.clientWidth}})(e.value)),[e]),i=()=>{e.set({scrollLeft:t.scrollLeft,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth})};return t.addEventListener("scroll",i,{passive:!0}),{scrollData:e,percentages:n,bounds:r,cleanup:()=>{t.removeEventListener("scroll",i),b6(e)}}}class Tz extends Wc{constructor(e,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=e;const r=this.parentFromOptionsContainer(e.container);this.parent=r;const[i,a]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=a.querySelector(".scroll"),this.wrapper=a.querySelector(".wrapper"),this.canvasWrapper=a.querySelector(".canvases"),this.progressWrapper=a.querySelector(".progress"),this.cursor=a.querySelector(".cursor"),n&&a.appendChild(n),this.initEvents()}parentFromOptionsContainer(e){let n;if(typeof e=="string"?n=document.querySelector(e):e instanceof HTMLElement&&(n=e),!n)throw new Error("Container not found");return n}initEvents(){this.wrapper.addEventListener("click",(n=>{const r=this.wrapper.getBoundingClientRect(),[i,a]=fw(r,n.clientX,n.clientY);this.emit("click",i,a)})),this.wrapper.addEventListener("dblclick",(n=>{const r=this.wrapper.getBoundingClientRect(),[i,a]=fw(r,n.clientX,n.clientY);this.emit("dblclick",i,a)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=Ez(this.scrollContainer);const e=Ei((()=>{const{startX:n,endX:r}=this.scrollStream.percentages.value,{left:i,right:a}=this.scrollStream.bounds.value;this.emit("scroll",n,r,i,a)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(e),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{n().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=e,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(n,r={}){const{threshold:i=3,mouseButton:a=0,touchDelay:l=100}=r,c=yn(null),d=new Map,h=matchMedia("(pointer: coarse)").matches;let f=()=>{};const p=_=>{if(_.button!==a||(d.set(_.pointerId,_),d.size>1))return;let w=_.clientX,E=_.clientY,b=!1;const x=Date.now(),v=n.getBoundingClientRect(),{left:y,top:m}=v,A=q=>{if(q.defaultPrevented||d.size>1||h&&Date.now()-x<l)return;const K=q.clientX,G=q.clientY,P=K-w,z=G-E;(b||Math.abs(P)>i||Math.abs(z)>i)&&(q.preventDefault(),q.stopPropagation(),b||(c.set({type:"start",x:w-y,y:E-m}),b=!0),c.set({type:"move",x:K-y,y:G-m,deltaX:P,deltaY:z}),w=K,E=G)},j=q=>{if(d.delete(q.pointerId),b){const K=q.clientX,G=q.clientY;c.set({type:"end",x:K-y,y:G-m})}f()},L=q=>{d.delete(q.pointerId),q.relatedTarget&&q.relatedTarget!==document.documentElement||j(q)},O=q=>{b&&(q.stopPropagation(),q.preventDefault())},V=q=>{q.defaultPrevented||d.size>1||b&&q.preventDefault()};document.addEventListener("pointermove",A),document.addEventListener("pointerup",j),document.addEventListener("pointerout",L),document.addEventListener("pointercancel",L),document.addEventListener("touchmove",V,{passive:!1}),document.addEventListener("click",O,{capture:!0}),f=()=>{document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",j),document.removeEventListener("pointerout",L),document.removeEventListener("pointercancel",L),document.removeEventListener("touchmove",V),setTimeout((()=>{document.removeEventListener("click",O,{capture:!0})}),10)}};return n.addEventListener("pointerdown",p),{signal:c,cleanup:()=>{f(),n.removeEventListener("pointerdown",p),d.clear(),b6(c)}}})(this.wrapper);const e=Ei((()=>{const n=this.dragStream.signal.value;if(!n)return;const r=this.wrapper.getBoundingClientRect().width,i=(a=n.x/r)<0?0:a>1?1:a;var a;n.type==="start"?(this.isDragging=!0,this.emit("dragstart",i)):n.type==="move"?this.emit("drag",i):n.type==="end"&&(this.isDragging=!1,this.emit("dragend",i))}),[this.dragStream.signal]);this.subscriptions.push(e)}initHtml(){const e=document.createElement("div"),n=e.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,n]}setOptions(e){if(this.options.container!==e.container){const n=this.parentFromOptionsContainer(e.container);n.appendChild(this.container),this.parent=n}e.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:n}=this.scrollContainer,r=n*e;this.setScroll(r)}destroy(){var e;this.subscriptions.forEach((n=>n())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(e=this.unsubscribeOnScroll)===null||e===void 0||e.forEach((n=>n())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(e=10){let n,r;const i=()=>{n&&(clearTimeout(n),n=void 0),r&&(r(),r=void 0)};return this.timeouts.push(i),()=>new Promise(((a,l)=>{i(),r=l,n=setTimeout((()=>{n=void 0,r=void 0,a()}),e)}))}getHeight(e,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;return(function({optionsHeight:a,optionsSplitChannels:l,parentHeight:c,numberOfChannels:d,defaultHeight:h=128}){if(a==null)return h;const f=Number(a);if(!isNaN(f))return f;if(a==="auto"){const p=c||h;return l?.every((_=>!_.overlay))?p/d:p}return h})({optionsHeight:e,optionsSplitChannels:n,parentHeight:this.parent.clientHeight,numberOfChannels:i,defaultHeight:128})}convertColorValues(e,n){return(function(r,i,a){if(!Array.isArray(r))return r||"";if(r.length===0)return"#999";if(r.length<2)return r[0]||"";const l=document.createElement("canvas"),c=l.getContext("2d"),d=a??l.height*i,h=c.createLinearGradient(0,0,0,d||i),f=1/(r.length-1);return r.forEach(((p,_)=>{h.addColorStop(_*f,p)})),h})(e,this.getPixelRatio(),n?.canvas.height)}getPixelRatio(){return e=window.devicePixelRatio,Math.max(1,e||1);var e}renderBarWaveform(e,n,r,i){const{width:a,height:l}=r.canvas,{halfHeight:c,barWidth:d,barRadius:h,barIndexScale:f,barSpacing:p,barMinHeight:_}=(function({width:E,height:b,length:x,options:v,pixelRatio:y}){const m=b/2,A=v.barWidth?v.barWidth*y:1,j=v.barGap?v.barGap*y:v.barWidth?A/2:0,L=A+j||1;return{halfHeight:m,barWidth:A,barGap:j,barRadius:v.barRadius||0,barMinHeight:v.barMinHeight?v.barMinHeight*y:0,barIndexScale:x>0?E/L/x:0,barSpacing:L}})({width:a,height:l,length:(e[0]||[]).length,options:n,pixelRatio:this.getPixelRatio()}),w=(function({channelData:E,barIndexScale:b,barSpacing:x,barWidth:v,halfHeight:y,vScale:m,canvasHeight:A,barAlign:j,barMinHeight:L}){const O=E[0]||[],V=E[1]||O,q=O.length,K=[];let G=0,P=0,z=0;for(let S=0;S<=q;S++){const W=Math.round(S*b);if(W>G){const{topHeight:U,totalHeight:Z}=Sz({maxTop:P,maxBottom:z,halfHeight:y,vScale:m,barMinHeight:L,barAlign:j}),X=Cz({barAlign:j,halfHeight:y,topHeight:U,totalHeight:Z,canvasHeight:A});K.push({x:G*x,y:X,width:v,height:Z}),G=W,P=0,z=0}const ne=Math.abs(O[S]||0),Y=Math.abs(V[S]||0);ne>P&&(P=ne),Y>z&&(z=Y)}return K})({channelData:e,barIndexScale:f,barSpacing:p,barWidth:d,halfHeight:c,vScale:i,canvasHeight:l,barAlign:n.barAlign,barMinHeight:_});r.beginPath();for(const E of w)h&&"roundRect"in r?r.roundRect(E.x,E.y,E.width,E.height,h):r.rect(E.x,E.y,E.width,E.height);r.fill(),r.closePath()}renderLineWaveform(e,n,r,i){const{width:a,height:l}=r.canvas,c=(function({channelData:d,width:h,height:f,vScale:p}){const _=f/2,w=d[0]||[];return[w,d[1]||w].map(((E,b)=>{const x=E.length,v=x?h/x:0,y=_,m=b===0?-1:1,A=[{x:0,y}];let j=0,L=0;for(let O=0;O<=x;O++){const V=Math.round(O*v);if(V>j){const K=y+(Math.round(L*_*p)||1)*m;A.push({x:j,y:K}),j=V,L=0}const q=Math.abs(E[O]||0);q>L&&(L=q)}return A.push({x:j,y}),A}))})({channelData:e,width:a,height:l,vScale:i});r.beginPath();for(const d of c)if(d.length){r.moveTo(d[0].x,d[0].y);for(let h=1;h<d.length;h++){const f=d[h];r.lineTo(f.x,f.y)}}r.fill(),r.closePath()}renderWaveform(e,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor,r),n.renderFunction)return void n.renderFunction(e,r);const i=(function({channelData:a,barHeight:l,normalize:c,maxPeak:d}){var h;const f=l||1;if(!c)return f;const p=a[0];if(!p||p.length===0)return f;let _=d??0;if(!d)for(let w=0;w<p.length;w++){const E=(h=p[w])!==null&&h!==void 0?h:0,b=Math.abs(E);b>_&&(_=b)}return _?f/_:f})({channelData:e,barHeight:n.barHeight,normalize:n.normalize,maxPeak:n.maxPeak});_6(n)?this.renderBarWaveform(e,n,r,i):this.renderLineWaveform(e,n,r,i)}renderSingleCanvas(e,n,r,i,a,l,c){const d=this.getPixelRatio(),h=document.createElement("canvas");h.width=Math.round(r*d),h.height=Math.round(i*d),h.style.width=`${r}px`,h.style.height=`${i}px`,h.style.left=`${Math.round(a)}px`,l.appendChild(h);const f=h.getContext("2d");if(n.renderFunction?(f.fillStyle=this.convertColorValues(n.waveColor,f),n.renderFunction(e,f)):this.renderWaveform(e,n,f),h.width>0&&h.height>0){const p=h.cloneNode(),_=p.getContext("2d");_.drawImage(h,0,0),_.globalCompositeOperation="source-in",_.fillStyle=this.convertColorValues(n.progressColor,_),_.fillRect(0,0,h.width,h.height),c.appendChild(p)}}renderMultiCanvas(e,n,r,i,a,l){const c=this.getPixelRatio(),{clientWidth:d}=this.scrollContainer,h=r/c,f=(function({clientWidth:E,totalWidth:b,options:x}){return hw(Math.min(8e3,E,b),x)})({clientWidth:d,totalWidth:h,options:n});let p={};if(f===0)return;const _=E=>{if(E<0||E>=w||p[E])return;p[E]=!0;const b=E*f;let x=Math.min(h-b,f);if(x=hw(x,n),x<=0)return;const v=(function({channelData:y,offset:m,clampedWidth:A,totalWidth:j}){return y.map((L=>{const O=Math.floor(m/j*L.length),V=Math.floor((m+A)/j*L.length);return L.slice(O,V)}))})({channelData:e,offset:b,clampedWidth:x,totalWidth:h});this.renderSingleCanvas(v,n,x,i,b,a,l)},w=Math.ceil(h/f);if(!this.isScrollable){for(let E=0;E<w;E++)_(E);return}if(pw({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:h,numCanvases:w}).forEach((E=>_(E))),w>1){const E=this.on("scroll",(()=>{const{scrollLeft:b}=this.scrollContainer;Object.keys(p).length>10&&(a.innerHTML="",l.innerHTML="",p={}),pw({scrollLeft:b,totalWidth:h,numCanvases:w}).forEach((x=>_(x)))}));this.unsubscribeOnScroll.push(E)}}renderChannel(e,n,r,i){var{overlay:a}=n,l=(function(f,p){var _={};for(var w in f)Object.prototype.hasOwnProperty.call(f,w)&&p.indexOf(w)<0&&(_[w]=f[w]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var E=0;for(w=Object.getOwnPropertySymbols(f);E<w.length;E++)p.indexOf(w[E])<0&&Object.prototype.propertyIsEnumerable.call(f,w[E])&&(_[w[E]]=f[w[E]])}return _})(n,["overlay"]);const c=document.createElement("div"),d=this.getHeight(l.height,l.splitChannels);c.style.height=`${d}px`,a&&i>0&&(c.style.marginTop=`-${d}px`),this.canvasWrapper.style.minHeight=`${d}px`,this.canvasWrapper.appendChild(c);const h=c.cloneNode();this.progressWrapper.appendChild(h),this.renderMultiCanvas(e,l,r,d,c,h)}render(e){return Jn(this,void 0,void 0,(function*(){var n;this.timeouts.forEach((h=>h())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,{scrollWidth:a,isScrollable:l,useParentWidth:c,width:d}=(function({duration:h,minPxPerSec:f=0,parentWidth:p,fillParent:_,pixelRatio:w}){const E=Math.ceil(h*f),b=E>p,x=!!(_&&!b);return{scrollWidth:E,isScrollable:b,useParentWidth:x,width:(x?p:E)*w}})({duration:e.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:i,fillParent:this.options.fillParent,pixelRatio:r});if(this.isScrollable=l,this.wrapper.style.width=c?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let h=0;h<e.numberOfChannels;h++){const f=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[h]);this.renderChannel([e.getChannelData(h)],f,d,h)}else{const h=[e.getChannelData(0)];e.numberOfChannels>1&&h.push(e.getChannelData(1)),this.renderChannel(h,this.options,d,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((r=>r())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect(),i=(function(a){const l=2*a;return(l<0?Math.floor(l):Math.ceil(l))/2})(r-n);this.scrollContainer.scrollLeft+=i}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:a}=this.scrollContainer,l=e*i,c=r,d=r+a,h=a/2;if(this.isDragging)l+30>d?this.scrollContainer.scrollLeft+=30:l-30<c&&(this.scrollContainer.scrollLeft-=30);else{(l<c||l>d)&&(this.scrollContainer.scrollLeft=l-(this.options.autoCenter?h:0));const f=l-r-h;n&&this.options.autoCenter&&f>0&&(this.scrollContainer.scrollLeft+=f)}}renderProgress(e,n){if(isNaN(e))return;const r=100*e;this.canvasWrapper.style.clipPath=`polygon(${r}% 0%, 100% 0%, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${e*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(e,n)}exportImage(e,n,r){return Jn(this,void 0,void 0,(function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const a=Array.from(i).map((l=>l.toDataURL(e,n)));return Promise.resolve(a)}return Promise.all(Array.from(i).map((a=>new Promise(((l,c)=>{a.toBlob((d=>{d?l(d):c(new Error("Could not export image"))}),e,n)})))))}))}}class kz extends Wc{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const e=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(e))};e()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class Sm extends Wc{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Jn(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then((n=>{if(n.status>=400)throw new Error(`Failed to fetch ${e}: ${n.status} (${n.statusText})`);return n.arrayBuffer()})).then((n=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(n))).then((n=>{this.currentSrc===e&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((n=>{console.error("WebAudioPlayer load error:",n)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let e=this.playedDuration*this._playbackRate;(e>=this.duration||e<0)&&(e=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,e),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Jn(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){const n=e-this.currentTime,r=this.bufferNode;r?.stop(this.audioContext.currentTime+n),r?.addEventListener("ended",(()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(e){return Jn(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const n=!this.paused;n&&this._pause(),this.playedDuration=e/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,n;return(e=this._duration)!==null&&e!==void 0?e:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)e.push(this.buffer.getChannelData(r));return e}removeAttribute(e){switch(e){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const Pz={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Tc extends xz{static create(e){return new Tc(e)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(e){const n=e.media||(e.backend==="WebAudio"?new Sm:void 0);super({media:n,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},Pz,e);const{state:r,actions:i}=(function(c){var d,h,f,p,_,w;const E=(d=c?.currentTime)!==null&&d!==void 0?d:yn(0),b=(h=c?.duration)!==null&&h!==void 0?h:yn(0),x=(f=c?.isPlaying)!==null&&f!==void 0?f:yn(!1),v=(p=c?.isSeeking)!==null&&p!==void 0?p:yn(!1),y=(_=c?.volume)!==null&&_!==void 0?_:yn(1),m=(w=c?.playbackRate)!==null&&w!==void 0?w:yn(1),A=yn(null),j=yn(null),L=yn(""),O=yn(0),V=yn(0),q=lo((()=>!x.value),[x]),K=lo((()=>A.value!==null),[A]),G=lo((()=>K.value&&b.value>0),[K,b]),P=lo((()=>E.value),[E]),z=lo((()=>b.value>0?E.value/b.value:0),[E,b]);return{state:{currentTime:E,duration:b,isPlaying:x,isPaused:q,isSeeking:v,volume:y,playbackRate:m,audioBuffer:A,peaks:j,url:L,zoom:O,scrollPosition:V,canPlay:K,isReady:G,progress:P,progressPercent:z},actions:{setCurrentTime:S=>{const W=Math.max(0,Math.min(b.value||1/0,S));E.set(W)},setDuration:S=>{b.set(Math.max(0,S))},setPlaying:S=>{x.set(S)},setSeeking:S=>{v.set(S)},setVolume:S=>{const W=Math.max(0,Math.min(1,S));y.set(W)},setPlaybackRate:S=>{const W=Math.max(.1,Math.min(16,S));m.set(W)},setAudioBuffer:S=>{A.set(S),S&&b.set(S.duration)},setPeaks:S=>{j.set(S)},setUrl:S=>{L.set(S)},setZoom:S=>{O.set(Math.max(0,S))},setScrollPosition:S=>{V.set(Math.max(0,S))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=r,this.wavesurferActions=i,this.timer=new kz;const a=n?void 0:this.getMediaElement();this.renderer=new Tz(this.options,a),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const l=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:c,duration:d}=this.options;(l||c&&d)&&this.load(l,c,d).catch((h=>{this.emit("error",h instanceof Error?h:new Error(String(h)))}))}))}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e),this.stopAtPosition!=null&&this.isPlaying()&&e>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(e,n){const r=[];r.push(Ei((()=>{const l=e.isPlaying.value;n.emit(l?"play":"pause")}),[e.isPlaying])),r.push(Ei((()=>{const l=e.currentTime.value;n.emit("timeupdate",l),e.isPlaying.value&&n.emit("audioprocess",l)}),[e.currentTime,e.isPlaying])),r.push(Ei((()=>{e.isSeeking.value&&n.emit("seeking",e.currentTime.value)}),[e.isSeeking,e.currentTime]));let i=!1;r.push(Ei((()=>{e.isReady.value&&!i&&(i=!0,n.emit("ready",e.duration.value))}),[e.isReady,e.duration]));let a=!1;return r.push(Ei((()=>{const l=e.isPlaying.value,c=e.currentTime.value,d=e.duration.value,h=d>0&&c>=d;a&&!l&&h&&n.emit("finish"),a=l&&h}),[e.isPlaying,e.currentTime,e.duration])),r.push(Ei((()=>{const l=e.zoom.value;l>0&&n.emit("zoom",l)}),[e.zoom])),()=>{r.forEach((l=>l()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const e=this.updateProgress();this.emit("timeupdate",e)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var e;this.emit("error",(e=this.getMediaElement().error)!==null&&e!==void 0?e:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((e,n)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,n))})),this.renderer.on("dblclick",((e,n)=>{this.emit("dblclick",e,n)})),this.renderer.on("scroll",((e,n,r,i)=>{const a=this.getDuration();this.emit("scroll",e*a,n*a,r,i)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(e=>{this.emit("dragstart",e)})),this.renderer.on("dragend",(e=>{this.emit("dragend",e)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let e;const n=this.renderer.on("drag",(r=>{var i;if(!this.options.interact)return;this.renderer.renderProgress(r),clearTimeout(e);let a=0;const l=this.options.dragToSeek;this.isPlaying()?a=0:l===!0?a=200:l&&typeof l=="object"&&(a=(i=l.debounceTime)!==null&&i!==void 0?i:200),e=setTimeout((()=>{this.seekTo(r)}),a),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}));this.subscriptions.push((()=>{clearTimeout(e),n()}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach((n=>{this.registerPlugin(n)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((e=>e())),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),e.duration&&!e.peaks&&(this.decodedData=md.createBuffer(this.exportPeaks(),e.duration)),e.peaks&&e.duration&&(this.decodedData=md.createBuffer(e.peaks,e.duration)),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){if(this.plugins.includes(e))return e;e._init(this),this.plugins.push(e);const n=e.once("destroy",(()=>{this.plugins=this.plugins.filter((r=>r!==e)),this.subscriptions=this.subscriptions.filter((r=>r!==n))}));return this.subscriptions.push(n),e}unregisterPlugin(e){this.plugins=this.plugins.filter((n=>n!==e)),e.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const n=e/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(e,n,r,i){return Jn(this,void 0,void 0,(function*(){var a;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(a=this.abortController)===null||a===void 0||a.abort(),this.abortController=null,!n&&!r){const c=this.options.fetchParams||{};window.AbortController&&!c.signal&&(this.abortController=new AbortController,c.signal=this.abortController.signal);const d=f=>this.emit("loading",f);n=yield wz.fetchBlob(e,d,c);const h=this.options.blobMimeType;h&&(n=new Blob([n],{type:h}))}this.setSrc(e,n);const l=yield new Promise((c=>{const d=i||this.getDuration();d?c(d):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>c(this.getDuration())),{once:!0}))}));if(!e&&!n){const c=this.getMediaElement();c instanceof Sm&&(c.duration=l)}if(r)this.decodedData=md.createBuffer(r,l||0);else if(n){const c=yield n.arrayBuffer();this.decodedData=yield md.decode(c,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(e,n,r){return Jn(this,void 0,void 0,(function*(){try{return yield this.loadAudio(e,void 0,n,r)}catch(i){throw this.emit("error",i),i}}))}loadBlob(e,n,r){return Jn(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",e,n,r)}catch(i){throw this.emit("error",i),i}}))}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(e,this.decodedData.numberOfChannels),a=[];for(let l=0;l<i;l++){const c=this.decodedData.getChannelData(l),d=[],h=c.length/n;for(let f=0;f<n;f++){const p=c.slice(Math.floor(f*h),Math.ceil((f+1)*h));let _=0;for(let w=0;w<p.length;w++){const E=p[w];Math.abs(E)>Math.abs(_)&&(_=E)}d.push(Math.round(_*r)/r)}a.push(d)}return a}getDuration(){let e=super.getDuration()||0;return e!==0&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){this.stopAtPosition=null,super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const n=this.getDuration()*e;this.setTime(n)}play(e,n){const r=Object.create(null,{play:{get:()=>super.play}});return Jn(this,void 0,void 0,(function*(){e!=null&&this.setTime(e);const i=yield r.play.call(this);return n!=null&&(this.media instanceof Sm?this.media.stopAt(n):this.stopAtPosition=n),i}))}playPause(){return Jn(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return Jn(this,arguments,void 0,(function*(e="image/png",n=1,r="dataURL"){return this.renderer.exportImage(e,n,r)}))}destroy(){var e;this.emit("destroy"),(e=this.abortController)===null||e===void 0||e.abort(),this.plugins.forEach((n=>n.destroy())),this.subscriptions.forEach((n=>n())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((n=>n())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Tc.BasePlugin=class extends Wc{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},Tc.dom=bz;class w6{constructor(){this.listeners={}}on(e,n,r){if(this.listeners[e]||(this.listeners[e]=new Set),r?.once){const i=(...a)=>{this.un(e,i),n(...a)};return this.listeners[e].add(i),()=>this.un(e,i)}return this.listeners[e].add(n),()=>this.un(e,n)}un(e,n){var r;(r=this.listeners[e])===null||r===void 0||r.delete(n)}once(e,n){return this.on(e,n,{once:!0})}unAll(){this.listeners={}}emit(e,...n){this.listeners[e]&&this.listeners[e].forEach((r=>r(...n)))}}class Rz extends w6{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function x6(t,e){const n=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[r,i]of Object.entries(e))if(r==="children"&&i)for(const[a,l]of Object.entries(i))l instanceof Node?n.appendChild(l):typeof l=="string"?n.appendChild(document.createTextNode(l)):n.appendChild(x6(a,l));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Xl(t,e,n){const r=x6(t,e||{});return n?.appendChild(r),r}function S6(t){let e=t;const n=new Set;return{get value(){return e},set(r){Object.is(e,r)||(e=r,n.forEach((i=>i(e))))},update(r){this.set(r(e))},subscribe:r=>(n.add(r),()=>n.delete(r))}}function Ed(t,e){let n;const r=()=>{n&&(n(),n=void 0),n=t()},i=e.map((a=>a.subscribe(r)));return r(),()=>{n&&(n(),n=void 0),i.forEach((a=>a()))}}function aa(t,e){const n=S6(null),r=i=>{n.set(i)};return t.addEventListener(e,r),n._cleanup=()=>{t.removeEventListener(e,r)},n}function oo(t){const e=t._cleanup;typeof e=="function"&&e()}function Td(t,e={}){const{threshold:n=3,mouseButton:r=0,touchDelay:i=100}=e,a=S6(null),l=new Map,c=matchMedia("(pointer: coarse)").matches;let d=()=>{};const h=f=>{if(f.button!==r||(l.set(f.pointerId,f),l.size>1))return;let p=f.clientX,_=f.clientY,w=!1;const E=Date.now(),b=t.getBoundingClientRect(),{left:x,top:v}=b,y=O=>{if(O.defaultPrevented||l.size>1||c&&Date.now()-E<i)return;const V=O.clientX,q=O.clientY,K=V-p,G=q-_;(w||Math.abs(K)>n||Math.abs(G)>n)&&(O.preventDefault(),O.stopPropagation(),w||(a.set({type:"start",x:p-x,y:_-v}),w=!0),a.set({type:"move",x:V-x,y:q-v,deltaX:K,deltaY:G}),p=V,_=q)},m=O=>{if(l.delete(O.pointerId),w){const V=O.clientX,q=O.clientY;a.set({type:"end",x:V-x,y:q-v})}d()},A=O=>{l.delete(O.pointerId),O.relatedTarget&&O.relatedTarget!==document.documentElement||m(O)},j=O=>{w&&(O.stopPropagation(),O.preventDefault())},L=O=>{O.defaultPrevented||l.size>1||w&&O.preventDefault()};document.addEventListener("pointermove",y),document.addEventListener("pointerup",m),document.addEventListener("pointerout",A),document.addEventListener("pointercancel",A),document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("click",j,{capture:!0}),d=()=>{document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",m),document.removeEventListener("pointerout",A),document.removeEventListener("pointercancel",A),document.removeEventListener("touchmove",L),setTimeout((()=>{document.removeEventListener("click",j,{capture:!0})}),10)}};return t.addEventListener("pointerdown",h),{signal:a,cleanup:()=>{d(),t.removeEventListener("pointerdown",h),l.clear(),oo(a)}}}class mw extends w6{constructor(e,n,r=0){var i,a,l,c,d,h,f,p,_,w;super(),this.totalDuration=n,this.numberOfChannels=r,this.element=null,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.updatingSide=void 0,this.isRemoved=!1,this.subscriptions=[],this.id=e.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(e.start),this.end=this.clampPosition((i=e.end)!==null&&i!==void 0?i:e.start),this.drag=(a=e.drag)===null||a===void 0||a,this.resize=(l=e.resize)===null||l===void 0||l,this.resizeStart=(c=e.resizeStart)===null||c===void 0||c,this.resizeEnd=(d=e.resizeEnd)===null||d===void 0||d,this.color=(h=e.color)!==null&&h!==void 0?h:"rgba(0, 0, 0, 0.1)",this.minLength=(f=e.minLength)!==null&&f!==void 0?f:this.minLength,this.maxLength=(p=e.maxLength)!==null&&p!==void 0?p:this.maxLength,this.channelIdx=(_=e.channelIdx)!==null&&_!==void 0?_:-1,this.contentEditable=(w=e.contentEditable)!==null&&w!==void 0?w:this.contentEditable,this.element=this.initElement(),this.setContent(e.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(e){return Math.max(0,Math.min(this.totalDuration,e))}setPart(){var e;const n=this.start===this.end;(e=this.element)===null||e===void 0||e.setAttribute("part",`${n?"marker":"region"} ${this.id}`)}addResizeHandles(e){const n={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},r=Xl("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},n),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},e),i=Xl("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},n),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},e),a=Td(r,{threshold:1}),l=Td(i,{threshold:1}),c=Ed((()=>{const h=a.signal.value;h&&(h.type==="move"&&h.deltaX!==void 0?this.onResize(h.deltaX,"start"):h.type==="end"&&this.onEndResizing("start"))}),[a.signal]),d=Ed((()=>{const h=l.signal.value;h&&(h.type==="move"&&h.deltaX!==void 0?this.onResize(h.deltaX,"end"):h.type==="end"&&this.onEndResizing("end"))}),[l.signal]);this.subscriptions.push((()=>{c(),d(),a.cleanup(),l.cleanup()}))}removeResizeHandles(e){const n=e.querySelector('[part*="region-handle-left"]'),r=e.querySelector('[part*="region-handle-right"]');n&&e.removeChild(n),r&&e.removeChild(r)}initElement(){if(this.isRemoved)return null;const e=this.start===this.end;let n=0,r=100;this.channelIdx>=0&&this.numberOfChannels>0&&this.channelIdx<this.numberOfChannels&&(r=100/this.numberOfChannels,n=r*this.channelIdx);const i=Xl("div",{style:{position:"absolute",top:`${n}%`,height:`${r}%`,backgroundColor:e?"none":this.color,borderLeft:e?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!e&&this.resize&&this.addResizeHandles(i),i}renderPosition(){if(!this.element)return;const e=this.start/this.totalDuration,n=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*e+"%",this.element.style.right=100*n+"%"}toggleCursor(e){var n;this.drag&&(!((n=this.element)===null||n===void 0)&&n.style)&&(this.element.style.cursor=e?"grabbing":"grab")}initMouseEvents(){const{element:e}=this;if(!e)return;const n=aa(e,"click"),r=aa(e,"mouseenter"),i=aa(e,"mouseleave"),a=aa(e,"dblclick"),l=aa(e,"pointerdown"),c=aa(e,"pointerup"),d=n.subscribe((x=>x&&this.emit("click",x))),h=r.subscribe((x=>x&&this.emit("over",x))),f=i.subscribe((x=>x&&this.emit("leave",x))),p=a.subscribe((x=>x&&this.emit("dblclick",x))),_=l.subscribe((x=>x&&this.toggleCursor(!0))),w=c.subscribe((x=>x&&this.toggleCursor(!1)));this.subscriptions.push((()=>{d(),h(),f(),p(),_(),w(),oo(n),oo(r),oo(i),oo(a),oo(l),oo(c)}));const E=Td(e),b=Ed((()=>{const x=E.signal.value;x&&(x.type==="start"?this.toggleCursor(!0):x.type==="move"&&x.deltaX!==void 0?this.onMove(x.deltaX):x.type==="end"&&(this.toggleCursor(!1),this.drag&&this.emit("update-end")))}),[E.signal]);this.subscriptions.push((()=>{b(),E.cleanup()})),this.contentEditable&&this.content&&(this.contentClickListener=x=>this.onContentClick(x),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener))}_onUpdate(e,n,r){var i;if(!(!((i=this.element)===null||i===void 0)&&i.parentElement))return;const{width:a}=this.element.parentElement.getBoundingClientRect(),l=e/a*this.totalDuration;let c=n&&n!=="start"?this.start:this.start+l,d=n&&n!=="end"?this.end:this.end+l;const h=r!==void 0;h&&this.updatingSide&&this.updatingSide!==n&&(this.updatingSide==="start"?c=r:d=r),c=Math.max(0,c),d=Math.min(this.totalDuration,d);const f=d-c;this.updatingSide=n;const p=f>=this.minLength&&f<=this.maxLength;c<=d&&(p||h)&&(this.start=c,this.end=d,this.renderPosition(),this.emit("update",n))}onMove(e){this.drag&&this._onUpdate(e)}onResize(e,n){this.resize&&(this.resizeStart||n!=="start")&&(this.resizeEnd||n!=="end")&&this._onUpdate(e,n)}onEndResizing(e){this.resize&&(this.emit("update-end",e),this.updatingSide=void 0)}onContentClick(e){e.stopPropagation(),e.target.focus(),this.emit("click",e)}onContentBlur(){this.emit("update-end")}_setTotalDuration(e){this.totalDuration=e,this.renderPosition()}play(e){this.emit("play",e&&this.end!==this.start?this.end:void 0)}getContent(e=!1){var n;return e?this.content||void 0:this.element instanceof HTMLElement?((n=this.content)===null||n===void 0?void 0:n.innerHTML)||void 0:""}setContent(e){var n;if(this.element)if(this.content&&this.contentEditable&&(this.contentClickListener&&this.content.removeEventListener("click",this.contentClickListener),this.contentBlurListener&&this.content.removeEventListener("blur",this.contentBlurListener)),(n=this.content)===null||n===void 0||n.remove(),e){if(typeof e=="string"){const r=this.start===this.end;this.content=Xl("div",{style:{padding:`0.2em ${r?.2:.4}em`,display:"inline-block"},textContent:e})}else this.content=e;this.contentEditable&&(this.content.contentEditable="true",this.contentClickListener=r=>this.onContentClick(r),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener)),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content),this.emit("content-changed")}else this.content=void 0}setOptions(e){var n,r;if(this.element){if(e.color&&(this.color=e.color,this.element.style.backgroundColor=this.color),e.drag!==void 0&&(this.drag=e.drag,this.element.style.cursor=this.drag?"grab":"default"),e.start!==void 0||e.end!==void 0){const i=this.start===this.end;this.start=this.clampPosition((n=e.start)!==null&&n!==void 0?n:this.start),this.end=this.clampPosition((r=e.end)!==null&&r!==void 0?r:i?this.start:this.end),this.renderPosition(),this.setPart()}if(e.content&&this.setContent(e.content),e.id&&(this.id=e.id,this.setPart()),e.resize!==void 0&&e.resize!==this.resize){const i=this.start===this.end;this.resize=e.resize,this.resize&&!i?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}e.resizeStart!==void 0&&(this.resizeStart=e.resizeStart),e.resizeEnd!==void 0&&(this.resizeEnd=e.resizeEnd)}}remove(){this.isRemoved=!0,this.emit("remove"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.content&&this.contentEditable&&(this.contentClickListener&&(this.content.removeEventListener("click",this.contentClickListener),this.contentClickListener=void 0),this.contentBlurListener&&(this.content.removeEventListener("blur",this.contentBlurListener),this.contentBlurListener=void 0)),this.element&&(this.element.remove(),this.element=null),this.unAll()}}class bg extends Rz{constructor(e){super(e),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(e){return new bg(e)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer),this.subscriptions.push(this.wavesurfer.on("ready",(n=>{this.regions.forEach((r=>r._setTotalDuration(n)))})));let e=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",(n=>{const r=this.regions.filter((i=>i.start<=n&&(i.end===i.start?i.start+.05:i.end)>=n));r.forEach((i=>{e.includes(i)||this.emit("region-in",i)})),e.forEach((i=>{r.includes(i)||this.emit("region-out",i)})),e=r})))}initRegionsContainer(){return Xl("div",{part:"regions-container",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"5",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(e){e.content&&setTimeout((()=>{const n=e.content,r=n.getBoundingClientRect(),i=this.regions.map((a=>{if(a===e||!a.content)return 0;const l=a.content.getBoundingClientRect();return r.left<l.left+l.width&&l.left<r.left+r.width?l.height:0})).reduce(((a,l)=>a+l),0);n.style.marginTop=`${i}px`}),10)}adjustScroll(e){var n,r;if(!e.element)return;const i=(r=(n=this.wavesurfer)===null||n===void 0?void 0:n.getWrapper())===null||r===void 0?void 0:r.parentElement;if(!i)return;const{clientWidth:a,scrollWidth:l}=i;if(l<=a)return;const c=i.getBoundingClientRect(),d=e.element.getBoundingClientRect(),h=d.left-c.left,f=d.right-c.left;h<0?i.scrollLeft+=h:f>a&&(i.scrollLeft+=f-a)}virtualAppend(e,n,r){const i=()=>{if(!this.wavesurfer)return;const a=this.wavesurfer.getWidth(),l=this.wavesurfer.getScroll(),c=n.clientWidth,d=this.wavesurfer.getDuration(),h=Math.round(e.start/d*c),f=h+(Math.round((e.end-e.start)/d*c)||1)>l&&h<l+a;f&&!r.parentElement?n.appendChild(r):!f&&r.parentElement&&r.remove()};setTimeout((()=>{if(!this.wavesurfer||!e.element)return;i();const a=this.wavesurfer.on("scroll",i),l=this.wavesurfer.on("zoom",i),c=this.wavesurfer.on("resize",i);this.subscriptions.push(a,l,c),e.once("remove",(()=>{a(),l(),c()}))}),0)}saveRegion(e){if(!e.element)return;this.virtualAppend(e,this.regionsContainer,e.element),this.avoidOverlapping(e),this.regions.push(e);const n=[e.on("update",(r=>{r||this.adjustScroll(e),this.emit("region-update",e,r)})),e.on("update-end",(r=>{this.avoidOverlapping(e),this.emit("region-updated",e,r)})),e.on("play",(r=>{var i;(i=this.wavesurfer)===null||i===void 0||i.play(e.start,r)})),e.on("click",(r=>{this.emit("region-clicked",e,r)})),e.on("dblclick",(r=>{this.emit("region-double-clicked",e,r)})),e.on("content-changed",(()=>{this.emit("region-content-changed",e)})),e.once("remove",(()=>{n.forEach((r=>r())),this.regions=this.regions.filter((r=>r!==e)),this.emit("region-removed",e)}))];this.subscriptions.push(...n),this.emit("region-created",e)}addRegion(e){var n,r;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const i=this.wavesurfer.getDuration(),a=(r=(n=this.wavesurfer)===null||n===void 0?void 0:n.getDecodedData())===null||r===void 0?void 0:r.numberOfChannels,l=new mw(e,i,a);return this.emit("region-initialized",l),i?this.saveRegion(l):this.subscriptions.push(this.wavesurfer.once("ready",(c=>{l._setTotalDuration(c),this.saveRegion(l)}))),l}enableDragSelection(e,n=3){var r;const i=(r=this.wavesurfer)===null||r===void 0?void 0:r.getWrapper();if(!(i&&i instanceof HTMLElement))return()=>{};let a=null,l=0,c=0;const d=Td(i,{threshold:n}),h=Ed((()=>{var f,p;const _=d.signal.value;if(_)if(_.type==="start"){if(l=_.x,!this.wavesurfer)return;const w=this.wavesurfer.getDuration(),E=(p=(f=this.wavesurfer)===null||f===void 0?void 0:f.getDecodedData())===null||p===void 0?void 0:p.numberOfChannels,{width:b}=this.wavesurfer.getWrapper().getBoundingClientRect();c=l/b*w;const x=_.x/b*w,v=(_.x+5)/b*w;a=new mw(Object.assign(Object.assign({},e),{start:x,end:v}),w,E),this.emit("region-initialized",a),a.element&&this.regionsContainer.appendChild(a.element)}else _.type==="move"&&_.deltaX!==void 0?a&&a._onUpdate(_.deltaX,_.x>l?"end":"start",c):_.type==="end"&&a&&(this.saveRegion(a),a.updatingSide=void 0,a=null)}),[d.signal]);return()=>{h(),d.cleanup()}}clearRegions(){this.regions.slice().forEach((e=>e.remove())),this.regions=[]}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}function gw({blob:t,flags:e,onFlagClick:n,height:r=128,initialRegion:i,initialSeekTime:a,onRegionChange:l,onOpenSnippetEditor:c,onWaveformClick:d}){const h=D.useRef(null),f=D.useRef(null),p=D.useRef(null),_=D.useRef(null),w=D.useRef(i??null),[E,b]=D.useState(!1),[x,v]=D.useState(0),[y,m]=D.useState(0),[A,j]=D.useState(50),[L,O]=D.useState(a),[V,q]=D.useState(null);D.useEffect(()=>{O(a)},[a]),D.useEffect(()=>{if(!h.current||!t)return;const G=Tc.create({container:h.current,waveColor:"#4b5563",progressColor:"#7c3aed",cursorColor:"#0ea5e9",barWidth:2,barGap:3,barRadius:3,height:r,normalize:!0,minPxPerSec:50,autoScroll:!0,hideScrollbar:!1}),P=G.registerPlugin(bg.create());return p.current=P,G.loadBlob(t),f.current=G,G.on("ready",()=>{const z=G.getDuration();v(z),G.getWrapper().addEventListener("click",U=>{const Z=G.getWrapper().getBoundingClientRect(),X=U.clientX-Z.left,C=G.getWrapper().parentElement?.scrollLeft||0,I=(X+C)/G.getWrapper().scrollWidth*z;q(I)});const S=G.getWrapper();console.log("=== WAVEFORM DOM STRUCTURE ==="),console.log("waveformWrapper:",S),console.log("waveformWrapper.scrollWidth:",S.scrollWidth),console.log("waveformWrapper.clientWidth:",S.clientWidth),console.log("waveformWrapper.scrollLeft:",S.scrollLeft);const W=S.parentElement;if(W){console.log("parent:",W),console.log("parent.scrollWidth:",W.scrollWidth),console.log("parent.clientWidth:",W.clientWidth),console.log("parent.scrollLeft:",W.scrollLeft);const U=W.parentElement;U&&(console.log("grandparent:",U),console.log("grandparent.scrollWidth:",U.scrollWidth),console.log("grandparent.clientWidth:",U.clientWidth),console.log("grandparent.scrollLeft:",U.scrollLeft))}let ne=G.getWrapper();for(;ne;){const U=getComputedStyle(ne).overflow+getComputedStyle(ne).overflowX;(U.includes("auto")||U.includes("scroll"))&&console.log("scrollable element found:",ne,"scrollWidth:",ne.scrollWidth),ne=ne.parentElement}console.log("=== END DOM STRUCTURE ===");const Y=G.getWrapper();if(!_.current){const U=document.createElement("div");U.className="wavesurfer-flag-container",U.style.cssText="position: absolute; top: 0; left: 0; height: 100%; width: 0; pointer-events: none; z-index: 10; overflow: visible;",Y.appendChild(U),_.current=U}_.current&&(_.current.style.width=`${Y.scrollWidth}px`),P.getRegions().forEach(U=>U.remove()),e.forEach(U=>{P.addRegion({id:`flag-${U.id}`,start:U.timestamp/1e3,end:U.timestamp/1e3+.1,color:"transparent",drag:!1,resize:!1,data:{flag:U}})}),i&&(P.addRegion({id:"snippet-region",start:i[0],end:i[1],color:"rgba(124, 58, 237, 0.2)",drag:!0,resize:!0}),requestAnimationFrame(()=>{setTimeout(()=>{if(!G)return;const U=i[0];G.setTime(U);const Z=U*50;G.getWrapper().scrollTo({left:Z-100,behavior:"smooth"}),setTimeout(()=>{const X=G.getWrapper().parentElement;if(!X)return;console.log("Initial scroll container:",X,"scrollWidth:",X.scrollWidth,"clientWidth:",X.clientWidth);const C=G.getDuration(),T=X.scrollWidth-X.clientWidth,I=U/C*X.scrollWidth-X.clientWidth/2;X.scrollLeft=Math.max(0,Math.min(I,T))},50)},100)}))}),P.on("region-clicked",(z,S)=>{if(z.id.startsWith("flag-")){S.stopPropagation();const W=z.data?.flag;W&&n?.(W)}}),P.on("region-updated",z=>{z.id==="snippet-region"&&(w.current=[z.start,z.end]),l?.([z.start,z.end])}),G.on("audioprocess",()=>{const z=G.getCurrentTime();m(z);const S=w.current;S&&z>=S[1]&&(G.pause(),G.setTime(S[0]),b(!1))}),G.on("finish",()=>{b(!1)}),()=>{_.current&&_.current.parentNode&&(_.current.parentNode.removeChild(_.current),_.current=null),G.destroy()}},[t,r]);const K=()=>{if(f.current){if(!E&&w.current){const G=w.current,P=f.current.getCurrentTime();(P<G[0]-.1||P>=G[1]-.05)&&f.current.setTime(G[0])}f.current.playPause()}};return D.useEffect(()=>{const G=f.current;if(!G)return;const P=()=>b(!0),z=()=>b(!1);return G.on("play",P),G.on("pause",z),G.on("finish",z),()=>{G.un("play",P),G.un("pause",z),G.un("finish",z)}},[]),D.useEffect(()=>{const G=f.current,P=_.current;if(!G||!P||!x||x===0)return;const z=G.getWrapper(),S=z.scrollWidth;P.style.width=`${S}px`;const W=new Map;P.querySelectorAll("button[data-flag-id]").forEach(U=>{const Z=parseInt(U.getAttribute("data-flag-id")||"0");Z&&W.set(Z,U)});const ne=new Set;e.forEach(U=>{ne.add(U.id);const X=U.timestamp/1e3/x*S,T=(F=>{switch(F){case"red":return"#ef4444";case"green":return"#10b981";case"blue":return"#3b82f6";case"purple":return"#a855f7";case"orange":return"#f97316";default:return"#10b981"}})(U.color),I=W.get(U.id);if(I){const F=parseFloat(I.style.left)||0,H=X;Math.abs(F-H)>.1&&(I.style.left=`${H}px`);const ae=I.querySelector("div[data-flag-color]");ae&&ae.style.backgroundColor!==T&&(ae.style.backgroundColor=T);const le=I.querySelector("div[data-tooltip]");le&&le.textContent!==(U.description||"Flagged Moment")&&(le.textContent=U.description||"Flagged Moment")}else{const F=document.createElement("button");F.setAttribute("data-flag-id",U.id.toString()),F.style.cssText=`left: ${X}px; position: absolute; top: 0; transform: translateX(-50%); pointer-events: auto; cursor: pointer; background: none; border: none; padding: 0; z-index: 10; display: flex; flex-direction: column; align-items: center;`,F.onpointerdown=be=>{be.preventDefault(),be.stopPropagation(),n?.(U)};const H=document.createElement("div");H.style.cssText="width: 1px; height: 1rem; background-color: rgba(0, 0, 0, 0.1); pointer-events: none; margin-bottom: 0.25rem;",F.appendChild(H);const ae=document.createElement("div");ae.setAttribute("data-flag-color",U.color),ae.style.cssText=`position: relative; padding: 0.375rem; border-radius: 9999px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); border: 2px solid white; background-color: ${T}; transition: transform 0.2s;`,F.addEventListener("mouseenter",()=>{ae.style.transform="scale(1.25)",H.style.backgroundColor="rgba(59, 130, 246, 0.3)"}),F.addEventListener("mouseleave",()=>{ae.style.transform="scale(1)",H.style.backgroundColor="rgba(0, 0, 0, 0.1)"});const le=document.createElementNS("http://www.w3.org/2000/svg","svg");le.setAttribute("viewBox","0 0 24 24"),le.setAttribute("fill","white"),le.style.cssText="width: 0.75rem; height: 0.75rem; display: block;";const te=document.createElementNS("http://www.w3.org/2000/svg","path");te.setAttribute("d","M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"),te.setAttribute("fill","white"),le.appendChild(te),ae.appendChild(le),F.appendChild(ae);const ce=document.createElement("div");ce.setAttribute("data-tooltip","true"),ce.textContent=U.description||"Flagged Moment",ce.style.cssText="position: absolute; bottom: 100%; margin-bottom: 0.5rem; left: 50%; transform: translateX(-50%); background-color: hsl(var(--popover)); color: hsl(var(--popover-foreground)); font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 0.25rem; opacity: 0; white-space: nowrap; pointer-events: none; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 0, 0, 0.1); transition: opacity 0.2s;",F.appendChild(ce),F.addEventListener("mouseenter",()=>{ce.style.opacity="1"}),F.addEventListener("mouseleave",()=>{ce.style.opacity="0"}),P.appendChild(F)}}),W.forEach((U,Z)=>{ne.has(Z)||U.remove()});const Y=()=>{const U=z.scrollWidth;P.style.width=`${U}px`,P.querySelectorAll("button[data-flag-id]").forEach(X=>{const C=X,T=parseInt(C.getAttribute("data-flag-id")||"0"),I=e.find(F=>F.id===T);if(I){const H=I.timestamp/1e3/x*U;C.style.left=`${H}px`}})};return G.on("zoom",Y),G.on("redraw",Y),()=>{G.un("zoom",Y),G.un("redraw",Y)}},[x,e,n]),R.jsxs("div",{className:"w-full space-y-4",children:[R.jsx("div",{className:"relative bg-card/30 rounded-2xl p-4 border border-border shadow-[inset_0_1px_1px_rgba(0,0,0,0.05)] dark:shadow-[inset_0_1px_1px_rgba(255,255,255,0.05)] overflow-hidden",children:R.jsx("div",{className:"relative w-full overflow-hidden",children:R.jsx("div",{ref:h,className:"w-full relative z-10"})})}),R.jsxs("div",{className:"flex items-center justify-between px-2",children:[R.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[R.jsxs("button",{onClick:K,className:"flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full bg-primary text-primary-foreground font-semibold hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20 text-sm sm:text-base",children:[E?R.jsx(Kk,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-current"}):R.jsx(Jk,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-current"}),R.jsx("span",{className:"hidden sm:inline",children:E?"Pause":"Play"})]}),c&&R.jsxs("button",{onClick:c,className:"flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full bg-secondary text-secondary-foreground font-semibold hover:bg-secondary/80 transition-colors text-sm sm:text-base",title:"Open Snippet Editor",children:[R.jsx(n9,{className:"w-4 h-4 sm:w-5 sm:h-5"}),R.jsx("span",{className:"hidden sm:inline",children:"Snippet Editor"})]}),d&&R.jsxs("button",{onClick:()=>{V!==null&&d&&(d(V),q(null))},disabled:V===null,className:`flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-semibold transition-colors text-sm sm:text-base ${V!==null?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-primary text-primary-foreground opacity-50 cursor-not-allowed"}`,title:"Flag It",children:[R.jsx(Sx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),R.jsx("span",{className:"hidden sm:inline",children:"Flag It"})]})]}),i&&R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("button",{onClick:()=>{const G=Math.max(10,A/1.5);console.log("Zoom out to:",G),j(G);const P=f.current;P&&(P.setOptions({minPxPerSec:G}),setTimeout(()=>{const z=P.getWrapper().parentElement,S=P.getWrapper();if(!z||!S)return;const W=P.getDuration();console.log("Before forcing width - wrapper.style.width:",S.style.width);const ne=Math.ceil(W*G);S.style.width=`${ne}px`,S.style.overflow="hidden",console.log("After forcing width - wrapper.style.width:",S.style.width),console.log("Post-zoom-out scrollWidth after overflow fix:",z.scrollWidth);const Y=Math.max(0,z.scrollWidth-z.clientWidth);if(L!==void 0){const U=L/W*ne-z.clientWidth/2;z.scrollLeft=Math.max(0,Math.min(U,Y)),console.log("Final scrollLeft (with anchor):",z.scrollLeft)}else z.scrollLeft=Math.min(z.scrollLeft,Y),console.log("Final scrollLeft (no anchor):",z.scrollLeft)},50))},className:"p-1.5 rounded-md hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Zoom out",children:R.jsx(i9,{className:"w-4 h-4"})}),R.jsxs("span",{className:"text-xs font-mono text-muted-foreground w-10 text-center",children:[Math.round(A),"x"]}),R.jsx("button",{onClick:()=>{const G=Math.min(500,A*1.5);console.log("Zoom in to:",G),j(G);const P=f.current;P&&(P.setOptions({minPxPerSec:G}),setTimeout(()=>{const z=P.getWrapper().parentElement,S=P.getWrapper();if(!z||!S)return;const W=P.getDuration();console.log("Before forcing width - wrapper.style.width:",S.style.width);const ne=Math.ceil(W*G);S.style.width=`${ne}px`,S.style.overflow="hidden",console.log("After forcing width - wrapper.style.width:",S.style.width),console.log("Post-zoom-in scrollWidth after overflow fix:",z.scrollWidth);const Y=Math.max(0,z.scrollWidth-z.clientWidth);if(L!==void 0){const U=L/W*ne-z.clientWidth/2;z.scrollLeft=Math.max(0,Math.min(U,Y)),console.log("Final scrollLeft (with anchor):",z.scrollLeft)}else z.scrollLeft=Math.min(z.scrollLeft,Y),console.log("Final scrollLeft (no anchor):",z.scrollLeft)},50))},className:"p-1.5 rounded-md hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Zoom in",children:R.jsx(s9,{className:"w-4 h-4"})})]}),R.jsxs("div",{className:"font-mono text-sm text-muted-foreground",children:[vw(y)," / ",vw(x)]})]})]})}function vw(t){const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`}var E1=["Enter"," "],Az=["ArrowDown","PageUp","Home"],C6=["ArrowUp","PageDown","End"],Mz=[...Az,...C6],Nz={ltr:[...E1,"ArrowRight"],rtl:[...E1,"ArrowLeft"]},Dz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$c="Menu",[kc,Iz,Oz]=uf($c),[To,E6]=rs($c,[Oz,$a,Ef]),Ff=$a(),T6=Ef(),[jz,ko]=To($c),[Lz,Uc]=To($c),k6=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:l=!0}=t,c=Ff(e),[d,h]=D.useState(null),f=D.useRef(!1),p=Hn(a),_=Sf(i);return D.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),R.jsx(t3,{...c,children:R.jsx(jz,{scope:e,open:n,onOpenChange:p,content:d,onContentChange:h,children:R.jsx(Lz,{scope:e,onClose:D.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:_,modal:l,children:r})})})};k6.displayName=$c;var Bz="MenuAnchor",wg=D.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ff(n);return R.jsx(l0,{...i,...r,ref:e})});wg.displayName=Bz;var xg="MenuPortal",[Fz,P6]=To(xg,{forceMount:void 0}),R6=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=ko(xg,e);return R.jsx(Fz,{scope:e,forceMount:n,children:R.jsx(ss,{present:n||a.open,children:R.jsx(Mc,{asChild:!0,container:i,children:r})})})};R6.displayName=xg;var Lr="MenuContent",[Vz,Sg]=To(Lr),A6=D.forwardRef((t,e)=>{const n=P6(Lr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ko(Lr,t.__scopeMenu),l=Uc(Lr,t.__scopeMenu);return R.jsx(kc.Provider,{scope:t.__scopeMenu,children:R.jsx(ss,{present:r||a.open,children:R.jsx(kc.Slot,{scope:t.__scopeMenu,children:l.modal?R.jsx(zz,{...i,ref:e}):R.jsx(Wz,{...i,ref:e})})})})}),zz=D.forwardRef((t,e)=>{const n=ko(Lr,t.__scopeMenu),r=D.useRef(null),i=Bt(e,r);return D.useEffect(()=>{const a=r.current;if(a)return N0(a)},[]),R.jsx(Cg,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:tt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Wz=D.forwardRef((t,e)=>{const n=ko(Lr,t.__scopeMenu);return R.jsx(Cg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$z=go("MenuContent.ScrollLock"),Cg=D.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:_,onDismiss:w,disableOutsideScroll:E,...b}=t,x=ko(Lr,n),v=Uc(Lr,n),y=Ff(n),m=T6(n),A=Iz(n),[j,L]=D.useState(null),O=D.useRef(null),V=Bt(e,O,x.onContentChange),q=D.useRef(0),K=D.useRef(""),G=D.useRef(0),P=D.useRef(null),z=D.useRef("right"),S=D.useRef(0),W=E?Df:D.Fragment,ne=E?{as:$z,allowPinchZoom:!0}:void 0,Y=Z=>{const X=K.current+Z,C=A().filter(le=>!le.disabled),T=document.activeElement,I=C.find(le=>le.ref.current===T)?.textValue,F=C.map(le=>le.textValue),H=tW(F,X,I),ae=C.find(le=>le.textValue===H)?.ref.current;(function le(te){K.current=te,window.clearTimeout(q.current),te!==""&&(q.current=window.setTimeout(()=>le(""),1e3))})(X),ae&&setTimeout(()=>ae.focus())};D.useEffect(()=>()=>window.clearTimeout(q.current),[]),M0();const U=D.useCallback(Z=>z.current===P.current?.side&&rW(Z,P.current?.area),[]);return R.jsx(Vz,{scope:n,searchRef:K,onItemEnter:D.useCallback(Z=>{U(Z)&&Z.preventDefault()},[U]),onItemLeave:D.useCallback(Z=>{U(Z)||(O.current?.focus(),L(null))},[U]),onTriggerLeave:D.useCallback(Z=>{U(Z)&&Z.preventDefault()},[U]),pointerGraceTimerRef:G,onPointerGraceIntentChange:D.useCallback(Z=>{P.current=Z},[]),children:R.jsx(W,{...ne,children:R.jsx(Mf,{asChild:!0,trapped:i,onMountAutoFocus:tt(a,Z=>{Z.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:R.jsx(Fa,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:_,onDismiss:w,children:R.jsx(K3,{asChild:!0,...m,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:L,onEntryFocus:tt(d,Z=>{v.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:R.jsx(c0,{role:"menu","aria-orientation":"vertical","data-state":X6(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...b,ref:V,style:{outline:"none",...b.style},onKeyDown:tt(b.onKeyDown,Z=>{const C=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,T=Z.ctrlKey||Z.altKey||Z.metaKey,I=Z.key.length===1;C&&(Z.key==="Tab"&&Z.preventDefault(),!T&&I&&Y(Z.key));const F=O.current;if(Z.target!==F||!Mz.includes(Z.key))return;Z.preventDefault();const ae=A().filter(le=>!le.disabled).map(le=>le.ref.current);C6.includes(Z.key)&&ae.reverse(),Jz(ae)}),onBlur:tt(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(q.current),K.current="")}),onPointerMove:tt(t.onPointerMove,Pc(Z=>{const X=Z.target,C=S.current!==Z.clientX;if(Z.currentTarget.contains(X)&&C){const T=Z.clientX>S.current?"right":"left";z.current=T,S.current=Z.clientX}}))})})})})})})});A6.displayName=Lr;var Uz="MenuGroup",Eg=D.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return R.jsx(Et.div,{role:"group",...r,ref:e})});Eg.displayName=Uz;var Hz="MenuLabel",M6=D.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return R.jsx(Et.div,{...r,ref:e})});M6.displayName=Hz;var rf="MenuItem",yw="menu.itemSelect",Vf=D.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=D.useRef(null),l=Uc(rf,t.__scopeMenu),c=Sg(rf,t.__scopeMenu),d=Bt(e,a),h=D.useRef(!1),f=()=>{const p=a.current;if(!n&&p){const _=new CustomEvent(yw,{bubbles:!0,cancelable:!0});p.addEventListener(yw,w=>r?.(w),{once:!0}),U1(p,_),_.defaultPrevented?h.current=!1:l.onClose()}};return R.jsx(N6,{...i,ref:d,disabled:n,onClick:tt(t.onClick,f),onPointerDown:p=>{t.onPointerDown?.(p),h.current=!0},onPointerUp:tt(t.onPointerUp,p=>{h.current||p.currentTarget?.click()}),onKeyDown:tt(t.onKeyDown,p=>{const _=c.searchRef.current!=="";n||_&&p.key===" "||E1.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Vf.displayName=rf;var N6=D.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,l=Sg(rf,n),c=T6(n),d=D.useRef(null),h=Bt(e,d),[f,p]=D.useState(!1),[_,w]=D.useState("");return D.useEffect(()=>{const E=d.current;E&&w((E.textContent??"").trim())},[a.children]),R.jsx(kc.ItemSlot,{scope:n,disabled:r,textValue:i??_,children:R.jsx(Q3,{asChild:!0,...c,focusable:!r,children:R.jsx(Et.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:tt(t.onPointerMove,Pc(E=>{r?l.onItemLeave(E):(l.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:tt(t.onPointerLeave,Pc(E=>l.onItemLeave(E))),onFocus:tt(t.onFocus,()=>p(!0)),onBlur:tt(t.onBlur,()=>p(!1))})})})}),Xz="MenuCheckboxItem",D6=D.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return R.jsx(B6,{scope:t.__scopeMenu,checked:n,children:R.jsx(Vf,{role:"menuitemcheckbox","aria-checked":sf(n)?"mixed":n,...i,ref:e,"data-state":kg(n),onSelect:tt(i.onSelect,()=>r?.(sf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});D6.displayName=Xz;var I6="MenuRadioGroup",[qz,Gz]=To(I6,{value:void 0,onValueChange:()=>{}}),O6=D.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Hn(r);return R.jsx(qz,{scope:t.__scopeMenu,value:n,onValueChange:a,children:R.jsx(Eg,{...i,ref:e})})});O6.displayName=I6;var j6="MenuRadioItem",L6=D.forwardRef((t,e)=>{const{value:n,...r}=t,i=Gz(j6,t.__scopeMenu),a=n===i.value;return R.jsx(B6,{scope:t.__scopeMenu,checked:a,children:R.jsx(Vf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":kg(a),onSelect:tt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});L6.displayName=j6;var Tg="MenuItemIndicator",[B6,Zz]=To(Tg,{checked:!1}),F6=D.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=Zz(Tg,n);return R.jsx(ss,{present:r||sf(a.checked)||a.checked===!0,children:R.jsx(Et.span,{...i,ref:e,"data-state":kg(a.checked)})})});F6.displayName=Tg;var Yz="MenuSeparator",V6=D.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return R.jsx(Et.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});V6.displayName=Yz;var Kz="MenuArrow",z6=D.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ff(n);return R.jsx(u0,{...i,...r,ref:e})});z6.displayName=Kz;var Qz="MenuSub",[O$,W6]=To(Qz),ql="MenuSubTrigger",$6=D.forwardRef((t,e)=>{const n=ko(ql,t.__scopeMenu),r=Uc(ql,t.__scopeMenu),i=W6(ql,t.__scopeMenu),a=Sg(ql,t.__scopeMenu),l=D.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:t.__scopeMenu},f=D.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return D.useEffect(()=>f,[f]),D.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),d(null)}},[c,d]),R.jsx(wg,{asChild:!0,...h,children:R.jsx(N6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":X6(n.open),...t,ref:cf(e,i.onTriggerChange),onClick:p=>{t.onClick?.(p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:tt(t.onPointerMove,Pc(p=>{a.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:tt(t.onPointerLeave,Pc(p=>{f();const _=n.content?.getBoundingClientRect();if(_){const w=n.content?.dataset.side,E=w==="right",b=E?-5:5,x=_[E?"left":"right"],v=_[E?"right":"left"];a.onPointerGraceIntentChange({area:[{x:p.clientX+b,y:p.clientY},{x,y:_.top},{x:v,y:_.top},{x:v,y:_.bottom},{x,y:_.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(p),p.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:tt(t.onKeyDown,p=>{const _=a.searchRef.current!=="";t.disabled||_&&p.key===" "||Nz[r.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});$6.displayName=ql;var U6="MenuSubContent",H6=D.forwardRef((t,e)=>{const n=P6(Lr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ko(Lr,t.__scopeMenu),l=Uc(Lr,t.__scopeMenu),c=W6(U6,t.__scopeMenu),d=D.useRef(null),h=Bt(e,d);return R.jsx(kc.Provider,{scope:t.__scopeMenu,children:R.jsx(ss,{present:r||a.open,children:R.jsx(kc.Slot,{scope:t.__scopeMenu,children:R.jsx(Cg,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{l.isUsingKeyboardRef.current&&d.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:tt(t.onFocusOutside,f=>{f.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:tt(t.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:tt(t.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),_=Dz[l.dir].includes(f.key);p&&_&&(a.onOpenChange(!1),c.trigger?.focus(),f.preventDefault())})})})})})});H6.displayName=U6;function X6(t){return t?"open":"closed"}function sf(t){return t==="indeterminate"}function kg(t){return sf(t)?"indeterminate":t?"checked":"unchecked"}function Jz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function eW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function tW(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=eW(t,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function nW(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a].x,d=e[a].y,h=e[l].x,f=e[l].y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(i=!i)}return i}function rW(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return nW(n,e)}function Pc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var sW=k6,iW=wg,oW=R6,aW=A6,lW=Eg,cW=M6,uW=Vf,dW=D6,fW=O6,hW=L6,pW=F6,mW=V6,gW=z6,vW=$6,yW=H6,Pg="DropdownMenu",[_W]=rs(Pg,[E6]),tr=E6(),[bW,q6]=_W(Pg),G6=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:l,modal:c=!0}=t,d=tr(e),h=D.useRef(null),[f=!1,p]=vo({prop:i,defaultProp:a,onChange:l});return R.jsx(bW,{scope:e,triggerId:ms(),triggerRef:h,contentId:ms(),open:f,onOpenChange:p,onOpenToggle:D.useCallback(()=>p(_=>!_),[p]),modal:c,children:R.jsx(sW,{...d,open:f,onOpenChange:p,dir:r,modal:c,children:n})})};G6.displayName=Pg;var Z6="DropdownMenuTrigger",Y6=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=q6(Z6,n),l=tr(n);return R.jsx(iW,{asChild:!0,...l,children:R.jsx(Et.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:cf(e,a.triggerRef),onPointerDown:tt(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:tt(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Y6.displayName=Z6;var wW="DropdownMenuPortal",K6=t=>{const{__scopeDropdownMenu:e,...n}=t,r=tr(e);return R.jsx(oW,{...r,...n})};K6.displayName=wW;var Q6="DropdownMenuContent",J6=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=q6(Q6,n),a=tr(n),l=D.useRef(!1);return R.jsx(aW,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:tt(t.onCloseAutoFocus,c=>{l.current||i.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:tt(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!i.modal||f)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});J6.displayName=Q6;var xW="DropdownMenuGroup",SW=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(lW,{...i,...r,ref:e})});SW.displayName=xW;var CW="DropdownMenuLabel",e8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(cW,{...i,...r,ref:e})});e8.displayName=CW;var EW="DropdownMenuItem",t8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(uW,{...i,...r,ref:e})});t8.displayName=EW;var TW="DropdownMenuCheckboxItem",n8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(dW,{...i,...r,ref:e})});n8.displayName=TW;var kW="DropdownMenuRadioGroup",PW=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(fW,{...i,...r,ref:e})});PW.displayName=kW;var RW="DropdownMenuRadioItem",r8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(hW,{...i,...r,ref:e})});r8.displayName=RW;var AW="DropdownMenuItemIndicator",s8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(pW,{...i,...r,ref:e})});s8.displayName=AW;var MW="DropdownMenuSeparator",i8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(mW,{...i,...r,ref:e})});i8.displayName=MW;var NW="DropdownMenuArrow",DW=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(gW,{...i,...r,ref:e})});DW.displayName=NW;var IW="DropdownMenuSubTrigger",o8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(vW,{...i,...r,ref:e})});o8.displayName=IW;var OW="DropdownMenuSubContent",a8=D.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tr(n);return R.jsx(yW,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a8.displayName=OW;var jW=G6,LW=Y6,BW=K6,l8=J6,c8=e8,u8=t8,d8=n8,f8=r8,h8=s8,p8=i8,m8=o8,g8=a8;const FW=jW,VW=LW,zW=D.forwardRef(({className:t,inset:e,children:n,...r},i)=>R.jsxs(m8,{ref:i,className:bt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,R.jsx(Rd,{className:"ml-auto"})]}));zW.displayName=m8.displayName;const WW=D.forwardRef(({className:t,...e},n)=>R.jsx(g8,{ref:n,className:bt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));WW.displayName=g8.displayName;const v8=D.forwardRef(({className:t,sideOffset:e=4,...n},r)=>R.jsx(BW,{children:R.jsx(l8,{ref:r,sideOffset:e,className:bt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));v8.displayName=l8.displayName;const T1=D.forwardRef(({className:t,inset:e,...n},r)=>R.jsx(u8,{ref:r,className:bt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));T1.displayName=u8.displayName;const $W=D.forwardRef(({className:t,children:e,checked:n,...r},i)=>R.jsxs(d8,{ref:i,className:bt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(h8,{children:R.jsx(bx,{className:"h-4 w-4"})})}),e]}));$W.displayName=d8.displayName;const UW=D.forwardRef(({className:t,children:e,...n},r)=>R.jsxs(f8,{ref:r,className:bt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(h8,{children:R.jsx(Gk,{className:"h-2 w-2 fill-current"})})}),e]}));UW.displayName=f8.displayName;const HW=D.forwardRef(({className:t,inset:e,...n},r)=>R.jsx(c8,{ref:r,className:bt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));HW.displayName=c8.displayName;const XW=D.forwardRef(({className:t,...e},n)=>R.jsx(p8,{ref:n,className:bt("-mx-1 my-1 h-px bg-muted",t),...e}));XW.displayName=p8.displayName;const va=D.forwardRef(({className:t,type:e,...n},r)=>R.jsx("input",{type:e,className:bt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));va.displayName="Input";var qW="Label",y8=D.forwardRef((t,e)=>R.jsx(Et.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));y8.displayName=qW;var _8=y8;const GW=G1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ca=D.forwardRef(({className:t,...e},n)=>R.jsx(_8,{ref:n,className:bt(GW(),t),...e}));ca.displayName=_8.displayName;const k1=D.forwardRef(({className:t,...e},n)=>R.jsx("textarea",{className:bt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));k1.displayName="Textarea";function _w(t,[e,n]){return Math.min(n,Math.max(e,t))}function ZW(t){const e=D.useRef({value:t,previous:t});return D.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var YW=[" ","Enter","ArrowUp","ArrowDown"],KW=[" ","Enter"],Hc="Select",[zf,Wf,QW]=uf(Hc),[Ya]=rs(Hc,[QW,$a]),$f=$a(),[JW,Li]=Ya(Hc),[e$,t$]=Ya(Hc),b8=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:p,disabled:_,required:w,form:E}=t,b=$f(e),[x,v]=D.useState(null),[y,m]=D.useState(null),[A,j]=D.useState(!1),L=Sf(h),[O=!1,V]=vo({prop:r,defaultProp:i,onChange:a}),[q,K]=vo({prop:l,defaultProp:c,onChange:d}),G=D.useRef(null),P=x?E||!!x.closest("form"):!0,[z,S]=D.useState(new Set),W=Array.from(z).map(ne=>ne.props.value).join(";");return R.jsx(t3,{...b,children:R.jsxs(JW,{required:w,scope:e,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:m,valueNodeHasChildren:A,onValueNodeHasChildrenChange:j,contentId:ms(),value:q,onValueChange:K,open:O,onOpenChange:V,dir:L,triggerPointerDownPosRef:G,disabled:_,children:[R.jsx(zf.Provider,{scope:e,children:R.jsx(e$,{scope:t.__scopeSelect,onNativeOptionAdd:D.useCallback(ne=>{S(Y=>new Set(Y).add(ne))},[]),onNativeOptionRemove:D.useCallback(ne=>{S(Y=>{const U=new Set(Y);return U.delete(ne),U})},[]),children:n})}),P?R.jsxs(H8,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:p,value:q,onChange:ne=>K(ne.target.value),disabled:_,form:E,children:[q===void 0?R.jsx("option",{value:""}):null,Array.from(z)]},W):null]})})};b8.displayName=Hc;var w8="SelectTrigger",x8=D.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=$f(n),l=Li(w8,n),c=l.disabled||r,d=Bt(e,l.onTriggerChange),h=Wf(n),f=D.useRef("touch"),[p,_,w]=X8(b=>{const x=h().filter(m=>!m.disabled),v=x.find(m=>m.value===l.value),y=q8(x,b,v);y!==void 0&&l.onValueChange(y.value)}),E=b=>{c||(l.onOpenChange(!0),w()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return R.jsx(l0,{asChild:!0,...a,children:R.jsx(Et.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":U8(l.value)?"":void 0,...i,ref:d,onClick:tt(i.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&E(b)}),onPointerDown:tt(i.onPointerDown,b=>{f.current=b.pointerType;const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(E(b),b.preventDefault())}),onKeyDown:tt(i.onKeyDown,b=>{const x=p.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&_(b.key),!(x&&b.key===" ")&&YW.includes(b.key)&&(E(),b.preventDefault())})})})});x8.displayName=w8;var S8="SelectValue",C8=D.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...c}=t,d=Li(S8,n),{onValueNodeHasChildrenChange:h}=d,f=a!==void 0,p=Bt(e,d.onValueNodeChange);return Xn(()=>{h(f)},[h,f]),R.jsx(Et.span,{...c,ref:p,style:{pointerEvents:"none"},children:U8(d.value)?R.jsx(R.Fragment,{children:l}):a})});C8.displayName=S8;var n$="SelectIcon",E8=D.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return R.jsx(Et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});E8.displayName=n$;var r$="SelectPortal",T8=t=>R.jsx(Mc,{asChild:!0,...t});T8.displayName=r$;var Co="SelectContent",k8=D.forwardRef((t,e)=>{const n=Li(Co,t.__scopeSelect),[r,i]=D.useState();if(Xn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Ba.createPortal(R.jsx(P8,{scope:t.__scopeSelect,children:R.jsx(zf.Slot,{scope:t.__scopeSelect,children:R.jsx("div",{children:t.children})})}),a):null}return R.jsx(R8,{...t,ref:e})});k8.displayName=Co;var Gr=10,[P8,Bi]=Ya(Co),s$="SelectContentImpl",i$=go("SelectContent.RemoveScroll"),R8=D.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:_,collisionPadding:w,sticky:E,hideWhenDetached:b,avoidCollisions:x,...v}=t,y=Li(Co,n),[m,A]=D.useState(null),[j,L]=D.useState(null),O=Bt(e,le=>A(le)),[V,q]=D.useState(null),[K,G]=D.useState(null),P=Wf(n),[z,S]=D.useState(!1),W=D.useRef(!1);D.useEffect(()=>{if(m)return N0(m)},[m]),M0();const ne=D.useCallback(le=>{const[te,...ce]=P().map(je=>je.ref.current),[be]=ce.slice(-1),Ee=document.activeElement;for(const je of le)if(je===Ee||(je?.scrollIntoView({block:"nearest"}),je===te&&j&&(j.scrollTop=0),je===be&&j&&(j.scrollTop=j.scrollHeight),je?.focus(),document.activeElement!==Ee))return},[P,j]),Y=D.useCallback(()=>ne([V,m]),[ne,V,m]);D.useEffect(()=>{z&&Y()},[z,Y]);const{onOpenChange:U,triggerPointerDownPosRef:Z}=y;D.useEffect(()=>{if(m){let le={x:0,y:0};const te=be=>{le={x:Math.abs(Math.round(be.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(Z.current?.y??0))}},ce=be=>{le.x<=10&&le.y<=10?be.preventDefault():m.contains(be.target)||U(!1),document.removeEventListener("pointermove",te),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",ce,{capture:!0})}}},[m,U,Z]),D.useEffect(()=>{const le=()=>U(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[U]);const[X,C]=X8(le=>{const te=P().filter(Ee=>!Ee.disabled),ce=te.find(Ee=>Ee.ref.current===document.activeElement),be=q8(te,le,ce);be&&setTimeout(()=>be.ref.current.focus())}),T=D.useCallback((le,te,ce)=>{const be=!W.current&&!ce;(y.value!==void 0&&y.value===te||be)&&(q(le),be&&(W.current=!0))},[y.value]),I=D.useCallback(()=>m?.focus(),[m]),F=D.useCallback((le,te,ce)=>{const be=!W.current&&!ce;(y.value!==void 0&&y.value===te||be)&&G(le)},[y.value]),H=r==="popper"?P1:A8,ae=H===P1?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:_,collisionPadding:w,sticky:E,hideWhenDetached:b,avoidCollisions:x}:{};return R.jsx(P8,{scope:n,content:m,viewport:j,onViewportChange:L,itemRefCallback:T,selectedItem:V,onItemLeave:I,itemTextRefCallback:F,focusSelectedItem:Y,selectedItemText:K,position:r,isPositioned:z,searchRef:X,children:R.jsx(Df,{as:i$,allowPinchZoom:!0,children:R.jsx(Mf,{asChild:!0,trapped:y.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:tt(i,le=>{y.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:R.jsx(Fa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:R.jsx(H,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:le=>le.preventDefault(),...v,...ae,onPlaced:()=>S(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:tt(v.onKeyDown,le=>{const te=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!te&&le.key.length===1&&C(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let be=P().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(le.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ee=le.target,je=be.indexOf(Ee);be=be.slice(je+1)}setTimeout(()=>ne(be)),le.preventDefault()}})})})})})})});R8.displayName=s$;var o$="SelectItemAlignedPosition",A8=D.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Li(Co,n),l=Bi(Co,n),[c,d]=D.useState(null),[h,f]=D.useState(null),p=Bt(e,O=>f(O)),_=Wf(n),w=D.useRef(!1),E=D.useRef(!0),{viewport:b,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=l,m=D.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&b&&x&&v){const O=a.trigger.getBoundingClientRect(),V=h.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),K=v.getBoundingClientRect();if(a.dir!=="rtl"){const Ee=K.left-V.left,je=q.left-Ee,Ve=O.left-je,B=O.width+Ve,ve=Math.max(B,V.width),pe=window.innerWidth-Gr,ie=_w(je,[Gr,Math.max(Gr,pe-ve)]);c.style.minWidth=B+"px",c.style.left=ie+"px"}else{const Ee=V.right-K.right,je=window.innerWidth-q.right-Ee,Ve=window.innerWidth-O.right-je,B=O.width+Ve,ve=Math.max(B,V.width),pe=window.innerWidth-Gr,ie=_w(je,[Gr,Math.max(Gr,pe-ve)]);c.style.minWidth=B+"px",c.style.right=ie+"px"}const G=_(),P=window.innerHeight-Gr*2,z=b.scrollHeight,S=window.getComputedStyle(h),W=parseInt(S.borderTopWidth,10),ne=parseInt(S.paddingTop,10),Y=parseInt(S.borderBottomWidth,10),U=parseInt(S.paddingBottom,10),Z=W+ne+z+U+Y,X=Math.min(x.offsetHeight*5,Z),C=window.getComputedStyle(b),T=parseInt(C.paddingTop,10),I=parseInt(C.paddingBottom,10),F=O.top+O.height/2-Gr,H=P-F,ae=x.offsetHeight/2,le=x.offsetTop+ae,te=W+ne+le,ce=Z-te;if(te<=F){const Ee=G.length>0&&x===G[G.length-1].ref.current;c.style.bottom="0px";const je=h.clientHeight-b.offsetTop-b.offsetHeight,Ve=Math.max(H,ae+(Ee?I:0)+je+Y),B=te+Ve;c.style.height=B+"px"}else{const Ee=G.length>0&&x===G[0].ref.current;c.style.top="0px";const Ve=Math.max(F,W+b.offsetTop+(Ee?T:0)+ae)+ce;c.style.height=Ve+"px",b.scrollTop=te-F+b.offsetTop}c.style.margin=`${Gr}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=P+"px",r?.(),requestAnimationFrame(()=>w.current=!0)}},[_,a.trigger,a.valueNode,c,h,b,x,v,a.dir,r]);Xn(()=>m(),[m]);const[A,j]=D.useState();Xn(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]);const L=D.useCallback(O=>{O&&E.current===!0&&(m(),y?.(),E.current=!1)},[m,y]);return R.jsx(l$,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:L,children:R.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:R.jsx(Et.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});A8.displayName=o$;var a$="SelectPopperPosition",P1=D.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Gr,...a}=t,l=$f(n);return R.jsx(c0,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});P1.displayName=a$;var[l$,Rg]=Ya(Co,{}),R1="SelectViewport",M8=D.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Bi(R1,n),l=Rg(R1,n),c=Bt(e,a.onViewportChange),d=D.useRef(0);return R.jsxs(R.Fragment,{children:[R.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),R.jsx(zf.Slot,{scope:n,children:R.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:tt(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:_}=l;if(_?.current&&p){const w=Math.abs(d.current-f.scrollTop);if(w>0){const E=window.innerHeight-Gr*2,b=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),v=Math.max(b,x);if(v<E){const y=v+w,m=Math.min(E,y),A=y-m;p.style.height=m+"px",p.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});M8.displayName=R1;var N8="SelectGroup",[c$,u$]=Ya(N8),d$=D.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ms();return R.jsx(c$,{scope:n,id:i,children:R.jsx(Et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});d$.displayName=N8;var D8="SelectLabel",I8=D.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=u$(D8,n);return R.jsx(Et.div,{id:i.id,...r,ref:e})});I8.displayName=D8;var of="SelectItem",[f$,O8]=Ya(of),j8=D.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,c=Li(of,n),d=Bi(of,n),h=c.value===r,[f,p]=D.useState(a??""),[_,w]=D.useState(!1),E=Bt(e,y=>d.itemRefCallback?.(y,r,i)),b=ms(),x=D.useRef("touch"),v=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return R.jsx(f$,{scope:n,value:r,disabled:i,textId:b,isSelected:h,onItemTextChange:D.useCallback(y=>{p(m=>m||(y?.textContent??"").trim())},[]),children:R.jsx(zf.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:R.jsx(Et.div,{role:"option","aria-labelledby":b,"data-highlighted":_?"":void 0,"aria-selected":h&&_,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:E,onFocus:tt(l.onFocus,()=>w(!0)),onBlur:tt(l.onBlur,()=>w(!1)),onClick:tt(l.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:tt(l.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:tt(l.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:tt(l.onPointerMove,y=>{x.current=y.pointerType,i?d.onItemLeave?.():x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(l.onPointerLeave,y=>{y.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:tt(l.onKeyDown,y=>{d.searchRef?.current!==""&&y.key===" "||(KW.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});j8.displayName=of;var Gl="SelectItemText",L8=D.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=Li(Gl,n),c=Bi(Gl,n),d=O8(Gl,n),h=t$(Gl,n),[f,p]=D.useState(null),_=Bt(e,v=>p(v),d.onItemTextChange,v=>c.itemTextRefCallback?.(v,d.value,d.disabled)),w=f?.textContent,E=D.useMemo(()=>R.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:b,onNativeOptionRemove:x}=h;return Xn(()=>(b(E),()=>x(E)),[b,x,E]),R.jsxs(R.Fragment,{children:[R.jsx(Et.span,{id:d.textId,...a,ref:_}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ba.createPortal(a.children,l.valueNode):null]})});L8.displayName=Gl;var B8="SelectItemIndicator",F8=D.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return O8(B8,n).isSelected?R.jsx(Et.span,{"aria-hidden":!0,...r,ref:e}):null});F8.displayName=B8;var A1="SelectScrollUpButton",V8=D.forwardRef((t,e)=>{const n=Bi(A1,t.__scopeSelect),r=Rg(A1,t.__scopeSelect),[i,a]=D.useState(!1),l=Bt(e,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?R.jsx(W8,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});V8.displayName=A1;var M1="SelectScrollDownButton",z8=D.forwardRef((t,e)=>{const n=Bi(M1,t.__scopeSelect),r=Rg(M1,t.__scopeSelect),[i,a]=D.useState(!1),l=Bt(e,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;a(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?R.jsx(W8,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});z8.displayName=M1;var W8=D.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Bi("SelectScrollButton",n),l=D.useRef(null),c=Wf(n),d=D.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return D.useEffect(()=>()=>d(),[d]),Xn(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),R.jsx(Et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:tt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:tt(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:tt(i.onPointerLeave,()=>{d()})})}),h$="SelectSeparator",$8=D.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return R.jsx(Et.div,{"aria-hidden":!0,...r,ref:e})});$8.displayName=h$;var N1="SelectArrow",p$=D.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$f(n),a=Li(N1,n),l=Bi(N1,n);return a.open&&l.position==="popper"?R.jsx(u0,{...i,...r,ref:e}):null});p$.displayName=N1;function U8(t){return t===""||t===void 0}var H8=D.forwardRef((t,e)=>{const{value:n,...r}=t,i=D.useRef(null),a=Bt(e,i),l=ZW(n);return D.useEffect(()=>{const c=i.current,d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&f){const p=new Event("change",{bubbles:!0});f.call(c,n),c.dispatchEvent(p)}},[l,n]),R.jsx(Nc,{asChild:!0,children:R.jsx("select",{...r,ref:a,defaultValue:n})})});H8.displayName="BubbleSelect";function X8(t){const e=Hn(t),n=D.useRef(""),r=D.useRef(0),i=D.useCallback(l=>{const c=n.current+l;e(c),(function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=D.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return D.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function q8(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=m$(t,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function m$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var g$=b8,G8=x8,v$=C8,y$=E8,_$=T8,Z8=k8,b$=M8,Y8=I8,K8=j8,w$=L8,x$=F8,Q8=V8,J8=z8,eC=$8;const bw=g$,ww=v$,D1=D.forwardRef(({className:t,children:e,...n},r)=>R.jsxs(G8,{ref:r,className:bt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,R.jsx(y$,{asChild:!0,children:R.jsx(wx,{className:"h-4 w-4 opacity-50"})})]}));D1.displayName=G8.displayName;const tC=D.forwardRef(({className:t,...e},n)=>R.jsx(Q8,{ref:n,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:R.jsx(Xk,{className:"h-4 w-4"})}));tC.displayName=Q8.displayName;const nC=D.forwardRef(({className:t,...e},n)=>R.jsx(J8,{ref:n,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:R.jsx(wx,{className:"h-4 w-4"})}));nC.displayName=J8.displayName;const I1=D.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>R.jsx(_$,{children:R.jsxs(Z8,{ref:i,className:bt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[R.jsx(tC,{}),R.jsx(b$,{className:bt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),R.jsx(nC,{})]})}));I1.displayName=Z8.displayName;const S$=D.forwardRef(({className:t,...e},n)=>R.jsx(Y8,{ref:n,className:bt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));S$.displayName=Y8.displayName;const ao=D.forwardRef(({className:t,children:e,...n},r)=>R.jsxs(K8,{ref:r,className:bt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(x$,{children:R.jsx(bx,{className:"h-4 w-4"})})}),R.jsx(w$,{children:e})]}));ao.displayName=K8.displayName;const C$=D.forwardRef(({className:t,...e},n)=>R.jsx(eC,{ref:n,className:bt("-mx-1 my-1 h-px bg-muted",t),...e}));C$.displayName=eC.displayName;function E$(){const[t,e]=uT("/recordings/:id"),[,n]=Rc(),r=Number(e?.id),{toast:i}=Ac(),{data:a,isLoading:l}=KM(r),{data:c}=_0(),d=z3(),h=QM(),f=F3(),p=V3(),_=W4(),w=Uj(),E=Hj(),[b,x]=D.useState(void 0),[v,y]=D.useState(null),[m,A]=D.useState(!1),[j,L]=D.useState(""),[O,V]=D.useState(null),[q,K]=D.useState(null),[G,P]=D.useState(!1),[z,S]=D.useState(""),[W,ne]=D.useState(null),[Y,U]=D.useState(""),[Z,X]=D.useState(!1),[C,T]=D.useState(""),[I,F]=D.useState(!1),[H,ae]=D.useState(""),[le,te]=D.useState(""),[ce,be]=D.useState(""),[Ee,je]=D.useState(!1),[Ve,B]=D.useState(!1),{theme:ve,toggleTheme:pe}=A0();D.useEffect(()=>{r&&r1(r).then(x)},[r]),D.useEffect(()=>{a&&U(a.notes||"")},[a]),D.useEffect(()=>{v&&(te(v.color||"green"),be(v.description||""),je(!1))},[v]);const ie=async()=>{await h.mutateAsync({id:r,notes:Y}),i({title:"Notes Saved",description:"Recording notes have been updated."})},se=()=>{if(!a)return;const Ce=`${a.name}
${"=".repeat(a.name.length)}

Recorded: ${new Date(a.createdAt).toLocaleString()}
Duration: ${T$(a.duration)}
Category: ${a.category||"Recordings"}
Flags: ${a.flags.length} flag(s)

${a.flags.length>0?`Flagged Moments:
`+a.flags.sort((ee,oe)=>ee.timestamp-oe.timestamp).map(ee=>` ${xw(ee.timestamp)} - ${ee.description||"Untitled Flag"}`).join(`
`)+`
`:""}

Notes:
${Y||"No notes added"}`,it=new Blob([Ce],{type:"text/plain"}),pt=URL.createObjectURL(it),J=document.createElement("a");J.href=pt,J.download=`${a.name}.txt`,J.click(),URL.revokeObjectURL(pt)},M=async()=>{confirm("Are you sure you want to delete this recording? This cannot be undone.")&&(await p.mutateAsync(r),n("/"))},$=async()=>{j.trim()&&(await h.mutateAsync({id:r,name:j}),A(!1))},we=async()=>{v&&(await w.mutateAsync({id:v.id,color:le,description:ce}),je(!1))},fe=async()=>{v&&(await E.mutateAsync({id:v.id,recordingId:r}),y(null))},Ne=Ce=>{const it=new Date(Ce),pt=Ea(it,"dd/MM/yyyy"),J=Ea(it,"HH:mm:ss");return`Snippet ${pt}, ${J}`},Oe=Ce=>{if(!a)return;const it=Ce.timestamp/1e3,pt=Math.max(0,it-5),J=Math.min(a.duration/1e3,it+5);V([pt,J]),K(it),S(Ne(Ce.timestamp)),ne(a.categoryId),y(Ce)},Re=async()=>{if(!(!b||!O||!a)){P(!0);try{const Ce=new(window.AudioContext||window.webkitAudioContext),it=await b.arrayBuffer(),pt=await Ce.decodeAudioData(it),[J,ee]=O,oe=pt.sampleRate,ue=Math.floor(J*oe),he=Math.floor(ee*oe),re=Math.max(1,he-ue),ye=Ce.createBuffer(pt.numberOfChannels,re,oe);for(let xe=0;xe<pt.numberOfChannels;xe++){const Ae=pt.getChannelData(xe);ye.getChannelData(xe).set(Ae.slice(ue,he))}const Se=await _z(ye),ge=c?.find(xe=>xe.id===W)?.name||"Recordings",Pe=await f.mutateAsync({name:z||`${a.name} (Snippet)`,category:ge,categoryId:W,duration:Math.round((ee-J)*1e3)});if(!Pe?.id)throw new Error("Failed to create new recording entry");await m5(Pe.id,Se),i({title:"Snippet Saved",description:`Saved to ${ge} category.`,action:R.jsx("button",{onClick:()=>{window.location.href=`/recordings/${Pe.id}`},className:"px-3 py-1.5 bg-primary text-primary-foreground rounded-md text-sm font-medium hover:bg-primary/90 transition-colors",children:"Go to snippet?"})}),V(null),K(null),y(null),B(!1)}catch(Ce){console.error("Save snippet error:",Ce),i({variant:"destructive",title:"Save Failed",description:Ce instanceof Error?Ce.message:"Could not save snippet."})}finally{P(!1)}}},Le=async()=>{if(!b||!a)return;const Ce=await s1(b),it=URL.createObjectURL(Ce),pt=document.createElement("a");pt.href=it,pt.download=`${a.name}.mp3`,pt.click(),URL.revokeObjectURL(it)},Qe=async Ce=>{a&&await _.mutateAsync({recordingId:a.id,timestamp:Math.round(Ce*1e3),color:"green",description:"Flagged It"})},He=async()=>{if(H.trim())try{const Ce=await d.mutateAsync({name:H.trim()});h.mutate({id:r,categoryId:Ce.id,category:Ce.name}),ae(""),F(!1)}catch(Ce){console.error("Error creating category:",Ce)}};return l||!a?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:R.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):R.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[R.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:R.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between gap-4",children:[R.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[R.jsx("button",{onClick:()=>n("/recordings"),className:"p-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground flex-shrink-0",children:R.jsx(_x,{className:"w-5 h-5"})}),m?R.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.jsx(va,{value:j,onChange:Ce=>L(Ce.target.value),className:"h-8 w-48 sm:w-64 bg-card flex-shrink-0",autoFocus:!0}),R.jsxs(bw,{value:a.categoryId?.toString()||"none",onValueChange:async Ce=>{if(Ce==="create-new"){F(!0);return}const it=Ce==="none"?null:Number(Ce),pt=c?.find(J=>J.id===it)?.name||"Recordings";h.mutate({id:r,categoryId:it,category:pt})},children:[R.jsx(D1,{className:"h-8 w-32 sm:w-40 flex-shrink-0",children:R.jsx(ww,{placeholder:"Category"})}),R.jsxs(I1,{children:[R.jsx(ao,{value:"none",children:"Recordings"}),c?.map(Ce=>R.jsx(ao,{value:Ce.id.toString(),children:Ce.name},Ce.id)),R.jsx(ao,{value:"create-new",className:"text-primary font-medium",children:"+ Create New"})]})]}),R.jsx(Gt,{size:"sm",onClick:$,className:"flex-shrink-0",children:"Save"}),R.jsx(Gt,{size:"sm",variant:"ghost",onClick:()=>A(!1),className:"flex-shrink-0",children:"Cancel"})]}):R.jsx("h1",{className:"text-lg sm:text-xl font-bold truncate min-w-0 flex-1",children:"Recordings"})]}),R.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[R.jsx(Gt,{variant:"ghost",size:"icon",onClick:pe,children:ve==="dark"?R.jsx(Y1,{className:"w-4 h-4"}):R.jsx(Z1,{className:"w-4 h-4"})}),R.jsx(Gt,{variant:"ghost",size:"icon",onClick:()=>n("/settings"),children:R.jsx(hf,{className:"w-4 h-4"})}),R.jsx(Gt,{variant:"ghost",size:"icon",onClick:()=>{L(a.name),A(!0)},children:R.jsx(Qk,{className:"w-4 h-4"})}),R.jsxs(FW,{children:[R.jsx(VW,{asChild:!0,children:R.jsx(Gt,{variant:"ghost",size:"icon",children:R.jsx(Yk,{className:"w-4 h-4"})})}),R.jsxs(v8,{align:"end",className:"w-48",children:[R.jsxs(T1,{onClick:Le,children:[R.jsx(Im,{className:"w-4 h-4 mr-2"})," Download Recording"]}),R.jsxs(T1,{className:"text-destructive focus:text-destructive",onClick:M,children:[R.jsx(K1,{className:"w-4 h-4 mr-2"})," Delete Recording"]})]})]})]})]})}),R.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[R.jsx("div",{className:"space-y-2",children:R.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:a.name})}),R.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-6 text-xs sm:text-sm text-muted-foreground bg-card/50 p-3 sm:p-4 rounded-xl border border-border",children:[R.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.jsx(Hk,{className:"w-3 h-3 sm:w-4 sm:h-4"}),R.jsx("span",{className:"truncate",children:Ea(new Date(a.createdAt),"MMM d, yyyy 'at' h:mm a")})]}),R.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),R.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),R.jsx("span",{className:"truncate",children:a.category||"Recordings"})]})]}),R.jsxs("section",{className:"space-y-4",children:[R.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[R.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),"Playback"]}),b?R.jsx(gw,{blob:b,flags:a.flags,onFlagClick:y,height:160,onOpenSnippetEditor:()=>{if(a.duration){const Ce=a.duration/1e3;V([0,Ce]),K(Ce/2),S(Ne(a.createdAt)),ne(a.categoryId),B(!0)}},onWaveformClick:Qe}):R.jsx("div",{className:"h-40 bg-card rounded-xl border border-border flex items-center justify-center text-muted-foreground",children:"Loading audio..."})]}),R.jsxs("section",{className:"space-y-4",children:[R.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[R.jsx("div",{className:"w-1 h-5 bg-accent rounded-full"}),"Flagged Moments"]}),R.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:a.flags.length===0?R.jsx("div",{className:"col-span-full py-12 text-center text-muted-foreground bg-card/30 rounded-xl border border-dashed border-border",children:"No flags added to this recording."}):a.flags.sort((Ce,it)=>Ce.timestamp-it.timestamp).map(Ce=>R.jsxs("div",{onClick:()=>y(Ce),className:"group cursor-pointer bg-card hover:bg-card/80 border border-border hover:border-primary/50 p-4 rounded-xl transition-all hover:shadow-lg flex gap-4 items-start",children:[R.jsx("div",{className:`mt-1 w-3 h-3 rounded-full shrink-0 ${Sw(Ce.color)}`}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("div",{className:"flex justify-between items-center mb-1",children:R.jsx("span",{className:"font-mono text-xs text-primary font-medium bg-primary/10 px-2 py-0.5 rounded-full",children:xw(Ce.timestamp)})}),R.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:Ce.description||"Untitled Flag"})]})]},Ce.id))})]}),R.jsxs("section",{className:"space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[R.jsx("div",{className:"w-1 h-5 bg-blue-500 rounded-full"}),"Notes"]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs(Gt,{variant:"outline",size:"sm",onClick:se,children:[R.jsx(Im,{className:"w-4 h-4 mr-2"})," Export .txt"]}),R.jsxs(Gt,{size:"sm",onClick:ie,disabled:h.isPending,children:[R.jsx(t9,{className:"w-4 h-4 mr-2"})," ",h.isPending?"Saving...":"Save Notes"]})]})]}),R.jsx(k1,{value:Y,onChange:Ce=>U(Ce.target.value),placeholder:"Add your notes here...",className:"min-h-[200px] bg-card border-border resize-none"})]})]}),R.jsx(a1,{open:I,onOpenChange:F,children:R.jsxs(Xd,{className:"bg-card text-foreground border-border",children:[R.jsx(qd,{children:R.jsx(Zd,{children:"Create New Category"})}),R.jsx("div",{className:"space-y-4 py-4",children:R.jsxs("div",{className:"space-y-2",children:[R.jsx(ca,{htmlFor:"new-category-name",children:"Category Name"}),R.jsx(va,{id:"new-category-name",value:H,onChange:Ce=>ae(Ce.target.value),placeholder:"Enter category name",autoFocus:!0,onKeyDown:Ce=>{Ce.key==="Enter"&&He()}})]})}),R.jsxs(Gd,{children:[R.jsx(Gt,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),R.jsx(Gt,{onClick:He,disabled:!H.trim(),children:"Create"})]})]})}),R.jsx(a1,{open:!!v||Ve,onOpenChange:Ce=>{Ce||(y(null),V(null),K(null),B(!1))},children:R.jsxs(Xd,{className:"sm:max-w-2xl bg-card text-foreground border-border",children:[R.jsx(qd,{children:R.jsx(Zd,{children:O?"Audio Snippet Editor":"Edit Flag"})}),R.jsxs("div",{className:"space-y-6 py-4 max-w-full overflow-hidden",children:[O&&b&&R.jsxs("div",{className:"space-y-6 w-full overflow-hidden",children:[R.jsx("div",{className:"p-4 bg-background rounded-lg border border-border w-full overflow-hidden",children:R.jsx(gw,{blob:b,flags:[],height:100,initialRegion:O,initialSeekTime:q??void 0,onRegionChange:V})}),R.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx(ca,{htmlFor:"snippet-name",children:"Snippet Name"}),R.jsx(va,{id:"snippet-name",value:z,onChange:Ce=>S(Ce.target.value),placeholder:"Enter snippet name",className:"bg-background border-border"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ca,{htmlFor:"snippet-category",children:"Category"}),Z?R.jsxs("div",{className:"flex gap-2",children:[R.jsx(va,{autoFocus:!0,value:C,onChange:Ce=>T(Ce.target.value),onKeyDown:async Ce=>{if(Ce.key==="Enter"&&C.trim()){try{const it=await d.mutateAsync({name:C.trim()});ne(it.id)}catch{i({variant:"destructive",title:"Error",description:"Category already exists or failed to create."})}X(!1),T("")}else Ce.key==="Escape"&&(X(!1),T(""))},placeholder:"New category name",className:"bg-background border-border"}),R.jsx(Gt,{size:"sm",disabled:!C.trim(),onClick:async()=>{try{const Ce=await d.mutateAsync({name:C.trim()});ne(Ce.id)}catch{i({variant:"destructive",title:"Error",description:"Category already exists or failed to create."})}X(!1),T("")},children:"Add"}),R.jsx(Gt,{size:"sm",variant:"ghost",onClick:()=>{X(!1),T("")},children:"Cancel"})]}):R.jsxs(bw,{value:W?.toString()||"none",onValueChange:Ce=>{if(Ce==="create-new"){X(!0);return}ne(Ce==="none"?null:Number(Ce))},children:[R.jsx(D1,{id:"snippet-category",className:"bg-background border-border",children:R.jsx(ww,{placeholder:"Select category"})}),R.jsxs(I1,{children:[R.jsx(ao,{value:"none",children:"Recordings"}),c?.map(Ce=>R.jsx(ao,{value:Ce.id.toString(),children:Ce.name},Ce.id)),R.jsx(ao,{value:"create-new",className:"text-primary font-medium",children:"+ Create New"})]})]})]})]}),R.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground bg-muted/30 p-2 rounded",children:[R.jsxs("span",{children:["Start: ",O[0].toFixed(2),"s"]}),R.jsxs("span",{children:["End: ",O[1].toFixed(2),"s"]}),R.jsxs("span",{children:["Duration: ",(O[1]-O[0]).toFixed(2),"s"]})]})]}),!O&&R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx(ca,{children:"Description"}),R.jsx(k1,{value:ce,onChange:Ce=>{be(Ce.target.value),je(!0)},className:"bg-background border-border",placeholder:"What happened at this moment?"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ca,{children:"Color Code"}),R.jsx("div",{className:"flex gap-2",children:["red","green","blue","purple","orange"].map(Ce=>R.jsx("button",{onClick:()=>{te(Ce),je(!0)},className:`w-8 h-8 rounded-full border-2 ${Sw(Ce)} ${le===Ce?"border-white scale-110":"border-transparent opacity-70 hover:opacity-100"}`},Ce))})]})]})]}),R.jsx(Gd,{className:"flex justify-between sm:justify-between w-full gap-2",children:O?R.jsxs(R.Fragment,{children:[R.jsx(Gt,{variant:"ghost",onClick:()=>{V(null),K(null)},children:"Back to Edit"}),R.jsx(Gt,{onClick:Re,disabled:G,children:G?"Saving...":"Save Snippet"})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex gap-2",children:[R.jsx(Gt,{variant:"destructive",onClick:fe,children:"Delete"}),R.jsx(Gt,{className:"bg-secondary text-secondary-foreground font-semibold hover:bg-secondary/80",onClick:()=>Oe(v),children:"Snippet Editor"})]}),R.jsx(Gt,{onClick:we,disabled:!Ee,children:"Save Changes"})]})})]})})]})}function T$(t){const e=Math.floor(t/1e3),n=Math.floor(e/60),r=e%60;return`${n}m ${r}s`}function xw(t){const e=Math.floor(t/1e3),n=Math.floor(e/60),r=e%60;return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function Sw(t){switch(t){case"red":return"bg-red-500";case"green":return"bg-emerald-500";case"blue":return"bg-blue-500";case"purple":return"bg-purple-500";case"orange":return"bg-orange-500";default:return"bg-red-500"}}function k$(){const[,t]=Rc(),{toast:e}=Ac(),{data:n}=_0(),{data:r}=B3(),i=z3(),a=JM(),[l,c]=D.useState(""),d=async f=>{if(f.preventDefault(),!!l.trim())try{await i.mutateAsync({name:l.trim()}),c(""),e({title:"Category created"})}catch{e({variant:"destructive",title:"Error",description:"Could not create category. It might already exist."})}},h=async f=>{if(r?.some(_=>_.categoryId===f)){e({variant:"destructive",title:"Cannot delete",description:"This category still has recordings attached to it."});return}confirm("Are you sure you want to delete this category?")&&(await a.mutateAsync(f),e({title:"Category deleted"}))};return R.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[R.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:R.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center gap-4",children:[R.jsx(Gt,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"rounded-full",children:R.jsx(_x,{className:"w-5 h-5"})}),R.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[R.jsx(hf,{className:"w-5 h-5 text-muted-foreground"}),"Settings"]})]})}),R.jsx("main",{className:"max-w-3xl mx-auto px-4 py-8 space-y-8",children:R.jsxs(f0,{children:[R.jsxs(u3,{children:[R.jsx(d3,{children:"Categories"}),R.jsx(f3,{children:"Manage your recording categories"})]}),R.jsxs(h0,{className:"space-y-6",children:[R.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[R.jsx(va,{value:l,onChange:f=>c(f.target.value),placeholder:"New category name...",className:"max-w-xs"}),R.jsxs(Gt,{type:"submit",disabled:i.isPending,children:[R.jsx(e9,{className:"w-4 h-4 mr-2"})," Add"]})]}),R.jsxs("div",{className:"grid gap-2",children:[n?.map(f=>{const p=r?.filter(_=>_.categoryId===f.id).length||0;return R.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg border border-border",children:[R.jsxs("div",{children:[R.jsx("span",{className:"font-medium",children:f.name}),R.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",p," recordings)"]})]}),R.jsx(Gt,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>h(f.id),children:R.jsx(K1,{className:"w-4 h-4"})})]},f.id)}),n?.length===0&&R.jsx("p",{className:"text-center py-4 text-muted-foreground",children:"No categories created yet."})]})]})]})})]})}function P$(){return R.jsxs(hT,{children:[R.jsx(Dl,{path:"/",component:yz}),R.jsx(Dl,{path:"/recordings",component:Vj}),R.jsx(Dl,{path:"/recordings/:id",component:E$}),R.jsx(Dl,{path:"/settings",component:k$}),R.jsx(Dl,{component:g7})]})}function R$(){return R.jsx(DT,{client:qT,children:R.jsxs(h7,{children:[R.jsx(z9,{}),R.jsx(P$,{})]})})}$E.createRoot(document.getElementById("root")).render(R.jsx(R$,{}));
