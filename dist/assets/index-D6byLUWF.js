function h8(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gf={exports:{}},ja={},Kf={exports:{}},bt={};var dv;function p8(){if(dv)return bt;dv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=h&&E[h]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function x(E,k,O){this.props=E,this.context=k,this.refs=_,this.updater=O||b}x.prototype.isReactComponent={},x.prototype.setState=function(E,k){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,k,"setState")},x.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function v(){}v.prototype=x.prototype;function y(E,k,O){this.props=E,this.context=k,this.refs=_,this.updater=O||b}var m=y.prototype=new v;m.constructor=y,C(m,x.prototype),m.isPureReactComponent=!0;var M=Array.isArray,j=Object.prototype.hasOwnProperty,L={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function V(E,k,O){var F,$={},ae=null,le=null;if(k!=null)for(F in k.ref!==void 0&&(le=k.ref),k.key!==void 0&&(ae=""+k.key),k)j.call(k,F)&&!I.hasOwnProperty(F)&&($[F]=k[F]);var te=arguments.length-2;if(te===1)$.children=O;else if(1<te){for(var ce=Array(te),we=0;we<te;we++)ce[we]=arguments[we+2];$.children=ce}if(E&&E.defaultProps)for(F in te=E.defaultProps,te)$[F]===void 0&&($[F]=te[F]);return{$$typeof:e,type:E,key:ae,ref:le,props:$,_owner:L.current}}function Y(E,k){return{$$typeof:e,type:E.type,key:k,ref:E.ref,props:E.props,_owner:E._owner}}function Q(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function G(E){var k={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(O){return k[O]})}var T=/\/+/g;function z(E,k){return typeof E=="object"&&E!==null&&E.key!=null?G(""+E.key):k.toString(36)}function S(E,k,O,F,$){var ae=typeof E;(ae==="undefined"||ae==="boolean")&&(E=null);var le=!1;if(E===null)le=!0;else switch(ae){case"string":case"number":le=!0;break;case"object":switch(E.$$typeof){case e:case t:le=!0}}if(le)return le=E,$=$(le),E=F===""?"."+z(le,0):F,M($)?(O="",E!=null&&(O=E.replace(T,"$&/")+"/"),S($,k,O,"",function(we){return we})):$!=null&&(Q($)&&($=Y($,O+(!$.key||le&&le.key===$.key?"":(""+$.key).replace(T,"$&/")+"/")+E)),k.push($)),1;if(le=0,F=F===""?".":F+":",M(E))for(var te=0;te<E.length;te++){ae=E[te];var ce=F+z(ae,te);le+=S(ae,k,O,ce,$)}else if(ce=w(E),typeof ce=="function")for(E=ce.call(E),te=0;!(ae=E.next()).done;)ae=ae.value,ce=F+z(ae,te++),le+=S(ae,k,O,ce,$);else if(ae==="object")throw k=String(E),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return le}function W(E,k,O){if(E==null)return E;var F=[],$=0;return S(E,F,"","",function(ae){return k.call(O,ae,$++)}),F}function ne(E){if(E._status===-1){var k=E._result;k=k(),k.then(function(O){(E._status===0||E._status===-1)&&(E._status=1,E._result=O)},function(O){(E._status===0||E._status===-1)&&(E._status=2,E._result=O)}),E._status===-1&&(E._status=0,E._result=k)}if(E._status===1)return E._result.default;throw E._result}var q={current:null},U={transition:null},K={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:U,ReactCurrentOwner:L};function X(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:W,forEach:function(E,k,O){W(E,function(){k.apply(this,arguments)},O)},count:function(E){var k=0;return W(E,function(){k++}),k},toArray:function(E){return W(E,function(k){return k})||[]},only:function(E){if(!Q(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},bt.Component=x,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=y,bt.StrictMode=s,bt.Suspense=d,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,bt.act=X,bt.cloneElement=function(E,k,O){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var F=C({},E.props),$=E.key,ae=E.ref,le=E._owner;if(k!=null){if(k.ref!==void 0&&(ae=k.ref,le=L.current),k.key!==void 0&&($=""+k.key),E.type&&E.type.defaultProps)var te=E.type.defaultProps;for(ce in k)j.call(k,ce)&&!I.hasOwnProperty(ce)&&(F[ce]=k[ce]===void 0&&te!==void 0?te[ce]:k[ce])}var ce=arguments.length-2;if(ce===1)F.children=O;else if(1<ce){te=Array(ce);for(var we=0;we<ce;we++)te[we]=arguments[we+2];F.children=te}return{$$typeof:e,type:E.type,key:$,ref:ae,props:F,_owner:le}},bt.createContext=function(E){return E={$$typeof:l,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:a,_context:E},E.Consumer=E},bt.createElement=V,bt.createFactory=function(E){var k=V.bind(null,E);return k.type=E,k},bt.createRef=function(){return{current:null}},bt.forwardRef=function(E){return{$$typeof:c,render:E}},bt.isValidElement=Q,bt.lazy=function(E){return{$$typeof:f,_payload:{_status:-1,_result:E},_init:ne}},bt.memo=function(E,k){return{$$typeof:p,type:E,compare:k===void 0?null:k}},bt.startTransition=function(E){var k=U.transition;U.transition={};try{E()}finally{U.transition=k}},bt.unstable_act=X,bt.useCallback=function(E,k){return q.current.useCallback(E,k)},bt.useContext=function(E){return q.current.useContext(E)},bt.useDebugValue=function(){},bt.useDeferredValue=function(E){return q.current.useDeferredValue(E)},bt.useEffect=function(E,k){return q.current.useEffect(E,k)},bt.useId=function(){return q.current.useId()},bt.useImperativeHandle=function(E,k,O){return q.current.useImperativeHandle(E,k,O)},bt.useInsertionEffect=function(E,k){return q.current.useInsertionEffect(E,k)},bt.useLayoutEffect=function(E,k){return q.current.useLayoutEffect(E,k)},bt.useMemo=function(E,k){return q.current.useMemo(E,k)},bt.useReducer=function(E,k,O){return q.current.useReducer(E,k,O)},bt.useRef=function(E){return q.current.useRef(E)},bt.useState=function(E){return q.current.useState(E)},bt.useSyncExternalStore=function(E,k,O){return q.current.useSyncExternalStore(E,k,O)},bt.useTransition=function(){return q.current.useTransition()},bt.version="18.3.1",bt}var fv;function ju(){return fv||(fv=1,Kf.exports=p8()),Kf.exports}var hv;function m8(){if(hv)return ja;hv=1;var e=ju(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var f,h={},w=null,b=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(b=d.ref);for(f in d)s.call(d,f)&&!a.hasOwnProperty(f)&&(h[f]=d[f]);if(c&&c.defaultProps)for(f in d=c.defaultProps,d)h[f]===void 0&&(h[f]=d[f]);return{$$typeof:t,type:c,key:w,ref:b,props:h,_owner:o.current}}return ja.Fragment=n,ja.jsx=l,ja.jsxs=l,ja}var pv;function g8(){return pv||(pv=1,Gf.exports=m8()),Gf.exports}var P=g8(),Ic={},qf={exports:{}},Wn={},Qf={exports:{}},Zf={};var mv;function v8(){return mv||(mv=1,(function(e){function t(U,K){var X=U.length;U.push(K);e:for(;0<X;){var E=X-1>>>1,k=U[E];if(0<o(k,K))U[E]=K,U[X]=k,X=E;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var K=U[0],X=U.pop();if(X!==K){U[0]=X;e:for(var E=0,k=U.length,O=k>>>1;E<O;){var F=2*(E+1)-1,$=U[F],ae=F+1,le=U[ae];if(0>o($,X))ae<k&&0>o(le,$)?(U[E]=le,U[ae]=X,E=ae):(U[E]=$,U[F]=X,E=F);else if(ae<k&&0>o(le,X))U[E]=le,U[ae]=X,E=ae;else break e}}return K}function o(U,K){var X=U.sortIndex-K.sortIndex;return X!==0?X:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],p=[],f=1,h=null,w=3,b=!1,C=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(U){for(var K=n(p);K!==null;){if(K.callback===null)s(p);else if(K.startTime<=U)s(p),K.sortIndex=K.expirationTime,t(d,K);else break;K=n(p)}}function M(U){if(_=!1,m(U),!C)if(n(d)!==null)C=!0,ne(j);else{var K=n(p);K!==null&&q(M,K.startTime-U)}}function j(U,K){C=!1,_&&(_=!1,v(V),V=-1),b=!0;var X=w;try{for(m(K),h=n(d);h!==null&&(!(h.expirationTime>K)||U&&!G());){var E=h.callback;if(typeof E=="function"){h.callback=null,w=h.priorityLevel;var k=E(h.expirationTime<=K);K=e.unstable_now(),typeof k=="function"?h.callback=k:h===n(d)&&s(d),m(K)}else s(d);h=n(d)}if(h!==null)var O=!0;else{var F=n(p);F!==null&&q(M,F.startTime-K),O=!1}return O}finally{h=null,w=X,b=!1}}var L=!1,I=null,V=-1,Y=5,Q=-1;function G(){return!(e.unstable_now()-Q<Y)}function T(){if(I!==null){var U=e.unstable_now();Q=U;var K=!0;try{K=I(!0,U)}finally{K?z():(L=!1,I=null)}}else L=!1}var z;if(typeof y=="function")z=function(){y(T)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,W=S.port2;S.port1.onmessage=T,z=function(){W.postMessage(null)}}else z=function(){x(T,0)};function ne(U){I=U,L||(L=!0,z())}function q(U,K){V=x(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){C||b||(C=!0,ne(j))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(U){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var X=w;w=K;try{return U()}finally{w=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=w;w=U;try{return K()}finally{w=X}},e.unstable_scheduleCallback=function(U,K,X){var E=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?E+X:E):X=E,U){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=X+k,U={id:f++,callback:K,priorityLevel:U,startTime:X,expirationTime:k,sortIndex:-1},X>E?(U.sortIndex=X,t(p,U),n(d)===null&&U===n(p)&&(_?(v(V),V=-1):_=!0,q(M,X-E))):(U.sortIndex=k,t(d,U),C||b||(C=!0,ne(j))),U},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(U){var K=w;return function(){var X=w;w=K;try{return U.apply(this,arguments)}finally{w=X}}}})(Zf)),Zf}var gv;function y8(){return gv||(gv=1,Qf.exports=v8()),Qf.exports}var vv;function _8(){if(vv)return Wn;vv=1;var e=ju(),t=y8();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){l(r,i),l(r+"Capture",i)}function l(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function w(r){return d.call(h,r)?!0:d.call(f,r)?!1:p.test(r)?h[r]=!0:(f[r]=!0,!1)}function b(r,i,u,g){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,i,u,g){if(i===null||typeof i>"u"||b(r,i,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(r,i,u,g,R,D,Z){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=g,this.attributeNamespace=R,this.mustUseProperty=u,this.propertyName=r,this.type=i,this.sanitizeURL=D,this.removeEmptyString=Z}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];x[i]=new _(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(v,y);x[i]=new _(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(v,y);x[i]=new _(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(v,y);x[i]=new _(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function m(r,i,u,g){var R=x.hasOwnProperty(i)?x[i]:null;(R!==null?R.type!==0:g||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,u,R,g)&&(u=null),g||R===null?w(i)&&(u===null?r.removeAttribute(i):r.setAttribute(i,""+u)):R.mustUseProperty?r[R.propertyName]=u===null?R.type===3?!1:"":u:(i=R.attributeName,g=R.attributeNamespace,u===null?r.removeAttribute(i):(R=R.type,u=R===3||R===4&&u===!0?"":""+u,g?r.setAttributeNS(g,i,u):r.setAttribute(i,u))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),L=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),G=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),U=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var X=Object.assign,E;function k(r){if(E===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);E=i&&i[1]||""}return`
`+E+r}var O=!1;function F(r,i){if(!r||O)return"";O=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Ne){var g=Ne}Reflect.construct(r,[],i)}else{try{i.call()}catch(Ne){g=Ne}r.call(i.prototype)}else{try{throw Error()}catch(Ne){g=Ne}r()}}catch(Ne){if(Ne&&g&&typeof Ne.stack=="string"){for(var R=Ne.stack.split(`
`),D=g.stack.split(`
`),Z=R.length-1,de=D.length-1;1<=Z&&0<=de&&R[Z]!==D[de];)de--;for(;1<=Z&&0<=de;Z--,de--)if(R[Z]!==D[de]){if(Z!==1||de!==1)do if(Z--,de--,0>de||R[Z]!==D[de]){var me=`
`+R[Z].replace(" at new "," at ");return r.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",r.displayName)),me}while(1<=Z&&0<=de);break}}}finally{O=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?k(r):""}function $(r){switch(r.tag){case 5:return k(r.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return r=F(r.type,!1),r;case 11:return r=F(r.type.render,!1),r;case 1:return r=F(r.type,!0),r;default:return""}}function ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case L:return"Portal";case Y:return"Profiler";case V:return"StrictMode";case z:return"Suspense";case S:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case G:return(r.displayName||"Context")+".Consumer";case Q:return(r._context.displayName||"Context")+".Provider";case T:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case W:return i=r.displayName||null,i!==null?i:ae(r.type)||"Memo";case ne:i=r._payload,r=r._init;try{return ae(r(i))}catch{}}return null}function le(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(i);case 8:return i===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ce(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function we(r){var i=ce(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),g=""+r[i];if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var R=u.get,D=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return R.call(this)},set:function(Z){g=""+Z,D.call(this,Z)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(Z){g=""+Z},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ce(r){r._valueTracker||(r._valueTracker=we(r))}function je(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),g="";return r&&(g=ce(r)?r.checked?"true":"false":r.value),r=g,r!==u?(i.setValue(r),!0):!1}function Ve(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function B(r,i){var u=i.checked;return X({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function ve(r,i){var u=i.defaultValue==null?"":i.defaultValue,g=i.checked!=null?i.checked:i.defaultChecked;u=te(i.value!=null?i.value:u),r._wrapperState={initialChecked:g,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function pe(r,i){i=i.checked,i!=null&&m(r,"checked",i,!1)}function ie(r,i){pe(r,i);var u=te(i.value),g=i.type;if(u!=null)g==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(g==="submit"||g==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?A(r,i.type,u):i.hasOwnProperty("defaultValue")&&A(r,i.type,te(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function se(r,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var g=i.type;if(!(g!=="submit"&&g!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,u||i===r.value||(r.value=i),r.defaultValue=i}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function A(r,i,u){(i!=="number"||Ve(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var H=Array.isArray;function be(r,i,u,g){if(r=r.options,i){i={};for(var R=0;R<u.length;R++)i["$"+u[R]]=!0;for(u=0;u<r.length;u++)R=i.hasOwnProperty("$"+r[u].value),r[u].selected!==R&&(r[u].selected=R),R&&g&&(r[u].defaultSelected=!0)}else{for(u=""+te(u),i=null,R=0;R<r.length;R++){if(r[R].value===u){r[R].selected=!0,g&&(r[R].defaultSelected=!0);return}i!==null||r[R].disabled||(i=r[R])}i!==null&&(i.selected=!0)}}function fe(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function De(r,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if(H(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}r._wrapperState={initialValue:te(u)}}function Ie(r,i){var u=te(i.value),g=te(i.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),i.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),g!=null&&(r.defaultValue=""+g)}function Pe(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Le(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Le(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ue,Ee=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,g,R){MSApp.execUnsafeLocalFunction(function(){return r(i,u,g,R)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ue.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function tt(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(r){J.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ct[i]=ct[r]})});function ee(r,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||ct.hasOwnProperty(r)&&ct[r]?(""+i).trim():i+"px"}function oe(r,i){r=r.style;for(var u in i)if(i.hasOwnProperty(u)){var g=u.indexOf("--")===0,R=ee(u,i[u],g);u==="float"&&(u="cssFloat"),g?r.setProperty(u,R):r[u]=R}}var ue=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(r,i){if(i){if(ue[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function re(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function Se(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ge=null,Te=null,xe=null;function Me(r){if(r=ba(r)){if(typeof ge!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Kl(i),ge(r.stateNode,r.type,i))}}function Ye(r){Te?xe?xe.push(r):xe=[r]:Te=r}function ot(){if(Te){var r=Te,i=xe;if(xe=Te=null,Me(r),i)for(r=0;r<i.length;r++)Me(i[r])}}function Fe(r,i){return r(i)}function rt(){}var Ae=!1;function Ze(r,i,u){if(Ae)return r(i,u);Ae=!0;try{return Fe(r,i,u)}finally{Ae=!1,(Te!==null||xe!==null)&&(rt(),ot())}}function ht(r,i){var u=r.stateNode;if(u===null)return null;var g=Kl(u);if(g===null)return null;u=g[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var Be=!1;if(c)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Be=!1}function ze(r,i,u,g,R,D,Z,de,me){var Ne=Array.prototype.slice.call(arguments,3);try{i.apply(u,Ne)}catch($e){this.onError($e)}}var st=!1,Rt=null,Ge=!1,ut=null,_t={onError:function(r){st=!0,Rt=r}};function It(r,i,u,g,R,D,Z,de,me){st=!1,Rt=null,ze.apply(_t,arguments)}function Tn(r,i,u,g,R,D,Z,de,me){if(It.apply(this,arguments),st){if(st){var Ne=Rt;st=!1,Rt=null}else throw Error(n(198));Ge||(Ge=!0,ut=Ne)}}function Pt(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function Nt(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function hn(r){if(Pt(r)!==r)throw Error(n(188))}function Pn(r){var i=r.alternate;if(!i){if(i=Pt(r),i===null)throw Error(n(188));return i!==r?null:r}for(var u=r,g=i;;){var R=u.return;if(R===null)break;var D=R.alternate;if(D===null){if(g=R.return,g!==null){u=g;continue}break}if(R.child===D.child){for(D=R.child;D;){if(D===u)return hn(R),r;if(D===g)return hn(R),i;D=D.sibling}throw Error(n(188))}if(u.return!==g.return)u=R,g=D;else{for(var Z=!1,de=R.child;de;){if(de===u){Z=!0,u=R,g=D;break}if(de===g){Z=!0,g=R,u=D;break}de=de.sibling}if(!Z){for(de=D.child;de;){if(de===u){Z=!0,u=D,g=R;break}if(de===g){Z=!0,g=D,u=R;break}de=de.sibling}if(!Z)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:i}function yn(r){return r=Pn(r),r!==null?On(r):null}function On(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=On(r);if(i!==null)return i;r=r.sibling}return null}var In=t.unstable_scheduleCallback,on=t.unstable_cancelCallback,tr=t.unstable_shouldYield,ms=t.unstable_requestPaint,Lt=t.unstable_now,Al=t.unstable_getCurrentPriorityLevel,zi=t.unstable_ImmediatePriority,ta=t.unstable_UserBlockingPriority,Mt=t.unstable_NormalPriority,Dl=t.unstable_LowPriority,na=t.unstable_IdlePriority,gs=null,jn=null;function Nl(r){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(gs,r,void 0,(r.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:ra,gd=Math.log,tn=Math.LN2;function ra(r){return r>>>=0,r===0?32:31-(gd(r)/tn|0)|0}var vs=64,ys=4194304;function nn(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Or(r,i){var u=r.pendingLanes;if(u===0)return 0;var g=0,R=r.suspendedLanes,D=r.pingedLanes,Z=u&268435455;if(Z!==0){var de=Z&~R;de!==0?g=nn(de):(D&=Z,D!==0&&(g=nn(D)))}else Z=u&~R,Z!==0?g=nn(Z):D!==0&&(g=nn(D));if(g===0)return 0;if(i!==0&&i!==g&&(i&R)===0&&(R=g&-g,D=i&-i,R>=D||R===16&&(D&4194240)!==0))return i;if((g&4)!==0&&(g|=u&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=g;0<i;)u=31-pn(i),R=1<<u,g|=r[u],i&=~R;return g}function Kr(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sa(r,i){for(var u=r.suspendedLanes,g=r.pingedLanes,R=r.expirationTimes,D=r.pendingLanes;0<D;){var Z=31-pn(D),de=1<<Z,me=R[Z];me===-1?((de&u)===0||(de&g)!==0)&&(R[Z]=Kr(de,i)):me<=i&&(r.expiredLanes|=de),D&=~de}}function pr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Wi(){var r=vs;return vs<<=1,(vs&4194240)===0&&(vs=64),r}function qr(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function mr(r,i,u){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-pn(i),r[i]=u}function Hi(r,i){var u=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var g=r.eventTimes;for(r=r.expirationTimes;0<u;){var R=31-pn(u),D=1<<R;i[R]=0,g[R]=-1,r[R]=-1,u&=~D}}function _s(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var g=31-pn(u),R=1<<g;R&i|r[g]&i&&(r[g]|=i),u&=~R}}var At=0;function H1(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var U1,vd,$1,X1,Y1,yd=!1,Ol=[],ws=null,bs=null,xs=null,ia=new Map,oa=new Map,Ss=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G1(r,i){switch(r){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ia.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(i.pointerId)}}function aa(r,i,u,g,R,D){return r===null||r.nativeEvent!==D?(r={blockedOn:i,domEventName:u,eventSystemFlags:g,nativeEvent:D,targetContainers:[R]},i!==null&&(i=ba(i),i!==null&&vd(i)),r):(r.eventSystemFlags|=g,i=r.targetContainers,R!==null&&i.indexOf(R)===-1&&i.push(R),r)}function jS(r,i,u,g,R){switch(i){case"focusin":return ws=aa(ws,r,i,u,g,R),!0;case"dragenter":return bs=aa(bs,r,i,u,g,R),!0;case"mouseover":return xs=aa(xs,r,i,u,g,R),!0;case"pointerover":var D=R.pointerId;return ia.set(D,aa(ia.get(D)||null,r,i,u,g,R)),!0;case"gotpointercapture":return D=R.pointerId,oa.set(D,aa(oa.get(D)||null,r,i,u,g,R)),!0}return!1}function K1(r){var i=ri(r.target);if(i!==null){var u=Pt(i);if(u!==null){if(i=u.tag,i===13){if(i=Nt(u),i!==null){r.blockedOn=i,Y1(r.priority,function(){$1(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Il(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=wd(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var g=new u.constructor(u.type,u);ye=g,u.target.dispatchEvent(g),ye=null}else return i=ba(u),i!==null&&vd(i),r.blockedOn=u,!1;i.shift()}return!0}function q1(r,i,u){Il(r)&&u.delete(i)}function LS(){yd=!1,ws!==null&&Il(ws)&&(ws=null),bs!==null&&Il(bs)&&(bs=null),xs!==null&&Il(xs)&&(xs=null),ia.forEach(q1),oa.forEach(q1)}function la(r,i){r.blockedOn===i&&(r.blockedOn=null,yd||(yd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LS)))}function ca(r){function i(R){return la(R,r)}if(0<Ol.length){la(Ol[0],r);for(var u=1;u<Ol.length;u++){var g=Ol[u];g.blockedOn===r&&(g.blockedOn=null)}}for(ws!==null&&la(ws,r),bs!==null&&la(bs,r),xs!==null&&la(xs,r),ia.forEach(i),oa.forEach(i),u=0;u<Ss.length;u++)g=Ss[u],g.blockedOn===r&&(g.blockedOn=null);for(;0<Ss.length&&(u=Ss[0],u.blockedOn===null);)K1(u),u.blockedOn===null&&Ss.shift()}var Ui=M.ReactCurrentBatchConfig,jl=!0;function BS(r,i,u,g){var R=At,D=Ui.transition;Ui.transition=null;try{At=1,_d(r,i,u,g)}finally{At=R,Ui.transition=D}}function FS(r,i,u,g){var R=At,D=Ui.transition;Ui.transition=null;try{At=4,_d(r,i,u,g)}finally{At=R,Ui.transition=D}}function _d(r,i,u,g){if(jl){var R=wd(r,i,u,g);if(R===null)Ld(r,i,g,Ll,u),G1(r,g);else if(jS(R,r,i,u,g))g.stopPropagation();else if(G1(r,g),i&4&&-1<IS.indexOf(r)){for(;R!==null;){var D=ba(R);if(D!==null&&U1(D),D=wd(r,i,u,g),D===null&&Ld(r,i,g,Ll,u),D===R)break;R=D}R!==null&&g.stopPropagation()}else Ld(r,i,g,null,u)}}var Ll=null;function wd(r,i,u,g){if(Ll=null,r=Se(g),r=ri(r),r!==null)if(i=Pt(r),i===null)r=null;else if(u=i.tag,u===13){if(r=Nt(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ll=r,null}function Q1(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Al()){case zi:return 1;case ta:return 4;case Mt:case Dl:return 16;case na:return 536870912;default:return 16}default:return 16}}var Es=null,bd=null,Bl=null;function Z1(){if(Bl)return Bl;var r,i=bd,u=i.length,g,R="value"in Es?Es.value:Es.textContent,D=R.length;for(r=0;r<u&&i[r]===R[r];r++);var Z=u-r;for(g=1;g<=Z&&i[u-g]===R[D-g];g++);return Bl=R.slice(r,1<g?1-g:void 0)}function Fl(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vl(){return!0}function J1(){return!1}function Xn(r){function i(u,g,R,D,Z){this._reactName=u,this._targetInst=R,this.type=g,this.nativeEvent=D,this.target=Z,this.currentTarget=null;for(var de in r)r.hasOwnProperty(de)&&(u=r[de],this[de]=u?u(D):D[de]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Vl:J1,this.isPropagationStopped=J1,this}return X(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xd=Xn($i),ua=X({},$i,{view:0,detail:0}),VS=Xn(ua),Sd,Ed,da,zl=X({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==da&&(da&&r.type==="mousemove"?(Sd=r.screenX-da.screenX,Ed=r.screenY-da.screenY):Ed=Sd=0,da=r),Sd)},movementY:function(r){return"movementY"in r?r.movementY:Ed}}),e0=Xn(zl),zS=X({},zl,{dataTransfer:0}),WS=Xn(zS),HS=X({},ua,{relatedTarget:0}),Cd=Xn(HS),US=X({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),$S=Xn(US),XS=X({},$i,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),YS=Xn(XS),GS=X({},$i,{data:0}),t0=Xn(GS),KS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZS(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=QS[r])?!!i[r]:!1}function kd(){return ZS}var JS=X({},ua,{key:function(r){if(r.key){var i=KS[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Fl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(r){return r.type==="keypress"?Fl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),e6=Xn(JS),t6=X({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=Xn(t6),n6=X({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),r6=Xn(n6),s6=X({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),i6=Xn(s6),o6=X({},zl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),a6=Xn(o6),l6=[9,13,27,32],Rd=c&&"CompositionEvent"in window,fa=null;c&&"documentMode"in document&&(fa=document.documentMode);var c6=c&&"TextEvent"in window&&!fa,r0=c&&(!Rd||fa&&8<fa&&11>=fa),s0=" ",i0=!1;function o0(r,i){switch(r){case"keyup":return l6.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xi=!1;function u6(r,i){switch(r){case"compositionend":return a0(i);case"keypress":return i.which!==32?null:(i0=!0,s0);case"textInput":return r=i.data,r===s0&&i0?null:r;default:return null}}function d6(r,i){if(Xi)return r==="compositionend"||!Rd&&o0(r,i)?(r=Z1(),Bl=bd=Es=null,Xi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return r0&&i.locale!=="ko"?null:i.data;default:return null}}var f6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!f6[r.type]:i==="textarea"}function c0(r,i,u,g){Ye(g),i=Xl(i,"onChange"),0<i.length&&(u=new xd("onChange","change",null,u,g),r.push({event:u,listeners:i}))}var ha=null,pa=null;function h6(r){R0(r,0)}function Wl(r){var i=Qi(r);if(je(i))return r}function p6(r,i){if(r==="change")return i}var u0=!1;if(c){var Td;if(c){var Pd="oninput"in document;if(!Pd){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),Pd=typeof d0.oninput=="function"}Td=Pd}else Td=!1;u0=Td&&(!document.documentMode||9<document.documentMode)}function f0(){ha&&(ha.detachEvent("onpropertychange",h0),pa=ha=null)}function h0(r){if(r.propertyName==="value"&&Wl(pa)){var i=[];c0(i,pa,r,Se(r)),Ze(h6,i)}}function m6(r,i,u){r==="focusin"?(f0(),ha=i,pa=u,ha.attachEvent("onpropertychange",h0)):r==="focusout"&&f0()}function g6(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wl(pa)}function v6(r,i){if(r==="click")return Wl(i)}function y6(r,i){if(r==="input"||r==="change")return Wl(i)}function _6(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var gr=typeof Object.is=="function"?Object.is:_6;function ma(r,i){if(gr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),g=Object.keys(i);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var R=u[g];if(!d.call(i,R)||!gr(r[R],i[R]))return!1}return!0}function p0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function m0(r,i){var u=p0(r);r=0;for(var g;u;){if(u.nodeType===3){if(g=r+u.textContent.length,r<=i&&g>=i)return{node:u,offset:i-r};r=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=p0(u)}}function g0(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?g0(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function v0(){for(var r=window,i=Ve();i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)r=i.contentWindow;else break;i=Ve(r.document)}return i}function Md(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function w6(r){var i=v0(),u=r.focusedElem,g=r.selectionRange;if(i!==u&&u&&u.ownerDocument&&g0(u.ownerDocument.documentElement,u)){if(g!==null&&Md(u)){if(i=g.start,r=g.end,r===void 0&&(r=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(r,u.value.length);else if(r=(i=u.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var R=u.textContent.length,D=Math.min(g.start,R);g=g.end===void 0?D:Math.min(g.end,R),!r.extend&&D>g&&(R=g,g=D,D=R),R=m0(u,D);var Z=m0(u,g);R&&Z&&(r.rangeCount!==1||r.anchorNode!==R.node||r.anchorOffset!==R.offset||r.focusNode!==Z.node||r.focusOffset!==Z.offset)&&(i=i.createRange(),i.setStart(R.node,R.offset),r.removeAllRanges(),D>g?(r.addRange(i),r.extend(Z.node,Z.offset)):(i.setEnd(Z.node,Z.offset),r.addRange(i)))}}for(i=[],r=u;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)r=i[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var b6=c&&"documentMode"in document&&11>=document.documentMode,Yi=null,Ad=null,ga=null,Dd=!1;function y0(r,i,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Dd||Yi==null||Yi!==Ve(g)||(g=Yi,"selectionStart"in g&&Md(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ga&&ma(ga,g)||(ga=g,g=Xl(Ad,"onSelect"),0<g.length&&(i=new xd("onSelect","select",null,i,u),r.push({event:i,listeners:g}),i.target=Yi)))}function Hl(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var Gi={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},Nd={},_0={};c&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Ul(r){if(Nd[r])return Nd[r];if(!Gi[r])return r;var i=Gi[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in _0)return Nd[r]=i[u];return r}var w0=Ul("animationend"),b0=Ul("animationiteration"),x0=Ul("animationstart"),S0=Ul("transitionend"),E0=new Map,C0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(r,i){E0.set(r,i),a(i,[r])}for(var Od=0;Od<C0.length;Od++){var Id=C0[Od],x6=Id.toLowerCase(),S6=Id[0].toUpperCase()+Id.slice(1);Cs(x6,"on"+S6)}Cs(w0,"onAnimationEnd"),Cs(b0,"onAnimationIteration"),Cs(x0,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(S0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E6=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function k0(r,i,u){var g=r.type||"unknown-event";r.currentTarget=u,Tn(g,i,void 0,r),r.currentTarget=null}function R0(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var g=r[u],R=g.event;g=g.listeners;e:{var D=void 0;if(i)for(var Z=g.length-1;0<=Z;Z--){var de=g[Z],me=de.instance,Ne=de.currentTarget;if(de=de.listener,me!==D&&R.isPropagationStopped())break e;k0(R,de,Ne),D=me}else for(Z=0;Z<g.length;Z++){if(de=g[Z],me=de.instance,Ne=de.currentTarget,de=de.listener,me!==D&&R.isPropagationStopped())break e;k0(R,de,Ne),D=me}}}if(Ge)throw r=ut,Ge=!1,ut=null,r}function Bt(r,i){var u=i[Hd];u===void 0&&(u=i[Hd]=new Set);var g=r+"__bubble";u.has(g)||(T0(i,r,2,!1),u.add(g))}function jd(r,i,u){var g=0;i&&(g|=4),T0(u,r,g,i)}var $l="_reactListening"+Math.random().toString(36).slice(2);function ya(r){if(!r[$l]){r[$l]=!0,s.forEach(function(u){u!=="selectionchange"&&(E6.has(u)||jd(u,!1,r),jd(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[$l]||(i[$l]=!0,jd("selectionchange",!1,i))}}function T0(r,i,u,g){switch(Q1(i)){case 1:var R=BS;break;case 4:R=FS;break;default:R=_d}u=R.bind(null,i,u,r),R=void 0,!Be||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(R=!0),g?R!==void 0?r.addEventListener(i,u,{capture:!0,passive:R}):r.addEventListener(i,u,!0):R!==void 0?r.addEventListener(i,u,{passive:R}):r.addEventListener(i,u,!1)}function Ld(r,i,u,g,R){var D=g;if((i&1)===0&&(i&2)===0&&g!==null)e:for(;;){if(g===null)return;var Z=g.tag;if(Z===3||Z===4){var de=g.stateNode.containerInfo;if(de===R||de.nodeType===8&&de.parentNode===R)break;if(Z===4)for(Z=g.return;Z!==null;){var me=Z.tag;if((me===3||me===4)&&(me=Z.stateNode.containerInfo,me===R||me.nodeType===8&&me.parentNode===R))return;Z=Z.return}for(;de!==null;){if(Z=ri(de),Z===null)return;if(me=Z.tag,me===5||me===6){g=D=Z;continue e}de=de.parentNode}}g=g.return}Ze(function(){var Ne=D,$e=Se(u),Xe=[];e:{var He=E0.get(r);if(He!==void 0){var et=xd,it=r;switch(r){case"keypress":if(Fl(u)===0)break e;case"keydown":case"keyup":et=e6;break;case"focusin":it="focus",et=Cd;break;case"focusout":it="blur",et=Cd;break;case"beforeblur":case"afterblur":et=Cd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=e0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=WS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=r6;break;case w0:case b0:case x0:et=$S;break;case S0:et=i6;break;case"scroll":et=VS;break;case"wheel":et=a6;break;case"copy":case"cut":case"paste":et=YS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=n0}var at=(i&4)!==0,Qt=!at&&r==="scroll",ke=at?He!==null?He+"Capture":null:He;at=[];for(var _e=Ne,Re;_e!==null;){Re=_e;var Ke=Re.stateNode;if(Re.tag===5&&Ke!==null&&(Re=Ke,ke!==null&&(Ke=ht(_e,ke),Ke!=null&&at.push(_a(_e,Ke,Re)))),Qt)break;_e=_e.return}0<at.length&&(He=new et(He,it,null,u,$e),Xe.push({event:He,listeners:at}))}}if((i&7)===0){e:{if(He=r==="mouseover"||r==="pointerover",et=r==="mouseout"||r==="pointerout",He&&u!==ye&&(it=u.relatedTarget||u.fromElement)&&(ri(it)||it[Qr]))break e;if((et||He)&&(He=$e.window===$e?$e:(He=$e.ownerDocument)?He.defaultView||He.parentWindow:window,et?(it=u.relatedTarget||u.toElement,et=Ne,it=it?ri(it):null,it!==null&&(Qt=Pt(it),it!==Qt||it.tag!==5&&it.tag!==6)&&(it=null)):(et=null,it=Ne),et!==it)){if(at=e0,Ke="onMouseLeave",ke="onMouseEnter",_e="mouse",(r==="pointerout"||r==="pointerover")&&(at=n0,Ke="onPointerLeave",ke="onPointerEnter",_e="pointer"),Qt=et==null?He:Qi(et),Re=it==null?He:Qi(it),He=new at(Ke,_e+"leave",et,u,$e),He.target=Qt,He.relatedTarget=Re,Ke=null,ri($e)===Ne&&(at=new at(ke,_e+"enter",it,u,$e),at.target=Re,at.relatedTarget=Qt,Ke=at),Qt=Ke,et&&it)t:{for(at=et,ke=it,_e=0,Re=at;Re;Re=Ki(Re))_e++;for(Re=0,Ke=ke;Ke;Ke=Ki(Ke))Re++;for(;0<_e-Re;)at=Ki(at),_e--;for(;0<Re-_e;)ke=Ki(ke),Re--;for(;_e--;){if(at===ke||ke!==null&&at===ke.alternate)break t;at=Ki(at),ke=Ki(ke)}at=null}else at=null;et!==null&&P0(Xe,He,et,at,!1),it!==null&&Qt!==null&&P0(Xe,Qt,it,at,!0)}}e:{if(He=Ne?Qi(Ne):window,et=He.nodeName&&He.nodeName.toLowerCase(),et==="select"||et==="input"&&He.type==="file")var lt=p6;else if(l0(He))if(u0)lt=y6;else{lt=g6;var dt=m6}else(et=He.nodeName)&&et.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(lt=v6);if(lt&&(lt=lt(r,Ne))){c0(Xe,lt,u,$e);break e}dt&&dt(r,He,Ne),r==="focusout"&&(dt=He._wrapperState)&&dt.controlled&&He.type==="number"&&A(He,"number",He.value)}switch(dt=Ne?Qi(Ne):window,r){case"focusin":(l0(dt)||dt.contentEditable==="true")&&(Yi=dt,Ad=Ne,ga=null);break;case"focusout":ga=Ad=Yi=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,y0(Xe,u,$e);break;case"selectionchange":if(b6)break;case"keydown":case"keyup":y0(Xe,u,$e)}var ft;if(Rd)e:{switch(r){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Xi?o0(r,u)&&(gt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(gt="onCompositionStart");gt&&(r0&&u.locale!=="ko"&&(Xi||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Xi&&(ft=Z1()):(Es=$e,bd="value"in Es?Es.value:Es.textContent,Xi=!0)),dt=Xl(Ne,gt),0<dt.length&&(gt=new t0(gt,r,null,u,$e),Xe.push({event:gt,listeners:dt}),ft?gt.data=ft:(ft=a0(u),ft!==null&&(gt.data=ft)))),(ft=c6?u6(r,u):d6(r,u))&&(Ne=Xl(Ne,"onBeforeInput"),0<Ne.length&&($e=new t0("onBeforeInput","beforeinput",null,u,$e),Xe.push({event:$e,listeners:Ne}),$e.data=ft))}R0(Xe,i)})}function _a(r,i,u){return{instance:r,listener:i,currentTarget:u}}function Xl(r,i){for(var u=i+"Capture",g=[];r!==null;){var R=r,D=R.stateNode;R.tag===5&&D!==null&&(R=D,D=ht(r,u),D!=null&&g.unshift(_a(r,D,R)),D=ht(r,i),D!=null&&g.push(_a(r,D,R))),r=r.return}return g}function Ki(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function P0(r,i,u,g,R){for(var D=i._reactName,Z=[];u!==null&&u!==g;){var de=u,me=de.alternate,Ne=de.stateNode;if(me!==null&&me===g)break;de.tag===5&&Ne!==null&&(de=Ne,R?(me=ht(u,D),me!=null&&Z.unshift(_a(u,me,de))):R||(me=ht(u,D),me!=null&&Z.push(_a(u,me,de)))),u=u.return}Z.length!==0&&r.push({event:i,listeners:Z})}var C6=/\r\n?/g,k6=/\u0000|\uFFFD/g;function M0(r){return(typeof r=="string"?r:""+r).replace(C6,`
`).replace(k6,"")}function Yl(r,i,u){if(i=M0(i),M0(r)!==i&&u)throw Error(n(425))}function Gl(){}var Bd=null,Fd=null;function Vd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,R6=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,T6=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(r){return A0.resolve(null).then(r).catch(P6)}:zd;function P6(r){setTimeout(function(){throw r})}function Wd(r,i){var u=i,g=0;do{var R=u.nextSibling;if(r.removeChild(u),R&&R.nodeType===8)if(u=R.data,u==="/$"){if(g===0){r.removeChild(R),ca(i);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=R}while(u);ca(i)}function ks(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function D0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return r;i--}else u==="/$"&&i++}r=r.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Ir="__reactFiber$"+qi,wa="__reactProps$"+qi,Qr="__reactContainer$"+qi,Hd="__reactEvents$"+qi,M6="__reactListeners$"+qi,A6="__reactHandles$"+qi;function ri(r){var i=r[Ir];if(i)return i;for(var u=r.parentNode;u;){if(i=u[Qr]||u[Ir]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=D0(r);r!==null;){if(u=r[Ir])return u;r=D0(r)}return i}r=u,u=r.parentNode}return null}function ba(r){return r=r[Ir]||r[Qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Qi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Kl(r){return r[wa]||null}var Ud=[],Zi=-1;function Rs(r){return{current:r}}function Ft(r){0>Zi||(r.current=Ud[Zi],Ud[Zi]=null,Zi--)}function jt(r,i){Zi++,Ud[Zi]=r.current,r.current=i}var Ts={},_n=Rs(Ts),Ln=Rs(!1),si=Ts;function Ji(r,i){var u=r.type.contextTypes;if(!u)return Ts;var g=r.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===i)return g.__reactInternalMemoizedMaskedChildContext;var R={},D;for(D in u)R[D]=i[D];return g&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=R),R}function Bn(r){return r=r.childContextTypes,r!=null}function ql(){Ft(Ln),Ft(_n)}function N0(r,i,u){if(_n.current!==Ts)throw Error(n(168));jt(_n,i),jt(Ln,u)}function O0(r,i,u){var g=r.stateNode;if(i=i.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var R in g)if(!(R in i))throw Error(n(108,le(r)||"Unknown",R));return X({},u,g)}function Ql(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ts,si=_n.current,jt(_n,r),jt(Ln,Ln.current),!0}function I0(r,i,u){var g=r.stateNode;if(!g)throw Error(n(169));u?(r=O0(r,i,si),g.__reactInternalMemoizedMergedChildContext=r,Ft(Ln),Ft(_n),jt(_n,r)):Ft(Ln),jt(Ln,u)}var Zr=null,Zl=!1,$d=!1;function j0(r){Zr===null?Zr=[r]:Zr.push(r)}function D6(r){Zl=!0,j0(r)}function Ps(){if(!$d&&Zr!==null){$d=!0;var r=0,i=At;try{var u=Zr;for(At=1;r<u.length;r++){var g=u[r];do g=g(!0);while(g!==null)}Zr=null,Zl=!1}catch(R){throw Zr!==null&&(Zr=Zr.slice(r+1)),In(zi,Ps),R}finally{At=i,$d=!1}}return null}var eo=[],to=0,Jl=null,ec=0,nr=[],rr=0,ii=null,Jr=1,es="";function oi(r,i){eo[to++]=ec,eo[to++]=Jl,Jl=r,ec=i}function L0(r,i,u){nr[rr++]=Jr,nr[rr++]=es,nr[rr++]=ii,ii=r;var g=Jr;r=es;var R=32-pn(g)-1;g&=~(1<<R),u+=1;var D=32-pn(i)+R;if(30<D){var Z=R-R%5;D=(g&(1<<Z)-1).toString(32),g>>=Z,R-=Z,Jr=1<<32-pn(i)+R|u<<R|g,es=D+r}else Jr=1<<D|u<<R|g,es=r}function Xd(r){r.return!==null&&(oi(r,1),L0(r,1,0))}function Yd(r){for(;r===Jl;)Jl=eo[--to],eo[to]=null,ec=eo[--to],eo[to]=null;for(;r===ii;)ii=nr[--rr],nr[rr]=null,es=nr[--rr],nr[rr]=null,Jr=nr[--rr],nr[rr]=null}var Yn=null,Gn=null,Wt=!1,vr=null;function B0(r,i){var u=ar(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=r,i=r.deletions,i===null?(r.deletions=[u],r.flags|=16):i.push(u)}function F0(r,i){switch(r.tag){case 5:var u=r.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Yn=r,Gn=ks(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Yn=r,Gn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=ii!==null?{id:Jr,overflow:es}:null,r.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=ar(18,null,null,0),u.stateNode=i,u.return=r,r.child=u,Yn=r,Gn=null,!0):!1;default:return!1}}function Gd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Kd(r){if(Wt){var i=Gn;if(i){var u=i;if(!F0(r,i)){if(Gd(r))throw Error(n(418));i=ks(u.nextSibling);var g=Yn;i&&F0(r,i)?B0(g,u):(r.flags=r.flags&-4097|2,Wt=!1,Yn=r)}}else{if(Gd(r))throw Error(n(418));r.flags=r.flags&-4097|2,Wt=!1,Yn=r}}}function V0(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Yn=r}function tc(r){if(r!==Yn)return!1;if(!Wt)return V0(r),Wt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Vd(r.type,r.memoizedProps)),i&&(i=Gn)){if(Gd(r))throw z0(),Error(n(418));for(;i;)B0(r,i),i=ks(i.nextSibling)}if(V0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(i===0){Gn=ks(r.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}r=r.nextSibling}Gn=null}}else Gn=Yn?ks(r.stateNode.nextSibling):null;return!0}function z0(){for(var r=Gn;r;)r=ks(r.nextSibling)}function no(){Gn=Yn=null,Wt=!1}function qd(r){vr===null?vr=[r]:vr.push(r)}var N6=M.ReactCurrentBatchConfig;function xa(r,i,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,r));var R=g,D=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===D?i.ref:(i=function(Z){var de=R.refs;Z===null?delete de[D]:de[D]=Z},i._stringRef=D,i)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function nc(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function W0(r){var i=r._init;return i(r._payload)}function H0(r){function i(ke,_e){if(r){var Re=ke.deletions;Re===null?(ke.deletions=[_e],ke.flags|=16):Re.push(_e)}}function u(ke,_e){if(!r)return null;for(;_e!==null;)i(ke,_e),_e=_e.sibling;return null}function g(ke,_e){for(ke=new Map;_e!==null;)_e.key!==null?ke.set(_e.key,_e):ke.set(_e.index,_e),_e=_e.sibling;return ke}function R(ke,_e){return ke=Ls(ke,_e),ke.index=0,ke.sibling=null,ke}function D(ke,_e,Re){return ke.index=Re,r?(Re=ke.alternate,Re!==null?(Re=Re.index,Re<_e?(ke.flags|=2,_e):Re):(ke.flags|=2,_e)):(ke.flags|=1048576,_e)}function Z(ke){return r&&ke.alternate===null&&(ke.flags|=2),ke}function de(ke,_e,Re,Ke){return _e===null||_e.tag!==6?(_e=Wf(Re,ke.mode,Ke),_e.return=ke,_e):(_e=R(_e,Re),_e.return=ke,_e)}function me(ke,_e,Re,Ke){var lt=Re.type;return lt===I?$e(ke,_e,Re.props.children,Ke,Re.key):_e!==null&&(_e.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ne&&W0(lt)===_e.type)?(Ke=R(_e,Re.props),Ke.ref=xa(ke,_e,Re),Ke.return=ke,Ke):(Ke=kc(Re.type,Re.key,Re.props,null,ke.mode,Ke),Ke.ref=xa(ke,_e,Re),Ke.return=ke,Ke)}function Ne(ke,_e,Re,Ke){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Re.containerInfo||_e.stateNode.implementation!==Re.implementation?(_e=Hf(Re,ke.mode,Ke),_e.return=ke,_e):(_e=R(_e,Re.children||[]),_e.return=ke,_e)}function $e(ke,_e,Re,Ke,lt){return _e===null||_e.tag!==7?(_e=pi(Re,ke.mode,Ke,lt),_e.return=ke,_e):(_e=R(_e,Re),_e.return=ke,_e)}function Xe(ke,_e,Re){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=Wf(""+_e,ke.mode,Re),_e.return=ke,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case j:return Re=kc(_e.type,_e.key,_e.props,null,ke.mode,Re),Re.ref=xa(ke,null,_e),Re.return=ke,Re;case L:return _e=Hf(_e,ke.mode,Re),_e.return=ke,_e;case ne:var Ke=_e._init;return Xe(ke,Ke(_e._payload),Re)}if(H(_e)||K(_e))return _e=pi(_e,ke.mode,Re,null),_e.return=ke,_e;nc(ke,_e)}return null}function He(ke,_e,Re,Ke){var lt=_e!==null?_e.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return lt!==null?null:de(ke,_e,""+Re,Ke);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case j:return Re.key===lt?me(ke,_e,Re,Ke):null;case L:return Re.key===lt?Ne(ke,_e,Re,Ke):null;case ne:return lt=Re._init,He(ke,_e,lt(Re._payload),Ke)}if(H(Re)||K(Re))return lt!==null?null:$e(ke,_e,Re,Ke,null);nc(ke,Re)}return null}function et(ke,_e,Re,Ke,lt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return ke=ke.get(Re)||null,de(_e,ke,""+Ke,lt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case j:return ke=ke.get(Ke.key===null?Re:Ke.key)||null,me(_e,ke,Ke,lt);case L:return ke=ke.get(Ke.key===null?Re:Ke.key)||null,Ne(_e,ke,Ke,lt);case ne:var dt=Ke._init;return et(ke,_e,Re,dt(Ke._payload),lt)}if(H(Ke)||K(Ke))return ke=ke.get(Re)||null,$e(_e,ke,Ke,lt,null);nc(_e,Ke)}return null}function it(ke,_e,Re,Ke){for(var lt=null,dt=null,ft=_e,gt=_e=0,fn=null;ft!==null&&gt<Re.length;gt++){ft.index>gt?(fn=ft,ft=null):fn=ft.sibling;var kt=He(ke,ft,Re[gt],Ke);if(kt===null){ft===null&&(ft=fn);break}r&&ft&&kt.alternate===null&&i(ke,ft),_e=D(kt,_e,gt),dt===null?lt=kt:dt.sibling=kt,dt=kt,ft=fn}if(gt===Re.length)return u(ke,ft),Wt&&oi(ke,gt),lt;if(ft===null){for(;gt<Re.length;gt++)ft=Xe(ke,Re[gt],Ke),ft!==null&&(_e=D(ft,_e,gt),dt===null?lt=ft:dt.sibling=ft,dt=ft);return Wt&&oi(ke,gt),lt}for(ft=g(ke,ft);gt<Re.length;gt++)fn=et(ft,ke,gt,Re[gt],Ke),fn!==null&&(r&&fn.alternate!==null&&ft.delete(fn.key===null?gt:fn.key),_e=D(fn,_e,gt),dt===null?lt=fn:dt.sibling=fn,dt=fn);return r&&ft.forEach(function(Bs){return i(ke,Bs)}),Wt&&oi(ke,gt),lt}function at(ke,_e,Re,Ke){var lt=K(Re);if(typeof lt!="function")throw Error(n(150));if(Re=lt.call(Re),Re==null)throw Error(n(151));for(var dt=lt=null,ft=_e,gt=_e=0,fn=null,kt=Re.next();ft!==null&&!kt.done;gt++,kt=Re.next()){ft.index>gt?(fn=ft,ft=null):fn=ft.sibling;var Bs=He(ke,ft,kt.value,Ke);if(Bs===null){ft===null&&(ft=fn);break}r&&ft&&Bs.alternate===null&&i(ke,ft),_e=D(Bs,_e,gt),dt===null?lt=Bs:dt.sibling=Bs,dt=Bs,ft=fn}if(kt.done)return u(ke,ft),Wt&&oi(ke,gt),lt;if(ft===null){for(;!kt.done;gt++,kt=Re.next())kt=Xe(ke,kt.value,Ke),kt!==null&&(_e=D(kt,_e,gt),dt===null?lt=kt:dt.sibling=kt,dt=kt);return Wt&&oi(ke,gt),lt}for(ft=g(ke,ft);!kt.done;gt++,kt=Re.next())kt=et(ft,ke,gt,kt.value,Ke),kt!==null&&(r&&kt.alternate!==null&&ft.delete(kt.key===null?gt:kt.key),_e=D(kt,_e,gt),dt===null?lt=kt:dt.sibling=kt,dt=kt);return r&&ft.forEach(function(f8){return i(ke,f8)}),Wt&&oi(ke,gt),lt}function Qt(ke,_e,Re,Ke){if(typeof Re=="object"&&Re!==null&&Re.type===I&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case j:e:{for(var lt=Re.key,dt=_e;dt!==null;){if(dt.key===lt){if(lt=Re.type,lt===I){if(dt.tag===7){u(ke,dt.sibling),_e=R(dt,Re.props.children),_e.return=ke,ke=_e;break e}}else if(dt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ne&&W0(lt)===dt.type){u(ke,dt.sibling),_e=R(dt,Re.props),_e.ref=xa(ke,dt,Re),_e.return=ke,ke=_e;break e}u(ke,dt);break}else i(ke,dt);dt=dt.sibling}Re.type===I?(_e=pi(Re.props.children,ke.mode,Ke,Re.key),_e.return=ke,ke=_e):(Ke=kc(Re.type,Re.key,Re.props,null,ke.mode,Ke),Ke.ref=xa(ke,_e,Re),Ke.return=ke,ke=Ke)}return Z(ke);case L:e:{for(dt=Re.key;_e!==null;){if(_e.key===dt)if(_e.tag===4&&_e.stateNode.containerInfo===Re.containerInfo&&_e.stateNode.implementation===Re.implementation){u(ke,_e.sibling),_e=R(_e,Re.children||[]),_e.return=ke,ke=_e;break e}else{u(ke,_e);break}else i(ke,_e);_e=_e.sibling}_e=Hf(Re,ke.mode,Ke),_e.return=ke,ke=_e}return Z(ke);case ne:return dt=Re._init,Qt(ke,_e,dt(Re._payload),Ke)}if(H(Re))return it(ke,_e,Re,Ke);if(K(Re))return at(ke,_e,Re,Ke);nc(ke,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,_e!==null&&_e.tag===6?(u(ke,_e.sibling),_e=R(_e,Re),_e.return=ke,ke=_e):(u(ke,_e),_e=Wf(Re,ke.mode,Ke),_e.return=ke,ke=_e),Z(ke)):u(ke,_e)}return Qt}var ro=H0(!0),U0=H0(!1),rc=Rs(null),sc=null,so=null,Qd=null;function Zd(){Qd=so=sc=null}function Jd(r){var i=rc.current;Ft(rc),r._currentValue=i}function ef(r,i,u){for(;r!==null;){var g=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,g!==null&&(g.childLanes|=i)):g!==null&&(g.childLanes&i)!==i&&(g.childLanes|=i),r===u)break;r=r.return}}function io(r,i){sc=r,Qd=so=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Fn=!0),r.firstContext=null)}function sr(r){var i=r._currentValue;if(Qd!==r)if(r={context:r,memoizedValue:i,next:null},so===null){if(sc===null)throw Error(n(308));so=r,sc.dependencies={lanes:0,firstContext:r}}else so=so.next=r;return i}var ai=null;function tf(r){ai===null?ai=[r]:ai.push(r)}function $0(r,i,u,g){var R=i.interleaved;return R===null?(u.next=u,tf(i)):(u.next=R.next,R.next=u),i.interleaved=u,ts(r,g)}function ts(r,i){r.lanes|=i;var u=r.alternate;for(u!==null&&(u.lanes|=i),u=r,r=r.return;r!==null;)r.childLanes|=i,u=r.alternate,u!==null&&(u.childLanes|=i),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Ms=!1;function nf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ns(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function As(r,i,u){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Et&2)!==0){var R=g.pending;return R===null?i.next=i:(i.next=R.next,R.next=i),g.pending=i,ts(r,u)}return R=g.interleaved,R===null?(i.next=i,tf(g)):(i.next=R.next,R.next=i),g.interleaved=i,ts(r,u)}function ic(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var g=i.lanes;g&=r.pendingLanes,u|=g,i.lanes=u,_s(r,u)}}function Y0(r,i){var u=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var R=null,D=null;if(u=u.firstBaseUpdate,u!==null){do{var Z={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};D===null?R=D=Z:D=D.next=Z,u=u.next}while(u!==null);D===null?R=D=i:D=D.next=i}else R=D=i;u={baseState:g.baseState,firstBaseUpdate:R,lastBaseUpdate:D,shared:g.shared,effects:g.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}function oc(r,i,u,g){var R=r.updateQueue;Ms=!1;var D=R.firstBaseUpdate,Z=R.lastBaseUpdate,de=R.shared.pending;if(de!==null){R.shared.pending=null;var me=de,Ne=me.next;me.next=null,Z===null?D=Ne:Z.next=Ne,Z=me;var $e=r.alternate;$e!==null&&($e=$e.updateQueue,de=$e.lastBaseUpdate,de!==Z&&(de===null?$e.firstBaseUpdate=Ne:de.next=Ne,$e.lastBaseUpdate=me))}if(D!==null){var Xe=R.baseState;Z=0,$e=Ne=me=null,de=D;do{var He=de.lane,et=de.eventTime;if((g&He)===He){$e!==null&&($e=$e.next={eventTime:et,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var it=r,at=de;switch(He=i,et=u,at.tag){case 1:if(it=at.payload,typeof it=="function"){Xe=it.call(et,Xe,He);break e}Xe=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=at.payload,He=typeof it=="function"?it.call(et,Xe,He):it,He==null)break e;Xe=X({},Xe,He);break e;case 2:Ms=!0}}de.callback!==null&&de.lane!==0&&(r.flags|=64,He=R.effects,He===null?R.effects=[de]:He.push(de))}else et={eventTime:et,lane:He,tag:de.tag,payload:de.payload,callback:de.callback,next:null},$e===null?(Ne=$e=et,me=Xe):$e=$e.next=et,Z|=He;if(de=de.next,de===null){if(de=R.shared.pending,de===null)break;He=de,de=He.next,He.next=null,R.lastBaseUpdate=He,R.shared.pending=null}}while(!0);if($e===null&&(me=Xe),R.baseState=me,R.firstBaseUpdate=Ne,R.lastBaseUpdate=$e,i=R.shared.interleaved,i!==null){R=i;do Z|=R.lane,R=R.next;while(R!==i)}else D===null&&(R.shared.lanes=0);ui|=Z,r.lanes=Z,r.memoizedState=Xe}}function G0(r,i,u){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var g=r[i],R=g.callback;if(R!==null){if(g.callback=null,g=u,typeof R!="function")throw Error(n(191,R));R.call(g)}}}var Sa={},jr=Rs(Sa),Ea=Rs(Sa),Ca=Rs(Sa);function li(r){if(r===Sa)throw Error(n(174));return r}function rf(r,i){switch(jt(Ca,i),jt(Ea,r),jt(jr,Sa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:qe(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=qe(i,r)}Ft(jr),jt(jr,i)}function oo(){Ft(jr),Ft(Ea),Ft(Ca)}function K0(r){li(Ca.current);var i=li(jr.current),u=qe(i,r.type);i!==u&&(jt(Ea,r),jt(jr,u))}function sf(r){Ea.current===r&&(Ft(jr),Ft(Ea))}var Ut=Rs(0);function ac(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var of=[];function af(){for(var r=0;r<of.length;r++)of[r]._workInProgressVersionPrimary=null;of.length=0}var lc=M.ReactCurrentDispatcher,lf=M.ReactCurrentBatchConfig,ci=0,$t=null,an=null,un=null,cc=!1,ka=!1,Ra=0,O6=0;function wn(){throw Error(n(321))}function cf(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!gr(r[u],i[u]))return!1;return!0}function uf(r,i,u,g,R,D){if(ci=D,$t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,lc.current=r===null||r.memoizedState===null?B6:F6,r=u(g,R),ka){D=0;do{if(ka=!1,Ra=0,25<=D)throw Error(n(301));D+=1,un=an=null,i.updateQueue=null,lc.current=V6,r=u(g,R)}while(ka)}if(lc.current=fc,i=an!==null&&an.next!==null,ci=0,un=an=$t=null,cc=!1,i)throw Error(n(300));return r}function df(){var r=Ra!==0;return Ra=0,r}function Lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?$t.memoizedState=un=r:un=un.next=r,un}function ir(){if(an===null){var r=$t.alternate;r=r!==null?r.memoizedState:null}else r=an.next;var i=un===null?$t.memoizedState:un.next;if(i!==null)un=i,an=r;else{if(r===null)throw Error(n(310));an=r,r={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},un===null?$t.memoizedState=un=r:un=un.next=r}return un}function Ta(r,i){return typeof i=="function"?i(r):i}function ff(r){var i=ir(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var g=an,R=g.baseQueue,D=u.pending;if(D!==null){if(R!==null){var Z=R.next;R.next=D.next,D.next=Z}g.baseQueue=R=D,u.pending=null}if(R!==null){D=R.next,g=g.baseState;var de=Z=null,me=null,Ne=D;do{var $e=Ne.lane;if((ci&$e)===$e)me!==null&&(me=me.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),g=Ne.hasEagerState?Ne.eagerState:r(g,Ne.action);else{var Xe={lane:$e,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};me===null?(de=me=Xe,Z=g):me=me.next=Xe,$t.lanes|=$e,ui|=$e}Ne=Ne.next}while(Ne!==null&&Ne!==D);me===null?Z=g:me.next=de,gr(g,i.memoizedState)||(Fn=!0),i.memoizedState=g,i.baseState=Z,i.baseQueue=me,u.lastRenderedState=g}if(r=u.interleaved,r!==null){R=r;do D=R.lane,$t.lanes|=D,ui|=D,R=R.next;while(R!==r)}else R===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function hf(r){var i=ir(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var g=u.dispatch,R=u.pending,D=i.memoizedState;if(R!==null){u.pending=null;var Z=R=R.next;do D=r(D,Z.action),Z=Z.next;while(Z!==R);gr(D,i.memoizedState)||(Fn=!0),i.memoizedState=D,i.baseQueue===null&&(i.baseState=D),u.lastRenderedState=D}return[D,g]}function q0(){}function Q0(r,i){var u=$t,g=ir(),R=i(),D=!gr(g.memoizedState,R);if(D&&(g.memoizedState=R,Fn=!0),g=g.queue,pf(eg.bind(null,u,g,r),[r]),g.getSnapshot!==i||D||un!==null&&un.memoizedState.tag&1){if(u.flags|=2048,Pa(9,J0.bind(null,u,g,R,i),void 0,null),dn===null)throw Error(n(349));(ci&30)!==0||Z0(u,i,R)}return R}function Z0(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=$t.updateQueue,i===null?(i={lastEffect:null,stores:null},$t.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function J0(r,i,u,g){i.value=u,i.getSnapshot=g,tg(i)&&ng(r)}function eg(r,i,u){return u(function(){tg(i)&&ng(r)})}function tg(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!gr(r,u)}catch{return!0}}function ng(r){var i=ts(r,1);i!==null&&br(i,r,1,-1)}function rg(r){var i=Lr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:r},i.queue=r,r=r.dispatch=L6.bind(null,$t,r),[i.memoizedState,r]}function Pa(r,i,u,g){return r={tag:r,create:i,destroy:u,deps:g,next:null},i=$t.updateQueue,i===null?(i={lastEffect:null,stores:null},$t.updateQueue=i,i.lastEffect=r.next=r):(u=i.lastEffect,u===null?i.lastEffect=r.next=r:(g=u.next,u.next=r,r.next=g,i.lastEffect=r)),r}function sg(){return ir().memoizedState}function uc(r,i,u,g){var R=Lr();$t.flags|=r,R.memoizedState=Pa(1|i,u,void 0,g===void 0?null:g)}function dc(r,i,u,g){var R=ir();g=g===void 0?null:g;var D=void 0;if(an!==null){var Z=an.memoizedState;if(D=Z.destroy,g!==null&&cf(g,Z.deps)){R.memoizedState=Pa(i,u,D,g);return}}$t.flags|=r,R.memoizedState=Pa(1|i,u,D,g)}function ig(r,i){return uc(8390656,8,r,i)}function pf(r,i){return dc(2048,8,r,i)}function og(r,i){return dc(4,2,r,i)}function ag(r,i){return dc(4,4,r,i)}function lg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function cg(r,i,u){return u=u!=null?u.concat([r]):null,dc(4,4,lg.bind(null,i,r),u)}function mf(){}function ug(r,i){var u=ir();i=i===void 0?null:i;var g=u.memoizedState;return g!==null&&i!==null&&cf(i,g[1])?g[0]:(u.memoizedState=[r,i],r)}function dg(r,i){var u=ir();i=i===void 0?null:i;var g=u.memoizedState;return g!==null&&i!==null&&cf(i,g[1])?g[0]:(r=r(),u.memoizedState=[r,i],r)}function fg(r,i,u){return(ci&21)===0?(r.baseState&&(r.baseState=!1,Fn=!0),r.memoizedState=u):(gr(u,i)||(u=Wi(),$t.lanes|=u,ui|=u,r.baseState=!0),i)}function I6(r,i){var u=At;At=u!==0&&4>u?u:4,r(!0);var g=lf.transition;lf.transition={};try{r(!1),i()}finally{At=u,lf.transition=g}}function hg(){return ir().memoizedState}function j6(r,i,u){var g=Is(r);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},pg(r))mg(i,u);else if(u=$0(r,i,u,g),u!==null){var R=An();br(u,r,g,R),gg(u,i,g)}}function L6(r,i,u){var g=Is(r),R={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(pg(r))mg(i,R);else{var D=r.alternate;if(r.lanes===0&&(D===null||D.lanes===0)&&(D=i.lastRenderedReducer,D!==null))try{var Z=i.lastRenderedState,de=D(Z,u);if(R.hasEagerState=!0,R.eagerState=de,gr(de,Z)){var me=i.interleaved;me===null?(R.next=R,tf(i)):(R.next=me.next,me.next=R),i.interleaved=R;return}}catch{}u=$0(r,i,R,g),u!==null&&(R=An(),br(u,r,g,R),gg(u,i,g))}}function pg(r){var i=r.alternate;return r===$t||i!==null&&i===$t}function mg(r,i){ka=cc=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function gg(r,i,u){if((u&4194240)!==0){var g=i.lanes;g&=r.pendingLanes,u|=g,i.lanes=u,_s(r,u)}}var fc={readContext:sr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},B6={readContext:sr,useCallback:function(r,i){return Lr().memoizedState=[r,i===void 0?null:i],r},useContext:sr,useEffect:ig,useImperativeHandle:function(r,i,u){return u=u!=null?u.concat([r]):null,uc(4194308,4,lg.bind(null,i,r),u)},useLayoutEffect:function(r,i){return uc(4194308,4,r,i)},useInsertionEffect:function(r,i){return uc(4,2,r,i)},useMemo:function(r,i){var u=Lr();return i=i===void 0?null:i,r=r(),u.memoizedState=[r,i],r},useReducer:function(r,i,u){var g=Lr();return i=u!==void 0?u(i):i,g.memoizedState=g.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},g.queue=r,r=r.dispatch=j6.bind(null,$t,r),[g.memoizedState,r]},useRef:function(r){var i=Lr();return r={current:r},i.memoizedState=r},useState:rg,useDebugValue:mf,useDeferredValue:function(r){return Lr().memoizedState=r},useTransition:function(){var r=rg(!1),i=r[0];return r=I6.bind(null,r[1]),Lr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,u){var g=$t,R=Lr();if(Wt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),dn===null)throw Error(n(349));(ci&30)!==0||Z0(g,i,u)}R.memoizedState=u;var D={value:u,getSnapshot:i};return R.queue=D,ig(eg.bind(null,g,D,r),[r]),g.flags|=2048,Pa(9,J0.bind(null,g,D,u,i),void 0,null),u},useId:function(){var r=Lr(),i=dn.identifierPrefix;if(Wt){var u=es,g=Jr;u=(g&~(1<<32-pn(g)-1)).toString(32)+u,i=":"+i+"R"+u,u=Ra++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=O6++,i=":"+i+"r"+u.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},F6={readContext:sr,useCallback:ug,useContext:sr,useEffect:pf,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:ag,useMemo:dg,useReducer:ff,useRef:sg,useState:function(){return ff(Ta)},useDebugValue:mf,useDeferredValue:function(r){var i=ir();return fg(i,an.memoizedState,r)},useTransition:function(){var r=ff(Ta)[0],i=ir().memoizedState;return[r,i]},useMutableSource:q0,useSyncExternalStore:Q0,useId:hg,unstable_isNewReconciler:!1},V6={readContext:sr,useCallback:ug,useContext:sr,useEffect:pf,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:ag,useMemo:dg,useReducer:hf,useRef:sg,useState:function(){return hf(Ta)},useDebugValue:mf,useDeferredValue:function(r){var i=ir();return an===null?i.memoizedState=r:fg(i,an.memoizedState,r)},useTransition:function(){var r=hf(Ta)[0],i=ir().memoizedState;return[r,i]},useMutableSource:q0,useSyncExternalStore:Q0,useId:hg,unstable_isNewReconciler:!1};function yr(r,i){if(r&&r.defaultProps){i=X({},i),r=r.defaultProps;for(var u in r)i[u]===void 0&&(i[u]=r[u]);return i}return i}function gf(r,i,u,g){i=r.memoizedState,u=u(g,i),u=u==null?i:X({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var hc={isMounted:function(r){return(r=r._reactInternals)?Pt(r)===r:!1},enqueueSetState:function(r,i,u){r=r._reactInternals;var g=An(),R=Is(r),D=ns(g,R);D.payload=i,u!=null&&(D.callback=u),i=As(r,D,R),i!==null&&(br(i,r,R,g),ic(i,r,R))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var g=An(),R=Is(r),D=ns(g,R);D.tag=1,D.payload=i,u!=null&&(D.callback=u),i=As(r,D,R),i!==null&&(br(i,r,R,g),ic(i,r,R))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=An(),g=Is(r),R=ns(u,g);R.tag=2,i!=null&&(R.callback=i),i=As(r,R,g),i!==null&&(br(i,r,g,u),ic(i,r,g))}};function vg(r,i,u,g,R,D,Z){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,D,Z):i.prototype&&i.prototype.isPureReactComponent?!ma(u,g)||!ma(R,D):!0}function yg(r,i,u){var g=!1,R=Ts,D=i.contextType;return typeof D=="object"&&D!==null?D=sr(D):(R=Bn(i)?si:_n.current,g=i.contextTypes,D=(g=g!=null)?Ji(r,R):Ts),i=new i(u,D),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hc,r.stateNode=i,i._reactInternals=r,g&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=R,r.__reactInternalMemoizedMaskedChildContext=D),i}function _g(r,i,u,g){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,g),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,g),i.state!==r&&hc.enqueueReplaceState(i,i.state,null)}function vf(r,i,u,g){var R=r.stateNode;R.props=u,R.state=r.memoizedState,R.refs={},nf(r);var D=i.contextType;typeof D=="object"&&D!==null?R.context=sr(D):(D=Bn(i)?si:_n.current,R.context=Ji(r,D)),R.state=r.memoizedState,D=i.getDerivedStateFromProps,typeof D=="function"&&(gf(r,i,D,u),R.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(i=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),i!==R.state&&hc.enqueueReplaceState(R,R.state,null),oc(r,u,R,g),R.state=r.memoizedState),typeof R.componentDidMount=="function"&&(r.flags|=4194308)}function ao(r,i){try{var u="",g=i;do u+=$(g),g=g.return;while(g);var R=u}catch(D){R=`
Error generating stack: `+D.message+`
`+D.stack}return{value:r,source:i,stack:R,digest:null}}function yf(r,i,u){return{value:r,source:null,stack:u??null,digest:i??null}}function _f(r,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var z6=typeof WeakMap=="function"?WeakMap:Map;function wg(r,i,u){u=ns(-1,u),u.tag=3,u.payload={element:null};var g=i.value;return u.callback=function(){wc||(wc=!0,Of=g),_f(r,i)},u}function bg(r,i,u){u=ns(-1,u),u.tag=3;var g=r.type.getDerivedStateFromError;if(typeof g=="function"){var R=i.value;u.payload=function(){return g(R)},u.callback=function(){_f(r,i)}}var D=r.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(u.callback=function(){_f(r,i),typeof g!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var Z=i.stack;this.componentDidCatch(i.value,{componentStack:Z!==null?Z:""})}),u}function xg(r,i,u){var g=r.pingCache;if(g===null){g=r.pingCache=new z6;var R=new Set;g.set(i,R)}else R=g.get(i),R===void 0&&(R=new Set,g.set(i,R));R.has(u)||(R.add(u),r=t8.bind(null,r,i,u),i.then(r,r))}function Sg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Eg(r,i,u,g,R){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=ns(-1,1),i.tag=2,As(u,i,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=R,r)}var W6=M.ReactCurrentOwner,Fn=!1;function Mn(r,i,u,g){i.child=r===null?U0(i,null,u,g):ro(i,r.child,u,g)}function Cg(r,i,u,g,R){u=u.render;var D=i.ref;return io(i,R),g=uf(r,i,u,g,D,R),u=df(),r!==null&&!Fn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~R,rs(r,i,R)):(Wt&&u&&Xd(i),i.flags|=1,Mn(r,i,g,R),i.child)}function kg(r,i,u,g,R){if(r===null){var D=u.type;return typeof D=="function"&&!zf(D)&&D.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=D,Rg(r,i,D,g,R)):(r=kc(u.type,null,g,i,i.mode,R),r.ref=i.ref,r.return=i,i.child=r)}if(D=r.child,(r.lanes&R)===0){var Z=D.memoizedProps;if(u=u.compare,u=u!==null?u:ma,u(Z,g)&&r.ref===i.ref)return rs(r,i,R)}return i.flags|=1,r=Ls(D,g),r.ref=i.ref,r.return=i,i.child=r}function Rg(r,i,u,g,R){if(r!==null){var D=r.memoizedProps;if(ma(D,g)&&r.ref===i.ref)if(Fn=!1,i.pendingProps=g=D,(r.lanes&R)!==0)(r.flags&131072)!==0&&(Fn=!0);else return i.lanes=r.lanes,rs(r,i,R)}return wf(r,i,u,g,R)}function Tg(r,i,u){var g=i.pendingProps,R=g.children,D=r!==null?r.memoizedState:null;if(g.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(co,Kn),Kn|=u;else{if((u&1073741824)===0)return r=D!==null?D.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,jt(co,Kn),Kn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=D!==null?D.baseLanes:u,jt(co,Kn),Kn|=g}else D!==null?(g=D.baseLanes|u,i.memoizedState=null):g=u,jt(co,Kn),Kn|=g;return Mn(r,i,R,u),i.child}function Pg(r,i){var u=i.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function wf(r,i,u,g,R){var D=Bn(u)?si:_n.current;return D=Ji(i,D),io(i,R),u=uf(r,i,u,g,D,R),g=df(),r!==null&&!Fn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~R,rs(r,i,R)):(Wt&&g&&Xd(i),i.flags|=1,Mn(r,i,u,R),i.child)}function Mg(r,i,u,g,R){if(Bn(u)){var D=!0;Ql(i)}else D=!1;if(io(i,R),i.stateNode===null)mc(r,i),yg(i,u,g),vf(i,u,g,R),g=!0;else if(r===null){var Z=i.stateNode,de=i.memoizedProps;Z.props=de;var me=Z.context,Ne=u.contextType;typeof Ne=="object"&&Ne!==null?Ne=sr(Ne):(Ne=Bn(u)?si:_n.current,Ne=Ji(i,Ne));var $e=u.getDerivedStateFromProps,Xe=typeof $e=="function"||typeof Z.getSnapshotBeforeUpdate=="function";Xe||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(de!==g||me!==Ne)&&_g(i,Z,g,Ne),Ms=!1;var He=i.memoizedState;Z.state=He,oc(i,g,Z,R),me=i.memoizedState,de!==g||He!==me||Ln.current||Ms?(typeof $e=="function"&&(gf(i,u,$e,g),me=i.memoizedState),(de=Ms||vg(i,u,de,g,He,me,Ne))?(Xe||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(i.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=g,i.memoizedState=me),Z.props=g,Z.state=me,Z.context=Ne,g=de):(typeof Z.componentDidMount=="function"&&(i.flags|=4194308),g=!1)}else{Z=i.stateNode,X0(r,i),de=i.memoizedProps,Ne=i.type===i.elementType?de:yr(i.type,de),Z.props=Ne,Xe=i.pendingProps,He=Z.context,me=u.contextType,typeof me=="object"&&me!==null?me=sr(me):(me=Bn(u)?si:_n.current,me=Ji(i,me));var et=u.getDerivedStateFromProps;($e=typeof et=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(de!==Xe||He!==me)&&_g(i,Z,g,me),Ms=!1,He=i.memoizedState,Z.state=He,oc(i,g,Z,R);var it=i.memoizedState;de!==Xe||He!==it||Ln.current||Ms?(typeof et=="function"&&(gf(i,u,et,g),it=i.memoizedState),(Ne=Ms||vg(i,u,Ne,g,He,it,me)||!1)?($e||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(g,it,me),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(g,it,me)),typeof Z.componentDidUpdate=="function"&&(i.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof Z.componentDidUpdate!="function"||de===r.memoizedProps&&He===r.memoizedState||(i.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||de===r.memoizedProps&&He===r.memoizedState||(i.flags|=1024),i.memoizedProps=g,i.memoizedState=it),Z.props=g,Z.state=it,Z.context=me,g=Ne):(typeof Z.componentDidUpdate!="function"||de===r.memoizedProps&&He===r.memoizedState||(i.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||de===r.memoizedProps&&He===r.memoizedState||(i.flags|=1024),g=!1)}return bf(r,i,u,g,D,R)}function bf(r,i,u,g,R,D){Pg(r,i);var Z=(i.flags&128)!==0;if(!g&&!Z)return R&&I0(i,u,!1),rs(r,i,D);g=i.stateNode,W6.current=i;var de=Z&&typeof u.getDerivedStateFromError!="function"?null:g.render();return i.flags|=1,r!==null&&Z?(i.child=ro(i,r.child,null,D),i.child=ro(i,null,de,D)):Mn(r,i,de,D),i.memoizedState=g.state,R&&I0(i,u,!0),i.child}function Ag(r){var i=r.stateNode;i.pendingContext?N0(r,i.pendingContext,i.pendingContext!==i.context):i.context&&N0(r,i.context,!1),rf(r,i.containerInfo)}function Dg(r,i,u,g,R){return no(),qd(R),i.flags|=256,Mn(r,i,u,g),i.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Sf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ng(r,i,u){var g=i.pendingProps,R=Ut.current,D=!1,Z=(i.flags&128)!==0,de;if((de=Z)||(de=r!==null&&r.memoizedState===null?!1:(R&2)!==0),de?(D=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(R|=1),jt(Ut,R&1),r===null)return Kd(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(Z=g.children,r=g.fallback,D?(g=i.mode,D=i.child,Z={mode:"hidden",children:Z},(g&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=Z):D=Rc(Z,g,0,null),r=pi(r,g,u,null),D.return=i,r.return=i,D.sibling=r,i.child=D,i.child.memoizedState=Sf(u),i.memoizedState=xf,r):Ef(i,Z));if(R=r.memoizedState,R!==null&&(de=R.dehydrated,de!==null))return H6(r,i,Z,g,de,R,u);if(D){D=g.fallback,Z=i.mode,R=r.child,de=R.sibling;var me={mode:"hidden",children:g.children};return(Z&1)===0&&i.child!==R?(g=i.child,g.childLanes=0,g.pendingProps=me,i.deletions=null):(g=Ls(R,me),g.subtreeFlags=R.subtreeFlags&14680064),de!==null?D=Ls(de,D):(D=pi(D,Z,u,null),D.flags|=2),D.return=i,g.return=i,g.sibling=D,i.child=g,g=D,D=i.child,Z=r.child.memoizedState,Z=Z===null?Sf(u):{baseLanes:Z.baseLanes|u,cachePool:null,transitions:Z.transitions},D.memoizedState=Z,D.childLanes=r.childLanes&~u,i.memoizedState=xf,g}return D=r.child,r=D.sibling,g=Ls(D,{mode:"visible",children:g.children}),(i.mode&1)===0&&(g.lanes=u),g.return=i,g.sibling=null,r!==null&&(u=i.deletions,u===null?(i.deletions=[r],i.flags|=16):u.push(r)),i.child=g,i.memoizedState=null,g}function Ef(r,i){return i=Rc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function pc(r,i,u,g){return g!==null&&qd(g),ro(i,r.child,null,u),r=Ef(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function H6(r,i,u,g,R,D,Z){if(u)return i.flags&256?(i.flags&=-257,g=yf(Error(n(422))),pc(r,i,Z,g)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(D=g.fallback,R=i.mode,g=Rc({mode:"visible",children:g.children},R,0,null),D=pi(D,R,Z,null),D.flags|=2,g.return=i,D.return=i,g.sibling=D,i.child=g,(i.mode&1)!==0&&ro(i,r.child,null,Z),i.child.memoizedState=Sf(Z),i.memoizedState=xf,D);if((i.mode&1)===0)return pc(r,i,Z,null);if(R.data==="$!"){if(g=R.nextSibling&&R.nextSibling.dataset,g)var de=g.dgst;return g=de,D=Error(n(419)),g=yf(D,g,void 0),pc(r,i,Z,g)}if(de=(Z&r.childLanes)!==0,Fn||de){if(g=dn,g!==null){switch(Z&-Z){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(g.suspendedLanes|Z))!==0?0:R,R!==0&&R!==D.retryLane&&(D.retryLane=R,ts(r,R),br(g,r,R,-1))}return Vf(),g=yf(Error(n(421))),pc(r,i,Z,g)}return R.data==="$?"?(i.flags|=128,i.child=r.child,i=n8.bind(null,r),R._reactRetry=i,null):(r=D.treeContext,Gn=ks(R.nextSibling),Yn=i,Wt=!0,vr=null,r!==null&&(nr[rr++]=Jr,nr[rr++]=es,nr[rr++]=ii,Jr=r.id,es=r.overflow,ii=i),i=Ef(i,g.children),i.flags|=4096,i)}function Og(r,i,u){r.lanes|=i;var g=r.alternate;g!==null&&(g.lanes|=i),ef(r.return,i,u)}function Cf(r,i,u,g,R){var D=r.memoizedState;D===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:R}:(D.isBackwards=i,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=u,D.tailMode=R)}function Ig(r,i,u){var g=i.pendingProps,R=g.revealOrder,D=g.tail;if(Mn(r,i,g.children,u),g=Ut.current,(g&2)!==0)g=g&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Og(r,u,i);else if(r.tag===19)Og(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}if(jt(Ut,g),(i.mode&1)===0)i.memoizedState=null;else switch(R){case"forwards":for(u=i.child,R=null;u!==null;)r=u.alternate,r!==null&&ac(r)===null&&(R=u),u=u.sibling;u=R,u===null?(R=i.child,i.child=null):(R=u.sibling,u.sibling=null),Cf(i,!1,R,u,D);break;case"backwards":for(u=null,R=i.child,i.child=null;R!==null;){if(r=R.alternate,r!==null&&ac(r)===null){i.child=R;break}r=R.sibling,R.sibling=u,u=R,R=r}Cf(i,!0,u,null,D);break;case"together":Cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mc(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function rs(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),ui|=i.lanes,(u&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,u=Ls(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=Ls(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function U6(r,i,u){switch(i.tag){case 3:Ag(i),no();break;case 5:K0(i);break;case 1:Bn(i.type)&&Ql(i);break;case 4:rf(i,i.stateNode.containerInfo);break;case 10:var g=i.type._context,R=i.memoizedProps.value;jt(rc,g._currentValue),g._currentValue=R;break;case 13:if(g=i.memoizedState,g!==null)return g.dehydrated!==null?(jt(Ut,Ut.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?Ng(r,i,u):(jt(Ut,Ut.current&1),r=rs(r,i,u),r!==null?r.sibling:null);jt(Ut,Ut.current&1);break;case 19:if(g=(u&i.childLanes)!==0,(r.flags&128)!==0){if(g)return Ig(r,i,u);i.flags|=128}if(R=i.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),jt(Ut,Ut.current),g)break;return null;case 22:case 23:return i.lanes=0,Tg(r,i,u)}return rs(r,i,u)}var jg,kf,Lg,Bg;jg=function(r,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},kf=function(){},Lg=function(r,i,u,g){var R=r.memoizedProps;if(R!==g){r=i.stateNode,li(jr.current);var D=null;switch(u){case"input":R=B(r,R),g=B(r,g),D=[];break;case"select":R=X({},R,{value:void 0}),g=X({},g,{value:void 0}),D=[];break;case"textarea":R=fe(r,R),g=fe(r,g),D=[];break;default:typeof R.onClick!="function"&&typeof g.onClick=="function"&&(r.onclick=Gl)}he(u,g);var Z;u=null;for(Ne in R)if(!g.hasOwnProperty(Ne)&&R.hasOwnProperty(Ne)&&R[Ne]!=null)if(Ne==="style"){var de=R[Ne];for(Z in de)de.hasOwnProperty(Z)&&(u||(u={}),u[Z]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(o.hasOwnProperty(Ne)?D||(D=[]):(D=D||[]).push(Ne,null));for(Ne in g){var me=g[Ne];if(de=R?.[Ne],g.hasOwnProperty(Ne)&&me!==de&&(me!=null||de!=null))if(Ne==="style")if(de){for(Z in de)!de.hasOwnProperty(Z)||me&&me.hasOwnProperty(Z)||(u||(u={}),u[Z]="");for(Z in me)me.hasOwnProperty(Z)&&de[Z]!==me[Z]&&(u||(u={}),u[Z]=me[Z])}else u||(D||(D=[]),D.push(Ne,u)),u=me;else Ne==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,de=de?de.__html:void 0,me!=null&&de!==me&&(D=D||[]).push(Ne,me)):Ne==="children"?typeof me!="string"&&typeof me!="number"||(D=D||[]).push(Ne,""+me):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(o.hasOwnProperty(Ne)?(me!=null&&Ne==="onScroll"&&Bt("scroll",r),D||de===me||(D=[])):(D=D||[]).push(Ne,me))}u&&(D=D||[]).push("style",u);var Ne=D;(i.updateQueue=Ne)&&(i.flags|=4)}},Bg=function(r,i,u,g){u!==g&&(i.flags|=4)};function Ma(r,i){if(!Wt)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function bn(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,g=0;if(i)for(var R=r.child;R!==null;)u|=R.lanes|R.childLanes,g|=R.subtreeFlags&14680064,g|=R.flags&14680064,R.return=r,R=R.sibling;else for(R=r.child;R!==null;)u|=R.lanes|R.childLanes,g|=R.subtreeFlags,g|=R.flags,R.return=r,R=R.sibling;return r.subtreeFlags|=g,r.childLanes=u,i}function $6(r,i,u){var g=i.pendingProps;switch(Yd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(i),null;case 1:return Bn(i.type)&&ql(),bn(i),null;case 3:return g=i.stateNode,oo(),Ft(Ln),Ft(_n),af(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(r===null||r.child===null)&&(tc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vr!==null&&(Lf(vr),vr=null))),kf(r,i),bn(i),null;case 5:sf(i);var R=li(Ca.current);if(u=i.type,r!==null&&i.stateNode!=null)Lg(r,i,u,g,R),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!g){if(i.stateNode===null)throw Error(n(166));return bn(i),null}if(r=li(jr.current),tc(i)){g=i.stateNode,u=i.type;var D=i.memoizedProps;switch(g[Ir]=i,g[wa]=D,r=(i.mode&1)!==0,u){case"dialog":Bt("cancel",g),Bt("close",g);break;case"iframe":case"object":case"embed":Bt("load",g);break;case"video":case"audio":for(R=0;R<va.length;R++)Bt(va[R],g);break;case"source":Bt("error",g);break;case"img":case"image":case"link":Bt("error",g),Bt("load",g);break;case"details":Bt("toggle",g);break;case"input":ve(g,D),Bt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!D.multiple},Bt("invalid",g);break;case"textarea":De(g,D),Bt("invalid",g)}he(u,D),R=null;for(var Z in D)if(D.hasOwnProperty(Z)){var de=D[Z];Z==="children"?typeof de=="string"?g.textContent!==de&&(D.suppressHydrationWarning!==!0&&Yl(g.textContent,de,r),R=["children",de]):typeof de=="number"&&g.textContent!==""+de&&(D.suppressHydrationWarning!==!0&&Yl(g.textContent,de,r),R=["children",""+de]):o.hasOwnProperty(Z)&&de!=null&&Z==="onScroll"&&Bt("scroll",g)}switch(u){case"input":Ce(g),se(g,D,!0);break;case"textarea":Ce(g),Pe(g);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(g.onclick=Gl)}g=R,i.updateQueue=g,g!==null&&(i.flags|=4)}else{Z=R.nodeType===9?R:R.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Le(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=Z.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof g.is=="string"?r=Z.createElement(u,{is:g.is}):(r=Z.createElement(u),u==="select"&&(Z=r,g.multiple?Z.multiple=!0:g.size&&(Z.size=g.size))):r=Z.createElementNS(r,u),r[Ir]=i,r[wa]=g,jg(r,i,!1,!1),i.stateNode=r;e:{switch(Z=re(u,g),u){case"dialog":Bt("cancel",r),Bt("close",r),R=g;break;case"iframe":case"object":case"embed":Bt("load",r),R=g;break;case"video":case"audio":for(R=0;R<va.length;R++)Bt(va[R],r);R=g;break;case"source":Bt("error",r),R=g;break;case"img":case"image":case"link":Bt("error",r),Bt("load",r),R=g;break;case"details":Bt("toggle",r),R=g;break;case"input":ve(r,g),R=B(r,g),Bt("invalid",r);break;case"option":R=g;break;case"select":r._wrapperState={wasMultiple:!!g.multiple},R=X({},g,{value:void 0}),Bt("invalid",r);break;case"textarea":De(r,g),R=fe(r,g),Bt("invalid",r);break;default:R=g}he(u,R),de=R;for(D in de)if(de.hasOwnProperty(D)){var me=de[D];D==="style"?oe(r,me):D==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&Ee(r,me)):D==="children"?typeof me=="string"?(u!=="textarea"||me!=="")&&tt(r,me):typeof me=="number"&&tt(r,""+me):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(o.hasOwnProperty(D)?me!=null&&D==="onScroll"&&Bt("scroll",r):me!=null&&m(r,D,me,Z))}switch(u){case"input":Ce(r),se(r,g,!1);break;case"textarea":Ce(r),Pe(r);break;case"option":g.value!=null&&r.setAttribute("value",""+te(g.value));break;case"select":r.multiple=!!g.multiple,D=g.value,D!=null?be(r,!!g.multiple,D,!1):g.defaultValue!=null&&be(r,!!g.multiple,g.defaultValue,!0);break;default:typeof R.onClick=="function"&&(r.onclick=Gl)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return bn(i),null;case 6:if(r&&i.stateNode!=null)Bg(r,i,r.memoizedProps,g);else{if(typeof g!="string"&&i.stateNode===null)throw Error(n(166));if(u=li(Ca.current),li(jr.current),tc(i)){if(g=i.stateNode,u=i.memoizedProps,g[Ir]=i,(D=g.nodeValue!==u)&&(r=Yn,r!==null))switch(r.tag){case 3:Yl(g.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Yl(g.nodeValue,u,(r.mode&1)!==0)}D&&(i.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[Ir]=i,i.stateNode=g}return bn(i),null;case 13:if(Ft(Ut),g=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Wt&&Gn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)z0(),no(),i.flags|=98560,D=!1;else if(D=tc(i),g!==null&&g.dehydrated!==null){if(r===null){if(!D)throw Error(n(318));if(D=i.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[Ir]=i}else no(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bn(i),D=!1}else vr!==null&&(Lf(vr),vr=null),D=!0;if(!D)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(g=g!==null,g!==(r!==null&&r.memoizedState!==null)&&g&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Ut.current&1)!==0?ln===0&&(ln=3):Vf())),i.updateQueue!==null&&(i.flags|=4),bn(i),null);case 4:return oo(),kf(r,i),r===null&&ya(i.stateNode.containerInfo),bn(i),null;case 10:return Jd(i.type._context),bn(i),null;case 17:return Bn(i.type)&&ql(),bn(i),null;case 19:if(Ft(Ut),D=i.memoizedState,D===null)return bn(i),null;if(g=(i.flags&128)!==0,Z=D.rendering,Z===null)if(g)Ma(D,!1);else{if(ln!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(Z=ac(r),Z!==null){for(i.flags|=128,Ma(D,!1),g=Z.updateQueue,g!==null&&(i.updateQueue=g,i.flags|=4),i.subtreeFlags=0,g=u,u=i.child;u!==null;)D=u,r=g,D.flags&=14680066,Z=D.alternate,Z===null?(D.childLanes=0,D.lanes=r,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=Z.childLanes,D.lanes=Z.lanes,D.child=Z.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=Z.memoizedProps,D.memoizedState=Z.memoizedState,D.updateQueue=Z.updateQueue,D.type=Z.type,r=Z.dependencies,D.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return jt(Ut,Ut.current&1|2),i.child}r=r.sibling}D.tail!==null&&Lt()>uo&&(i.flags|=128,g=!0,Ma(D,!1),i.lanes=4194304)}else{if(!g)if(r=ac(Z),r!==null){if(i.flags|=128,g=!0,u=r.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Ma(D,!0),D.tail===null&&D.tailMode==="hidden"&&!Z.alternate&&!Wt)return bn(i),null}else 2*Lt()-D.renderingStartTime>uo&&u!==1073741824&&(i.flags|=128,g=!0,Ma(D,!1),i.lanes=4194304);D.isBackwards?(Z.sibling=i.child,i.child=Z):(u=D.last,u!==null?u.sibling=Z:i.child=Z,D.last=Z)}return D.tail!==null?(i=D.tail,D.rendering=i,D.tail=i.sibling,D.renderingStartTime=Lt(),i.sibling=null,u=Ut.current,jt(Ut,g?u&1|2:u&1),i):(bn(i),null);case 22:case 23:return Ff(),g=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==g&&(i.flags|=8192),g&&(i.mode&1)!==0?(Kn&1073741824)!==0&&(bn(i),i.subtreeFlags&6&&(i.flags|=8192)):bn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function X6(r,i){switch(Yd(i),i.tag){case 1:return Bn(i.type)&&ql(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return oo(),Ft(Ln),Ft(_n),af(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return sf(i),null;case 13:if(Ft(Ut),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));no()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ft(Ut),null;case 4:return oo(),null;case 10:return Jd(i.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var gc=!1,xn=!1,Y6=typeof WeakSet=="function"?WeakSet:Set,nt=null;function lo(r,i){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){Yt(r,i,g)}else u.current=null}function Rf(r,i,u){try{u()}catch(g){Yt(r,i,g)}}var Fg=!1;function G6(r,i){if(Bd=jl,r=v0(),Md(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var R=g.anchorOffset,D=g.focusNode;g=g.focusOffset;try{u.nodeType,D.nodeType}catch{u=null;break e}var Z=0,de=-1,me=-1,Ne=0,$e=0,Xe=r,He=null;t:for(;;){for(var et;Xe!==u||R!==0&&Xe.nodeType!==3||(de=Z+R),Xe!==D||g!==0&&Xe.nodeType!==3||(me=Z+g),Xe.nodeType===3&&(Z+=Xe.nodeValue.length),(et=Xe.firstChild)!==null;)He=Xe,Xe=et;for(;;){if(Xe===r)break t;if(He===u&&++Ne===R&&(de=Z),He===D&&++$e===g&&(me=Z),(et=Xe.nextSibling)!==null)break;Xe=He,He=Xe.parentNode}Xe=et}u=de===-1||me===-1?null:{start:de,end:me}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fd={focusedElem:r,selectionRange:u},jl=!1,nt=i;nt!==null;)if(i=nt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,nt=r;else for(;nt!==null;){i=nt;try{var it=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var at=it.memoizedProps,Qt=it.memoizedState,ke=i.stateNode,_e=ke.getSnapshotBeforeUpdate(i.elementType===i.type?at:yr(i.type,at),Qt);ke.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Re=i.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ke){Yt(i,i.return,Ke)}if(r=i.sibling,r!==null){r.return=i.return,nt=r;break}nt=i.return}return it=Fg,Fg=!1,it}function Aa(r,i,u){var g=i.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var R=g=g.next;do{if((R.tag&r)===r){var D=R.destroy;R.destroy=void 0,D!==void 0&&Rf(i,u,D)}R=R.next}while(R!==g)}}function vc(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&r)===r){var g=u.create;u.destroy=g()}u=u.next}while(u!==i)}}function Tf(r){var i=r.ref;if(i!==null){var u=r.stateNode;r.tag,r=u,typeof i=="function"?i(r):i.current=r}}function Vg(r){var i=r.alternate;i!==null&&(r.alternate=null,Vg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Ir],delete i[wa],delete i[Hd],delete i[M6],delete i[A6])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function zg(r){return r.tag===5||r.tag===3||r.tag===4}function Wg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pf(r,i,u){var g=r.tag;if(g===5||g===6)r=r.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(r,i):u.insertBefore(r,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(r,u)):(i=u,i.appendChild(r)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Gl));else if(g!==4&&(r=r.child,r!==null))for(Pf(r,i,u),r=r.sibling;r!==null;)Pf(r,i,u),r=r.sibling}function Mf(r,i,u){var g=r.tag;if(g===5||g===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(g!==4&&(r=r.child,r!==null))for(Mf(r,i,u),r=r.sibling;r!==null;)Mf(r,i,u),r=r.sibling}var mn=null,_r=!1;function Ds(r,i,u){for(u=u.child;u!==null;)Hg(r,i,u),u=u.sibling}function Hg(r,i,u){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(gs,u)}catch{}switch(u.tag){case 5:xn||lo(u,i);case 6:var g=mn,R=_r;mn=null,Ds(r,i,u),mn=g,_r=R,mn!==null&&(_r?(r=mn,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):mn.removeChild(u.stateNode));break;case 18:mn!==null&&(_r?(r=mn,u=u.stateNode,r.nodeType===8?Wd(r.parentNode,u):r.nodeType===1&&Wd(r,u),ca(r)):Wd(mn,u.stateNode));break;case 4:g=mn,R=_r,mn=u.stateNode.containerInfo,_r=!0,Ds(r,i,u),mn=g,_r=R;break;case 0:case 11:case 14:case 15:if(!xn&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){R=g=g.next;do{var D=R,Z=D.destroy;D=D.tag,Z!==void 0&&((D&2)!==0||(D&4)!==0)&&Rf(u,i,Z),R=R.next}while(R!==g)}Ds(r,i,u);break;case 1:if(!xn&&(lo(u,i),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(de){Yt(u,i,de)}Ds(r,i,u);break;case 21:Ds(r,i,u);break;case 22:u.mode&1?(xn=(g=xn)||u.memoizedState!==null,Ds(r,i,u),xn=g):Ds(r,i,u);break;default:Ds(r,i,u)}}function Ug(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new Y6),i.forEach(function(g){var R=r8.bind(null,r,g);u.has(g)||(u.add(g),g.then(R,R))})}}function wr(r,i){var u=i.deletions;if(u!==null)for(var g=0;g<u.length;g++){var R=u[g];try{var D=r,Z=i,de=Z;e:for(;de!==null;){switch(de.tag){case 5:mn=de.stateNode,_r=!1;break e;case 3:mn=de.stateNode.containerInfo,_r=!0;break e;case 4:mn=de.stateNode.containerInfo,_r=!0;break e}de=de.return}if(mn===null)throw Error(n(160));Hg(D,Z,R),mn=null,_r=!1;var me=R.alternate;me!==null&&(me.return=null),R.return=null}catch(Ne){Yt(R,i,Ne)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)$g(i,r),i=i.sibling}function $g(r,i){var u=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(wr(i,r),Br(r),g&4){try{Aa(3,r,r.return),vc(3,r)}catch(at){Yt(r,r.return,at)}try{Aa(5,r,r.return)}catch(at){Yt(r,r.return,at)}}break;case 1:wr(i,r),Br(r),g&512&&u!==null&&lo(u,u.return);break;case 5:if(wr(i,r),Br(r),g&512&&u!==null&&lo(u,u.return),r.flags&32){var R=r.stateNode;try{tt(R,"")}catch(at){Yt(r,r.return,at)}}if(g&4&&(R=r.stateNode,R!=null)){var D=r.memoizedProps,Z=u!==null?u.memoizedProps:D,de=r.type,me=r.updateQueue;if(r.updateQueue=null,me!==null)try{de==="input"&&D.type==="radio"&&D.name!=null&&pe(R,D),re(de,Z);var Ne=re(de,D);for(Z=0;Z<me.length;Z+=2){var $e=me[Z],Xe=me[Z+1];$e==="style"?oe(R,Xe):$e==="dangerouslySetInnerHTML"?Ee(R,Xe):$e==="children"?tt(R,Xe):m(R,$e,Xe,Ne)}switch(de){case"input":ie(R,D);break;case"textarea":Ie(R,D);break;case"select":var He=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!D.multiple;var et=D.value;et!=null?be(R,!!D.multiple,et,!1):He!==!!D.multiple&&(D.defaultValue!=null?be(R,!!D.multiple,D.defaultValue,!0):be(R,!!D.multiple,D.multiple?[]:"",!1))}R[wa]=D}catch(at){Yt(r,r.return,at)}}break;case 6:if(wr(i,r),Br(r),g&4){if(r.stateNode===null)throw Error(n(162));R=r.stateNode,D=r.memoizedProps;try{R.nodeValue=D}catch(at){Yt(r,r.return,at)}}break;case 3:if(wr(i,r),Br(r),g&4&&u!==null&&u.memoizedState.isDehydrated)try{ca(i.containerInfo)}catch(at){Yt(r,r.return,at)}break;case 4:wr(i,r),Br(r);break;case 13:wr(i,r),Br(r),R=r.child,R.flags&8192&&(D=R.memoizedState!==null,R.stateNode.isHidden=D,!D||R.alternate!==null&&R.alternate.memoizedState!==null||(Nf=Lt())),g&4&&Ug(r);break;case 22:if($e=u!==null&&u.memoizedState!==null,r.mode&1?(xn=(Ne=xn)||$e,wr(i,r),xn=Ne):wr(i,r),Br(r),g&8192){if(Ne=r.memoizedState!==null,(r.stateNode.isHidden=Ne)&&!$e&&(r.mode&1)!==0)for(nt=r,$e=r.child;$e!==null;){for(Xe=nt=$e;nt!==null;){switch(He=nt,et=He.child,He.tag){case 0:case 11:case 14:case 15:Aa(4,He,He.return);break;case 1:lo(He,He.return);var it=He.stateNode;if(typeof it.componentWillUnmount=="function"){g=He,u=He.return;try{i=g,it.props=i.memoizedProps,it.state=i.memoizedState,it.componentWillUnmount()}catch(at){Yt(g,u,at)}}break;case 5:lo(He,He.return);break;case 22:if(He.memoizedState!==null){Gg(Xe);continue}}et!==null?(et.return=He,nt=et):Gg(Xe)}$e=$e.sibling}e:for($e=null,Xe=r;;){if(Xe.tag===5){if($e===null){$e=Xe;try{R=Xe.stateNode,Ne?(D=R.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(de=Xe.stateNode,me=Xe.memoizedProps.style,Z=me!=null&&me.hasOwnProperty("display")?me.display:null,de.style.display=ee("display",Z))}catch(at){Yt(r,r.return,at)}}}else if(Xe.tag===6){if($e===null)try{Xe.stateNode.nodeValue=Ne?"":Xe.memoizedProps}catch(at){Yt(r,r.return,at)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===r)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===r)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===r)break e;$e===Xe&&($e=null),Xe=Xe.return}$e===Xe&&($e=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:wr(i,r),Br(r),g&4&&Ug(r);break;case 21:break;default:wr(i,r),Br(r)}}function Br(r){var i=r.flags;if(i&2){try{e:{for(var u=r.return;u!==null;){if(zg(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var R=g.stateNode;g.flags&32&&(tt(R,""),g.flags&=-33);var D=Wg(r);Mf(r,D,R);break;case 3:case 4:var Z=g.stateNode.containerInfo,de=Wg(r);Pf(r,de,Z);break;default:throw Error(n(161))}}catch(me){Yt(r,r.return,me)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function K6(r,i,u){nt=r,Xg(r)}function Xg(r,i,u){for(var g=(r.mode&1)!==0;nt!==null;){var R=nt,D=R.child;if(R.tag===22&&g){var Z=R.memoizedState!==null||gc;if(!Z){var de=R.alternate,me=de!==null&&de.memoizedState!==null||xn;de=gc;var Ne=xn;if(gc=Z,(xn=me)&&!Ne)for(nt=R;nt!==null;)Z=nt,me=Z.child,Z.tag===22&&Z.memoizedState!==null?Kg(R):me!==null?(me.return=Z,nt=me):Kg(R);for(;D!==null;)nt=D,Xg(D),D=D.sibling;nt=R,gc=de,xn=Ne}Yg(r)}else(R.subtreeFlags&8772)!==0&&D!==null?(D.return=R,nt=D):Yg(r)}}function Yg(r){for(;nt!==null;){var i=nt;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:xn||vc(5,i);break;case 1:var g=i.stateNode;if(i.flags&4&&!xn)if(u===null)g.componentDidMount();else{var R=i.elementType===i.type?u.memoizedProps:yr(i.type,u.memoizedProps);g.componentDidUpdate(R,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var D=i.updateQueue;D!==null&&G0(i,D,g);break;case 3:var Z=i.updateQueue;if(Z!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}G0(i,Z,u)}break;case 5:var de=i.stateNode;if(u===null&&i.flags&4){u=de;var me=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&u.focus();break;case"img":me.src&&(u.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Ne=i.alternate;if(Ne!==null){var $e=Ne.memoizedState;if($e!==null){var Xe=$e.dehydrated;Xe!==null&&ca(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xn||i.flags&512&&Tf(i)}catch(He){Yt(i,i.return,He)}}if(i===r){nt=null;break}if(u=i.sibling,u!==null){u.return=i.return,nt=u;break}nt=i.return}}function Gg(r){for(;nt!==null;){var i=nt;if(i===r){nt=null;break}var u=i.sibling;if(u!==null){u.return=i.return,nt=u;break}nt=i.return}}function Kg(r){for(;nt!==null;){var i=nt;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{vc(4,i)}catch(me){Yt(i,u,me)}break;case 1:var g=i.stateNode;if(typeof g.componentDidMount=="function"){var R=i.return;try{g.componentDidMount()}catch(me){Yt(i,R,me)}}var D=i.return;try{Tf(i)}catch(me){Yt(i,D,me)}break;case 5:var Z=i.return;try{Tf(i)}catch(me){Yt(i,Z,me)}}}catch(me){Yt(i,i.return,me)}if(i===r){nt=null;break}var de=i.sibling;if(de!==null){de.return=i.return,nt=de;break}nt=i.return}}var q6=Math.ceil,yc=M.ReactCurrentDispatcher,Af=M.ReactCurrentOwner,or=M.ReactCurrentBatchConfig,Et=0,dn=null,rn=null,gn=0,Kn=0,co=Rs(0),ln=0,Da=null,ui=0,_c=0,Df=0,Na=null,Vn=null,Nf=0,uo=1/0,ss=null,wc=!1,Of=null,Ns=null,bc=!1,Os=null,xc=0,Oa=0,If=null,Sc=-1,Ec=0;function An(){return(Et&6)!==0?Lt():Sc!==-1?Sc:Sc=Lt()}function Is(r){return(r.mode&1)===0?1:(Et&2)!==0&&gn!==0?gn&-gn:N6.transition!==null?(Ec===0&&(Ec=Wi()),Ec):(r=At,r!==0||(r=window.event,r=r===void 0?16:Q1(r.type)),r)}function br(r,i,u,g){if(50<Oa)throw Oa=0,If=null,Error(n(185));mr(r,u,g),((Et&2)===0||r!==dn)&&(r===dn&&((Et&2)===0&&(_c|=u),ln===4&&js(r,gn)),zn(r,g),u===1&&Et===0&&(i.mode&1)===0&&(uo=Lt()+500,Zl&&Ps()))}function zn(r,i){var u=r.callbackNode;sa(r,i);var g=Or(r,r===dn?gn:0);if(g===0)u!==null&&on(u),r.callbackNode=null,r.callbackPriority=0;else if(i=g&-g,r.callbackPriority!==i){if(u!=null&&on(u),i===1)r.tag===0?D6(Qg.bind(null,r)):j0(Qg.bind(null,r)),T6(function(){(Et&6)===0&&Ps()}),u=null;else{switch(H1(g)){case 1:u=zi;break;case 4:u=ta;break;case 16:u=Mt;break;case 536870912:u=na;break;default:u=Mt}u=iv(u,qg.bind(null,r))}r.callbackPriority=i,r.callbackNode=u}}function qg(r,i){if(Sc=-1,Ec=0,(Et&6)!==0)throw Error(n(327));var u=r.callbackNode;if(fo()&&r.callbackNode!==u)return null;var g=Or(r,r===dn?gn:0);if(g===0)return null;if((g&30)!==0||(g&r.expiredLanes)!==0||i)i=Cc(r,g);else{i=g;var R=Et;Et|=2;var D=Jg();(dn!==r||gn!==i)&&(ss=null,uo=Lt()+500,fi(r,i));do try{J6();break}catch(de){Zg(r,de)}while(!0);Zd(),yc.current=D,Et=R,rn!==null?i=0:(dn=null,gn=0,i=ln)}if(i!==0){if(i===2&&(R=pr(r),R!==0&&(g=R,i=jf(r,R))),i===1)throw u=Da,fi(r,0),js(r,g),zn(r,Lt()),u;if(i===6)js(r,g);else{if(R=r.current.alternate,(g&30)===0&&!Q6(R)&&(i=Cc(r,g),i===2&&(D=pr(r),D!==0&&(g=D,i=jf(r,D))),i===1))throw u=Da,fi(r,0),js(r,g),zn(r,Lt()),u;switch(r.finishedWork=R,r.finishedLanes=g,i){case 0:case 1:throw Error(n(345));case 2:hi(r,Vn,ss);break;case 3:if(js(r,g),(g&130023424)===g&&(i=Nf+500-Lt(),10<i)){if(Or(r,0)!==0)break;if(R=r.suspendedLanes,(R&g)!==g){An(),r.pingedLanes|=r.suspendedLanes&R;break}r.timeoutHandle=zd(hi.bind(null,r,Vn,ss),i);break}hi(r,Vn,ss);break;case 4:if(js(r,g),(g&4194240)===g)break;for(i=r.eventTimes,R=-1;0<g;){var Z=31-pn(g);D=1<<Z,Z=i[Z],Z>R&&(R=Z),g&=~D}if(g=R,g=Lt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*q6(g/1960))-g,10<g){r.timeoutHandle=zd(hi.bind(null,r,Vn,ss),g);break}hi(r,Vn,ss);break;case 5:hi(r,Vn,ss);break;default:throw Error(n(329))}}}return zn(r,Lt()),r.callbackNode===u?qg.bind(null,r):null}function jf(r,i){var u=Na;return r.current.memoizedState.isDehydrated&&(fi(r,i).flags|=256),r=Cc(r,i),r!==2&&(i=Vn,Vn=u,i!==null&&Lf(i)),r}function Lf(r){Vn===null?Vn=r:Vn.push.apply(Vn,r)}function Q6(r){for(var i=r;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var R=u[g],D=R.getSnapshot;R=R.value;try{if(!gr(D(),R))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function js(r,i){for(i&=~Df,i&=~_c,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var u=31-pn(i),g=1<<u;r[u]=-1,i&=~g}}function Qg(r){if((Et&6)!==0)throw Error(n(327));fo();var i=Or(r,0);if((i&1)===0)return zn(r,Lt()),null;var u=Cc(r,i);if(r.tag!==0&&u===2){var g=pr(r);g!==0&&(i=g,u=jf(r,g))}if(u===1)throw u=Da,fi(r,0),js(r,i),zn(r,Lt()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,hi(r,Vn,ss),zn(r,Lt()),null}function Bf(r,i){var u=Et;Et|=1;try{return r(i)}finally{Et=u,Et===0&&(uo=Lt()+500,Zl&&Ps())}}function di(r){Os!==null&&Os.tag===0&&(Et&6)===0&&fo();var i=Et;Et|=1;var u=or.transition,g=At;try{if(or.transition=null,At=1,r)return r()}finally{At=g,or.transition=u,Et=i,(Et&6)===0&&Ps()}}function Ff(){Kn=co.current,Ft(co)}function fi(r,i){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,R6(u)),rn!==null)for(u=rn.return;u!==null;){var g=u;switch(Yd(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ql();break;case 3:oo(),Ft(Ln),Ft(_n),af();break;case 5:sf(g);break;case 4:oo();break;case 13:Ft(Ut);break;case 19:Ft(Ut);break;case 10:Jd(g.type._context);break;case 22:case 23:Ff()}u=u.return}if(dn=r,rn=r=Ls(r.current,null),gn=Kn=i,ln=0,Da=null,Df=_c=ui=0,Vn=Na=null,ai!==null){for(i=0;i<ai.length;i++)if(u=ai[i],g=u.interleaved,g!==null){u.interleaved=null;var R=g.next,D=u.pending;if(D!==null){var Z=D.next;D.next=R,g.next=Z}u.pending=g}ai=null}return r}function Zg(r,i){do{var u=rn;try{if(Zd(),lc.current=fc,cc){for(var g=$t.memoizedState;g!==null;){var R=g.queue;R!==null&&(R.pending=null),g=g.next}cc=!1}if(ci=0,un=an=$t=null,ka=!1,Ra=0,Af.current=null,u===null||u.return===null){ln=1,Da=i,rn=null;break}e:{var D=r,Z=u.return,de=u,me=i;if(i=gn,de.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ne=me,$e=de,Xe=$e.tag;if(($e.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var He=$e.alternate;He?($e.updateQueue=He.updateQueue,$e.memoizedState=He.memoizedState,$e.lanes=He.lanes):($e.updateQueue=null,$e.memoizedState=null)}var et=Sg(Z);if(et!==null){et.flags&=-257,Eg(et,Z,de,D,i),et.mode&1&&xg(D,Ne,i),i=et,me=Ne;var it=i.updateQueue;if(it===null){var at=new Set;at.add(me),i.updateQueue=at}else it.add(me);break e}else{if((i&1)===0){xg(D,Ne,i),Vf();break e}me=Error(n(426))}}else if(Wt&&de.mode&1){var Qt=Sg(Z);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),Eg(Qt,Z,de,D,i),qd(ao(me,de));break e}}D=me=ao(me,de),ln!==4&&(ln=2),Na===null?Na=[D]:Na.push(D),D=Z;do{switch(D.tag){case 3:D.flags|=65536,i&=-i,D.lanes|=i;var ke=wg(D,me,i);Y0(D,ke);break e;case 1:de=me;var _e=D.type,Re=D.stateNode;if((D.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Ns===null||!Ns.has(Re)))){D.flags|=65536,i&=-i,D.lanes|=i;var Ke=bg(D,de,i);Y0(D,Ke);break e}}D=D.return}while(D!==null)}tv(u)}catch(lt){i=lt,rn===u&&u!==null&&(rn=u=u.return);continue}break}while(!0)}function Jg(){var r=yc.current;return yc.current=fc,r===null?fc:r}function Vf(){(ln===0||ln===3||ln===2)&&(ln=4),dn===null||(ui&268435455)===0&&(_c&268435455)===0||js(dn,gn)}function Cc(r,i){var u=Et;Et|=2;var g=Jg();(dn!==r||gn!==i)&&(ss=null,fi(r,i));do try{Z6();break}catch(R){Zg(r,R)}while(!0);if(Zd(),Et=u,yc.current=g,rn!==null)throw Error(n(261));return dn=null,gn=0,ln}function Z6(){for(;rn!==null;)ev(rn)}function J6(){for(;rn!==null&&!tr();)ev(rn)}function ev(r){var i=sv(r.alternate,r,Kn);r.memoizedProps=r.pendingProps,i===null?tv(r):rn=i,Af.current=null}function tv(r){var i=r;do{var u=i.alternate;if(r=i.return,(i.flags&32768)===0){if(u=$6(u,i,Kn),u!==null){rn=u;return}}else{if(u=X6(u,i),u!==null){u.flags&=32767,rn=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ln=6,rn=null;return}}if(i=i.sibling,i!==null){rn=i;return}rn=i=r}while(i!==null);ln===0&&(ln=5)}function hi(r,i,u){var g=At,R=or.transition;try{or.transition=null,At=1,e8(r,i,u,g)}finally{or.transition=R,At=g}return null}function e8(r,i,u,g){do fo();while(Os!==null);if((Et&6)!==0)throw Error(n(327));u=r.finishedWork;var R=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var D=u.lanes|u.childLanes;if(Hi(r,D),r===dn&&(rn=dn=null,gn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||bc||(bc=!0,iv(Mt,function(){return fo(),null})),D=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||D){D=or.transition,or.transition=null;var Z=At;At=1;var de=Et;Et|=4,Af.current=null,G6(r,u),$g(u,r),w6(Fd),jl=!!Bd,Fd=Bd=null,r.current=u,K6(u),ms(),Et=de,At=Z,or.transition=D}else r.current=u;if(bc&&(bc=!1,Os=r,xc=R),D=r.pendingLanes,D===0&&(Ns=null),Nl(u.stateNode),zn(r,Lt()),i!==null)for(g=r.onRecoverableError,u=0;u<i.length;u++)R=i[u],g(R.value,{componentStack:R.stack,digest:R.digest});if(wc)throw wc=!1,r=Of,Of=null,r;return(xc&1)!==0&&r.tag!==0&&fo(),D=r.pendingLanes,(D&1)!==0?r===If?Oa++:(Oa=0,If=r):Oa=0,Ps(),null}function fo(){if(Os!==null){var r=H1(xc),i=or.transition,u=At;try{if(or.transition=null,At=16>r?16:r,Os===null)var g=!1;else{if(r=Os,Os=null,xc=0,(Et&6)!==0)throw Error(n(331));var R=Et;for(Et|=4,nt=r.current;nt!==null;){var D=nt,Z=D.child;if((nt.flags&16)!==0){var de=D.deletions;if(de!==null){for(var me=0;me<de.length;me++){var Ne=de[me];for(nt=Ne;nt!==null;){var $e=nt;switch($e.tag){case 0:case 11:case 15:Aa(8,$e,D)}var Xe=$e.child;if(Xe!==null)Xe.return=$e,nt=Xe;else for(;nt!==null;){$e=nt;var He=$e.sibling,et=$e.return;if(Vg($e),$e===Ne){nt=null;break}if(He!==null){He.return=et,nt=He;break}nt=et}}}var it=D.alternate;if(it!==null){var at=it.child;if(at!==null){it.child=null;do{var Qt=at.sibling;at.sibling=null,at=Qt}while(at!==null)}}nt=D}}if((D.subtreeFlags&2064)!==0&&Z!==null)Z.return=D,nt=Z;else e:for(;nt!==null;){if(D=nt,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Aa(9,D,D.return)}var ke=D.sibling;if(ke!==null){ke.return=D.return,nt=ke;break e}nt=D.return}}var _e=r.current;for(nt=_e;nt!==null;){Z=nt;var Re=Z.child;if((Z.subtreeFlags&2064)!==0&&Re!==null)Re.return=Z,nt=Re;else e:for(Z=_e;nt!==null;){if(de=nt,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:vc(9,de)}}catch(lt){Yt(de,de.return,lt)}if(de===Z){nt=null;break e}var Ke=de.sibling;if(Ke!==null){Ke.return=de.return,nt=Ke;break e}nt=de.return}}if(Et=R,Ps(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(gs,r)}catch{}g=!0}return g}finally{At=u,or.transition=i}}return!1}function nv(r,i,u){i=ao(u,i),i=wg(r,i,1),r=As(r,i,1),i=An(),r!==null&&(mr(r,1,i),zn(r,i))}function Yt(r,i,u){if(r.tag===3)nv(r,r,u);else for(;i!==null;){if(i.tag===3){nv(i,r,u);break}else if(i.tag===1){var g=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ns===null||!Ns.has(g))){r=ao(u,r),r=bg(i,r,1),i=As(i,r,1),r=An(),i!==null&&(mr(i,1,r),zn(i,r));break}}i=i.return}}function t8(r,i,u){var g=r.pingCache;g!==null&&g.delete(i),i=An(),r.pingedLanes|=r.suspendedLanes&u,dn===r&&(gn&u)===u&&(ln===4||ln===3&&(gn&130023424)===gn&&500>Lt()-Nf?fi(r,0):Df|=u),zn(r,i)}function rv(r,i){i===0&&((r.mode&1)===0?i=1:(i=ys,ys<<=1,(ys&130023424)===0&&(ys=4194304)));var u=An();r=ts(r,i),r!==null&&(mr(r,i,u),zn(r,u))}function n8(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),rv(r,u)}function r8(r,i){var u=0;switch(r.tag){case 13:var g=r.stateNode,R=r.memoizedState;R!==null&&(u=R.retryLane);break;case 19:g=r.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(i),rv(r,u)}var sv;sv=function(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps||Ln.current)Fn=!0;else{if((r.lanes&u)===0&&(i.flags&128)===0)return Fn=!1,U6(r,i,u);Fn=(r.flags&131072)!==0}else Fn=!1,Wt&&(i.flags&1048576)!==0&&L0(i,ec,i.index);switch(i.lanes=0,i.tag){case 2:var g=i.type;mc(r,i),r=i.pendingProps;var R=Ji(i,_n.current);io(i,u),R=uf(null,i,g,r,R,u);var D=df();return i.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Bn(g)?(D=!0,Ql(i)):D=!1,i.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,nf(i),R.updater=hc,i.stateNode=R,R._reactInternals=i,vf(i,g,r,u),i=bf(null,i,g,!0,D,u)):(i.tag=0,Wt&&D&&Xd(i),Mn(null,i,R,u),i=i.child),i;case 16:g=i.elementType;e:{switch(mc(r,i),r=i.pendingProps,R=g._init,g=R(g._payload),i.type=g,R=i.tag=i8(g),r=yr(g,r),R){case 0:i=wf(null,i,g,r,u);break e;case 1:i=Mg(null,i,g,r,u);break e;case 11:i=Cg(null,i,g,r,u);break e;case 14:i=kg(null,i,g,yr(g.type,r),u);break e}throw Error(n(306,g,""))}return i;case 0:return g=i.type,R=i.pendingProps,R=i.elementType===g?R:yr(g,R),wf(r,i,g,R,u);case 1:return g=i.type,R=i.pendingProps,R=i.elementType===g?R:yr(g,R),Mg(r,i,g,R,u);case 3:e:{if(Ag(i),r===null)throw Error(n(387));g=i.pendingProps,D=i.memoizedState,R=D.element,X0(r,i),oc(i,g,null,u);var Z=i.memoizedState;if(g=Z.element,D.isDehydrated)if(D={element:g,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},i.updateQueue.baseState=D,i.memoizedState=D,i.flags&256){R=ao(Error(n(423)),i),i=Dg(r,i,g,u,R);break e}else if(g!==R){R=ao(Error(n(424)),i),i=Dg(r,i,g,u,R);break e}else for(Gn=ks(i.stateNode.containerInfo.firstChild),Yn=i,Wt=!0,vr=null,u=U0(i,null,g,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(no(),g===R){i=rs(r,i,u);break e}Mn(r,i,g,u)}i=i.child}return i;case 5:return K0(i),r===null&&Kd(i),g=i.type,R=i.pendingProps,D=r!==null?r.memoizedProps:null,Z=R.children,Vd(g,R)?Z=null:D!==null&&Vd(g,D)&&(i.flags|=32),Pg(r,i),Mn(r,i,Z,u),i.child;case 6:return r===null&&Kd(i),null;case 13:return Ng(r,i,u);case 4:return rf(i,i.stateNode.containerInfo),g=i.pendingProps,r===null?i.child=ro(i,null,g,u):Mn(r,i,g,u),i.child;case 11:return g=i.type,R=i.pendingProps,R=i.elementType===g?R:yr(g,R),Cg(r,i,g,R,u);case 7:return Mn(r,i,i.pendingProps,u),i.child;case 8:return Mn(r,i,i.pendingProps.children,u),i.child;case 12:return Mn(r,i,i.pendingProps.children,u),i.child;case 10:e:{if(g=i.type._context,R=i.pendingProps,D=i.memoizedProps,Z=R.value,jt(rc,g._currentValue),g._currentValue=Z,D!==null)if(gr(D.value,Z)){if(D.children===R.children&&!Ln.current){i=rs(r,i,u);break e}}else for(D=i.child,D!==null&&(D.return=i);D!==null;){var de=D.dependencies;if(de!==null){Z=D.child;for(var me=de.firstContext;me!==null;){if(me.context===g){if(D.tag===1){me=ns(-1,u&-u),me.tag=2;var Ne=D.updateQueue;if(Ne!==null){Ne=Ne.shared;var $e=Ne.pending;$e===null?me.next=me:(me.next=$e.next,$e.next=me),Ne.pending=me}}D.lanes|=u,me=D.alternate,me!==null&&(me.lanes|=u),ef(D.return,u,i),de.lanes|=u;break}me=me.next}}else if(D.tag===10)Z=D.type===i.type?null:D.child;else if(D.tag===18){if(Z=D.return,Z===null)throw Error(n(341));Z.lanes|=u,de=Z.alternate,de!==null&&(de.lanes|=u),ef(Z,u,i),Z=D.sibling}else Z=D.child;if(Z!==null)Z.return=D;else for(Z=D;Z!==null;){if(Z===i){Z=null;break}if(D=Z.sibling,D!==null){D.return=Z.return,Z=D;break}Z=Z.return}D=Z}Mn(r,i,R.children,u),i=i.child}return i;case 9:return R=i.type,g=i.pendingProps.children,io(i,u),R=sr(R),g=g(R),i.flags|=1,Mn(r,i,g,u),i.child;case 14:return g=i.type,R=yr(g,i.pendingProps),R=yr(g.type,R),kg(r,i,g,R,u);case 15:return Rg(r,i,i.type,i.pendingProps,u);case 17:return g=i.type,R=i.pendingProps,R=i.elementType===g?R:yr(g,R),mc(r,i),i.tag=1,Bn(g)?(r=!0,Ql(i)):r=!1,io(i,u),yg(i,g,R),vf(i,g,R,u),bf(null,i,g,!0,r,u);case 19:return Ig(r,i,u);case 22:return Tg(r,i,u)}throw Error(n(156,i.tag))};function iv(r,i){return In(r,i)}function s8(r,i,u,g){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(r,i,u,g){return new s8(r,i,u,g)}function zf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function i8(r){if(typeof r=="function")return zf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===T)return 11;if(r===W)return 14}return 2}function Ls(r,i){var u=r.alternate;return u===null?(u=ar(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function kc(r,i,u,g,R,D){var Z=2;if(g=r,typeof r=="function")zf(r)&&(Z=1);else if(typeof r=="string")Z=5;else e:switch(r){case I:return pi(u.children,R,D,i);case V:Z=8,R|=8;break;case Y:return r=ar(12,u,i,R|2),r.elementType=Y,r.lanes=D,r;case z:return r=ar(13,u,i,R),r.elementType=z,r.lanes=D,r;case S:return r=ar(19,u,i,R),r.elementType=S,r.lanes=D,r;case q:return Rc(u,R,D,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:Z=10;break e;case G:Z=9;break e;case T:Z=11;break e;case W:Z=14;break e;case ne:Z=16,g=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=ar(Z,u,i,R),i.elementType=r,i.type=g,i.lanes=D,i}function pi(r,i,u,g){return r=ar(7,r,g,i),r.lanes=u,r}function Rc(r,i,u,g){return r=ar(22,r,g,i),r.elementType=q,r.lanes=u,r.stateNode={isHidden:!1},r}function Wf(r,i,u){return r=ar(6,r,null,i),r.lanes=u,r}function Hf(r,i,u){return i=ar(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function o8(r,i,u,g,R){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=g,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function Uf(r,i,u,g,R,D,Z,de,me){return r=new o8(r,i,u,de,me),i===1?(i=1,D===!0&&(i|=8)):i=0,D=ar(3,null,null,i),r.current=D,D.stateNode=r,D.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(D),r}function a8(r,i,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:g==null?null:""+g,children:r,containerInfo:i,implementation:u}}function ov(r){if(!r)return Ts;r=r._reactInternals;e:{if(Pt(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(Bn(u))return O0(r,u,i)}return i}function av(r,i,u,g,R,D,Z,de,me){return r=Uf(u,g,!0,r,R,D,Z,de,me),r.context=ov(null),u=r.current,g=An(),R=Is(u),D=ns(g,R),D.callback=i??null,As(u,D,R),r.current.lanes=R,mr(r,R,g),zn(r,g),r}function Tc(r,i,u,g){var R=i.current,D=An(),Z=Is(R);return u=ov(u),i.context===null?i.context=u:i.pendingContext=u,i=ns(D,Z),i.payload={element:r},g=g===void 0?null:g,g!==null&&(i.callback=g),r=As(R,i,Z),r!==null&&(br(r,R,Z,D),ic(r,R,Z)),Z}function Pc(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function lv(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function $f(r,i){lv(r,i),(r=r.alternate)&&lv(r,i)}function l8(){return null}var cv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xf(r){this._internalRoot=r}Mc.prototype.render=Xf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Tc(r,i,null,null)},Mc.prototype.unmount=Xf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;di(function(){Tc(null,r,null,null)}),i[Qr]=null}};function Mc(r){this._internalRoot=r}Mc.prototype.unstable_scheduleHydration=function(r){if(r){var i=X1();r={blockedOn:null,target:r,priority:i};for(var u=0;u<Ss.length&&i!==0&&i<Ss[u].priority;u++);Ss.splice(u,0,r),u===0&&K1(r)}};function Yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ac(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function uv(){}function c8(r,i,u,g,R){if(R){if(typeof g=="function"){var D=g;g=function(){var Ne=Pc(Z);D.call(Ne)}}var Z=av(i,g,r,0,null,!1,!1,"",uv);return r._reactRootContainer=Z,r[Qr]=Z.current,ya(r.nodeType===8?r.parentNode:r),di(),Z}for(;R=r.lastChild;)r.removeChild(R);if(typeof g=="function"){var de=g;g=function(){var Ne=Pc(me);de.call(Ne)}}var me=Uf(r,0,!1,null,null,!1,!1,"",uv);return r._reactRootContainer=me,r[Qr]=me.current,ya(r.nodeType===8?r.parentNode:r),di(function(){Tc(i,me,u,g)}),me}function Dc(r,i,u,g,R){var D=u._reactRootContainer;if(D){var Z=D;if(typeof R=="function"){var de=R;R=function(){var me=Pc(Z);de.call(me)}}Tc(i,Z,r,R)}else Z=c8(u,i,r,R,g);return Pc(Z)}U1=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var u=nn(i.pendingLanes);u!==0&&(_s(i,u|1),zn(i,Lt()),(Et&6)===0&&(uo=Lt()+500,Ps()))}break;case 13:di(function(){var g=ts(r,1);if(g!==null){var R=An();br(g,r,1,R)}}),$f(r,1)}},vd=function(r){if(r.tag===13){var i=ts(r,134217728);if(i!==null){var u=An();br(i,r,134217728,u)}$f(r,134217728)}},$1=function(r){if(r.tag===13){var i=Is(r),u=ts(r,i);if(u!==null){var g=An();br(u,r,i,g)}$f(r,i)}},X1=function(){return At},Y1=function(r,i){var u=At;try{return At=r,i()}finally{At=u}},ge=function(r,i,u){switch(i){case"input":if(ie(r,u),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var g=u[i];if(g!==r&&g.form===r.form){var R=Kl(g);if(!R)throw Error(n(90));je(g),ie(g,R)}}}break;case"textarea":Ie(r,u);break;case"select":i=u.value,i!=null&&be(r,!!u.multiple,i,!1)}},Fe=Bf,rt=di;var u8={usingClientEntryPoint:!1,Events:[ba,Qi,Kl,Ye,ot,Bf]},Ia={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d8={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=yn(r),r===null?null:r.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||l8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{gs=Nc.inject(d8),jn=Nc}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u8,Wn.createPortal=function(r,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yf(i))throw Error(n(200));return a8(r,i,null,u)},Wn.createRoot=function(r,i){if(!Yf(r))throw Error(n(299));var u=!1,g="",R=cv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(R=i.onRecoverableError)),i=Uf(r,1,!1,null,null,u,!1,g,R),r[Qr]=i.current,ya(r.nodeType===8?r.parentNode:r),new Xf(i)},Wn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=yn(i),r=r===null?null:r.stateNode,r},Wn.flushSync=function(r){return di(r)},Wn.hydrate=function(r,i,u){if(!Ac(i))throw Error(n(200));return Dc(null,r,i,!0,u)},Wn.hydrateRoot=function(r,i,u){if(!Yf(r))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,R=!1,D="",Z=cv;if(u!=null&&(u.unstable_strictMode===!0&&(R=!0),u.identifierPrefix!==void 0&&(D=u.identifierPrefix),u.onRecoverableError!==void 0&&(Z=u.onRecoverableError)),i=av(i,null,r,1,u??null,R,!1,D,Z),r[Qr]=i.current,ya(r),g)for(r=0;r<g.length;r++)u=g[r],R=u._getVersion,R=R(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,R]:i.mutableSourceEagerHydrationData.push(u,R);return new Mc(i)},Wn.render=function(r,i,u){if(!Ac(i))throw Error(n(200));return Dc(null,r,i,!1,u)},Wn.unmountComponentAtNode=function(r){if(!Ac(r))throw Error(n(40));return r._reactRootContainer?(di(function(){Dc(null,null,r,!1,function(){r._reactRootContainer=null,r[Qr]=null})}),!0):!1},Wn.unstable_batchedUpdates=Bf,Wn.unstable_renderSubtreeIntoContainer=function(r,i,u,g){if(!Ac(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Dc(r,i,u,!1,g)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var yv;function E_(){if(yv)return qf.exports;yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qf.exports=_8(),qf.exports}var _v;function w8(){if(_v)return Ic;_v=1;var e=E_();return Ic.createRoot=e.createRoot,Ic.hydrateRoot=e.hydrateRoot,Ic}var b8=w8();function x8(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,o,a,l=[],c="",d=e.split("/");for(d[0]||d.shift();o=d.shift();)n=o[0],n==="*"?(l.push(n),c+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=o.indexOf("?",1),a=o.indexOf(".",1),l.push(o.substring(1,~s?s:~a?a:o.length)),c+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(c+=(~s?"?":"")+"\\"+o.substring(a))):c+="/"+o;return{keys:l,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}}var N=ju();const Hs=Zp(N),C_=h8({__proto__:null,default:Hs},[N]);var Jf={exports:{}},eh={};var wv;function S8(){if(wv)return eh;wv=1;var e=ju();function t(h,w){return h===w&&(h!==0||1/h===1/w)||h!==h&&w!==w}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,o=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function c(h,w){var b=w(),C=s({inst:{value:b,getSnapshot:w}}),_=C[0].inst,x=C[1];return a(function(){_.value=b,_.getSnapshot=w,d(_)&&x({inst:_})},[h,b,w]),o(function(){return d(_)&&x({inst:_}),h(function(){d(_)&&x({inst:_})})},[h]),l(b),b}function d(h){var w=h.getSnapshot;h=h.value;try{var b=w();return!n(h,b)}catch{return!0}}function p(h,w){return w()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return eh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,eh}var bv;function E8(){return bv||(bv=1,Jf.exports=S8()),Jf.exports}var C8=E8();const k8=C_.useInsertionEffect,R8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T8=R8?N.useLayoutEffect:N.useEffect,P8=k8||T8,k_=e=>{const t=N.useRef([e,(...n)=>t[0](...n)]).current;return P8(()=>{t[0]=e}),t[1]},M8="popstate",Jp="pushState",em="replaceState",A8="hashchange",xv=[M8,Jp,em,A8],D8=e=>{for(const t of xv)addEventListener(t,e);return()=>{for(const t of xv)removeEventListener(t,e)}},R_=(e,t)=>C8.useSyncExternalStore(D8,e,t),N8=()=>location.search,O8=({ssrSearch:e=""}={})=>R_(N8,()=>e),Sv=()=>location.pathname,I8=({ssrPath:e}={})=>R_(Sv,e?()=>e:Sv),j8=(e,{replace:t=!1,state:n=null}={})=>history[t?em:Jp](n,"",e),L8=(e={})=>[I8(e),j8],Ev=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ev]>"u"){for(const e of[Jp,em]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,Ev,{value:!0})}const B8=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",T_=(e="")=>e==="/"?"":e,F8=(e,t)=>e[0]==="~"?e.slice(1):T_(t)+e,V8=(e="",t)=>B8(Cv(T_(e)),Cv(t)),Cv=e=>{try{return decodeURI(e)}catch{return e}},P_={hook:L8,searchHook:O8,parser:x8,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},M_=N.createContext(P_),zo=()=>N.useContext(M_),A_={},D_=N.createContext(A_),z8=()=>N.useContext(D_),Lu=e=>{const[t,n]=e.hook(e);return[V8(e.base,t),k_((s,o)=>n(F8(s,e.base),o))]},gl=()=>Lu(zo()),tm=(e,t,n,s)=>{const{pattern:o,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),l=o.exec(n)||[],[c,...d]=l;return c!==void 0?[!0,(()=>{const p=a!==!1?Object.fromEntries(a.map((h,w)=>[h,d[w]])):l.groups;let f={...d};return p&&Object.assign(f,p),f})(),...s?[c]:[]]:[!1,null]},W8=e=>tm(zo().parser,e,gl()[0]),H8=({children:e,...t})=>{const n=zo(),s=t.hook?P_:n;let o=s;const[a,l]=t.ssrPath?.split("?")??[];l&&(t.ssrSearch=l,t.ssrPath=a),t.hrefs=t.hrefs??t.hook?.hrefs;let c=N.useRef({}),d=c.current,p=d;for(let f in s){const h=f==="base"?s[f]+(t[f]||""):t[f]||s[f];d===p&&h!==p[f]&&(c.current=p={...p}),p[f]=h,h!==s[f]&&(o=p)}return N.createElement(M_.Provider,{value:o,children:e})},kv=({children:e,component:t},n)=>t?N.createElement(t,{params:n}):typeof e=="function"?e(n):e,U8=e=>{let t=N.useRef(A_),n=t.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},La=({path:e,nest:t,match:n,...s})=>{const o=zo(),[a]=Lu(o),[l,c,d]=n??tm(o.parser,e,a,t),p=U8({...z8(),...c});if(!l)return null;const f=d?N.createElement(H8,{base:d},kv(s,p)):kv(s,p);return N.createElement(D_.Provider,{value:p,children:f})},So=N.forwardRef((e,t)=>{const n=zo(),[s,o]=Lu(n),{to:a="",href:l=a,onClick:c,asChild:d,children:p,className:f,replace:h,state:w,...b}=e,C=k_(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(c?.(x),x.defaultPrevented||(x.preventDefault(),o(l,e)))}),_=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return d&&N.isValidElement(p)?N.cloneElement(p,{onClick:C,href:_}):N.createElement("a",{...b,onClick:C,href:_,className:f?.call?f(s===l):f,children:p,ref:t})}),N_=e=>Array.isArray(e)?e.flatMap(t=>N_(t&&t.type===N.Fragment?t.props.children:t)):[e],$8=({children:e,location:t})=>{const n=zo(),[s]=Lu(n);for(const o of N_(e)){let a=0;if(N.isValidElement(o)&&(a=tm(n.parser,o.props.path,t||s,o.props.nest))[0])return N.cloneElement(o,{match:a})}return null};var Wo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mi=typeof window>"u"||"Deno"in globalThis;function fr(){}function X8(e,t){return typeof e=="function"?e(t):e}function Gh(e){return typeof e=="number"&&e>=0&&e!==1/0}function O_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mo(e,t){return typeof e=="function"?e(t):e}function Cr(e,t){return typeof e=="function"?e(t):e}function Rv(e,t){const{type:n="all",exact:s,fetchStatus:o,predicate:a,queryKey:l,stale:c}=e;if(l){if(s){if(t.queryHash!==nm(l,t.options))return!1}else if(!nl(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||o&&o!==t.state.fetchStatus||a&&!a(t))}function Tv(e,t){const{exact:n,status:s,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Ai(t.options.mutationKey)!==Ai(a))return!1}else if(!nl(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function nm(e,t){return(t?.queryKeyHashFn||Ai)(e)}function Ai(e){return JSON.stringify(e,(t,n)=>Kh(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n)}function nl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!nl(e[n],t[n])):!1}function I_(e,t){if(e===t)return e;const n=Pv(e)&&Pv(t);if(n||Kh(e)&&Kh(t)){const s=n?e:Object.keys(e),o=s.length,a=n?t:Object.keys(t),l=a.length,c=n?[]:{};let d=0;for(let p=0;p<l;p++){const f=n?p:a[p];(!n&&s.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(c[f]=void 0,d++):(c[f]=I_(e[f],t[f]),c[f]===e[f]&&e[f]!==void 0&&d++)}return o===l&&d===o?e:c}return t}function fu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Pv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kh(e){if(!Mv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Mv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Y8(e){return new Promise(t=>{setTimeout(t,e)})}function qh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?I_(e,t):t}function G8(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function K8(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var rm=Symbol();function j_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===rm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var q8=class extends Wo{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Mi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},sm=new q8,Q8=class extends Wo{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Mi&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},hu=new Q8;function Qh(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function s(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{s({status:"fulfilled",value:o}),e(o)},n.reject=o=>{s({status:"rejected",reason:o}),t(o)},n}function Z8(e){return Math.min(1e3*2**e,3e4)}function L_(e){return(e??"online")==="online"?hu.isOnline():!0}var B_=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function th(e){return e instanceof B_}function F_(e){let t=!1,n=0,s=!1,o;const a=Qh(),l=_=>{s||(w(new B_(_)),e.abort?.())},c=()=>{t=!0},d=()=>{t=!1},p=()=>sm.isFocused()&&(e.networkMode==="always"||hu.isOnline())&&e.canRun(),f=()=>L_(e.networkMode)&&e.canRun(),h=_=>{s||(s=!0,e.onSuccess?.(_),o?.(),a.resolve(_))},w=_=>{s||(s=!0,e.onError?.(_),o?.(),a.reject(_))},b=()=>new Promise(_=>{o=x=>{(s||p())&&_(x)},e.onPause?.()}).then(()=>{o=void 0,s||e.onContinue?.()}),C=()=>{if(s)return;let _;const x=n===0?e.initialPromise:void 0;try{_=x??e.fn()}catch(v){_=Promise.reject(v)}Promise.resolve(_).then(h).catch(v=>{if(s)return;const y=e.retry??(Mi?0:3),m=e.retryDelay??Z8,M=typeof m=="function"?m(n,v):m,j=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!j){w(v);return}n++,e.onFail?.(n,v),Y8(M).then(()=>p()?void 0:b()).then(()=>{t?w(v):C()})})};return{promise:a,cancel:l,continue:()=>(o?.(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?C():b().then(C),a)}}function J8(){let e=[],t=0,n=c=>{c()},s=c=>{c()},o=c=>setTimeout(c,0);const a=c=>{t?e.push(c):o(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&o(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{o=c}}}var cn=J8(),V_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gh(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},e9=class extends V_{#e;#t;#r;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=t9(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=qh(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Cr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!O_(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},o=()=>{const c=j_(this.options,t),d={queryKey:this.queryKey,meta:this.meta};return s(d),this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const l=c=>{th(c)&&c.silent||this.#s({type:"error",error:c}),th(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=F_({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...z_(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return th(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),cn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function z_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:L_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function t9(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var n9=class extends Wo{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,o=t.queryHash??nm(s,t);let a=this.get(o);return a||(a=new e9({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Rv(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Rv(e,n)):t}notify(e){cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},r9=class extends V_{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||W_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=F_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#n({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:n})}const s=await this.#r.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),cn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function W_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var s9=class extends Wo{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const s=new r9({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){const t=jc(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=jc(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(s=>s!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(jc(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(jc(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Tv(t,n))}findAll(e={}){return this.getAll().filter(t=>Tv(e,t))}notify(e){cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return cn.batch(()=>Promise.all(e.map(t=>t.continue().catch(fr))))}};function jc(e){return e.options.scope?.id??String(e.mutationId)}function Av(e){return{onFetch:(t,n)=>{const s=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const p=async()=>{let f=!1;const h=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},w=j_(t.options,t.fetchOptions),b=async(C,_,x)=>{if(f)return Promise.reject();if(_==null&&C.pages.length)return Promise.resolve(C);const v={queryKey:t.queryKey,pageParam:_,direction:x?"backward":"forward",meta:t.options.meta};h(v);const y=await w(v),{maxPages:m}=t.options,M=x?K8:G8;return{pages:M(C.pages,y,m),pageParams:M(C.pageParams,_,m)}};if(o&&a.length){const C=o==="backward",_=C?i9:Dv,x={pages:a,pageParams:l},v=_(s,x);c=await b(x,v,C)}else{const C=e??a.length;do{const _=d===0?l[0]??s.initialPageParam:Dv(s,c);if(d>0&&_==null)break;c=await b(c,_),d++}while(d<C)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=p}}}function Dv(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function i9(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var o9=class{#e;#t;#r;#n;#o;#i;#s;#a;constructor(e={}){this.#e=e.queryCache||new n9,this.#t=e.mutationCache||new s9,this.#r=e.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=sm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=hu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=this.#e.build(this,n);return e.revalidateIfStale&&s.isStaleByTime(Mo(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(s.queryHash)?.state.data,l=X8(t,a);if(l!==void 0)return this.#e.build(this,s).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return cn.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;cn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,s={type:"active",...e};return cn.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=cn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(n)));return Promise.all(s).then(fr).catch(fr)}invalidateQueries(e={},t={}){return cn.batch(()=>{if(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},s=cn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(fr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Mo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fr).catch(fr)}fetchInfiniteQuery(e){return e.behavior=Av(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fr).catch(fr)}ensureInfiniteQueryData(e){return e.behavior=Av(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ai(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(s=>{nl(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){this.#o.set(Ai(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let n={};return t.forEach(s=>{nl(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===rm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},a9=class extends Wo{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#s=Qh(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#i;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Nv(this.#t,this.options)?this.#d():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),n._defaulted&&!fu(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Ov(this.#t,s,this.options,n)&&this.#d(),this.updateResult(t),o&&(this.#t!==s||Cr(this.options.enabled,this.#t)!==Cr(n.enabled,this.#t)||Mo(this.options.staleTime,this.#t)!==Mo(n.staleTime,this.#t))&&this.#g();const a=this.#v();o&&(this.#t!==s||Cr(this.options.enabled,this.#t)!==Cr(n.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return c9(this,n)&&(this.#n=n,this.#i=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t?.(s),e[s])})}),n}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#x();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(fr)),t}#g(){this.#w();const e=Mo(this.options.staleTime,this.#t);if(Mi||this.#n.isStale||!Gh(e))return;const n=O_(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#b(),this.#l=e,!(Mi||Cr(this.options.enabled,this.#t)===!1||!Gh(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||sm.isFocused())&&this.#d()},this.#l))}#_(){this.#g(),this.#y(this.#v())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,s=this.options,o=this.#n,a=this.#o,l=this.#i,d=e!==n?e.state:this.#r,{state:p}=e;let f={...p},h=!1,w;if(t._optimisticResults){const I=this.hasListeners(),V=!I&&Nv(e,t),Y=I&&Ov(e,n,t,s);(V||Y)&&(f={...f,...z_(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:C,status:_}=f;if(t.select&&f.data!==void 0)if(o&&f.data===a?.data&&t.select===this.#m)w=this.#f;else try{this.#m=t.select,w=t.select(f.data),w=qh(o?.data,w,t),this.#f=w,this.#a=null}catch(I){this.#a=I}else w=f.data;if(t.placeholderData!==void 0&&w===void 0&&_==="pending"){let I;if(o?.isPlaceholderData&&t.placeholderData===l?.placeholderData)I=o.data;else if(I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&I!==void 0)try{I=t.select(I),this.#a=null}catch(V){this.#a=V}I!==void 0&&(_="success",w=qh(o?.data,I,t),h=!0)}this.#a&&(b=this.#a,w=this.#f,C=Date.now(),_="error");const x=f.fetchStatus==="fetching",v=_==="pending",y=_==="error",m=v&&x,M=w!==void 0,L={status:_,fetchStatus:f.fetchStatus,isPending:v,isSuccess:_==="success",isError:y,isInitialLoading:m,isLoading:m,data:w,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:C,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:y&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&M,isStale:im(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const I=Q=>{L.status==="error"?Q.reject(L.error):L.data!==void 0&&Q.resolve(L.data)},V=()=>{const Q=this.#s=L.promise=Qh();I(Q)},Y=this.#s;switch(Y.status){case"pending":e.queryHash===n.queryHash&&I(Y);break;case"fulfilled":(L.status==="error"||L.data!==Y.value)&&V();break;case"rejected":(L.status!=="error"||L.error!==Y.reason)&&V();break}}return L}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#h=this.#t),fu(n,t))return;this.#n=n;const s={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#p.size)return!0;const c=new Set(l??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(d=>{const p=d;return this.#n[p]!==t[p]&&c.has(p)})};e?.listeners!==!1&&o()&&(s.listeners=!0),this.#S({...s,...e})}#x(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function l9(e,t){return Cr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nv(e,t){return l9(e,t)||e.state.data!==void 0&&Zh(e,t,t.refetchOnMount)}function Zh(e,t,n){if(Cr(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&im(e,t)}return!1}function Ov(e,t,n,s){return(e!==t||Cr(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&im(e,n)}function im(e,t){return Cr(t.enabled,e)!==!1&&e.isStaleByTime(Mo(t.staleTime,e))}function c9(e,t){return!fu(e.getCurrentResult(),t)}var u9=class extends Wo{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),fu(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ai(n.mutationKey)!==Ai(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#i()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#o(){const t=this.#r?.state??W_();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){cn.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,s=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,s),this.#n.onSettled?.(t.data,null,n,s)):t?.type==="error"&&(this.#n.onError?.(t.error,n,s),this.#n.onSettled?.(void 0,t.error,n,s))}this.listeners.forEach(n=>{n(this.#t)})})}},H_=N.createContext(void 0),Yr=e=>{const t=N.useContext(H_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},d9=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),P.jsx(H_.Provider,{value:e,children:t})),U_=N.createContext(!1),f9=()=>N.useContext(U_);U_.Provider;function h9(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var p9=N.createContext(h9()),m9=()=>N.useContext(p9);function $_(e,t){return typeof e=="function"?e(...t):!!e}function Jh(){}var g9=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},v9=e=>{N.useEffect(()=>{e.clearReset()},[e])},y9=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&$_(n,[e.error,s]),_9=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},w9=(e,t)=>e.isLoading&&e.isFetching&&!t,b9=(e,t)=>e?.suspense&&t.isPending,Iv=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function x9(e,t,n){const s=Yr(),o=f9(),a=m9(),l=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=o?"isRestoring":"optimistic",_9(l),g9(l,a),v9(a);const c=!s.getQueryCache().get(l.queryHash),[d]=N.useState(()=>new t(s,l)),p=d.getOptimisticResult(l);if(N.useSyncExternalStore(N.useCallback(f=>{const h=o?Jh:d.subscribe(cn.batchCalls(f));return d.updateResult(),h},[d,o]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),b9(l,p))throw Iv(l,d,a);if(y9({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash)}))throw p.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(l,p),l.experimental_prefetchInRender&&!Mi&&w9(p,o)&&(c?Iv(l,d,a):s.getQueryCache().get(l.queryHash)?.promise)?.catch(Jh).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?p:d.trackResult(p)}function om(e,t){return x9(e,a9)}function Zs(e,t){const n=Yr(),[s]=N.useState(()=>new u9(n,e));N.useEffect(()=>{s.setOptions(e)},[s,e]);const o=N.useSyncExternalStore(N.useCallback(l=>s.subscribe(cn.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=N.useCallback((l,c)=>{s.mutate(l,c).catch(Jh)},[s]);if(o.error&&$_(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}async function S9(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const E9=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await S9(n),await n.json()},C9=new o9({defaultOptions:{queries:{queryFn:E9({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),k9=1,R9=1e6;let nh=0;function T9(){return nh=(nh+1)%Number.MAX_SAFE_INTEGER,nh.toString()}const rh=new Map,jv=e=>{if(rh.has(e))return;const t=setTimeout(()=>{rh.delete(e),Qa({type:"REMOVE_TOAST",toastId:e})},R9);rh.set(e,t)},P9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,k9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?jv(n):e.toasts.forEach(s=>{jv(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},tu=[];let nu={toasts:[]};function Qa(e){nu=P9(nu,e),tu.forEach(t=>{t(nu)})}function M9({...e}){const t=T9(),n=o=>Qa({type:"UPDATE_TOAST",toast:{...o,id:t}}),s=()=>Qa({type:"DISMISS_TOAST",toastId:t});return Qa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:n}}function vl(){const[e,t]=N.useState(nu);return N.useEffect(()=>(tu.push(t),()=>{const n=tu.indexOf(t);n>-1&&tu.splice(n,1)}),[e]),{...e,toast:M9,dismiss:n=>Qa({type:"DISMISS_TOAST",toastId:n})}}var Ho=E_();const A9=Zp(Ho);function Je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function Lv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bu(...e){return t=>{let n=!1;const s=e.map(o=>{const a=Lv(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Lv(e[o],null)}}}}function Ct(...e){return N.useCallback(Bu(...e),e)}function D9(e,t){const n=N.createContext(t),s=a=>{const{children:l,...c}=a,d=N.useMemo(()=>c,Object.values(c));return P.jsx(n.Provider,{value:d,children:l})};s.displayName=e+"Provider";function o(a){const l=N.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,o]}function Pr(e,t=[]){let n=[];function s(a,l){const c=N.createContext(l),d=n.length;n=[...n,l];const p=h=>{const{scope:w,children:b,...C}=h,_=w?.[e]?.[d]||c,x=N.useMemo(()=>C,Object.values(C));return P.jsx(_.Provider,{value:x,children:b})};p.displayName=a+"Provider";function f(h,w){const b=w?.[e]?.[d]||c,C=N.useContext(b);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[p,f]}const o=()=>{const a=n.map(l=>N.createContext(l));return function(c){const d=c?.[e]||a;return N.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[s,N9(o,...t)]}function N9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=s.reduce((c,{useScope:d,scopeName:p})=>{const h=d(a)[`__scope${p}`];return{...c,...h}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Di(e){const t=I9(e),n=N.forwardRef((s,o)=>{const{children:a,...l}=s,c=N.Children.toArray(a),d=c.find(j9);if(d){const p=d.props.children,f=c.map(h=>h===d?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:h);return P.jsx(t,{...l,ref:o,children:N.isValidElement(p)?N.cloneElement(p,void 0,f):null})}return P.jsx(t,{...l,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var O9=Di("Slot");function I9(e){const t=N.forwardRef((n,s)=>{const{children:o,...a}=n;if(N.isValidElement(o)){const l=B9(o),c=L9(a,o.props);return o.type!==N.Fragment&&(c.ref=s?Bu(s,l):l),N.cloneElement(o,c)}return N.Children.count(o)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var X_=Symbol("radix.slottable");function Y_(e){const t=({children:n})=>P.jsx(P.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=X_,t}function j9(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X_}function L9(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...c)=>{a(...c),o(...c)}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function B9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fu(e){const t=e+"CollectionProvider",[n,s]=Pr(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:x,children:v}=_,y=Hs.useRef(null),m=Hs.useRef(new Map).current;return P.jsx(o,{scope:x,itemMap:m,collectionRef:y,children:v})};l.displayName=t;const c=e+"CollectionSlot",d=Di(c),p=Hs.forwardRef((_,x)=>{const{scope:v,children:y}=_,m=a(c,v),M=Ct(x,m.collectionRef);return P.jsx(d,{ref:M,children:y})});p.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",w=Di(f),b=Hs.forwardRef((_,x)=>{const{scope:v,children:y,...m}=_,M=Hs.useRef(null),j=Ct(x,M),L=a(f,v);return Hs.useEffect(()=>(L.itemMap.set(M,{ref:M,...m}),()=>{L.itemMap.delete(M)})),P.jsx(w,{[h]:"",ref:j,children:y})});b.displayName=f;function C(_){const x=a(e+"CollectionConsumer",_);return Hs.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const m=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((L,I)=>m.indexOf(L.ref.current)-m.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:p,ItemSlot:b},C,s]}var F9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yt=F9.reduce((e,t)=>{const n=Di(`Primitive.${t}`),s=N.forwardRef((o,a)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(d,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function am(e,t){e&&Ho.flushSync(()=>e.dispatchEvent(t))}function Cn(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>t.current?.(...n),[])}function V9(e,t=globalThis?.document){const n=Cn(e);N.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var z9="DismissableLayer",ep="dismissableLayer.update",W9="dismissableLayer.pointerDownOutside",H9="dismissableLayer.focusOutside",Bv,G_=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uo=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=e,p=N.useContext(G_),[f,h]=N.useState(null),w=f?.ownerDocument??globalThis?.document,[,b]=N.useState({}),C=Ct(t,I=>h(I)),_=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(x),y=f?_.indexOf(f):-1,m=p.layersWithOutsidePointerEventsDisabled.size>0,M=y>=v,j=$9(I=>{const V=I.target,Y=[...p.branches].some(Q=>Q.contains(V));!M||Y||(o?.(I),l?.(I),I.defaultPrevented||c?.())},w),L=X9(I=>{const V=I.target;[...p.branches].some(Q=>Q.contains(V))||(a?.(I),l?.(I),I.defaultPrevented||c?.())},w);return V9(I=>{y===p.layers.size-1&&(s?.(I),!I.defaultPrevented&&c&&(I.preventDefault(),c()))},w),N.useEffect(()=>{if(f)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Bv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),Fv(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Bv)}},[f,w,n,p]),N.useEffect(()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),Fv())},[f,p]),N.useEffect(()=>{const I=()=>b({});return document.addEventListener(ep,I),()=>document.removeEventListener(ep,I)},[]),P.jsx(yt.div,{...d,ref:C,style:{pointerEvents:m?M?"auto":"none":void 0,...e.style},onFocusCapture:Je(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Je(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Je(e.onPointerDownCapture,j.onPointerDownCapture)})});Uo.displayName=z9;var U9="DismissableLayerBranch",K_=N.forwardRef((e,t)=>{const n=N.useContext(G_),s=N.useRef(null),o=Ct(t,s);return N.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),P.jsx(yt.div,{...e,ref:o})});K_.displayName=U9;function $9(e,t=globalThis?.document){const n=Cn(e),s=N.useRef(!1),o=N.useRef(()=>{});return N.useEffect(()=>{const a=c=>{if(c.target&&!s.current){let d=function(){q_(W9,n,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function X9(e,t=globalThis?.document){const n=Cn(e),s=N.useRef(!1);return N.useEffect(()=>{const o=a=>{a.target&&!s.current&&q_(H9,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Fv(){const e=new CustomEvent(ep);document.dispatchEvent(e)}function q_(e,t,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?am(o,a):o.dispatchEvent(a)}var Y9=Uo,G9=K_,kn=globalThis?.document?N.useLayoutEffect:()=>{},K9="Portal",yl=N.forwardRef((e,t)=>{const{container:n,...s}=e,[o,a]=N.useState(!1);kn(()=>a(!0),[]);const l=n||o&&globalThis?.document?.body;return l?A9.createPortal(P.jsx(yt.div,{...s,ref:t}),l):null});yl.displayName=K9;function q9(e,t){return N.useReducer((n,s)=>t[n][s]??n,e)}var Mr=e=>{const{present:t,children:n}=e,s=Q9(t),o=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),a=Ct(s.ref,Z9(o));return typeof n=="function"||s.isPresent?N.cloneElement(o,{ref:a}):null};Mr.displayName="Presence";function Q9(e){const[t,n]=N.useState(),s=N.useRef({}),o=N.useRef(e),a=N.useRef("none"),l=e?"mounted":"unmounted",[c,d]=q9(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const p=Lc(s.current);a.current=c==="mounted"?p:"none"},[c]),kn(()=>{const p=s.current,f=o.current;if(f!==e){const w=a.current,b=Lc(p);e?d("MOUNT"):b==="none"||p?.display==="none"?d("UNMOUNT"):d(f&&w!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),kn(()=>{if(t){let p;const f=t.ownerDocument.defaultView??window,h=b=>{const _=Lc(s.current).includes(b.animationName);if(b.target===t&&_&&(d("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",p=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},w=b=>{b.target===t&&(a.current=Lc(s.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(p),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:N.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function Lc(e){return e?.animationName||"none"}function Z9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ni({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,o]=J9({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s,c=Cn(n),d=N.useCallback(p=>{if(a){const h=typeof p=="function"?p(e):p;h!==e&&c(h)}else o(p)},[a,e,o,c]);return[l,d]}function J9({defaultProp:e,onChange:t}){const n=N.useState(e),[s]=n,o=N.useRef(s),a=Cn(t);return N.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),n}var eE="VisuallyHidden",_l=N.forwardRef((e,t)=>P.jsx(yt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));_l.displayName=eE;var tE=_l,lm="ToastProvider",[cm,nE,rE]=Fu("Toast"),[Q_]=Pr("Toast",[rE]),[sE,Vu]=Q_(lm),Z_=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:l}=e,[c,d]=N.useState(null),[p,f]=N.useState(0),h=N.useRef(!1),w=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lm}\`. Expected non-empty \`string\`.`),P.jsx(cm.Provider,{scope:t,children:P.jsx(sE,{scope:t,label:n,duration:s,swipeDirection:o,swipeThreshold:a,toastCount:p,viewport:c,onViewportChange:d,onToastAdd:N.useCallback(()=>f(b=>b+1),[]),onToastRemove:N.useCallback(()=>f(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:w,children:l})})};Z_.displayName=lm;var J_="ToastViewport",iE=["F8"],tp="toast.viewportPause",np="toast.viewportResume",ew=N.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=iE,label:o="Notifications ({hotkey})",...a}=e,l=Vu(J_,n),c=nE(n),d=N.useRef(null),p=N.useRef(null),f=N.useRef(null),h=N.useRef(null),w=Ct(t,h,l.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;N.useEffect(()=>{const x=v=>{s.length!==0&&s.every(m=>v[m]||v.code===m)&&h.current?.focus()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[s]),N.useEffect(()=>{const x=d.current,v=h.current;if(C&&x&&v){const y=()=>{if(!l.isClosePausedRef.current){const L=new CustomEvent(tp);v.dispatchEvent(L),l.isClosePausedRef.current=!0}},m=()=>{if(l.isClosePausedRef.current){const L=new CustomEvent(np);v.dispatchEvent(L),l.isClosePausedRef.current=!1}},M=L=>{!x.contains(L.relatedTarget)&&m()},j=()=>{x.contains(document.activeElement)||m()};return x.addEventListener("focusin",y),x.addEventListener("focusout",M),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",m),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",M),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",m)}}},[C,l.isClosePausedRef]);const _=N.useCallback(({tabbingDirection:x})=>{const y=c().map(m=>{const M=m.ref.current,j=[M,...yE(M)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?y.reverse():y).flat()},[c]);return N.useEffect(()=>{const x=h.current;if(x){const v=y=>{const m=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!m){const j=document.activeElement,L=y.shiftKey;if(y.target===x&&L){p.current?.focus();return}const Y=_({tabbingDirection:L?"backwards":"forwards"}),Q=Y.findIndex(G=>G===j);sh(Y.slice(Q+1))?y.preventDefault():L?p.current?.focus():f.current?.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[c,_]),P.jsxs(G9,{ref:d,role:"region","aria-label":o.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&P.jsx(rp,{ref:p,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});sh(x)}}),P.jsx(cm.Slot,{scope:n,children:P.jsx(yt.ol,{tabIndex:-1,...a,ref:w})}),C&&P.jsx(rp,{ref:f,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});sh(x)}})]})});ew.displayName=J_;var tw="ToastFocusProxy",rp=N.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...o}=e,a=Vu(tw,n);return P.jsx(_l,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!a.viewport?.contains(c)&&s()}})});rp.displayName=tw;var zu="Toast",oE="toast.swipeStart",aE="toast.swipeMove",lE="toast.swipeCancel",cE="toast.swipeEnd",nw=N.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:o,onOpenChange:a,...l}=e,[c=!0,d]=Ni({prop:s,defaultProp:o,onChange:a});return P.jsx(Mr,{present:n||c,children:P.jsx(fE,{open:c,...l,ref:t,onClose:()=>d(!1),onPause:Cn(e.onPause),onResume:Cn(e.onResume),onSwipeStart:Je(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Je(e.onSwipeMove,p=>{const{x:f,y:h}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Je(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Je(e.onSwipeEnd,p=>{const{x:f,y:h}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),d(!1)})})})});nw.displayName=zu;var[uE,dE]=Q_(zu,{onClose(){}}),fE=N.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:o,open:a,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:p,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:w,onSwipeEnd:b,...C}=e,_=Vu(zu,n),[x,v]=N.useState(null),y=Ct(t,S=>v(S)),m=N.useRef(null),M=N.useRef(null),j=o||_.duration,L=N.useRef(0),I=N.useRef(j),V=N.useRef(0),{onToastAdd:Y,onToastRemove:Q}=_,G=Cn(()=>{x?.contains(document.activeElement)&&_.viewport?.focus(),l()}),T=N.useCallback(S=>{!S||S===1/0||(window.clearTimeout(V.current),L.current=new Date().getTime(),V.current=window.setTimeout(G,S))},[G]);N.useEffect(()=>{const S=_.viewport;if(S){const W=()=>{T(I.current),p?.()},ne=()=>{const q=new Date().getTime()-L.current;I.current=I.current-q,window.clearTimeout(V.current),d?.()};return S.addEventListener(tp,ne),S.addEventListener(np,W),()=>{S.removeEventListener(tp,ne),S.removeEventListener(np,W)}}},[_.viewport,j,d,p,T]),N.useEffect(()=>{a&&!_.isClosePausedRef.current&&T(j)},[a,j,_.isClosePausedRef,T]),N.useEffect(()=>(Y(),()=>Q()),[Y,Q]);const z=N.useMemo(()=>x?cw(x):null,[x]);return _.viewport?P.jsxs(P.Fragment,{children:[z&&P.jsx(hE,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),P.jsx(uE,{scope:n,onClose:G,children:Ho.createPortal(P.jsx(cm.ItemSlot,{scope:n,children:P.jsx(Y9,{asChild:!0,onEscapeKeyDown:Je(c,()=>{_.isFocusedToastEscapeKeyDownRef.current||G(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:P.jsx(yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...C,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Je(e.onKeyDown,S=>{S.key==="Escape"&&(c?.(S.nativeEvent),S.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:Je(e.onPointerDown,S=>{S.button===0&&(m.current={x:S.clientX,y:S.clientY})}),onPointerMove:Je(e.onPointerMove,S=>{if(!m.current)return;const W=S.clientX-m.current.x,ne=S.clientY-m.current.y,q=!!M.current,U=["left","right"].includes(_.swipeDirection),K=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,X=U?K(0,W):0,E=U?0:K(0,ne),k=S.pointerType==="touch"?10:2,O={x:X,y:E},F={originalEvent:S,delta:O};q?(M.current=O,Bc(aE,h,F,{discrete:!1})):Vv(O,_.swipeDirection,k)?(M.current=O,Bc(oE,f,F,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(W)>k||Math.abs(ne)>k)&&(m.current=null)}),onPointerUp:Je(e.onPointerUp,S=>{const W=M.current,ne=S.target;if(ne.hasPointerCapture(S.pointerId)&&ne.releasePointerCapture(S.pointerId),M.current=null,m.current=null,W){const q=S.currentTarget,U={originalEvent:S,delta:W};Vv(W,_.swipeDirection,_.swipeThreshold)?Bc(cE,b,U,{discrete:!0}):Bc(lE,w,U,{discrete:!0}),q.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),hE=e=>{const{__scopeToast:t,children:n,...s}=e,o=Vu(zu,t),[a,l]=N.useState(!1),[c,d]=N.useState(!1);return gE(()=>l(!0)),N.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:P.jsx(yl,{asChild:!0,children:P.jsx(_l,{...s,children:a&&P.jsxs(P.Fragment,{children:[o.label," ",n]})})})},pE="ToastTitle",rw=N.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return P.jsx(yt.div,{...s,ref:t})});rw.displayName=pE;var mE="ToastDescription",sw=N.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return P.jsx(yt.div,{...s,ref:t})});sw.displayName=mE;var iw="ToastAction",ow=N.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?P.jsx(lw,{altText:n,asChild:!0,children:P.jsx(um,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${iw}\`. Expected non-empty \`string\`.`),null)});ow.displayName=iw;var aw="ToastClose",um=N.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,o=dE(aw,n);return P.jsx(lw,{asChild:!0,children:P.jsx(yt.button,{type:"button",...s,ref:t,onClick:Je(e.onClick,o.onClose)})})});um.displayName=aw;var lw=N.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...o}=e;return P.jsx(yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:t})});function cw(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),vE(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const l=s.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...cw(s))}}),t}function Bc(e,t,n,{discrete:s}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?am(o,a):o.dispatchEvent(a)}var Vv=(e,t,n=0)=>{const s=Math.abs(e.x),o=Math.abs(e.y),a=s>o;return t==="left"||t==="right"?a&&s>n:!a&&o>n};function gE(e=()=>{}){const t=Cn(e);kn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function vE(e){return e.nodeType===e.ELEMENT_NODE}function yE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var _E=Z_,uw=ew,dw=nw,fw=rw,hw=sw,pw=ow,mw=um;function gw(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=gw(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function vw(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=gw(e))&&(s&&(s+=" "),s+=t);return s}const zv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Wv=vw,dm=(e,t)=>n=>{var s;if(t?.variants==null)return Wv(e,n?.class,n?.className);const{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(p=>{const f=n?.[p],h=a?.[p];if(f===null)return null;const w=zv(f)||zv(h);return o[p][w]}),c=n&&Object.entries(n).reduce((p,f)=>{let[h,w]=f;return w===void 0||(p[h]=w),p},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((p,f)=>{let{class:h,className:w,...b}=f;return Object.entries(b).every(C=>{let[_,x]=C;return Array.isArray(x)?x.includes({...a,...c}[_]):{...a,...c}[_]===x})?[...p,h,w]:p},[]);return Wv(e,l,d,n?.class,n?.className)};const wE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yw=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");var bE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xE=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:l,...c},d)=>N.createElement("svg",{ref:d,...bE,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:yw("lucide",o),...c},[...l.map(([p,f])=>N.createElement(p,f)),...Array.isArray(a)?a:[a]]));const Tt=(e,t)=>{const n=N.forwardRef(({className:s,...o},a)=>N.createElement(xE,{ref:a,iconNode:t,className:yw(`lucide-${wE(e)}`,s),...o}));return n.displayName=`${e}`,n};const _w=Tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const SE=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const ww=Tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const bw=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const pu=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const EE=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const xw=Tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const CE=Tt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);const kE=Tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const RE=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const sp=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const TE=Tt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Sw=Tt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const ip=Tt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const fm=Tt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const PE=Tt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const ME=Tt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const AE=Tt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const DE=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const NE=Tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const OE=Tt("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const Wu=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const op=Tt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const mu=Tt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const hm=Tt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const IE=Tt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const pm=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ew=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const jE=Tt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const LE=Tt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),mm="-",BE=e=>{const t=VE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const c=l.split(mm);return c[0]===""&&c.length!==1&&c.shift(),Cw(c,t)||FE(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&s[l]?[...d,...s[l]]:d}}},Cw=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?Cw(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(mm);return t.validators.find(({validator:l})=>l(a))?.classGroupId},Hv=/^\[(.+)\]$/,FE=e=>{if(Hv.test(e)){const t=Hv.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},VE=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return WE(Object.entries(e.classGroups),n).forEach(([a,l])=>{ap(l,s,a,t)}),s},ap=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:Uv(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(zE(o)){ap(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,l])=>{ap(l,Uv(t,a),n,s)})})},Uv=(e,t)=>{let n=e;return t.split(mm).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},zE=e=>e.isThemeGetter,WE=(e,t)=>t?e.map(([n,s])=>{const o=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[t+l,c])):a);return[n,o]}):e,HE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=s.get(a))!==void 0)return o(a,l),l},set(a,l){n.has(a)?n.set(a,l):o(a,l)}}},kw="!",UE=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,o=t[0],a=t.length,l=c=>{const d=[];let p=0,f=0,h;for(let x=0;x<c.length;x++){let v=c[x];if(p===0){if(v===o&&(s||c.slice(x,x+a)===t)){d.push(c.slice(f,x)),f=x+a;continue}if(v==="/"){h=x;continue}}v==="["?p++:v==="]"&&p--}const w=d.length===0?c:c.substring(f),b=w.startsWith(kw),C=b?w.substring(1):w,_=h&&h>f?h-f:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:l}):l},$E=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},XE=e=>({cache:HE(e.cacheSize),parseClassName:UE(e),...BE(e)}),YE=/\s+/,GE=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o}=t,a=[],l=e.trim().split(YE);let c="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:f,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:b}=n(p);let C=!!b,_=s(C?w.substring(0,b):w);if(!_){if(!C){c=p+(c.length>0?" "+c:c);continue}if(_=s(w),!_){c=p+(c.length>0?" "+c:c);continue}C=!1}const x=$E(f).join(":"),v=h?x+kw:x,y=v+_;if(a.includes(y))continue;a.push(y);const m=o(_,C);for(let M=0;M<m.length;++M){const j=m[M];a.push(v+j)}c=p+(c.length>0?" "+c:c)}return c};function KE(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Rw(t))&&(s&&(s+=" "),s+=n);return s}const Rw=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Rw(e[s]))&&(n&&(n+=" "),n+=t);return n};function qE(e,...t){let n,s,o,a=l;function l(d){const p=t.reduce((f,h)=>h(f),e());return n=XE(p),s=n.cache.get,o=n.cache.set,a=c,c(d)}function c(d){const p=s(d);if(p)return p;const f=GE(d,n);return o(d,f),f}return function(){return a(KE.apply(null,arguments))}}const Vt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Tw=/^\[(?:([a-z-]+):)?(.+)\]$/i,QE=/^\d+\/\d+$/,ZE=new Set(["px","full","screen"]),JE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=e=>Ao(e)||ZE.has(e)||QE.test(e),Fs=e=>$o(e,"length",dC),Ao=e=>!!e&&!Number.isNaN(Number(e)),ih=e=>$o(e,"number",Ao),Ba=e=>!!e&&Number.isInteger(Number(e)),sC=e=>e.endsWith("%")&&Ao(e.slice(0,-1)),wt=e=>Tw.test(e),Vs=e=>JE.test(e),iC=new Set(["length","size","percentage"]),oC=e=>$o(e,iC,Pw),aC=e=>$o(e,"position",Pw),lC=new Set(["image","url"]),cC=e=>$o(e,lC,hC),uC=e=>$o(e,"",fC),Fa=()=>!0,$o=(e,t,n)=>{const s=Tw.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},dC=e=>eC.test(e)&&!tC.test(e),Pw=()=>!1,fC=e=>nC.test(e),hC=e=>rC.test(e),pC=()=>{const e=Vt("colors"),t=Vt("spacing"),n=Vt("blur"),s=Vt("brightness"),o=Vt("borderColor"),a=Vt("borderRadius"),l=Vt("borderSpacing"),c=Vt("borderWidth"),d=Vt("contrast"),p=Vt("grayscale"),f=Vt("hueRotate"),h=Vt("invert"),w=Vt("gap"),b=Vt("gradientColorStops"),C=Vt("gradientColorStopPositions"),_=Vt("inset"),x=Vt("margin"),v=Vt("opacity"),y=Vt("padding"),m=Vt("saturate"),M=Vt("scale"),j=Vt("sepia"),L=Vt("skew"),I=Vt("space"),V=Vt("translate"),Y=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",wt,t],T=()=>[wt,t],z=()=>["",is,Fs],S=()=>["auto",Ao,wt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",wt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Ao,wt];return{cacheSize:500,separator:":",theme:{colors:[Fa],spacing:[is,Fs],blur:["none","",Vs,wt],brightness:E(),borderColor:[e],borderRadius:["none","","full",Vs,wt],borderSpacing:T(),borderWidth:z(),contrast:E(),grayscale:K(),hueRotate:E(),invert:K(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[sC,Fs],inset:G(),margin:G(),opacity:E(),padding:T(),saturate:E(),scale:E(),sepia:K(),skew:E(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),wt]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ba,wt]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Ba,wt]}],"grid-cols":[{"grid-cols":[Fa]}],"col-start-end":[{col:["auto",{span:["full",Ba,wt]},wt]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[Fa]}],"row-start-end":[{row:["auto",{span:[Ba,wt]},wt]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,t]}],"min-w":[{"min-w":[wt,t,"min","max","fit"]}],"max-w":[{"max-w":[wt,t,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ih]}],"font-family":[{font:[Fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",Ao,ih]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,Fs]}],"underline-offset":[{"underline-offset":["auto",is,wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),aC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ne()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[is,wt]}],"outline-w":[{outline:[is,Fs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[is,Fs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vs,uC]}],"shadow-color":[{shadow:[Fa]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Vs,wt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[m]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Ba,wt]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[is,Fs,ih]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mC=qE(pC);function mt(...e){return mC(vw(e))}const gC=_E,Mw=N.forwardRef(({className:e,...t},n)=>P.jsx(uw,{ref:n,className:mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] pointer-events-none",e),...t}));Mw.displayName=uw.displayName;const vC=dm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Aw=N.forwardRef(({className:e,variant:t,...n},s)=>P.jsx(dw,{ref:s,className:mt(vC({variant:t}),e),...n}));Aw.displayName=dw.displayName;const yC=N.forwardRef(({className:e,...t},n)=>P.jsx(pw,{ref:n,className:mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yC.displayName=pw.displayName;const Dw=N.forwardRef(({className:e,...t},n)=>P.jsx(mw,{ref:n,className:mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:P.jsx(Ew,{className:"h-4 w-4"})}));Dw.displayName=mw.displayName;const Nw=N.forwardRef(({className:e,...t},n)=>P.jsx(fw,{ref:n,className:mt("text-sm font-semibold",e),...t}));Nw.displayName=fw.displayName;const Ow=N.forwardRef(({className:e,...t},n)=>P.jsx(hw,{ref:n,className:mt("text-sm opacity-90",e),...t}));Ow.displayName=hw.displayName;function _C(){const{toasts:e}=vl();return P.jsxs(gC,{children:[e.map(function({id:t,title:n,description:s,action:o,...a}){return P.jsxs(Aw,{...a,children:[P.jsxs("div",{className:"grid gap-1",children:[n&&P.jsx(Nw,{children:n}),s&&P.jsx(Ow,{children:s})]}),o,P.jsx(Dw,{})]},t)}),P.jsx(Mw,{})]})}var wC=C_[" useId ".trim().toString()]||(()=>{}),bC=0;function Wr(e){const[t,n]=N.useState(wC());return kn(()=>{n(s=>s??String(bC++))},[e]),t?`radix-${t}`:""}const xC=["top","right","bottom","left"],Ys=Math.min,qn=Math.max,gu=Math.round,Fc=Math.floor,Hr=e=>({x:e,y:e}),SC={left:"right",right:"left",bottom:"top",top:"bottom"},EC={start:"end",end:"start"};function lp(e,t,n){return qn(e,Ys(t,n))}function cs(e,t){return typeof e=="function"?e(t):e}function us(e){return e.split("-")[0]}function Xo(e){return e.split("-")[1]}function gm(e){return e==="x"?"y":"x"}function vm(e){return e==="y"?"height":"width"}function Gs(e){return["top","bottom"].includes(us(e))?"y":"x"}function ym(e){return gm(Gs(e))}function CC(e,t,n){n===void 0&&(n=!1);const s=Xo(e),o=ym(e),a=vm(o);let l=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=vu(l)),[l,vu(l)]}function kC(e){const t=vu(e);return[cp(e),t,cp(t)]}function cp(e){return e.replace(/start|end/g,t=>EC[t])}function RC(e,t,n){const s=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:s:t?s:o;case"left":case"right":return t?a:l;default:return[]}}function TC(e,t,n,s){const o=Xo(e);let a=RC(us(e),n==="start",s);return o&&(a=a.map(l=>l+"-"+o),t&&(a=a.concat(a.map(cp)))),a}function vu(e){return e.replace(/left|right|bottom|top/g,t=>SC[t])}function PC(e){return{top:0,right:0,bottom:0,left:0,...e}}function Iw(e){return typeof e!="number"?PC(e):{top:e,right:e,bottom:e,left:e}}function yu(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function $v(e,t,n){let{reference:s,floating:o}=e;const a=Gs(t),l=ym(t),c=vm(l),d=us(t),p=a==="y",f=s.x+s.width/2-o.width/2,h=s.y+s.height/2-o.height/2,w=s[c]/2-o[c]/2;let b;switch(d){case"top":b={x:f,y:s.y-o.height};break;case"bottom":b={x:f,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:h};break;case"left":b={x:s.x-o.width,y:h};break;default:b={x:s.x,y:s.y}}switch(Xo(t)){case"start":b[l]-=w*(n&&p?-1:1);break;case"end":b[l]+=w*(n&&p?-1:1);break}return b}const MC=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:h}=$v(p,s,d),w=s,b={},C=0;for(let _=0;_<c.length;_++){const{name:x,fn:v}=c[_],{x:y,y:m,data:M,reset:j}=await v({x:f,y:h,initialPlacement:s,placement:w,strategy:o,middlewareData:b,rects:p,platform:l,elements:{reference:e,floating:t}});f=y??f,h=m??h,b={...b,[x]:{...b[x],...M}},j&&C<=50&&(C++,typeof j=="object"&&(j.placement&&(w=j.placement),j.rects&&(p=j.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):j.rects),{x:f,y:h}=$v(p,w,d)),_=-1)}return{x:f,y:h,placement:w,strategy:o,middlewareData:b}};async function rl(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:a,rects:l,elements:c,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:w=!1,padding:b=0}=cs(t,e),C=Iw(b),x=c[w?h==="floating"?"reference":"floating":h],v=yu(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:f,strategy:d})),y=h==="floating"?{x:s,y:o,width:l.floating.width,height:l.floating.height}:l.reference,m=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),M=await(a.isElement==null?void 0:a.isElement(m))?await(a.getScale==null?void 0:a.getScale(m))||{x:1,y:1}:{x:1,y:1},j=yu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:m,strategy:d}):y);return{top:(v.top-j.top+C.top)/M.y,bottom:(j.bottom-v.bottom+C.bottom)/M.y,left:(v.left-j.left+C.left)/M.x,right:(j.right-v.right+C.right)/M.x}}const AC=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:a,platform:l,elements:c,middlewareData:d}=t,{element:p,padding:f=0}=cs(e,t)||{};if(p==null)return{};const h=Iw(f),w={x:n,y:s},b=ym(o),C=vm(b),_=await l.getDimensions(p),x=b==="y",v=x?"top":"left",y=x?"bottom":"right",m=x?"clientHeight":"clientWidth",M=a.reference[C]+a.reference[b]-w[b]-a.floating[C],j=w[b]-a.reference[b],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let I=L?L[m]:0;(!I||!await(l.isElement==null?void 0:l.isElement(L)))&&(I=c.floating[m]||a.floating[C]);const V=M/2-j/2,Y=I/2-_[C]/2-1,Q=Ys(h[v],Y),G=Ys(h[y],Y),T=Q,z=I-_[C]-G,S=I/2-_[C]/2+V,W=lp(T,S,z),ne=!d.arrow&&Xo(o)!=null&&S!==W&&a.reference[C]/2-(S<T?Q:G)-_[C]/2<0,q=ne?S<T?S-T:S-z:0;return{[b]:w[b]+q,data:{[b]:W,centerOffset:S-W-q,...ne&&{alignmentOffset:q}},reset:ne}}}),DC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:p}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:w,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...x}=cs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=us(o),y=Gs(c),m=us(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(p.floating)),j=w||(m||!_?[vu(c)]:kC(c)),L=C!=="none";!w&&L&&j.push(...TC(c,_,C,M));const I=[c,...j],V=await rl(t,x),Y=[];let Q=((s=a.flip)==null?void 0:s.overflows)||[];if(f&&Y.push(V[v]),h){const S=CC(o,l,M);Y.push(V[S[0]],V[S[1]])}if(Q=[...Q,{placement:o,overflows:Y}],!Y.every(S=>S<=0)){var G,T;const S=(((G=a.flip)==null?void 0:G.index)||0)+1,W=I[S];if(W)return{data:{index:S,overflows:Q},reset:{placement:W}};let ne=(T=Q.filter(q=>q.overflows[0]<=0).sort((q,U)=>q.overflows[1]-U.overflows[1])[0])==null?void 0:T.placement;if(!ne)switch(b){case"bestFit":{var z;const q=(z=Q.filter(U=>{if(L){const K=Gs(U.placement);return K===y||K==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(K=>K>0).reduce((K,X)=>K+X,0)]).sort((U,K)=>U[1]-K[1])[0])==null?void 0:z[0];q&&(ne=q);break}case"initialPlacement":ne=c;break}if(o!==ne)return{reset:{placement:ne}}}return{}}}};function Xv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yv(e){return xC.some(t=>e[t]>=0)}const NC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=cs(e,t);switch(s){case"referenceHidden":{const a=await rl(t,{...o,elementContext:"reference"}),l=Xv(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Yv(l)}}}case"escaped":{const a=await rl(t,{...o,altBoundary:!0}),l=Xv(a,n.floating);return{data:{escapedOffsets:l,escaped:Yv(l)}}}default:return{}}}}};async function OC(e,t){const{placement:n,platform:s,elements:o}=e,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),l=us(n),c=Xo(n),d=Gs(n)==="y",p=["left","top"].includes(l)?-1:1,f=a&&d?-1:1,h=cs(t,e);let{mainAxis:w,crossAxis:b,alignmentAxis:C}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof C=="number"&&(b=c==="end"?C*-1:C),d?{x:b*f,y:w*p}:{x:w*p,y:b*f}}const IC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:a,placement:l,middlewareData:c}=t,d=await OC(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:l}}}}},jC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...d}=cs(e,t),p={x:n,y:s},f=await rl(t,d),h=Gs(us(o)),w=gm(h);let b=p[w],C=p[h];if(a){const x=w==="y"?"top":"left",v=w==="y"?"bottom":"right",y=b+f[x],m=b-f[v];b=lp(y,b,m)}if(l){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=C+f[x],m=C-f[v];C=lp(y,C,m)}const _=c.fn({...t,[w]:b,[h]:C});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[w]:a,[h]:l}}}}}},LC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:a,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:p=!0}=cs(e,t),f={x:n,y:s},h=Gs(o),w=gm(h);let b=f[w],C=f[h];const _=cs(c,t),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const m=w==="y"?"height":"width",M=a.reference[w]-a.floating[m]+x.mainAxis,j=a.reference[w]+a.reference[m]-x.mainAxis;b<M?b=M:b>j&&(b=j)}if(p){var v,y;const m=w==="y"?"width":"height",M=["top","left"].includes(us(o)),j=a.reference[h]-a.floating[m]+(M&&((v=l.offset)==null?void 0:v[h])||0)+(M?0:x.crossAxis),L=a.reference[h]+a.reference[m]+(M?0:((y=l.offset)==null?void 0:y[h])||0)-(M?x.crossAxis:0);C<j?C=j:C>L&&(C=L)}return{[w]:b,[h]:C}}}},BC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:a,platform:l,elements:c}=t,{apply:d=()=>{},...p}=cs(e,t),f=await rl(t,p),h=us(o),w=Xo(o),b=Gs(o)==="y",{width:C,height:_}=a.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(v=h,x=w==="end"?"top":"bottom");const y=_-f.top-f.bottom,m=C-f.left-f.right,M=Ys(_-f[x],y),j=Ys(C-f[v],m),L=!t.middlewareData.shift;let I=M,V=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(V=m),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(I=y),L&&!w){const Q=qn(f.left,0),G=qn(f.right,0),T=qn(f.top,0),z=qn(f.bottom,0);b?V=C-2*(Q!==0||G!==0?Q+G:qn(f.left,f.right)):I=_-2*(T!==0||z!==0?T+z:qn(f.top,f.bottom))}await d({...t,availableWidth:V,availableHeight:I});const Y=await l.getDimensions(c.floating);return C!==Y.width||_!==Y.height?{reset:{rects:!0}}:{}}}};function Hu(){return typeof window<"u"}function Yo(e){return jw(e)?(e.nodeName||"").toLowerCase():"#document"}function Qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gr(e){var t;return(t=(jw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jw(e){return Hu()?e instanceof Node||e instanceof Qn(e).Node:!1}function kr(e){return Hu()?e instanceof Element||e instanceof Qn(e).Element:!1}function Xr(e){return Hu()?e instanceof HTMLElement||e instanceof Qn(e).HTMLElement:!1}function Gv(e){return!Hu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qn(e).ShadowRoot}function wl(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=Rr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(o)}function FC(e){return["table","td","th"].includes(Yo(e))}function Uu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function _m(e){const t=wm(),n=kr(e)?Rr(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function VC(e){let t=Ks(e);for(;Xr(t)&&!jo(t);){if(_m(t))return t;if(Uu(t))return null;t=Ks(t)}return null}function wm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jo(e){return["html","body","#document"].includes(Yo(e))}function Rr(e){return Qn(e).getComputedStyle(e)}function $u(e){return kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ks(e){if(Yo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gv(e)&&e.host||Gr(e);return Gv(t)?t.host:t}function Lw(e){const t=Ks(e);return jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&wl(t)?t:Lw(t)}function sl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Lw(e),a=o===((s=e.ownerDocument)==null?void 0:s.body),l=Qn(o);if(a){const c=up(l);return t.concat(l,l.visualViewport||[],wl(o)?o:[],c&&n?sl(c):[])}return t.concat(o,sl(o,[],n))}function up(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bw(e){const t=Rr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=Xr(e),a=o?e.offsetWidth:n,l=o?e.offsetHeight:s,c=gu(n)!==a||gu(s)!==l;return c&&(n=a,s=l),{width:n,height:s,$:c}}function bm(e){return kr(e)?e:e.contextElement}function Do(e){const t=bm(e);if(!Xr(t))return Hr(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:a}=Bw(t);let l=(a?gu(n.width):n.width)/s,c=(a?gu(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const zC=Hr(0);function Fw(e){const t=Qn(e);return!wm()||!t.visualViewport?zC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WC(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qn(e)?!1:t}function Oi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=bm(e);let l=Hr(1);t&&(s?kr(s)&&(l=Do(s)):l=Do(e));const c=WC(a,n,s)?Fw(a):Hr(0);let d=(o.left+c.x)/l.x,p=(o.top+c.y)/l.y,f=o.width/l.x,h=o.height/l.y;if(a){const w=Qn(a),b=s&&kr(s)?Qn(s):s;let C=w,_=up(C);for(;_&&s&&b!==C;){const x=Do(_),v=_.getBoundingClientRect(),y=Rr(_),m=v.left+(_.clientLeft+parseFloat(y.paddingLeft))*x.x,M=v.top+(_.clientTop+parseFloat(y.paddingTop))*x.y;d*=x.x,p*=x.y,f*=x.x,h*=x.y,d+=m,p+=M,C=Qn(_),_=up(C)}}return yu({width:f,height:h,x:d,y:p})}function xm(e,t){const n=$u(e).scrollLeft;return t?t.left+n:Oi(Gr(e)).left+n}function Vw(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=s.left+t.scrollLeft-(n?0:xm(e,s)),a=s.top+t.scrollTop;return{x:o,y:a}}function HC(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const a=o==="fixed",l=Gr(s),c=t?Uu(t.floating):!1;if(s===l||c&&a)return n;let d={scrollLeft:0,scrollTop:0},p=Hr(1);const f=Hr(0),h=Xr(s);if((h||!h&&!a)&&((Yo(s)!=="body"||wl(l))&&(d=$u(s)),Xr(s))){const b=Oi(s);p=Do(s),f.x=b.x+s.clientLeft,f.y=b.y+s.clientTop}const w=l&&!h&&!a?Vw(l,d,!0):Hr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+f.x+w.x,y:n.y*p.y-d.scrollTop*p.y+f.y+w.y}}function UC(e){return Array.from(e.getClientRects())}function $C(e){const t=Gr(e),n=$u(e),s=e.ownerDocument.body,o=qn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=qn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+xm(e);const c=-n.scrollTop;return Rr(s).direction==="rtl"&&(l+=qn(t.clientWidth,s.clientWidth)-o),{width:o,height:a,x:l,y:c}}function XC(e,t){const n=Qn(e),s=Gr(e),o=n.visualViewport;let a=s.clientWidth,l=s.clientHeight,c=0,d=0;if(o){a=o.width,l=o.height;const p=wm();(!p||p&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:a,height:l,x:c,y:d}}function YC(e,t){const n=Oi(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,a=Xr(e)?Do(e):Hr(1),l=e.clientWidth*a.x,c=e.clientHeight*a.y,d=o*a.x,p=s*a.y;return{width:l,height:c,x:d,y:p}}function Kv(e,t,n){let s;if(t==="viewport")s=XC(e,n);else if(t==="document")s=$C(Gr(e));else if(kr(t))s=YC(t,n);else{const o=Fw(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return yu(s)}function zw(e,t){const n=Ks(e);return n===t||!kr(n)||jo(n)?!1:Rr(n).position==="fixed"||zw(n,t)}function GC(e,t){const n=t.get(e);if(n)return n;let s=sl(e,[],!1).filter(c=>kr(c)&&Yo(c)!=="body"),o=null;const a=Rr(e).position==="fixed";let l=a?Ks(e):e;for(;kr(l)&&!jo(l);){const c=Rr(l),d=_m(l);!d&&c.position==="fixed"&&(o=null),(a?!d&&!o:!d&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||wl(l)&&!d&&zw(e,l))?s=s.filter(f=>f!==l):o=c,l=Ks(l)}return t.set(e,s),s}function KC(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const l=[...n==="clippingAncestors"?Uu(t)?[]:GC(t,this._c):[].concat(n),s],c=l[0],d=l.reduce((p,f)=>{const h=Kv(t,f,o);return p.top=qn(h.top,p.top),p.right=Ys(h.right,p.right),p.bottom=Ys(h.bottom,p.bottom),p.left=qn(h.left,p.left),p},Kv(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function qC(e){const{width:t,height:n}=Bw(e);return{width:t,height:n}}function QC(e,t,n){const s=Xr(t),o=Gr(t),a=n==="fixed",l=Oi(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=Hr(0);if(s||!s&&!a)if((Yo(t)!=="body"||wl(o))&&(c=$u(t)),s){const w=Oi(t,!0,a,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else o&&(d.x=xm(o));const p=o&&!s&&!a?Vw(o,c):Hr(0),f=l.left+c.scrollLeft-d.x-p.x,h=l.top+c.scrollTop-d.y-p.y;return{x:f,y:h,width:l.width,height:l.height}}function oh(e){return Rr(e).position==="static"}function qv(e,t){if(!Xr(e)||Rr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Gr(e)===n&&(n=n.ownerDocument.body),n}function Ww(e,t){const n=Qn(e);if(Uu(e))return n;if(!Xr(e)){let o=Ks(e);for(;o&&!jo(o);){if(kr(o)&&!oh(o))return o;o=Ks(o)}return n}let s=qv(e,t);for(;s&&FC(s)&&oh(s);)s=qv(s,t);return s&&jo(s)&&oh(s)&&!_m(s)?n:s||VC(e)||n}const ZC=async function(e){const t=this.getOffsetParent||Ww,n=this.getDimensions,s=await n(e.floating);return{reference:QC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function JC(e){return Rr(e).direction==="rtl"}const e7={convertOffsetParentRelativeRectToViewportRelativeRect:HC,getDocumentElement:Gr,getClippingRect:KC,getOffsetParent:Ww,getElementRects:ZC,getClientRects:UC,getDimensions:qC,getScale:Do,isElement:kr,isRTL:JC};function Hw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function t7(e,t){let n=null,s;const o=Gr(e);function a(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const p=e.getBoundingClientRect(),{left:f,top:h,width:w,height:b}=p;if(c||t(),!w||!b)return;const C=Fc(h),_=Fc(o.clientWidth-(f+w)),x=Fc(o.clientHeight-(h+b)),v=Fc(f),m={rootMargin:-C+"px "+-_+"px "+-x+"px "+-v+"px",threshold:qn(0,Ys(1,d))||1};let M=!0;function j(L){const I=L[0].intersectionRatio;if(I!==d){if(!M)return l();I?l(!1,I):s=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!Hw(p,e.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(j,{...m,root:o.ownerDocument})}catch{n=new IntersectionObserver(j,m)}n.observe(e)}return l(!0),a}function n7(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,p=bm(e),f=o||a?[...p?sl(p):[],...sl(t)]:[];f.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const h=p&&c?t7(p,n):null;let w=-1,b=null;l&&(b=new ResizeObserver(v=>{let[y]=v;y&&y.target===p&&b&&(b.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var m;(m=b)==null||m.observe(t)})),n()}),p&&!d&&b.observe(p),b.observe(t));let C,_=d?Oi(e):null;d&&x();function x(){const v=Oi(e);_&&!Hw(_,v)&&n(),_=v,C=requestAnimationFrame(x)}return n(),()=>{var v;f.forEach(y=>{o&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),h?.(),(v=b)==null||v.disconnect(),b=null,d&&cancelAnimationFrame(C)}}const r7=IC,s7=jC,i7=DC,o7=BC,a7=NC,Qv=AC,l7=LC,c7=(e,t,n)=>{const s=new Map,o={platform:e7,...n},a={...o.platform,_c:s};return MC(e,t,{...o,platform:a})};var ru=typeof document<"u"?N.useLayoutEffect:N.useEffect;function _u(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!_u(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!_u(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Uw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zv(e,t){const n=Uw(e);return Math.round(t*n)/n}function ah(e){const t=N.useRef(e);return ru(()=>{t.current=e}),t}function u7(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=e,[f,h]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,b]=N.useState(s);_u(w,s)||b(s);const[C,_]=N.useState(null),[x,v]=N.useState(null),y=N.useCallback(U=>{U!==L.current&&(L.current=U,_(U))},[]),m=N.useCallback(U=>{U!==I.current&&(I.current=U,v(U))},[]),M=a||C,j=l||x,L=N.useRef(null),I=N.useRef(null),V=N.useRef(f),Y=d!=null,Q=ah(d),G=ah(o),T=ah(p),z=N.useCallback(()=>{if(!L.current||!I.current)return;const U={placement:t,strategy:n,middleware:w};G.current&&(U.platform=G.current),c7(L.current,I.current,U).then(K=>{const X={...K,isPositioned:T.current!==!1};S.current&&!_u(V.current,X)&&(V.current=X,Ho.flushSync(()=>{h(X)}))})},[w,t,n,G,T]);ru(()=>{p===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[p]);const S=N.useRef(!1);ru(()=>(S.current=!0,()=>{S.current=!1}),[]),ru(()=>{if(M&&(L.current=M),j&&(I.current=j),M&&j){if(Q.current)return Q.current(M,j,z);z()}},[M,j,z,Q,Y]);const W=N.useMemo(()=>({reference:L,floating:I,setReference:y,setFloating:m}),[y,m]),ne=N.useMemo(()=>({reference:M,floating:j}),[M,j]),q=N.useMemo(()=>{const U={position:n,left:0,top:0};if(!ne.floating)return U;const K=Zv(ne.floating,f.x),X=Zv(ne.floating,f.y);return c?{...U,transform:"translate("+K+"px, "+X+"px)",...Uw(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:X}},[n,c,ne.floating,f.x,f.y]);return N.useMemo(()=>({...f,update:z,refs:W,elements:ne,floatingStyles:q}),[f,z,W,ne,q])}const d7=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Qv({element:s.current,padding:o}).fn(n):{}:s?Qv({element:s,padding:o}).fn(n):{}}}},f7=(e,t)=>({...r7(e),options:[e,t]}),h7=(e,t)=>({...s7(e),options:[e,t]}),p7=(e,t)=>({...l7(e),options:[e,t]}),m7=(e,t)=>({...i7(e),options:[e,t]}),g7=(e,t)=>({...o7(e),options:[e,t]}),v7=(e,t)=>({...a7(e),options:[e,t]}),y7=(e,t)=>({...d7(e),options:[e,t]});var _7="Arrow",$w=N.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...a}=e;return P.jsx(yt.svg,{...a,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});$w.displayName=_7;var w7=$w;function b7(e){const[t,n]=N.useState(void 0);return kn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,c=p.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Sm="Popper",[Xw,Go]=Pr(Sm),[x7,Yw]=Xw(Sm),Gw=e=>{const{__scopePopper:t,children:n}=e,[s,o]=N.useState(null);return P.jsx(x7,{scope:t,anchor:s,onAnchorChange:o,children:n})};Gw.displayName=Sm;var Kw="PopperAnchor",qw=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,a=Yw(Kw,n),l=N.useRef(null),c=Ct(t,l);return N.useEffect(()=>{a.onAnchorChange(s?.current||l.current)}),s?null:P.jsx(yt.div,{...o,ref:c})});qw.displayName=Kw;var Em="PopperContent",[S7,E7]=Xw(Em),Qw=N.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:w=!1,updatePositionStrategy:b="optimized",onPlaced:C,..._}=e,x=Yw(Em,n),[v,y]=N.useState(null),m=Ct(t,le=>y(le)),[M,j]=N.useState(null),L=b7(M),I=L?.width??0,V=L?.height??0,Y=s+(a!=="center"?"-"+a:""),Q=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},G=Array.isArray(p)?p:[p],T=G.length>0,z={padding:Q,boundary:G.filter(k7),altBoundary:T},{refs:S,floatingStyles:W,placement:ne,isPositioned:q,middlewareData:U}=u7({strategy:"fixed",placement:Y,whileElementsMounted:(...le)=>n7(...le,{animationFrame:b==="always"}),elements:{reference:x.anchor},middleware:[f7({mainAxis:o+V,alignmentAxis:l}),d&&h7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?p7():void 0,...z}),d&&m7({...z}),g7({...z,apply:({elements:le,rects:te,availableWidth:ce,availableHeight:we})=>{const{width:Ce,height:je}=te.reference,Ve=le.floating.style;Ve.setProperty("--radix-popper-available-width",`${ce}px`),Ve.setProperty("--radix-popper-available-height",`${we}px`),Ve.setProperty("--radix-popper-anchor-width",`${Ce}px`),Ve.setProperty("--radix-popper-anchor-height",`${je}px`)}}),M&&y7({element:M,padding:c}),R7({arrowWidth:I,arrowHeight:V}),w&&v7({strategy:"referenceHidden",...z})]}),[K,X]=eb(ne),E=Cn(C);kn(()=>{q&&E?.()},[q,E]);const k=U.arrow?.x,O=U.arrow?.y,F=U.arrow?.centerOffset!==0,[$,ae]=N.useState();return kn(()=>{v&&ae(window.getComputedStyle(v).zIndex)},[v]),P.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:P.jsx(S7,{scope:n,placedSide:K,onArrowChange:j,arrowX:k,arrowY:O,shouldHideArrow:F,children:P.jsx(yt.div,{"data-side":K,"data-align":X,..._,ref:m,style:{..._.style,animation:q?void 0:"none"}})})})});Qw.displayName=Em;var Zw="PopperArrow",C7={top:"bottom",right:"left",bottom:"top",left:"right"},Jw=N.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,a=E7(Zw,s),l=C7[a.placedSide];return P.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:P.jsx(w7,{...o,ref:n,style:{...o.style,display:"block"}})})});Jw.displayName=Zw;function k7(e){return e!==null}var R7=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:o}=t,l=o.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[p,f]=eb(n),h={start:"0%",center:"50%",end:"100%"}[f],w=(o.arrow?.x??0)+c/2,b=(o.arrow?.y??0)+d/2;let C="",_="";return p==="bottom"?(C=l?h:`${w}px`,_=`${-d}px`):p==="top"?(C=l?h:`${w}px`,_=`${s.floating.height+d}px`):p==="right"?(C=`${-d}px`,_=l?h:`${b}px`):p==="left"&&(C=`${s.floating.width+d}px`,_=l?h:`${b}px`),{data:{x:C,y:_}}}});function eb(e){const[t,n="center"]=e.split("-");return[t,n]}var tb=Gw,Cm=qw,km=Qw,Rm=Jw,[Xu]=Pr("Tooltip",[Go]),Tm=Go(),nb="TooltipProvider",T7=700,Jv="tooltip.open",[P7,rb]=Xu(nb),sb=e=>{const{__scopeTooltip:t,delayDuration:n=T7,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=e,l=N.useRef(!0),c=N.useRef(!1),d=N.useRef(0);return N.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),P.jsx(P7,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:N.useCallback(p=>{c.current=p},[]),disableHoverableContent:o,children:a})};sb.displayName=nb;var ib="Tooltip",[WL,Yu]=Xu(ib),dp="TooltipTrigger",M7=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=Yu(dp,n),a=rb(dp,n),l=Tm(n),c=N.useRef(null),d=Ct(t,c,o.onTriggerChange),p=N.useRef(!1),f=N.useRef(!1),h=N.useCallback(()=>p.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),P.jsx(Cm,{asChild:!0,...l,children:P.jsx(yt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:d,onPointerMove:Je(e.onPointerMove,w=>{w.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:Je(e.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:Je(e.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Je(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:Je(e.onBlur,o.onClose),onClick:Je(e.onClick,o.onClose)})})});M7.displayName=dp;var A7="TooltipPortal",[HL,D7]=Xu(A7,{forceMount:void 0}),Lo="TooltipContent",ob=N.forwardRef((e,t)=>{const n=D7(Lo,e.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...a}=e,l=Yu(Lo,e.__scopeTooltip);return P.jsx(Mr,{present:s||l.open,children:l.disableHoverableContent?P.jsx(ab,{side:o,...a,ref:t}):P.jsx(N7,{side:o,...a,ref:t})})}),N7=N.forwardRef((e,t)=>{const n=Yu(Lo,e.__scopeTooltip),s=rb(Lo,e.__scopeTooltip),o=N.useRef(null),a=Ct(t,o),[l,c]=N.useState(null),{trigger:d,onClose:p}=n,f=o.current,{onPointerInTransitChange:h}=s,w=N.useCallback(()=>{c(null),h(!1)},[h]),b=N.useCallback((C,_)=>{const x=C.currentTarget,v={x:C.clientX,y:C.clientY},y=B7(v,x.getBoundingClientRect()),m=F7(v,y),M=V7(_.getBoundingClientRect()),j=W7([...m,...M]);c(j),h(!0)},[h]);return N.useEffect(()=>()=>w(),[w]),N.useEffect(()=>{if(d&&f){const C=x=>b(x,f),_=x=>b(x,d);return d.addEventListener("pointerleave",C),f.addEventListener("pointerleave",_),()=>{d.removeEventListener("pointerleave",C),f.removeEventListener("pointerleave",_)}}},[d,f,b,w]),N.useEffect(()=>{if(l){const C=_=>{const x=_.target,v={x:_.clientX,y:_.clientY},y=d?.contains(x)||f?.contains(x),m=!z7(v,l);y?w():m&&(w(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,f,l,p,w]),P.jsx(ab,{...e,ref:a})}),[O7,I7]=Xu(ib,{isInside:!1}),j7=Y_("TooltipContent"),ab=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=e,d=Yu(Lo,n),p=Tm(n),{onClose:f}=d;return N.useEffect(()=>(document.addEventListener(Jv,f),()=>document.removeEventListener(Jv,f)),[f]),N.useEffect(()=>{if(d.trigger){const h=w=>{w.target?.contains(d.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,f]),P.jsx(Uo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:P.jsxs(km,{"data-state":d.stateAttribute,...p,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(j7,{children:s}),P.jsx(O7,{scope:n,isInside:!0,children:P.jsx(tE,{id:d.contentId,role:"tooltip",children:o||s})})]})})});ob.displayName=Lo;var lb="TooltipArrow",L7=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=Tm(n);return I7(lb,n).isInside?null:P.jsx(Rm,{...o,...s,ref:t})});L7.displayName=lb;function B7(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,o,a)){case a:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function F7(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function V7(e){const{top:t,right:n,bottom:s,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:s},{x:o,y:s}]}function z7(e,t){const{x:n,y:s}=e;let o=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a].x,d=t[a].y,p=t[l].x,f=t[l].y;d>s!=f>s&&n<(p-c)*(s-d)/(f-d)+c&&(o=!o)}return o}function W7(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),H7(t)}function H7(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const o=e[s];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const o=e[s];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var U7=sb,cb=ob;const $7=U7,X7=N.forwardRef(({className:e,sideOffset:t=4,...n},s)=>P.jsx(cb,{ref:s,sideOffset:t,className:mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));X7.displayName=cb.displayName;const Pm=N.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:mt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Pm.displayName="Card";const ub=N.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:mt("flex flex-col space-y-1.5 p-6",e),...t}));ub.displayName="CardHeader";const db=N.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:mt("text-2xl font-semibold leading-none tracking-tight",e),...t}));db.displayName="CardTitle";const fb=N.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:mt("text-sm text-muted-foreground",e),...t}));fb.displayName="CardDescription";const Mm=N.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:mt("p-6 pt-0",e),...t}));Mm.displayName="CardContent";const Y7=N.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:mt("flex items-center p-6 pt-0",e),...t}));Y7.displayName="CardFooter";function G7(){return P.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:P.jsx(Pm,{className:"w-full max-w-md mx-4",children:P.jsxs(Mm,{className:"pt-6",children:[P.jsxs("div",{className:"flex mb-4 gap-2",children:[P.jsx(xw,{className:"h-8 w-8 text-red-500"}),P.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),P.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const hb="flagit-data",pb="flagit-next-ids";function lh(){return{recordings:[],flags:[],categories:[{id:1,name:"Recordings",color:"gray"},{id:2,name:"Personal",color:"blue"},{id:3,name:"Work",color:"green"},{id:4,name:"Ideas",color:"purple"}]}}function e2(){return{recording:1,flag:1,category:5}}function Ar(){try{const e=localStorage.getItem(hb);if(e){const t=JSON.parse(e);return{...lh(),...t}}return lh()}catch(e){return console.error("Error reading from localStorage:",e),lh()}}function Js(e){try{localStorage.setItem(hb,JSON.stringify(e))}catch(t){console.error("Error saving to localStorage:",t)}}function K7(){try{const e=localStorage.getItem(pb);return e?JSON.parse(e):e2()}catch(e){return console.error("Error reading next IDs:",e),e2()}}function q7(e){try{localStorage.setItem(pb,JSON.stringify(e))}catch(t){console.error("Error saving next IDs:",t)}}function Am(e){const t=K7(),n=t[e];return t[e]=n+1,q7(t),n}function mb(){return Ar().recordings}function Q7(e){return mb().find(n=>n.id===e)||null}function Z7(e){const t=Ar(),n={id:Am("recording"),name:e.name,category:e.category||"Recordings",categoryId:e.categoryId||null,duration:e.duration||0,notes:e.notes||"",createdAt:new Date};return t.recordings.push(n),Js(t),n}function J7(e,t){const n=Ar(),s=n.recordings.findIndex(o=>o.id===e);return s===-1?null:(n.recordings[s]={...n.recordings[s],...t},Js(n),n.recordings[s])}function ek(e){const t=Ar(),n=t.recordings.findIndex(s=>s.id===e);return n===-1?!1:(t.recordings.splice(n,1),t.flags=t.flags.filter(s=>s.recordingId!==e),Js(t),!0)}function tk(e){return Ar().flags.filter(n=>n.recordingId===e)}function nk(e){const t=Ar(),n={id:Am("flag"),recordingId:e.recordingId,timestamp:e.timestamp,color:e.color||"red",description:e.description||""};return t.flags.push(n),Js(t),n}function rk(e,t){const n=Ar(),s=n.flags.findIndex(o=>o.id===e);return s===-1?null:(n.flags[s]={...n.flags[s],...t},Js(n),n.flags[s])}function sk(e){const t=Ar(),n=t.flags.findIndex(s=>s.id===e);return n===-1?!1:(t.flags.splice(n,1),Js(t),!0)}function ik(){return Ar().categories}function ok(e){const t=Ar(),n={id:Am("category"),name:e.name,color:e.color||"gray"};return t.categories.push(n),Js(t),n}function ak(e){const t=Ar(),n=t.categories.findIndex(s=>s.id===e);return n===-1||e<=4?!1:(t.categories.splice(n,1),t.recordings.forEach(s=>{s.categoryId===e&&(s.categoryId=1,s.category="Recordings")}),Js(t),!0)}function gb(){return om({queryKey:["recordings"],queryFn:async()=>mb()})}function lk(e){return om({queryKey:["recording",e],queryFn:async()=>{const t=Q7(e);if(!t)return null;const n=tk(e);return{...t,flags:n}},enabled:!!e})}function vb(){const e=Yr();return Zs({mutationFn:async t=>Z7(t),onSuccess:()=>{e.invalidateQueries({queryKey:["recordings"]})}})}function ck(){const e=Yr();return Zs({mutationFn:async({id:t,...n})=>{const s=J7(t,n);if(!s)throw new Error("Recording not found");return s},onSuccess:t=>{e.invalidateQueries({queryKey:["recordings"]}),e.invalidateQueries({queryKey:["recording",t.id]})}})}function yb(){const e=Yr();return Zs({mutationFn:async t=>{if(!ek(t))throw new Error("Recording not found");return t},onSuccess:()=>{e.invalidateQueries({queryKey:["recordings"]})}})}function Dm(){return om({queryKey:["categories"],queryFn:async()=>ik()})}function _b(){const e=Yr();return Zs({mutationFn:async t=>ok({name:t.name,color:t.color||"gray"}),onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function uk(){const e=Yr();return Zs({mutationFn:async t=>{if(!ak(t))throw new Error("Cannot delete category");return t},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),e.invalidateQueries({queryKey:["recordings"]})}})}function Dr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ii(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const wb=6048e5,dk=864e5;let fk={};function Gu(){return fk}function il(e,t){const n=Gu(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Dr(e),a=o.getDay(),l=(a<s?7:0)+a-s;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function wu(e){return il(e,{weekStartsOn:1})}function bb(e){const t=Dr(e),n=t.getFullYear(),s=Ii(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=wu(s),a=Ii(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=wu(a);return t.getTime()>=o.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function t2(e){const t=Dr(e);return t.setHours(0,0,0,0),t}function n2(e){const t=Dr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hk(e,t){const n=t2(e),s=t2(t),o=+n-n2(n),a=+s-n2(s);return Math.round((o-a)/dk)}function pk(e){const t=bb(e),n=Ii(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),wu(n)}function mk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gk(e){if(!mk(e)&&typeof e!="number")return!1;const t=Dr(e);return!isNaN(Number(t))}function vk(e){const t=Dr(e),n=Ii(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_k=(e,t,n)=>{let s;const o=yk[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ch(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const wk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sk={date:ch({formats:wk,defaultWidth:"full"}),time:ch({formats:bk,defaultWidth:"full"}),dateTime:ch({formats:xk,defaultWidth:"full"})},Ek={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ck=(e,t,n,s)=>Ek[e];function Va(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n?.width?String(n.width):l;o=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n?.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const kk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ak={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dk=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Nk={ordinalNumber:Dk,era:Va({values:kk,defaultWidth:"wide"}),quarter:Va({values:Rk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Va({values:Tk,defaultWidth:"wide"}),day:Va({values:Pk,defaultWidth:"wide"}),dayPeriod:Va({values:Mk,defaultWidth:"wide",formattingValues:Ak,defaultFormattingWidth:"wide"})};function za(e){return(t,n={})=>{const s=n.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const l=a[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?Ik(c,h=>h.test(l)):Ok(c,h=>h.test(l));let p;p=e.valueCallback?e.valueCallback(d):d,p=n.valueCallback?n.valueCallback(p):p;const f=t.slice(l.length);return{value:p,rest:f}}}function Ok(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Ik(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function jk(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const o=s[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(o.length);return{value:l,rest:c}}}const Lk=/^(\d+)(th|st|nd|rd)?/i,Bk=/\d+/i,Fk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vk={any:[/^b/i,/^(a|c)/i]},zk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wk={any:[/1/i,/2/i,/3/i,/4/i]},Hk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$k={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kk={ordinalNumber:jk({matchPattern:Lk,parsePattern:Bk,valueCallback:e=>parseInt(e,10)}),era:za({matchPatterns:Fk,defaultMatchWidth:"wide",parsePatterns:Vk,defaultParseWidth:"any"}),quarter:za({matchPatterns:zk,defaultMatchWidth:"wide",parsePatterns:Wk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:za({matchPatterns:Hk,defaultMatchWidth:"wide",parsePatterns:Uk,defaultParseWidth:"any"}),day:za({matchPatterns:$k,defaultMatchWidth:"wide",parsePatterns:Xk,defaultParseWidth:"any"}),dayPeriod:za({matchPatterns:Yk,defaultMatchWidth:"any",parsePatterns:Gk,defaultParseWidth:"any"})},qk={code:"en-US",formatDistance:_k,formatLong:Sk,formatRelative:Ck,localize:Nk,match:Kk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qk(e){const t=Dr(e);return hk(t,vk(t))+1}function Zk(e){const t=Dr(e),n=+wu(t)-+pk(t);return Math.round(n/wb)+1}function xb(e,t){const n=Dr(e),s=n.getFullYear(),o=Gu(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=Ii(e,0);l.setFullYear(s+1,0,a),l.setHours(0,0,0,0);const c=il(l,t),d=Ii(e,0);d.setFullYear(s,0,a),d.setHours(0,0,0,0);const p=il(d,t);return n.getTime()>=c.getTime()?s+1:n.getTime()>=p.getTime()?s:s-1}function Jk(e,t){const n=Gu(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=xb(e,t),a=Ii(e,0);return a.setFullYear(o,0,s),a.setHours(0,0,0,0),il(a,t)}function eR(e,t){const n=Dr(e),s=+il(n,t)-+Jk(n,t);return Math.round(s/wb)+1}function Dt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const zs={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Dt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Dt(n+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Dt(o,t.length)}},ho={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r2={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return zs.y(e,t)},Y:function(e,t,n,s){const o=xb(e,s),a=o>0?o:1-o;if(t==="YY"){const l=a%100;return Dt(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Dt(a,t.length)},R:function(e,t){const n=bb(e);return Dt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Dt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Dt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Dt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return zs.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Dt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const o=eR(e,s);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Dt(o,t.length)},I:function(e,t,n){const s=Zk(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Dt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):zs.d(e,t)},D:function(e,t,n){const s=Qk(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Dt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Dt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Dt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),o=s===0?7:s;switch(t){case"i":return String(o);case"ii":return Dt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let o;switch(s===12?o=ho.noon:s===0?o=ho.midnight:o=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let o;switch(s>=17?o=ho.evening:s>=12?o=ho.afternoon:s>=4?o=ho.morning:o=ho.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return zs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):zs.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Dt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Dt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):zs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):zs.s(e,t)},S:function(e,t){return zs.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return i2(s);case"XXXX":case"XX":return bi(s);default:return bi(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return i2(s);case"xxxx":case"xx":return bi(s);default:return bi(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+s2(s,":");default:return"GMT"+bi(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+s2(s,":");default:return"GMT"+bi(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Dt(s,t.length)},T:function(e,t,n){const s=e.getTime();return Dt(s,t.length)}};function s2(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),a=s%60;return a===0?n+String(o):n+String(o)+t+Dt(a,2)}function i2(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):bi(e,t)}function bi(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),o=Dt(Math.trunc(s/60),2),a=Dt(s%60,2);return n+o+t+a}const o2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Sb=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},tR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return o2(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",o2(s,t)).replace("{{time}}",Sb(o,t))},nR={p:Sb,P:tR},rR=/^D+$/,sR=/^Y+$/,iR=["D","DD","YY","YYYY"];function oR(e){return rR.test(e)}function aR(e){return sR.test(e)}function lR(e,t,n){const s=cR(e,t,n);if(console.warn(s),iR.includes(e))throw new RangeError(s)}function cR(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fR=/^'([^]*?)'?$/,hR=/''/g,pR=/[a-zA-Z]/;function No(e,t,n){const s=Gu(),o=s.locale??qk,a=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Dr(e);if(!gk(c))throw new RangeError("Invalid time value");let d=t.match(dR).map(f=>{const h=f[0];if(h==="p"||h==="P"){const w=nR[h];return w(f,o.formatLong)}return f}).join("").match(uR).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const h=f[0];if(h==="'")return{isToken:!1,value:mR(f)};if(r2[h])return{isToken:!0,value:f};if(h.match(pR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:f}});o.localize.preprocessor&&(d=o.localize.preprocessor(c,d));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:o};return d.map(f=>{if(!f.isToken)return f.value;const h=f.value;(aR(h)||oR(h))&&lR(h,t,String(e));const w=r2[h[0]];return w(c,h,o.localize,p)}).join("")}function mR(e){const t=e.match(fR);return t?t[1].replace(hR,"'"):e}var gR=N.createContext(void 0);function Ku(e){const t=N.useContext(gR);return e||t||"ltr"}var uh="rovingFocusGroup.onEntryFocus",vR={bubbles:!1,cancelable:!0},qu="RovingFocusGroup",[fp,Eb,yR]=Fu(qu),[_R,Qu]=Pr(qu,[yR]),[wR,bR]=_R(qu),Cb=N.forwardRef((e,t)=>P.jsx(fp.Provider,{scope:e.__scopeRovingFocusGroup,children:P.jsx(fp.Slot,{scope:e.__scopeRovingFocusGroup,children:P.jsx(xR,{...e,ref:t})})}));Cb.displayName=qu;var xR=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:f=!1,...h}=e,w=N.useRef(null),b=Ct(t,w),C=Ku(a),[_=null,x]=Ni({prop:l,defaultProp:c,onChange:d}),[v,y]=N.useState(!1),m=Cn(p),M=Eb(n),j=N.useRef(!1),[L,I]=N.useState(0);return N.useEffect(()=>{const V=w.current;if(V)return V.addEventListener(uh,m),()=>V.removeEventListener(uh,m)},[m]),P.jsx(wR,{scope:n,orientation:s,dir:C,loop:o,currentTabStopId:_,onItemFocus:N.useCallback(V=>x(V),[x]),onItemShiftTab:N.useCallback(()=>y(!0),[]),onFocusableItemAdd:N.useCallback(()=>I(V=>V+1),[]),onFocusableItemRemove:N.useCallback(()=>I(V=>V-1),[]),children:P.jsx(yt.div,{tabIndex:v||L===0?-1:0,"data-orientation":s,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:Je(e.onMouseDown,()=>{j.current=!0}),onFocus:Je(e.onFocus,V=>{const Y=!j.current;if(V.target===V.currentTarget&&Y&&!v){const Q=new CustomEvent(uh,vR);if(V.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const G=M().filter(ne=>ne.focusable),T=G.find(ne=>ne.active),z=G.find(ne=>ne.id===_),W=[T,z,...G].filter(Boolean).map(ne=>ne.ref.current);Tb(W,f)}}j.current=!1}),onBlur:Je(e.onBlur,()=>y(!1))})})}),kb="RovingFocusGroupItem",Rb=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,...l}=e,c=Wr(),d=a||c,p=bR(kb,n),f=p.currentTabStopId===d,h=Eb(n),{onFocusableItemAdd:w,onFocusableItemRemove:b}=p;return N.useEffect(()=>{if(s)return w(),()=>b()},[s,w,b]),P.jsx(fp.ItemSlot,{scope:n,id:d,focusable:s,active:o,children:P.jsx(yt.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:Je(e.onMouseDown,C=>{s?p.onItemFocus(d):C.preventDefault()}),onFocus:Je(e.onFocus,()=>p.onItemFocus(d)),onKeyDown:Je(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const _=CR(C,p.orientation,p.dir);if(_!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(_==="last")v.reverse();else if(_==="prev"||_==="next"){_==="prev"&&v.reverse();const y=v.indexOf(C.currentTarget);v=p.loop?kR(v,y+1):v.slice(y+1)}setTimeout(()=>Tb(v))}})})})});Rb.displayName=kb;var SR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ER(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CR(e,t,n){const s=ER(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return SR[s]}function Tb(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function kR(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Pb=Cb,Mb=Rb,Nm="Tabs",[RR]=Pr(Nm,[Qu]),Ab=Qu(),[TR,Om]=RR(Nm),Db=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:d="automatic",...p}=e,f=Ku(c),[h,w]=Ni({prop:s,onChange:o,defaultProp:a});return P.jsx(TR,{scope:n,baseId:Wr(),value:h,onValueChange:w,orientation:l,dir:f,activationMode:d,children:P.jsx(yt.div,{dir:f,"data-orientation":l,...p,ref:t})})});Db.displayName=Nm;var Nb="TabsList",Ob=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...o}=e,a=Om(Nb,n),l=Ab(n);return P.jsx(Pb,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:s,children:P.jsx(yt.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});Ob.displayName=Nb;var Ib="TabsTrigger",jb=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...a}=e,l=Om(Ib,n),c=Ab(n),d=Fb(l.baseId,s),p=Vb(l.baseId,s),f=s===l.value;return P.jsx(Mb,{asChild:!0,...c,focusable:!o,active:f,children:P.jsx(yt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...a,ref:t,onMouseDown:Je(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?l.onValueChange(s):h.preventDefault()}),onKeyDown:Je(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(s)}),onFocus:Je(e.onFocus,()=>{const h=l.activationMode!=="manual";!f&&!o&&h&&l.onValueChange(s)})})})});jb.displayName=Ib;var Lb="TabsContent",Bb=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:o,children:a,...l}=e,c=Om(Lb,n),d=Fb(c.baseId,s),p=Vb(c.baseId,s),f=s===c.value,h=N.useRef(f);return N.useEffect(()=>{const w=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(w)},[]),P.jsx(Mr,{present:o||f,children:({present:w})=>P.jsx(yt.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!w,id:p,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:w&&a})})});Bb.displayName=Lb;function Fb(e,t){return`${e}-trigger-${t}`}function Vb(e,t){return`${e}-content-${t}`}var PR=Db,zb=Ob,Wb=jb,Hb=Bb;const MR=PR,Ub=N.forwardRef(({className:e,...t},n)=>P.jsx(zb,{ref:n,className:mt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ub.displayName=zb.displayName;const hp=N.forwardRef(({className:e,...t},n)=>P.jsx(Wb,{ref:n,className:mt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));hp.displayName=Wb.displayName;const pp=N.forwardRef(({className:e,...t},n)=>P.jsx(Hb,{ref:n,className:mt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pp.displayName=Hb.displayName;const Im=dm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ot=N.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...o},a)=>{const l=s?O9:"button";return P.jsx(l,{className:mt(Im({variant:t,size:n,className:e})),ref:a,...o})});Ot.displayName="Button";const mp=(e,t)=>t.some(n=>e instanceof n);let a2,l2;function AR(){return a2||(a2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DR(){return l2||(l2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gp=new WeakMap,dh=new WeakMap,Zu=new WeakMap;function NR(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Ti(e.result)),o()},l=()=>{s(e.error),o()};e.addEventListener("success",a),e.addEventListener("error",l)});return Zu.set(t,e),t}function OR(e){if(gp.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),o()},l=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});gp.set(e,t)}let vp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gp.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $b(e){vp=e(vp)}function IR(e){return DR().includes(e)?function(...t){return e.apply(yp(this),t),Ti(this.request)}:function(...t){return Ti(e.apply(yp(this),t))}}function jR(e){return typeof e=="function"?IR(e):(e instanceof IDBTransaction&&OR(e),mp(e,AR())?new Proxy(e,vp):e)}function Ti(e){if(e instanceof IDBRequest)return NR(e);if(dh.has(e))return dh.get(e);const t=jR(e);return t!==e&&(dh.set(e,t),Zu.set(t,e)),t}const yp=e=>Zu.get(e);function LR(e,t,{blocked:n,upgrade:s,blocking:o,terminated:a}={}){const l=indexedDB.open(e,t),c=Ti(l);return s&&l.addEventListener("upgradeneeded",d=>{s(Ti(l.result),d.oldVersion,d.newVersion,Ti(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const BR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],fh=new Map;function c2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fh.get(t))return fh.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=FR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||BR.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,o?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),o&&d.done]))[0]};return fh.set(t,a),a}$b(e=>({...e,get:(t,n,s)=>c2(t,n)||e.get(t,n,s),has:(t,n)=>!!c2(t,n)||e.has(t,n)}));const VR=["continue","continuePrimaryKey","advance"],u2={},_p=new WeakMap,Xb=new WeakMap,zR={get(e,t){if(!VR.includes(t))return e[t];let n=u2[t];return n||(n=u2[t]=function(...s){_p.set(this,Xb.get(this)[t](...s))}),n}};async function*WR(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,zR);for(Xb.set(n,t),Zu.set(n,yp(t));t;)yield n,t=await(_p.get(n)||t.continue()),_p.delete(n)}function d2(e,t){return t===Symbol.asyncIterator&&mp(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&mp(e,[IDBIndex,IDBObjectStore])}$b(e=>({...e,get(t,n,s){return d2(t,n)?WR:e.get(t,n,s)},has(t,n){return d2(t,n)||e.has(t,n)}}));const HR="flagit-db",ol="audio";async function jm(){return LR(HR,2,{upgrade(e,t){e.objectStoreNames.contains(ol)||e.createObjectStore(ol)}})}async function Yb(e,t){await(await jm()).put(ol,t,e)}async function wp(e){return await(await jm()).get(ol,e)}async function UR(e){await(await jm()).delete(ol,e)}function Vc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hh={exports:{}};var f2;function $R(){return f2||(f2=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(s,o,a){function l(p,f){if(!o[p]){if(!s[p]){var h=typeof Vc=="function"&&Vc;if(!f&&h)return h(p,!0);if(c)return c(p,!0);var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}var b=o[p]={exports:{}};s[p][0].call(b.exports,function(C){var _=s[p][1][C];return l(_||C)},b,b.exports,n,s,o,a)}return o[p].exports}for(var c=typeof Vc=="function"&&Vc,d=0;d<a.length;d++)l(a[d]);return l})({1:[function(n,s,o){var a=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(d){for(var p,f,h,w,b,C,_,x=[],v=0,y=d.length,m=y,M=a.getTypeOf(d)!=="string";v<d.length;)m=y-v,h=M?(p=d[v++],f=v<y?d[v++]:0,v<y?d[v++]:0):(p=d.charCodeAt(v++),f=v<y?d.charCodeAt(v++):0,v<y?d.charCodeAt(v++):0),w=p>>2,b=(3&p)<<4|f>>4,C=1<m?(15&f)<<2|h>>6:64,_=2<m?63&h:64,x.push(c.charAt(w)+c.charAt(b)+c.charAt(C)+c.charAt(_));return x.join("")},o.decode=function(d){var p,f,h,w,b,C,_=0,x=0,v="data:";if(d.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,m=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&m--,d.charAt(d.length-2)===c.charAt(64)&&m--,m%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=l.uint8array?new Uint8Array(0|m):new Array(0|m);_<d.length;)p=c.indexOf(d.charAt(_++))<<2|(w=c.indexOf(d.charAt(_++)))>>4,f=(15&w)<<4|(b=c.indexOf(d.charAt(_++)))>>2,h=(3&b)<<6|(C=c.indexOf(d.charAt(_++))),y[x++]=p,b!==64&&(y[x++]=f),C!==64&&(y[x++]=h);return y}},{"./support":30,"./utils":32}],2:[function(n,s,o){var a=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function p(f,h,w,b,C){this.compressedSize=f,this.uncompressedSize=h,this.crc32=w,this.compression=b,this.compressedContent=C}p.prototype={getContentWorker:function(){var f=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),h=this;return f.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(f,h,w){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(h.compressWorker(w)).pipe(new d("compressedSize")).withStreamInfo("compression",h)},s.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,s,o){var a=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,s,o){var a=n("./utils"),l=(function(){for(var c,d=[],p=0;p<256;p++){c=p;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[p]=c}return d})();s.exports=function(c,d){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(p,f,h,w){var b=l,C=w+h;p^=-1;for(var _=w;_<C;_++)p=p>>>8^b[255&(p^f[_])];return-1^p})(0|d,c,c.length,0):(function(p,f,h,w){var b=l,C=w+h;p^=-1;for(var _=w;_<C;_++)p=p>>>8^b[255&(p^f.charCodeAt(_))];return-1^p})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(n,s,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,s,o){var a=null;a=typeof Promise<"u"?Promise:n("lie"),s.exports={Promise:a}},{lie:37}],7:[function(n,s,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),d=n("./stream/GenericWorker"),p=a?"uint8array":"array";function f(h,w){d.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=w,this.meta={}}o.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(p,h.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(w){h.push({data:w,meta:h.meta})}},o.compressWorker=function(h){return new f("Deflate",h)},o.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,s,o){function a(b,C){var _,x="";for(_=0;_<C;_++)x+=String.fromCharCode(255&b),b>>>=8;return x}function l(b,C,_,x,v,y){var m,M,j=b.file,L=b.compression,I=y!==p.utf8encode,V=c.transformTo("string",y(j.name)),Y=c.transformTo("string",p.utf8encode(j.name)),Q=j.comment,G=c.transformTo("string",y(Q)),T=c.transformTo("string",p.utf8encode(Q)),z=Y.length!==j.name.length,S=T.length!==Q.length,W="",ne="",q="",U=j.dir,K=j.date,X={crc32:0,compressedSize:0,uncompressedSize:0};C&&!_||(X.crc32=b.crc32,X.compressedSize=b.compressedSize,X.uncompressedSize=b.uncompressedSize);var E=0;C&&(E|=8),I||!z&&!S||(E|=2048);var k=0,O=0;U&&(k|=16),v==="UNIX"?(O=798,k|=(function($,ae){var le=$;return $||(le=ae?16893:33204),(65535&le)<<16})(j.unixPermissions,U)):(O=20,k|=(function($){return 63&($||0)})(j.dosPermissions)),m=K.getUTCHours(),m<<=6,m|=K.getUTCMinutes(),m<<=5,m|=K.getUTCSeconds()/2,M=K.getUTCFullYear()-1980,M<<=4,M|=K.getUTCMonth()+1,M<<=5,M|=K.getUTCDate(),z&&(ne=a(1,1)+a(f(V),4)+Y,W+="up"+a(ne.length,2)+ne),S&&(q=a(1,1)+a(f(G),4)+T,W+="uc"+a(q.length,2)+q);var F="";return F+=`
\0`,F+=a(E,2),F+=L.magic,F+=a(m,2),F+=a(M,2),F+=a(X.crc32,4),F+=a(X.compressedSize,4),F+=a(X.uncompressedSize,4),F+=a(V.length,2),F+=a(W.length,2),{fileRecord:h.LOCAL_FILE_HEADER+F+V+W,dirRecord:h.CENTRAL_FILE_HEADER+a(O,2)+F+a(G.length,2)+"\0\0\0\0"+a(k,4)+a(x,4)+V+W+G}}var c=n("../utils"),d=n("../stream/GenericWorker"),p=n("../utf8"),f=n("../crc32"),h=n("../signature");function w(b,C,_,x){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=_,this.encodeFileName=x,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(w,d),w.prototype.push=function(b){var C=b.meta.percent||0,_=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,d.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:_?(C+100*(_-x-1))/_:100}}))},w.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var C=this.streamFiles&&!b.file.dir;if(C){var _=l(b,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(b){this.accumulate=!1;var C=this.streamFiles&&!b.file.dir,_=l(b,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),C)this.push({data:(function(x){return h.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)})(b),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var b=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var _=this.bytesWritten-b,x=(function(v,y,m,M,j){var L=c.transformTo("string",j(M));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(y,4)+a(m,4)+a(L.length,2)+L})(this.dirRecords.length,_,b,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(b){this._sources.push(b);var C=this;return b.on("data",function(_){C.processChunk(_)}),b.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),b.on("error",function(_){C.error(_)}),this},w.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(b){var C=this._sources;if(!d.prototype.error.call(this,b))return!1;for(var _=0;_<C.length;_++)try{C[_].error(b)}catch{}return!0},w.prototype.lock=function(){d.prototype.lock.call(this);for(var b=this._sources,C=0;C<b.length;C++)b[C].lock()},s.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,s,o){var a=n("../compressions"),l=n("./ZipFileWorker");o.generateWorker=function(c,d,p){var f=new l(d.streamFiles,p,d.platform,d.encodeFileName),h=0;try{c.forEach(function(w,b){h++;var C=(function(y,m){var M=y||m,j=a[M];if(!j)throw new Error(M+" is not a valid compression method !");return j})(b.options.compression,d.compression),_=b.options.compressionOptions||d.compressionOptions||{},x=b.dir,v=b.date;b._compressWorker(C,_).withStreamInfo("file",{name:w,dir:x,date:v,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(f)}),f.entriesCount=h}catch(w){f.error(w)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,s,o){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(l,c){return new a().loadAsync(l,c)},a.external=n("./external"),s.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,s,o){var a=n("./utils"),l=n("./external"),c=n("./utf8"),d=n("./zipEntries"),p=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function h(w){return new l.Promise(function(b,C){var _=w.decompressed.getContentWorker().pipe(new p);_.on("error",function(x){C(x)}).on("end",function(){_.streamInfo.crc32!==w.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}s.exports=function(w,b){var C=this;return b=a.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(w)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",w,!0,b.optimizedBinaryString,b.base64).then(function(_){var x=new d(b);return x.load(_),x}).then(function(_){var x=[l.Promise.resolve(_)],v=_.files;if(b.checkCRC32)for(var y=0;y<v.length;y++)x.push(h(v[y]));return l.Promise.all(x)}).then(function(_){for(var x=_.shift(),v=x.files,y=0;y<v.length;y++){var m=v[y],M=m.fileNameStr,j=a.resolve(m.fileNameStr);C.file(j,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileCommentStr.length?m.fileCommentStr:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:b.createFolders}),m.dir||(C.file(j).unsafeOriginalName=M)}return x.zipComment.length&&(C.comment=x.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,s,o){var a=n("../utils"),l=n("../stream/GenericWorker");function c(d,p){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}a.inherits(c,l),c.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(f){p.push({data:f,meta:{percent:0}})}).on("error",function(f){p.isPaused?this.generatedError=f:p.error(f)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,s,o){var a=n("readable-stream").Readable;function l(c,d,p){a.call(this,d),this._helper=c;var f=this;c.on("data",function(h,w){f.push(h)||f._helper.pause(),p&&p(w)}).on("error",function(h){f.emit("error",h)}).on("end",function(){f.push(null)})}n("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},s.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,s,o){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,s,o){function a(j,L,I){var V,Y=c.getTypeOf(L),Q=c.extend(I||{},f);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(j=v(j)),Q.createFolders&&(V=x(j))&&y.call(this,V,!0);var G=Y==="string"&&Q.binary===!1&&Q.base64===!1;I&&I.binary!==void 0||(Q.binary=!G),(L instanceof h&&L.uncompressedSize===0||Q.dir||!L||L.length===0)&&(Q.base64=!1,Q.binary=!0,L="",Q.compression="STORE",Y="string");var T=null;T=L instanceof h||L instanceof d?L:C.isNode&&C.isStream(L)?new _(j,L):c.prepareContent(j,L,Q.binary,Q.optimizedBinaryString,Q.base64);var z=new w(j,T,Q);this.files[j]=z}var l=n("./utf8"),c=n("./utils"),d=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),f=n("./defaults"),h=n("./compressedObject"),w=n("./zipObject"),b=n("./generate"),C=n("./nodejsUtils"),_=n("./nodejs/NodejsStreamInputAdapter"),x=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var L=j.lastIndexOf("/");return 0<L?j.substring(0,L):""},v=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},y=function(j,L){return L=L!==void 0?L:f.createFolders,j=v(j),this.files[j]||a.call(this,j,null,{dir:!0,createFolders:L}),this.files[j]};function m(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var L,I,V;for(L in this.files)V=this.files[L],(I=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&j(I,V)},filter:function(j){var L=[];return this.forEach(function(I,V){j(I,V)&&L.push(V)}),L},file:function(j,L,I){if(arguments.length!==1)return j=this.root+j,a.call(this,j,L,I),this;if(m(j)){var V=j;return this.filter(function(Q,G){return!G.dir&&V.test(Q)})}var Y=this.files[this.root+j];return Y&&!Y.dir?Y:null},folder:function(j){if(!j)return this;if(m(j))return this.filter(function(Y,Q){return Q.dir&&j.test(Y)});var L=this.root+j,I=y.call(this,L),V=this.clone();return V.root=I.name,V},remove:function(j){j=this.root+j;var L=this.files[j];if(L||(j.slice(-1)!=="/"&&(j+="/"),L=this.files[j]),L&&!L.dir)delete this.files[j];else for(var I=this.filter(function(Y,Q){return Q.name.slice(0,j.length)===j}),V=0;V<I.length;V++)delete this.files[I[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var L,I={};try{if((I=c.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");c.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var V=I.comment||this.comment||"";L=b.generateWorker(this,I,V)}catch(Y){(L=new d("error")).error(Y)}return new p(L,I.type||"string",I.mimeType)},generateAsync:function(j,L){return this.generateInternalStream(j).accumulate(L)},generateNodeStream:function(j,L){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(L)}};s.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,s,o){s.exports=n("stream")},{stream:void 0}],17:[function(n,s,o){var a=n("./DataReader");function l(c){a.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}n("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),p=c.charCodeAt(1),f=c.charCodeAt(2),h=c.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===d&&this.data[w+1]===p&&this.data[w+2]===f&&this.data[w+3]===h)return w-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),p=c.charCodeAt(1),f=c.charCodeAt(2),h=c.charCodeAt(3),w=this.readData(4);return d===w[0]&&p===w[1]&&f===w[2]&&h===w[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},s.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,s,o){var a=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,p=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=c,p},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},s.exports=l},{"../utils":32}],19:[function(n,s,o){var a=n("./Uint8ArrayReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},s.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,s,o){var a=n("./DataReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},s.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,s,o){var a=n("./ArrayReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},s.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,s,o){var a=n("../utils"),l=n("../support"),c=n("./ArrayReader"),d=n("./StringReader"),p=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");s.exports=function(h){var w=a.getTypeOf(h);return a.checkSupport(w),w!=="string"||l.uint8array?w==="nodebuffer"?new p(h):l.uint8array?new f(a.transformTo("uint8array",h)):new c(a.transformTo("array",h)):new d(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,s,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,s,o){var a=n("./GenericWorker"),l=n("../utils");function c(d){a.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,a),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},s.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,s,o){var a=n("./GenericWorker"),l=n("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,a),c.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},s.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,s,o){var a=n("../utils"),l=n("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(c,l),c.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}l.prototype.processChunk.call(this,d)},s.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,s,o){var a=n("../utils"),l=n("./GenericWorker");function c(d){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){p.dataIsReady=!0,p.data=f,p.max=f&&f.length||0,p.type=a.getTypeOf(f),p.isPaused||p._tickAndRepeat()},function(f){p.error(f)})}a.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,s,o){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},s.exports=a},{}],29:[function(n,s,o){var a=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),d=n("../base64"),p=n("../support"),f=n("../external"),h=null;if(p.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(C,_){return new f.Promise(function(x,v){var y=[],m=C._internalType,M=C._outputType,j=C._mimeType;C.on("data",function(L,I){y.push(L),_&&_(I)}).on("error",function(L){y=[],v(L)}).on("end",function(){try{var L=(function(I,V,Y){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",V),Y);case"base64":return d.encode(V);default:return a.transformTo(I,V)}})(M,(function(I,V){var Y,Q=0,G=null,T=0;for(Y=0;Y<V.length;Y++)T+=V[Y].length;switch(I){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(G=new Uint8Array(T),Y=0;Y<V.length;Y++)G.set(V[Y],Q),Q+=V[Y].length;return G;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+I+"'")}})(m,y),j);x(L)}catch(I){v(I)}y=[]}).resume()})}function b(C,_,x){var v=_;switch(_){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=_,this._mimeType=x,a.checkSupport(v),this._worker=C.pipe(new l(v)),C.lock()}catch(y){this._worker=new c("error"),this._worker.error(y)}}b.prototype={accumulate:function(C){return w(this,C)},on:function(C,_){var x=this;return C==="data"?this._worker.on(C,function(v){_.call(x,v.data,v.meta)}):this._worker.on(C,function(){a.delay(_,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},C)}},s.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,s,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var a=new ArrayBuffer(0);try{o.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,s,o){for(var a=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),d=n("./stream/GenericWorker"),p=new Array(256),f=0;f<256;f++)p[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;p[254]=p[254]=1;function h(){d.call(this,"utf-8 decode"),this.leftOver=null}function w(){d.call(this,"utf-8 encode")}o.utf8encode=function(b){return l.nodebuffer?c.newBufferFrom(b,"utf-8"):(function(C){var _,x,v,y,m,M=C.length,j=0;for(y=0;y<M;y++)(64512&(x=C.charCodeAt(y)))==55296&&y+1<M&&(64512&(v=C.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),y++),j+=x<128?1:x<2048?2:x<65536?3:4;for(_=l.uint8array?new Uint8Array(j):new Array(j),y=m=0;m<j;y++)(64512&(x=C.charCodeAt(y)))==55296&&y+1<M&&(64512&(v=C.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),y++),x<128?_[m++]=x:(x<2048?_[m++]=192|x>>>6:(x<65536?_[m++]=224|x>>>12:(_[m++]=240|x>>>18,_[m++]=128|x>>>12&63),_[m++]=128|x>>>6&63),_[m++]=128|63&x);return _})(b)},o.utf8decode=function(b){return l.nodebuffer?a.transformTo("nodebuffer",b).toString("utf-8"):(function(C){var _,x,v,y,m=C.length,M=new Array(2*m);for(_=x=0;_<m;)if((v=C[_++])<128)M[x++]=v;else if(4<(y=p[v]))M[x++]=65533,_+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&_<m;)v=v<<6|63&C[_++],y--;1<y?M[x++]=65533:v<65536?M[x++]=v:(v-=65536,M[x++]=55296|v>>10&1023,M[x++]=56320|1023&v)}return M.length!==x&&(M.subarray?M=M.subarray(0,x):M.length=x),a.applyFromCharCode(M)})(b=a.transformTo(l.uint8array?"uint8array":"array",b))},a.inherits(h,d),h.prototype.processChunk=function(b){var C=a.transformTo(l.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var _=C;(C=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),C.set(_,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var x=(function(y,m){var M;for((m=m||y.length)>y.length&&(m=y.length),M=m-1;0<=M&&(192&y[M])==128;)M--;return M<0||M===0?m:M+p[y[M]]>m?M:m})(C),v=C;x!==C.length&&(l.uint8array?(v=C.subarray(0,x),this.leftOver=C.subarray(x,C.length)):(v=C.slice(0,x),this.leftOver=C.slice(x,C.length))),this.push({data:o.utf8decode(v),meta:b.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=h,a.inherits(w,d),w.prototype.processChunk=function(b){this.push({data:o.utf8encode(b.data),meta:b.meta})},o.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,s,o){var a=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),d=n("./external");function p(_){return _}function f(_,x){for(var v=0;v<_.length;++v)x[v]=255&_.charCodeAt(v);return x}n("setimmediate"),o.newBlob=function(_,x){o.checkSupport("blob");try{return new Blob([_],{type:x})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(_),v.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(_,x,v){var y=[],m=0,M=_.length;if(M<=v)return String.fromCharCode.apply(null,_);for(;m<M;)x==="array"||x==="nodebuffer"?y.push(String.fromCharCode.apply(null,_.slice(m,Math.min(m+v,M)))):y.push(String.fromCharCode.apply(null,_.subarray(m,Math.min(m+v,M)))),m+=v;return y.join("")},stringifyByChar:function(_){for(var x="",v=0;v<_.length;v++)x+=String.fromCharCode(_[v]);return x},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function w(_){var x=65536,v=o.getTypeOf(_),y=!0;if(v==="uint8array"?y=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<x;)try{return h.stringifyByChunk(_,v,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(_)}function b(_,x){for(var v=0;v<_.length;v++)x[v]=_[v];return x}o.applyFromCharCode=w;var C={};C.string={string:p,array:function(_){return f(_,new Array(_.length))},arraybuffer:function(_){return C.string.uint8array(_).buffer},uint8array:function(_){return f(_,new Uint8Array(_.length))},nodebuffer:function(_){return f(_,c.allocBuffer(_.length))}},C.array={string:w,array:p,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return c.newBufferFrom(_)}},C.arraybuffer={string:function(_){return w(new Uint8Array(_))},array:function(_){return b(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:p,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return c.newBufferFrom(new Uint8Array(_))}},C.uint8array={string:w,array:function(_){return b(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:p,nodebuffer:function(_){return c.newBufferFrom(_)}},C.nodebuffer={string:w,array:function(_){return b(_,new Array(_.length))},arraybuffer:function(_){return C.nodebuffer.uint8array(_).buffer},uint8array:function(_){return b(_,new Uint8Array(_.length))},nodebuffer:p},o.transformTo=function(_,x){if(x=x||"",!_)return x;o.checkSupport(_);var v=o.getTypeOf(x);return C[v][_](x)},o.resolve=function(_){for(var x=_.split("/"),v=[],y=0;y<x.length;y++){var m=x[y];m==="."||m===""&&y!==0&&y!==x.length-1||(m===".."?v.pop():v.push(m))}return v.join("/")},o.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(_)?"nodebuffer":a.uint8array&&_ instanceof Uint8Array?"uint8array":a.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(_){if(!a[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(_){var x,v,y="";for(v=0;v<(_||"").length;v++)y+="\\x"+((x=_.charCodeAt(v))<16?"0":"")+x.toString(16).toUpperCase();return y},o.delay=function(_,x,v){setImmediate(function(){_.apply(v||null,x||[])})},o.inherits=function(_,x){function v(){}v.prototype=x.prototype,_.prototype=new v},o.extend=function(){var _,x,v={};for(_=0;_<arguments.length;_++)for(x in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],x)&&v[x]===void 0&&(v[x]=arguments[_][x]);return v},o.prepareContent=function(_,x,v,y,m){return d.Promise.resolve(x).then(function(M){return a.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new d.Promise(function(j,L){var I=new FileReader;I.onload=function(V){j(V.target.result)},I.onerror=function(V){L(V.target.error)},I.readAsArrayBuffer(M)}):M}).then(function(M){var j=o.getTypeOf(M);return j?(j==="arraybuffer"?M=o.transformTo("uint8array",M):j==="string"&&(m?M=l.decode(M):v&&y!==!0&&(M=(function(L){return f(L,a.uint8array?new Uint8Array(L.length):new Array(L.length))})(M))),M):d.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,s,o){var a=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),d=n("./zipEntry"),p=n("./support");function f(h){this.files=[],this.loadOptions=h}f.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(w)+", expected "+l.pretty(h)+")")}},isSignature:function(h,w){var b=this.reader.index;this.reader.setIndex(h);var C=this.reader.readString(4)===w;return this.reader.setIndex(b),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),w=p.uint8array?"uint8array":"array",b=l.transformTo(w,h);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,w,b,C=this.zip64EndOfCentralSize-44;0<C;)h=this.reader.readInt(2),w=this.reader.readInt(4),b=this.reader.readData(w),this.zip64ExtensibleData[h]={id:h,length:w,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,w;for(h=0;h<this.files.length;h++)w=this.files[h],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(h=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var w=h;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var C=w-b;if(0<C)this.isSignature(w,c.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,s,o){var a=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),d=n("./crc32"),p=n("./utf8"),f=n("./compressions"),h=n("./support");function w(b,C){this.options=b,this.loadOptions=C}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var C,_;if(b.skip(22),this.fileNameLength=b.readInt(2),_=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((C=(function(x){for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)&&f[v].magic===x)return f[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,C,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var C=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(C),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var C,_,x,v=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<v;)C=b.readInt(2),_=b.readInt(2),x=b.readData(_),this.extraFields[C]={id:C,length:_,value:x};b.setIndex(v)},handleUTF8:function(){var b=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var C=this.findExtraFieldUnicodePath();if(C!==null)this.fileNameStr=C;else{var _=l.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var v=l.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var C=a(b.value);return C.readInt(1)!==1||d(this.fileName)!==C.readInt(4)?null:p.utf8decode(C.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var C=a(b.value);return C.readInt(1)!==1||d(this.fileComment)!==C.readInt(4)?null:p.utf8decode(C.readData(b.length-5))}return null}},s.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,s,o){function a(C,_,x){this.name=C,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=_,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var l=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),d=n("./utf8"),p=n("./compressedObject"),f=n("./stream/GenericWorker");a.prototype={internalStream:function(C){var _=null,x="string";try{if(!C)throw new Error("No output type specified.");var v=(x=C.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),_=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(_=_.pipe(new d.Utf8EncodeWorker)),!y&&v&&(_=_.pipe(new d.Utf8DecodeWorker))}catch(m){(_=new f("error")).error(m)}return new l(_,x,"")},async:function(C,_){return this.internalStream(C).accumulate(_)},nodeStream:function(C,_){return this.internalStream(C||"nodebuffer").toNodejsStream(_)},_compressWorker:function(C,_){if(this._data instanceof p&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(x,C,_)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<h.length;b++)a.prototype[h[b]]=w;s.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,s,o){(function(a){var l,c,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var p=0,f=new d(C),h=a.document.createTextNode("");f.observe(h,{characterData:!0}),l=function(){h.data=p=++p%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var _=a.document.createElement("script");_.onreadystatechange=function(){C(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:function(){setTimeout(C,0)};else{var w=new a.MessageChannel;w.port1.onmessage=C,l=function(){w.port2.postMessage(0)}}var b=[];function C(){var _,x;c=!0;for(var v=b.length;v;){for(x=b,b=[],_=-1;++_<v;)x[_]();v=b.length}c=!1}s.exports=function(_){b.push(_)!==1||c||l()}}).call(this,typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,s,o){var a=n("immediate");function l(){}var c={},d=["REJECTED"],p=["FULFILLED"],f=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,v!==l&&_(this,v)}function w(v,y,m){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof m=="function"&&(this.onRejected=m,this.callRejected=this.otherCallRejected)}function b(v,y,m){a(function(){var M;try{M=y(m)}catch(j){return c.reject(v,j)}M===v?c.reject(v,new TypeError("Cannot resolve promise with itself")):c.resolve(v,M)})}function C(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function _(v,y){var m=!1;function M(I){m||(m=!0,c.reject(v,I))}function j(I){m||(m=!0,c.resolve(v,I))}var L=x(function(){y(j,M)});L.status==="error"&&M(L.value)}function x(v,y){var m={};try{m.value=v(y),m.status="success"}catch(M){m.status="error",m.value=M}return m}(s.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(m){return y.resolve(v()).then(function(){return m})},function(m){return y.resolve(v()).then(function(){throw m})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,y){if(typeof v!="function"&&this.state===p||typeof y!="function"&&this.state===d)return this;var m=new this.constructor(l);return this.state!==f?b(m,this.state===p?v:y,this.outcome):this.queue.push(new w(m,v,y)),m},w.prototype.callFulfilled=function(v){c.resolve(this.promise,v)},w.prototype.otherCallFulfilled=function(v){b(this.promise,this.onFulfilled,v)},w.prototype.callRejected=function(v){c.reject(this.promise,v)},w.prototype.otherCallRejected=function(v){b(this.promise,this.onRejected,v)},c.resolve=function(v,y){var m=x(C,y);if(m.status==="error")return c.reject(v,m.value);var M=m.value;if(M)_(v,M);else{v.state=p,v.outcome=y;for(var j=-1,L=v.queue.length;++j<L;)v.queue[j].callFulfilled(y)}return v},c.reject=function(v,y){v.state=d,v.outcome=y;for(var m=-1,M=v.queue.length;++m<M;)v.queue[m].callRejected(y);return v},h.resolve=function(v){return v instanceof this?v:c.resolve(new this(l),v)},h.reject=function(v){var y=new this(l);return c.reject(y,v)},h.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=v.length,M=!1;if(!m)return this.resolve([]);for(var j=new Array(m),L=0,I=-1,V=new this(l);++I<m;)Y(v[I],I);return V;function Y(Q,G){y.resolve(Q).then(function(T){j[G]=T,++L!==m||M||(M=!0,c.resolve(V,j))},function(T){M||(M=!0,c.reject(V,T))})}},h.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=v.length,M=!1;if(!m)return this.resolve([]);for(var j=-1,L=new this(l);++j<m;)I=v[j],y.resolve(I).then(function(V){M||(M=!0,c.resolve(L,V))},function(V){M||(M=!0,c.reject(L,V))});var I;return L}},{immediate:36}],38:[function(n,s,o){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),s.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,s,o){var a=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/messages"),p=n("./zlib/zstream"),f=Object.prototype.toString,h=0,w=-1,b=0,C=8;function _(v){if(!(this instanceof _))return new _(v);this.options=l.assign({level:w,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var m=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(m!==h)throw new Error(d[m]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var M;if(M=typeof y.dictionary=="string"?c.string2buf(y.dictionary):f.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(m=a.deflateSetDictionary(this.strm,M))!==h)throw new Error(d[m]);this._dict_set=!0}}function x(v,y){var m=new _(y);if(m.push(v,!0),m.err)throw m.msg||d[m.err];return m.result}_.prototype.push=function(v,y){var m,M,j=this.strm,L=this.options.chunkSize;if(this.ended)return!1;M=y===~~y?y:y===!0?4:0,typeof v=="string"?j.input=c.string2buf(v):f.call(v)==="[object ArrayBuffer]"?j.input=new Uint8Array(v):j.input=v,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new l.Buf8(L),j.next_out=0,j.avail_out=L),(m=a.deflate(j,M))!==1&&m!==h)return this.onEnd(m),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(j.output,j.next_out))):this.onData(l.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&m!==1);return M===4?(m=a.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===h):M!==2||(this.onEnd(h),!(j.avail_out=0))},_.prototype.onData=function(v){this.chunks.push(v)},_.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},o.Deflate=_,o.deflate=x,o.deflateRaw=function(v,y){return(y=y||{}).raw=!0,x(v,y)},o.gzip=function(v,y){return(y=y||{}).gzip=!0,x(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,s,o){var a=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/constants"),p=n("./zlib/messages"),f=n("./zlib/zstream"),h=n("./zlib/gzheader"),w=Object.prototype.toString;function b(_){if(!(this instanceof b))return new b(_);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},_||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||_&&_.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,x.windowBits);if(v!==d.Z_OK)throw new Error(p[v]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function C(_,x){var v=new b(x);if(v.push(_,!0),v.err)throw v.msg||p[v.err];return v.result}b.prototype.push=function(_,x){var v,y,m,M,j,L,I=this.strm,V=this.options.chunkSize,Y=this.options.dictionary,Q=!1;if(this.ended)return!1;y=x===~~x?x:x===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof _=="string"?I.input=c.binstring2buf(_):w.call(_)==="[object ArrayBuffer]"?I.input=new Uint8Array(_):I.input=_,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new l.Buf8(V),I.next_out=0,I.avail_out=V),(v=a.inflate(I,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&Y&&(L=typeof Y=="string"?c.string2buf(Y):w.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,v=a.inflateSetDictionary(this.strm,L)),v===d.Z_BUF_ERROR&&Q===!0&&(v=d.Z_OK,Q=!1),v!==d.Z_STREAM_END&&v!==d.Z_OK)return this.onEnd(v),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&v!==d.Z_STREAM_END&&(I.avail_in!==0||y!==d.Z_FINISH&&y!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(m=c.utf8border(I.output,I.next_out),M=I.next_out-m,j=c.buf2string(I.output,m),I.next_out=M,I.avail_out=V-M,M&&l.arraySet(I.output,I.output,m,M,0),this.onData(j)):this.onData(l.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(Q=!0)}while((0<I.avail_in||I.avail_out===0)&&v!==d.Z_STREAM_END);return v===d.Z_STREAM_END&&(y=d.Z_FINISH),y===d.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===d.Z_OK):y!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(I.avail_out=0))},b.prototype.onData=function(_){this.chunks.push(_)},b.prototype.onEnd=function(_){_===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},o.Inflate=b,o.inflate=C,o.inflateRaw=function(_,x){return(x=x||{}).raw=!0,C(_,x)},o.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,s,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var f=p.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])}}return d},o.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var l={arraySet:function(d,p,f,h,w){if(p.subarray&&d.subarray)d.set(p.subarray(f,f+h),w);else for(var b=0;b<h;b++)d[w+b]=p[f+b]},flattenChunks:function(d){var p,f,h,w,b,C;for(p=h=0,f=d.length;p<f;p++)h+=d[p].length;for(C=new Uint8Array(h),p=w=0,f=d.length;p<f;p++)b=d[p],C.set(b,w),w+=b.length;return C}},c={arraySet:function(d,p,f,h,w){for(var b=0;b<h;b++)d[w+b]=p[f+b]},flattenChunks:function(d){return[].concat.apply([],d)}};o.setTyped=function(d){d?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,c))},o.setTyped(a)},{}],42:[function(n,s,o){var a=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new a.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function f(h,w){if(w<65537&&(h.subarray&&c||!h.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(h,w));for(var b="",C=0;C<w;C++)b+=String.fromCharCode(h[C]);return b}d[254]=d[254]=1,o.string2buf=function(h){var w,b,C,_,x,v=h.length,y=0;for(_=0;_<v;_++)(64512&(b=h.charCodeAt(_)))==55296&&_+1<v&&(64512&(C=h.charCodeAt(_+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),_++),y+=b<128?1:b<2048?2:b<65536?3:4;for(w=new a.Buf8(y),_=x=0;x<y;_++)(64512&(b=h.charCodeAt(_)))==55296&&_+1<v&&(64512&(C=h.charCodeAt(_+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),_++),b<128?w[x++]=b:(b<2048?w[x++]=192|b>>>6:(b<65536?w[x++]=224|b>>>12:(w[x++]=240|b>>>18,w[x++]=128|b>>>12&63),w[x++]=128|b>>>6&63),w[x++]=128|63&b);return w},o.buf2binstring=function(h){return f(h,h.length)},o.binstring2buf=function(h){for(var w=new a.Buf8(h.length),b=0,C=w.length;b<C;b++)w[b]=h.charCodeAt(b);return w},o.buf2string=function(h,w){var b,C,_,x,v=w||h.length,y=new Array(2*v);for(b=C=0;b<v;)if((_=h[b++])<128)y[C++]=_;else if(4<(x=d[_]))y[C++]=65533,b+=x-1;else{for(_&=x===2?31:x===3?15:7;1<x&&b<v;)_=_<<6|63&h[b++],x--;1<x?y[C++]=65533:_<65536?y[C++]=_:(_-=65536,y[C++]=55296|_>>10&1023,y[C++]=56320|1023&_)}return f(y,C)},o.utf8border=function(h,w){var b;for((w=w||h.length)>h.length&&(w=h.length),b=w-1;0<=b&&(192&h[b])==128;)b--;return b<0||b===0?w:b+d[h[b]]>w?b:w}},{"./common":41}],43:[function(n,s,o){s.exports=function(a,l,c,d){for(var p=65535&a|0,f=a>>>16&65535|0,h=0;c!==0;){for(c-=h=2e3<c?2e3:c;f=f+(p=p+l[d++]|0)|0,--h;);p%=65521,f%=65521}return p|f<<16|0}},{}],44:[function(n,s,o){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,s,o){var a=(function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c})();s.exports=function(l,c,d,p){var f=a,h=p+d;l^=-1;for(var w=p;w<h;w++)l=l>>>8^f[255&(l^c[w])];return-1^l}},{}],46:[function(n,s,o){var a,l=n("../utils/common"),c=n("./trees"),d=n("./adler32"),p=n("./crc32"),f=n("./messages"),h=0,w=4,b=0,C=-2,_=-1,x=4,v=2,y=8,m=9,M=286,j=30,L=19,I=2*M+1,V=15,Y=3,Q=258,G=Q+Y+1,T=42,z=113,S=1,W=2,ne=3,q=4;function U(B,ve){return B.msg=f[ve],ve}function K(B){return(B<<1)-(4<B?9:0)}function X(B){for(var ve=B.length;0<=--ve;)B[ve]=0}function E(B){var ve=B.state,pe=ve.pending;pe>B.avail_out&&(pe=B.avail_out),pe!==0&&(l.arraySet(B.output,ve.pending_buf,ve.pending_out,pe,B.next_out),B.next_out+=pe,ve.pending_out+=pe,B.total_out+=pe,B.avail_out-=pe,ve.pending-=pe,ve.pending===0&&(ve.pending_out=0))}function k(B,ve){c._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ve),B.block_start=B.strstart,E(B.strm)}function O(B,ve){B.pending_buf[B.pending++]=ve}function F(B,ve){B.pending_buf[B.pending++]=ve>>>8&255,B.pending_buf[B.pending++]=255&ve}function $(B,ve){var pe,ie,se=B.max_chain_length,A=B.strstart,H=B.prev_length,be=B.nice_match,fe=B.strstart>B.w_size-G?B.strstart-(B.w_size-G):0,De=B.window,Ie=B.w_mask,Pe=B.prev,Le=B.strstart+Q,qe=De[A+H-1],Ue=De[A+H];B.prev_length>=B.good_match&&(se>>=2),be>B.lookahead&&(be=B.lookahead);do if(De[(pe=ve)+H]===Ue&&De[pe+H-1]===qe&&De[pe]===De[A]&&De[++pe]===De[A+1]){A+=2,pe++;do;while(De[++A]===De[++pe]&&De[++A]===De[++pe]&&De[++A]===De[++pe]&&De[++A]===De[++pe]&&De[++A]===De[++pe]&&De[++A]===De[++pe]&&De[++A]===De[++pe]&&De[++A]===De[++pe]&&A<Le);if(ie=Q-(Le-A),A=Le-Q,H<ie){if(B.match_start=ve,be<=(H=ie))break;qe=De[A+H-1],Ue=De[A+H]}}while((ve=Pe[ve&Ie])>fe&&--se!=0);return H<=B.lookahead?H:B.lookahead}function ae(B){var ve,pe,ie,se,A,H,be,fe,De,Ie,Pe=B.w_size;do{if(se=B.window_size-B.lookahead-B.strstart,B.strstart>=Pe+(Pe-G)){for(l.arraySet(B.window,B.window,Pe,Pe,0),B.match_start-=Pe,B.strstart-=Pe,B.block_start-=Pe,ve=pe=B.hash_size;ie=B.head[--ve],B.head[ve]=Pe<=ie?ie-Pe:0,--pe;);for(ve=pe=Pe;ie=B.prev[--ve],B.prev[ve]=Pe<=ie?ie-Pe:0,--pe;);se+=Pe}if(B.strm.avail_in===0)break;if(H=B.strm,be=B.window,fe=B.strstart+B.lookahead,De=se,Ie=void 0,Ie=H.avail_in,De<Ie&&(Ie=De),pe=Ie===0?0:(H.avail_in-=Ie,l.arraySet(be,H.input,H.next_in,Ie,fe),H.state.wrap===1?H.adler=d(H.adler,be,Ie,fe):H.state.wrap===2&&(H.adler=p(H.adler,be,Ie,fe)),H.next_in+=Ie,H.total_in+=Ie,Ie),B.lookahead+=pe,B.lookahead+B.insert>=Y)for(A=B.strstart-B.insert,B.ins_h=B.window[A],B.ins_h=(B.ins_h<<B.hash_shift^B.window[A+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[A+Y-1])&B.hash_mask,B.prev[A&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=A,A++,B.insert--,!(B.lookahead+B.insert<Y)););}while(B.lookahead<G&&B.strm.avail_in!==0)}function le(B,ve){for(var pe,ie;;){if(B.lookahead<G){if(ae(B),B.lookahead<G&&ve===h)return S;if(B.lookahead===0)break}if(pe=0,B.lookahead>=Y&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+Y-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),pe!==0&&B.strstart-pe<=B.w_size-G&&(B.match_length=$(B,pe)),B.match_length>=Y)if(ie=c._tr_tally(B,B.strstart-B.match_start,B.match_length-Y),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=Y){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+Y-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else ie=c._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(ie&&(k(B,!1),B.strm.avail_out===0))return S}return B.insert=B.strstart<Y-1?B.strstart:Y-1,ve===w?(k(B,!0),B.strm.avail_out===0?ne:q):B.last_lit&&(k(B,!1),B.strm.avail_out===0)?S:W}function te(B,ve){for(var pe,ie,se;;){if(B.lookahead<G){if(ae(B),B.lookahead<G&&ve===h)return S;if(B.lookahead===0)break}if(pe=0,B.lookahead>=Y&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+Y-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=Y-1,pe!==0&&B.prev_length<B.max_lazy_match&&B.strstart-pe<=B.w_size-G&&(B.match_length=$(B,pe),B.match_length<=5&&(B.strategy===1||B.match_length===Y&&4096<B.strstart-B.match_start)&&(B.match_length=Y-1)),B.prev_length>=Y&&B.match_length<=B.prev_length){for(se=B.strstart+B.lookahead-Y,ie=c._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-Y),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=se&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+Y-1])&B.hash_mask,pe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=Y-1,B.strstart++,ie&&(k(B,!1),B.strm.avail_out===0))return S}else if(B.match_available){if((ie=c._tr_tally(B,0,B.window[B.strstart-1]))&&k(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return S}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(ie=c._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<Y-1?B.strstart:Y-1,ve===w?(k(B,!0),B.strm.avail_out===0?ne:q):B.last_lit&&(k(B,!1),B.strm.avail_out===0)?S:W}function ce(B,ve,pe,ie,se){this.good_length=B,this.max_lazy=ve,this.nice_length=pe,this.max_chain=ie,this.func=se}function we(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*I),this.dyn_dtree=new l.Buf16(2*(2*j+1)),this.bl_tree=new l.Buf16(2*(2*L+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(V+1),this.heap=new l.Buf16(2*M+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*M+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ce(B){var ve;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=v,(ve=B.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?T:z,B.adler=ve.wrap===2?0:1,ve.last_flush=h,c._tr_init(ve),b):U(B,C)}function je(B){var ve=Ce(B);return ve===b&&(function(pe){pe.window_size=2*pe.w_size,X(pe.head),pe.max_lazy_match=a[pe.level].max_lazy,pe.good_match=a[pe.level].good_length,pe.nice_match=a[pe.level].nice_length,pe.max_chain_length=a[pe.level].max_chain,pe.strstart=0,pe.block_start=0,pe.lookahead=0,pe.insert=0,pe.match_length=pe.prev_length=Y-1,pe.match_available=0,pe.ins_h=0})(B.state),ve}function Ve(B,ve,pe,ie,se,A){if(!B)return C;var H=1;if(ve===_&&(ve=6),ie<0?(H=0,ie=-ie):15<ie&&(H=2,ie-=16),se<1||m<se||pe!==y||ie<8||15<ie||ve<0||9<ve||A<0||x<A)return U(B,C);ie===8&&(ie=9);var be=new we;return(B.state=be).strm=B,be.wrap=H,be.gzhead=null,be.w_bits=ie,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=se+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+Y-1)/Y),be.window=new l.Buf8(2*be.w_size),be.head=new l.Buf16(be.hash_size),be.prev=new l.Buf16(be.w_size),be.lit_bufsize=1<<se+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new l.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=ve,be.strategy=A,be.method=pe,je(B)}a=[new ce(0,0,0,0,function(B,ve){var pe=65535;for(pe>B.pending_buf_size-5&&(pe=B.pending_buf_size-5);;){if(B.lookahead<=1){if(ae(B),B.lookahead===0&&ve===h)return S;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var ie=B.block_start+pe;if((B.strstart===0||B.strstart>=ie)&&(B.lookahead=B.strstart-ie,B.strstart=ie,k(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-G&&(k(B,!1),B.strm.avail_out===0))return S}return B.insert=0,ve===w?(k(B,!0),B.strm.avail_out===0?ne:q):(B.strstart>B.block_start&&(k(B,!1),B.strm.avail_out),S)}),new ce(4,4,8,4,le),new ce(4,5,16,8,le),new ce(4,6,32,32,le),new ce(4,4,16,16,te),new ce(8,16,32,32,te),new ce(8,16,128,128,te),new ce(8,32,128,256,te),new ce(32,128,258,1024,te),new ce(32,258,258,4096,te)],o.deflateInit=function(B,ve){return Ve(B,ve,y,15,8,0)},o.deflateInit2=Ve,o.deflateReset=je,o.deflateResetKeep=Ce,o.deflateSetHeader=function(B,ve){return B&&B.state?B.state.wrap!==2?C:(B.state.gzhead=ve,b):C},o.deflate=function(B,ve){var pe,ie,se,A;if(!B||!B.state||5<ve||ve<0)return B?U(B,C):C;if(ie=B.state,!B.output||!B.input&&B.avail_in!==0||ie.status===666&&ve!==w)return U(B,B.avail_out===0?-5:C);if(ie.strm=B,pe=ie.last_flush,ie.last_flush=ve,ie.status===T)if(ie.wrap===2)B.adler=0,O(ie,31),O(ie,139),O(ie,8),ie.gzhead?(O(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),O(ie,255&ie.gzhead.time),O(ie,ie.gzhead.time>>8&255),O(ie,ie.gzhead.time>>16&255),O(ie,ie.gzhead.time>>24&255),O(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),O(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(O(ie,255&ie.gzhead.extra.length),O(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(B.adler=p(B.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(O(ie,0),O(ie,0),O(ie,0),O(ie,0),O(ie,0),O(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),O(ie,3),ie.status=z);else{var H=y+(ie.w_bits-8<<4)<<8;H|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(H|=32),H+=31-H%31,ie.status=z,F(ie,H),ie.strstart!==0&&(F(ie,B.adler>>>16),F(ie,65535&B.adler)),B.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(se=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>se&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-se,se)),E(B),se=ie.pending,ie.pending!==ie.pending_buf_size));)O(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>se&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-se,se)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){se=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>se&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-se,se)),E(B),se=ie.pending,ie.pending===ie.pending_buf_size)){A=1;break}A=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,O(ie,A)}while(A!==0);ie.gzhead.hcrc&&ie.pending>se&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-se,se)),A===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){se=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>se&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-se,se)),E(B),se=ie.pending,ie.pending===ie.pending_buf_size)){A=1;break}A=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,O(ie,A)}while(A!==0);ie.gzhead.hcrc&&ie.pending>se&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-se,se)),A===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&E(B),ie.pending+2<=ie.pending_buf_size&&(O(ie,255&B.adler),O(ie,B.adler>>8&255),B.adler=0,ie.status=z)):ie.status=z),ie.pending!==0){if(E(B),B.avail_out===0)return ie.last_flush=-1,b}else if(B.avail_in===0&&K(ve)<=K(pe)&&ve!==w)return U(B,-5);if(ie.status===666&&B.avail_in!==0)return U(B,-5);if(B.avail_in!==0||ie.lookahead!==0||ve!==h&&ie.status!==666){var be=ie.strategy===2?(function(fe,De){for(var Ie;;){if(fe.lookahead===0&&(ae(fe),fe.lookahead===0)){if(De===h)return S;break}if(fe.match_length=0,Ie=c._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,Ie&&(k(fe,!1),fe.strm.avail_out===0))return S}return fe.insert=0,De===w?(k(fe,!0),fe.strm.avail_out===0?ne:q):fe.last_lit&&(k(fe,!1),fe.strm.avail_out===0)?S:W})(ie,ve):ie.strategy===3?(function(fe,De){for(var Ie,Pe,Le,qe,Ue=fe.window;;){if(fe.lookahead<=Q){if(ae(fe),fe.lookahead<=Q&&De===h)return S;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=Y&&0<fe.strstart&&(Pe=Ue[Le=fe.strstart-1])===Ue[++Le]&&Pe===Ue[++Le]&&Pe===Ue[++Le]){qe=fe.strstart+Q;do;while(Pe===Ue[++Le]&&Pe===Ue[++Le]&&Pe===Ue[++Le]&&Pe===Ue[++Le]&&Pe===Ue[++Le]&&Pe===Ue[++Le]&&Pe===Ue[++Le]&&Pe===Ue[++Le]&&Le<qe);fe.match_length=Q-(qe-Le),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=Y?(Ie=c._tr_tally(fe,1,fe.match_length-Y),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(Ie=c._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),Ie&&(k(fe,!1),fe.strm.avail_out===0))return S}return fe.insert=0,De===w?(k(fe,!0),fe.strm.avail_out===0?ne:q):fe.last_lit&&(k(fe,!1),fe.strm.avail_out===0)?S:W})(ie,ve):a[ie.level].func(ie,ve);if(be!==ne&&be!==q||(ie.status=666),be===S||be===ne)return B.avail_out===0&&(ie.last_flush=-1),b;if(be===W&&(ve===1?c._tr_align(ie):ve!==5&&(c._tr_stored_block(ie,0,0,!1),ve===3&&(X(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),E(B),B.avail_out===0))return ie.last_flush=-1,b}return ve!==w?b:ie.wrap<=0?1:(ie.wrap===2?(O(ie,255&B.adler),O(ie,B.adler>>8&255),O(ie,B.adler>>16&255),O(ie,B.adler>>24&255),O(ie,255&B.total_in),O(ie,B.total_in>>8&255),O(ie,B.total_in>>16&255),O(ie,B.total_in>>24&255)):(F(ie,B.adler>>>16),F(ie,65535&B.adler)),E(B),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?b:1)},o.deflateEnd=function(B){var ve;return B&&B.state?(ve=B.state.status)!==T&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==z&&ve!==666?U(B,C):(B.state=null,ve===z?U(B,-3):b):C},o.deflateSetDictionary=function(B,ve){var pe,ie,se,A,H,be,fe,De,Ie=ve.length;if(!B||!B.state||(A=(pe=B.state).wrap)===2||A===1&&pe.status!==T||pe.lookahead)return C;for(A===1&&(B.adler=d(B.adler,ve,Ie,0)),pe.wrap=0,Ie>=pe.w_size&&(A===0&&(X(pe.head),pe.strstart=0,pe.block_start=0,pe.insert=0),De=new l.Buf8(pe.w_size),l.arraySet(De,ve,Ie-pe.w_size,pe.w_size,0),ve=De,Ie=pe.w_size),H=B.avail_in,be=B.next_in,fe=B.input,B.avail_in=Ie,B.next_in=0,B.input=ve,ae(pe);pe.lookahead>=Y;){for(ie=pe.strstart,se=pe.lookahead-(Y-1);pe.ins_h=(pe.ins_h<<pe.hash_shift^pe.window[ie+Y-1])&pe.hash_mask,pe.prev[ie&pe.w_mask]=pe.head[pe.ins_h],pe.head[pe.ins_h]=ie,ie++,--se;);pe.strstart=ie,pe.lookahead=Y-1,ae(pe)}return pe.strstart+=pe.lookahead,pe.block_start=pe.strstart,pe.insert=pe.lookahead,pe.lookahead=0,pe.match_length=pe.prev_length=Y-1,pe.match_available=0,B.next_in=be,B.input=fe,B.avail_in=H,pe.wrap=A,b},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,s,o){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,s,o){s.exports=function(a,l){var c,d,p,f,h,w,b,C,_,x,v,y,m,M,j,L,I,V,Y,Q,G,T,z,S,W;c=a.state,d=a.next_in,S=a.input,p=d+(a.avail_in-5),f=a.next_out,W=a.output,h=f-(l-a.avail_out),w=f+(a.avail_out-257),b=c.dmax,C=c.wsize,_=c.whave,x=c.wnext,v=c.window,y=c.hold,m=c.bits,M=c.lencode,j=c.distcode,L=(1<<c.lenbits)-1,I=(1<<c.distbits)-1;e:do{m<15&&(y+=S[d++]<<m,m+=8,y+=S[d++]<<m,m+=8),V=M[y&L];t:for(;;){if(y>>>=Y=V>>>24,m-=Y,(Y=V>>>16&255)===0)W[f++]=65535&V;else{if(!(16&Y)){if((64&Y)==0){V=M[(65535&V)+(y&(1<<Y)-1)];continue t}if(32&Y){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}Q=65535&V,(Y&=15)&&(m<Y&&(y+=S[d++]<<m,m+=8),Q+=y&(1<<Y)-1,y>>>=Y,m-=Y),m<15&&(y+=S[d++]<<m,m+=8,y+=S[d++]<<m,m+=8),V=j[y&I];n:for(;;){if(y>>>=Y=V>>>24,m-=Y,!(16&(Y=V>>>16&255))){if((64&Y)==0){V=j[(65535&V)+(y&(1<<Y)-1)];continue n}a.msg="invalid distance code",c.mode=30;break e}if(G=65535&V,m<(Y&=15)&&(y+=S[d++]<<m,(m+=8)<Y&&(y+=S[d++]<<m,m+=8)),b<(G+=y&(1<<Y)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(y>>>=Y,m-=Y,(Y=f-h)<G){if(_<(Y=G-Y)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(z=v,(T=0)===x){if(T+=C-Y,Y<Q){for(Q-=Y;W[f++]=v[T++],--Y;);T=f-G,z=W}}else if(x<Y){if(T+=C+x-Y,(Y-=x)<Q){for(Q-=Y;W[f++]=v[T++],--Y;);if(T=0,x<Q){for(Q-=Y=x;W[f++]=v[T++],--Y;);T=f-G,z=W}}}else if(T+=x-Y,Y<Q){for(Q-=Y;W[f++]=v[T++],--Y;);T=f-G,z=W}for(;2<Q;)W[f++]=z[T++],W[f++]=z[T++],W[f++]=z[T++],Q-=3;Q&&(W[f++]=z[T++],1<Q&&(W[f++]=z[T++]))}else{for(T=f-G;W[f++]=W[T++],W[f++]=W[T++],W[f++]=W[T++],2<(Q-=3););Q&&(W[f++]=W[T++],1<Q&&(W[f++]=W[T++]))}break}}break}}while(d<p&&f<w);d-=Q=m>>3,y&=(1<<(m-=Q<<3))-1,a.next_in=d,a.next_out=f,a.avail_in=d<p?p-d+5:5-(d-p),a.avail_out=f<w?w-f+257:257-(f-w),c.hold=y,c.bits=m}},{}],49:[function(n,s,o){var a=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),d=n("./inffast"),p=n("./inftrees"),f=1,h=2,w=0,b=-2,C=1,_=852,x=592;function v(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(T){var z;return T&&T.state?(z=T.state,T.total_in=T.total_out=z.total=0,T.msg="",z.wrap&&(T.adler=1&z.wrap),z.mode=C,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new a.Buf32(_),z.distcode=z.distdyn=new a.Buf32(x),z.sane=1,z.back=-1,w):b}function M(T){var z;return T&&T.state?((z=T.state).wsize=0,z.whave=0,z.wnext=0,m(T)):b}function j(T,z){var S,W;return T&&T.state?(W=T.state,z<0?(S=0,z=-z):(S=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?b:(W.window!==null&&W.wbits!==z&&(W.window=null),W.wrap=S,W.wbits=z,M(T))):b}function L(T,z){var S,W;return T?(W=new y,(T.state=W).window=null,(S=j(T,z))!==w&&(T.state=null),S):b}var I,V,Y=!0;function Q(T){if(Y){var z;for(I=new a.Buf32(512),V=new a.Buf32(32),z=0;z<144;)T.lens[z++]=8;for(;z<256;)T.lens[z++]=9;for(;z<280;)T.lens[z++]=7;for(;z<288;)T.lens[z++]=8;for(p(f,T.lens,0,288,I,0,T.work,{bits:9}),z=0;z<32;)T.lens[z++]=5;p(h,T.lens,0,32,V,0,T.work,{bits:5}),Y=!1}T.lencode=I,T.lenbits=9,T.distcode=V,T.distbits=5}function G(T,z,S,W){var ne,q=T.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new a.Buf8(q.wsize)),W>=q.wsize?(a.arraySet(q.window,z,S-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(W<(ne=q.wsize-q.wnext)&&(ne=W),a.arraySet(q.window,z,S-W,ne,q.wnext),(W-=ne)?(a.arraySet(q.window,z,S-W,W,0),q.wnext=W,q.whave=q.wsize):(q.wnext+=ne,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=ne))),0}o.inflateReset=M,o.inflateReset2=j,o.inflateResetKeep=m,o.inflateInit=function(T){return L(T,15)},o.inflateInit2=L,o.inflate=function(T,z){var S,W,ne,q,U,K,X,E,k,O,F,$,ae,le,te,ce,we,Ce,je,Ve,B,ve,pe,ie,se=0,A=new a.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return b;(S=T.state).mode===12&&(S.mode=13),U=T.next_out,ne=T.output,X=T.avail_out,q=T.next_in,W=T.input,K=T.avail_in,E=S.hold,k=S.bits,O=K,F=X,ve=w;e:for(;;)switch(S.mode){case C:if(S.wrap===0){S.mode=13;break}for(;k<16;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(2&S.wrap&&E===35615){A[S.check=0]=255&E,A[1]=E>>>8&255,S.check=c(S.check,A,2,0),k=E=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&E)<<8)+(E>>8))%31){T.msg="incorrect header check",S.mode=30;break}if((15&E)!=8){T.msg="unknown compression method",S.mode=30;break}if(k-=4,B=8+(15&(E>>>=4)),S.wbits===0)S.wbits=B;else if(B>S.wbits){T.msg="invalid window size",S.mode=30;break}S.dmax=1<<B,T.adler=S.check=1,S.mode=512&E?10:12,k=E=0;break;case 2:for(;k<16;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(S.flags=E,(255&S.flags)!=8){T.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){T.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=E>>8&1),512&S.flags&&(A[0]=255&E,A[1]=E>>>8&255,S.check=c(S.check,A,2,0)),k=E=0,S.mode=3;case 3:for(;k<32;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}S.head&&(S.head.time=E),512&S.flags&&(A[0]=255&E,A[1]=E>>>8&255,A[2]=E>>>16&255,A[3]=E>>>24&255,S.check=c(S.check,A,4,0)),k=E=0,S.mode=4;case 4:for(;k<16;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}S.head&&(S.head.xflags=255&E,S.head.os=E>>8),512&S.flags&&(A[0]=255&E,A[1]=E>>>8&255,S.check=c(S.check,A,2,0)),k=E=0,S.mode=5;case 5:if(1024&S.flags){for(;k<16;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}S.length=E,S.head&&(S.head.extra_len=E),512&S.flags&&(A[0]=255&E,A[1]=E>>>8&255,S.check=c(S.check,A,2,0)),k=E=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(K<($=S.length)&&($=K),$&&(S.head&&(B=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),a.arraySet(S.head.extra,W,q,$,B)),512&S.flags&&(S.check=c(S.check,W,$,q)),K-=$,q+=$,S.length-=$),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(K===0)break e;for($=0;B=W[q+$++],S.head&&B&&S.length<65536&&(S.head.name+=String.fromCharCode(B)),B&&$<K;);if(512&S.flags&&(S.check=c(S.check,W,$,q)),K-=$,q+=$,B)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(K===0)break e;for($=0;B=W[q+$++],S.head&&B&&S.length<65536&&(S.head.comment+=String.fromCharCode(B)),B&&$<K;);if(512&S.flags&&(S.check=c(S.check,W,$,q)),K-=$,q+=$,B)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;k<16;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(E!==(65535&S.check)){T.msg="header crc mismatch",S.mode=30;break}k=E=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),T.adler=S.check=0,S.mode=12;break;case 10:for(;k<32;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}T.adler=S.check=v(E),k=E=0,S.mode=11;case 11:if(S.havedict===0)return T.next_out=U,T.avail_out=X,T.next_in=q,T.avail_in=K,S.hold=E,S.bits=k,2;T.adler=S.check=1,S.mode=12;case 12:if(z===5||z===6)break e;case 13:if(S.last){E>>>=7&k,k-=7&k,S.mode=27;break}for(;k<3;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}switch(S.last=1&E,k-=1,3&(E>>>=1)){case 0:S.mode=14;break;case 1:if(Q(S),S.mode=20,z!==6)break;E>>>=2,k-=2;break e;case 2:S.mode=17;break;case 3:T.msg="invalid block type",S.mode=30}E>>>=2,k-=2;break;case 14:for(E>>>=7&k,k-=7&k;k<32;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if((65535&E)!=(E>>>16^65535)){T.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&E,k=E=0,S.mode=15,z===6)break e;case 15:S.mode=16;case 16:if($=S.length){if(K<$&&($=K),X<$&&($=X),$===0)break e;a.arraySet(ne,W,q,$,U),K-=$,q+=$,X-=$,U+=$,S.length-=$;break}S.mode=12;break;case 17:for(;k<14;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(S.nlen=257+(31&E),E>>>=5,k-=5,S.ndist=1+(31&E),E>>>=5,k-=5,S.ncode=4+(15&E),E>>>=4,k-=4,286<S.nlen||30<S.ndist){T.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;k<3;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}S.lens[H[S.have++]]=7&E,E>>>=3,k-=3}for(;S.have<19;)S.lens[H[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,pe={bits:S.lenbits},ve=p(0,S.lens,0,19,S.lencode,0,S.work,pe),S.lenbits=pe.bits,ve){T.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ce=(se=S.lencode[E&(1<<S.lenbits)-1])>>>16&255,we=65535&se,!((te=se>>>24)<=k);){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(we<16)E>>>=te,k-=te,S.lens[S.have++]=we;else{if(we===16){for(ie=te+2;k<ie;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(E>>>=te,k-=te,S.have===0){T.msg="invalid bit length repeat",S.mode=30;break}B=S.lens[S.have-1],$=3+(3&E),E>>>=2,k-=2}else if(we===17){for(ie=te+3;k<ie;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}k-=te,B=0,$=3+(7&(E>>>=te)),E>>>=3,k-=3}else{for(ie=te+7;k<ie;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}k-=te,B=0,$=11+(127&(E>>>=te)),E>>>=7,k-=7}if(S.have+$>S.nlen+S.ndist){T.msg="invalid bit length repeat",S.mode=30;break}for(;$--;)S.lens[S.have++]=B}}if(S.mode===30)break;if(S.lens[256]===0){T.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,pe={bits:S.lenbits},ve=p(f,S.lens,0,S.nlen,S.lencode,0,S.work,pe),S.lenbits=pe.bits,ve){T.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,pe={bits:S.distbits},ve=p(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,pe),S.distbits=pe.bits,ve){T.msg="invalid distances set",S.mode=30;break}if(S.mode=20,z===6)break e;case 20:S.mode=21;case 21:if(6<=K&&258<=X){T.next_out=U,T.avail_out=X,T.next_in=q,T.avail_in=K,S.hold=E,S.bits=k,d(T,F),U=T.next_out,ne=T.output,X=T.avail_out,q=T.next_in,W=T.input,K=T.avail_in,E=S.hold,k=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ce=(se=S.lencode[E&(1<<S.lenbits)-1])>>>16&255,we=65535&se,!((te=se>>>24)<=k);){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(ce&&(240&ce)==0){for(Ce=te,je=ce,Ve=we;ce=(se=S.lencode[Ve+((E&(1<<Ce+je)-1)>>Ce)])>>>16&255,we=65535&se,!(Ce+(te=se>>>24)<=k);){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}E>>>=Ce,k-=Ce,S.back+=Ce}if(E>>>=te,k-=te,S.back+=te,S.length=we,ce===0){S.mode=26;break}if(32&ce){S.back=-1,S.mode=12;break}if(64&ce){T.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ce,S.mode=22;case 22:if(S.extra){for(ie=S.extra;k<ie;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}S.length+=E&(1<<S.extra)-1,E>>>=S.extra,k-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ce=(se=S.distcode[E&(1<<S.distbits)-1])>>>16&255,we=65535&se,!((te=se>>>24)<=k);){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if((240&ce)==0){for(Ce=te,je=ce,Ve=we;ce=(se=S.distcode[Ve+((E&(1<<Ce+je)-1)>>Ce)])>>>16&255,we=65535&se,!(Ce+(te=se>>>24)<=k);){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}E>>>=Ce,k-=Ce,S.back+=Ce}if(E>>>=te,k-=te,S.back+=te,64&ce){T.msg="invalid distance code",S.mode=30;break}S.offset=we,S.extra=15&ce,S.mode=24;case 24:if(S.extra){for(ie=S.extra;k<ie;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}S.offset+=E&(1<<S.extra)-1,E>>>=S.extra,k-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){T.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(X===0)break e;if($=F-X,S.offset>$){if(($=S.offset-$)>S.whave&&S.sane){T.msg="invalid distance too far back",S.mode=30;break}ae=$>S.wnext?($-=S.wnext,S.wsize-$):S.wnext-$,$>S.length&&($=S.length),le=S.window}else le=ne,ae=U-S.offset,$=S.length;for(X<$&&($=X),X-=$,S.length-=$;ne[U++]=le[ae++],--$;);S.length===0&&(S.mode=21);break;case 26:if(X===0)break e;ne[U++]=S.length,X--,S.mode=21;break;case 27:if(S.wrap){for(;k<32;){if(K===0)break e;K--,E|=W[q++]<<k,k+=8}if(F-=X,T.total_out+=F,S.total+=F,F&&(T.adler=S.check=S.flags?c(S.check,ne,F,U-F):l(S.check,ne,F,U-F)),F=X,(S.flags?E:v(E))!==S.check){T.msg="incorrect data check",S.mode=30;break}k=E=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;k<32;){if(K===0)break e;K--,E+=W[q++]<<k,k+=8}if(E!==(4294967295&S.total)){T.msg="incorrect length check",S.mode=30;break}k=E=0}S.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;default:return b}return T.next_out=U,T.avail_out=X,T.next_in=q,T.avail_in=K,S.hold=E,S.bits=k,(S.wsize||F!==T.avail_out&&S.mode<30&&(S.mode<27||z!==4))&&G(T,T.output,T.next_out,F-T.avail_out)?(S.mode=31,-4):(O-=T.avail_in,F-=T.avail_out,T.total_in+=O,T.total_out+=F,S.total+=F,S.wrap&&F&&(T.adler=S.check=S.flags?c(S.check,ne,F,T.next_out-F):l(S.check,ne,F,T.next_out-F)),T.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(O==0&&F===0||z===4)&&ve===w&&(ve=-5),ve)},o.inflateEnd=function(T){if(!T||!T.state)return b;var z=T.state;return z.window&&(z.window=null),T.state=null,w},o.inflateGetHeader=function(T,z){var S;return T&&T.state?(2&(S=T.state).wrap)==0?b:((S.head=z).done=!1,w):b},o.inflateSetDictionary=function(T,z){var S,W=z.length;return T&&T.state?(S=T.state).wrap!==0&&S.mode!==11?b:S.mode===11&&l(1,z,W,0)!==S.check?-3:G(T,z,W,W)?(S.mode=31,-4):(S.havedict=1,w):b},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,s,o){var a=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(f,h,w,b,C,_,x,v){var y,m,M,j,L,I,V,Y,Q,G=v.bits,T=0,z=0,S=0,W=0,ne=0,q=0,U=0,K=0,X=0,E=0,k=null,O=0,F=new a.Buf16(16),$=new a.Buf16(16),ae=null,le=0;for(T=0;T<=15;T++)F[T]=0;for(z=0;z<b;z++)F[h[w+z]]++;for(ne=G,W=15;1<=W&&F[W]===0;W--);if(W<ne&&(ne=W),W===0)return C[_++]=20971520,C[_++]=20971520,v.bits=1,0;for(S=1;S<W&&F[S]===0;S++);for(ne<S&&(ne=S),T=K=1;T<=15;T++)if(K<<=1,(K-=F[T])<0)return-1;if(0<K&&(f===0||W!==1))return-1;for($[1]=0,T=1;T<15;T++)$[T+1]=$[T]+F[T];for(z=0;z<b;z++)h[w+z]!==0&&(x[$[h[w+z]]++]=z);if(I=f===0?(k=ae=x,19):f===1?(k=l,O-=257,ae=c,le-=257,256):(k=d,ae=p,-1),T=S,L=_,U=z=E=0,M=-1,j=(X=1<<(q=ne))-1,f===1&&852<X||f===2&&592<X)return 1;for(;;){for(V=T-U,Q=x[z]<I?(Y=0,x[z]):x[z]>I?(Y=ae[le+x[z]],k[O+x[z]]):(Y=96,0),y=1<<T-U,S=m=1<<q;C[L+(E>>U)+(m-=y)]=V<<24|Y<<16|Q|0,m!==0;);for(y=1<<T-1;E&y;)y>>=1;if(y!==0?(E&=y-1,E+=y):E=0,z++,--F[T]==0){if(T===W)break;T=h[w+x[z]]}if(ne<T&&(E&j)!==M){for(U===0&&(U=ne),L+=S,K=1<<(q=T-U);q+U<W&&!((K-=F[q+U])<=0);)q++,K<<=1;if(X+=1<<q,f===1&&852<X||f===2&&592<X)return 1;C[M=E&j]=ne<<24|q<<16|L-_|0}}return E!==0&&(C[L+E]=T-U<<24|64<<16|0),v.bits=ne,0}},{"../utils/common":41}],51:[function(n,s,o){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,s,o){var a=n("../utils/common"),l=0,c=1;function d(se){for(var A=se.length;0<=--A;)se[A]=0}var p=0,f=29,h=256,w=h+1+f,b=30,C=19,_=2*w+1,x=15,v=16,y=7,m=256,M=16,j=17,L=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(w+2));d(G);var T=new Array(2*b);d(T);var z=new Array(512);d(z);var S=new Array(256);d(S);var W=new Array(f);d(W);var ne,q,U,K=new Array(b);function X(se,A,H,be,fe){this.static_tree=se,this.extra_bits=A,this.extra_base=H,this.elems=be,this.max_length=fe,this.has_stree=se&&se.length}function E(se,A){this.dyn_tree=se,this.max_code=0,this.stat_desc=A}function k(se){return se<256?z[se]:z[256+(se>>>7)]}function O(se,A){se.pending_buf[se.pending++]=255&A,se.pending_buf[se.pending++]=A>>>8&255}function F(se,A,H){se.bi_valid>v-H?(se.bi_buf|=A<<se.bi_valid&65535,O(se,se.bi_buf),se.bi_buf=A>>v-se.bi_valid,se.bi_valid+=H-v):(se.bi_buf|=A<<se.bi_valid&65535,se.bi_valid+=H)}function $(se,A,H){F(se,H[2*A],H[2*A+1])}function ae(se,A){for(var H=0;H|=1&se,se>>>=1,H<<=1,0<--A;);return H>>>1}function le(se,A,H){var be,fe,De=new Array(x+1),Ie=0;for(be=1;be<=x;be++)De[be]=Ie=Ie+H[be-1]<<1;for(fe=0;fe<=A;fe++){var Pe=se[2*fe+1];Pe!==0&&(se[2*fe]=ae(De[Pe]++,Pe))}}function te(se){var A;for(A=0;A<w;A++)se.dyn_ltree[2*A]=0;for(A=0;A<b;A++)se.dyn_dtree[2*A]=0;for(A=0;A<C;A++)se.bl_tree[2*A]=0;se.dyn_ltree[2*m]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function ce(se){8<se.bi_valid?O(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function we(se,A,H,be){var fe=2*A,De=2*H;return se[fe]<se[De]||se[fe]===se[De]&&be[A]<=be[H]}function Ce(se,A,H){for(var be=se.heap[H],fe=H<<1;fe<=se.heap_len&&(fe<se.heap_len&&we(A,se.heap[fe+1],se.heap[fe],se.depth)&&fe++,!we(A,be,se.heap[fe],se.depth));)se.heap[H]=se.heap[fe],H=fe,fe<<=1;se.heap[H]=be}function je(se,A,H){var be,fe,De,Ie,Pe=0;if(se.last_lit!==0)for(;be=se.pending_buf[se.d_buf+2*Pe]<<8|se.pending_buf[se.d_buf+2*Pe+1],fe=se.pending_buf[se.l_buf+Pe],Pe++,be===0?$(se,fe,A):($(se,(De=S[fe])+h+1,A),(Ie=I[De])!==0&&F(se,fe-=W[De],Ie),$(se,De=k(--be),H),(Ie=V[De])!==0&&F(se,be-=K[De],Ie)),Pe<se.last_lit;);$(se,m,A)}function Ve(se,A){var H,be,fe,De=A.dyn_tree,Ie=A.stat_desc.static_tree,Pe=A.stat_desc.has_stree,Le=A.stat_desc.elems,qe=-1;for(se.heap_len=0,se.heap_max=_,H=0;H<Le;H++)De[2*H]!==0?(se.heap[++se.heap_len]=qe=H,se.depth[H]=0):De[2*H+1]=0;for(;se.heap_len<2;)De[2*(fe=se.heap[++se.heap_len]=qe<2?++qe:0)]=1,se.depth[fe]=0,se.opt_len--,Pe&&(se.static_len-=Ie[2*fe+1]);for(A.max_code=qe,H=se.heap_len>>1;1<=H;H--)Ce(se,De,H);for(fe=Le;H=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Ce(se,De,1),be=se.heap[1],se.heap[--se.heap_max]=H,se.heap[--se.heap_max]=be,De[2*fe]=De[2*H]+De[2*be],se.depth[fe]=(se.depth[H]>=se.depth[be]?se.depth[H]:se.depth[be])+1,De[2*H+1]=De[2*be+1]=fe,se.heap[1]=fe++,Ce(se,De,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],(function(Ue,Ee){var tt,ct,J,ee,oe,ue,he=Ee.dyn_tree,re=Ee.max_code,ye=Ee.stat_desc.static_tree,Se=Ee.stat_desc.has_stree,ge=Ee.stat_desc.extra_bits,Te=Ee.stat_desc.extra_base,xe=Ee.stat_desc.max_length,Me=0;for(ee=0;ee<=x;ee++)Ue.bl_count[ee]=0;for(he[2*Ue.heap[Ue.heap_max]+1]=0,tt=Ue.heap_max+1;tt<_;tt++)xe<(ee=he[2*he[2*(ct=Ue.heap[tt])+1]+1]+1)&&(ee=xe,Me++),he[2*ct+1]=ee,re<ct||(Ue.bl_count[ee]++,oe=0,Te<=ct&&(oe=ge[ct-Te]),ue=he[2*ct],Ue.opt_len+=ue*(ee+oe),Se&&(Ue.static_len+=ue*(ye[2*ct+1]+oe)));if(Me!==0){do{for(ee=xe-1;Ue.bl_count[ee]===0;)ee--;Ue.bl_count[ee]--,Ue.bl_count[ee+1]+=2,Ue.bl_count[xe]--,Me-=2}while(0<Me);for(ee=xe;ee!==0;ee--)for(ct=Ue.bl_count[ee];ct!==0;)re<(J=Ue.heap[--tt])||(he[2*J+1]!==ee&&(Ue.opt_len+=(ee-he[2*J+1])*he[2*J],he[2*J+1]=ee),ct--)}})(se,A),le(De,qe,se.bl_count)}function B(se,A,H){var be,fe,De=-1,Ie=A[1],Pe=0,Le=7,qe=4;for(Ie===0&&(Le=138,qe=3),A[2*(H+1)+1]=65535,be=0;be<=H;be++)fe=Ie,Ie=A[2*(be+1)+1],++Pe<Le&&fe===Ie||(Pe<qe?se.bl_tree[2*fe]+=Pe:fe!==0?(fe!==De&&se.bl_tree[2*fe]++,se.bl_tree[2*M]++):Pe<=10?se.bl_tree[2*j]++:se.bl_tree[2*L]++,De=fe,qe=(Pe=0)===Ie?(Le=138,3):fe===Ie?(Le=6,3):(Le=7,4))}function ve(se,A,H){var be,fe,De=-1,Ie=A[1],Pe=0,Le=7,qe=4;for(Ie===0&&(Le=138,qe=3),be=0;be<=H;be++)if(fe=Ie,Ie=A[2*(be+1)+1],!(++Pe<Le&&fe===Ie)){if(Pe<qe)for(;$(se,fe,se.bl_tree),--Pe!=0;);else fe!==0?(fe!==De&&($(se,fe,se.bl_tree),Pe--),$(se,M,se.bl_tree),F(se,Pe-3,2)):Pe<=10?($(se,j,se.bl_tree),F(se,Pe-3,3)):($(se,L,se.bl_tree),F(se,Pe-11,7));De=fe,qe=(Pe=0)===Ie?(Le=138,3):fe===Ie?(Le=6,3):(Le=7,4)}}d(K);var pe=!1;function ie(se,A,H,be){F(se,(p<<1)+(be?1:0),3),(function(fe,De,Ie,Pe){ce(fe),O(fe,Ie),O(fe,~Ie),a.arraySet(fe.pending_buf,fe.window,De,Ie,fe.pending),fe.pending+=Ie})(se,A,H)}o._tr_init=function(se){pe||((function(){var A,H,be,fe,De,Ie=new Array(x+1);for(fe=be=0;fe<f-1;fe++)for(W[fe]=be,A=0;A<1<<I[fe];A++)S[be++]=fe;for(S[be-1]=fe,fe=De=0;fe<16;fe++)for(K[fe]=De,A=0;A<1<<V[fe];A++)z[De++]=fe;for(De>>=7;fe<b;fe++)for(K[fe]=De<<7,A=0;A<1<<V[fe]-7;A++)z[256+De++]=fe;for(H=0;H<=x;H++)Ie[H]=0;for(A=0;A<=143;)G[2*A+1]=8,A++,Ie[8]++;for(;A<=255;)G[2*A+1]=9,A++,Ie[9]++;for(;A<=279;)G[2*A+1]=7,A++,Ie[7]++;for(;A<=287;)G[2*A+1]=8,A++,Ie[8]++;for(le(G,w+1,Ie),A=0;A<b;A++)T[2*A+1]=5,T[2*A]=ae(A,5);ne=new X(G,I,h+1,w,x),q=new X(T,V,0,b,x),U=new X(new Array(0),Y,0,C,y)})(),pe=!0),se.l_desc=new E(se.dyn_ltree,ne),se.d_desc=new E(se.dyn_dtree,q),se.bl_desc=new E(se.bl_tree,U),se.bi_buf=0,se.bi_valid=0,te(se)},o._tr_stored_block=ie,o._tr_flush_block=function(se,A,H,be){var fe,De,Ie=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=(function(Pe){var Le,qe=4093624447;for(Le=0;Le<=31;Le++,qe>>>=1)if(1&qe&&Pe.dyn_ltree[2*Le]!==0)return l;if(Pe.dyn_ltree[18]!==0||Pe.dyn_ltree[20]!==0||Pe.dyn_ltree[26]!==0)return c;for(Le=32;Le<h;Le++)if(Pe.dyn_ltree[2*Le]!==0)return c;return l})(se)),Ve(se,se.l_desc),Ve(se,se.d_desc),Ie=(function(Pe){var Le;for(B(Pe,Pe.dyn_ltree,Pe.l_desc.max_code),B(Pe,Pe.dyn_dtree,Pe.d_desc.max_code),Ve(Pe,Pe.bl_desc),Le=C-1;3<=Le&&Pe.bl_tree[2*Q[Le]+1]===0;Le--);return Pe.opt_len+=3*(Le+1)+5+5+4,Le})(se),fe=se.opt_len+3+7>>>3,(De=se.static_len+3+7>>>3)<=fe&&(fe=De)):fe=De=H+5,H+4<=fe&&A!==-1?ie(se,A,H,be):se.strategy===4||De===fe?(F(se,2+(be?1:0),3),je(se,G,T)):(F(se,4+(be?1:0),3),(function(Pe,Le,qe,Ue){var Ee;for(F(Pe,Le-257,5),F(Pe,qe-1,5),F(Pe,Ue-4,4),Ee=0;Ee<Ue;Ee++)F(Pe,Pe.bl_tree[2*Q[Ee]+1],3);ve(Pe,Pe.dyn_ltree,Le-1),ve(Pe,Pe.dyn_dtree,qe-1)})(se,se.l_desc.max_code+1,se.d_desc.max_code+1,Ie+1),je(se,se.dyn_ltree,se.dyn_dtree)),te(se),be&&ce(se)},o._tr_tally=function(se,A,H){return se.pending_buf[se.d_buf+2*se.last_lit]=A>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&A,se.pending_buf[se.l_buf+se.last_lit]=255&H,se.last_lit++,A===0?se.dyn_ltree[2*H]++:(se.matches++,A--,se.dyn_ltree[2*(S[H]+h+1)]++,se.dyn_dtree[2*k(A)]++),se.last_lit===se.lit_bufsize-1},o._tr_align=function(se){F(se,2,3),$(se,m,G),(function(A){A.bi_valid===16?(O(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)})(se)}},{"../utils/common":41}],53:[function(n,s,o){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,s,o){(function(a){(function(l,c){if(!l.setImmediate){var d,p,f,h,w=1,b={},C=!1,_=l.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(l);x=x&&x.setTimeout?x:l,d={}.toString.call(l.process)==="[object process]"?function(M){process.nextTick(function(){y(M)})}:(function(){if(l.postMessage&&!l.importScripts){var M=!0,j=l.onmessage;return l.onmessage=function(){M=!1},l.postMessage("","*"),l.onmessage=j,M}})()?(h="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",m,!1):l.attachEvent("onmessage",m),function(M){l.postMessage(h+M,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(M){y(M.data)},function(M){f.port2.postMessage(M)}):_&&"onreadystatechange"in _.createElement("script")?(p=_.documentElement,function(M){var j=_.createElement("script");j.onreadystatechange=function(){y(M),j.onreadystatechange=null,p.removeChild(j),j=null},p.appendChild(j)}):function(M){setTimeout(y,0,M)},x.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var j=new Array(arguments.length-1),L=0;L<j.length;L++)j[L]=arguments[L+1];var I={callback:M,args:j};return b[w]=I,d(w),w++},x.clearImmediate=v}function v(M){delete b[M]}function y(M){if(C)setTimeout(y,0,M);else{var j=b[M];if(j){C=!0;try{(function(L){var I=L.callback,V=L.args;switch(V.length){case 0:I();break;case 1:I(V[0]);break;case 2:I(V[0],V[1]);break;case 3:I(V[0],V[1],V[2]);break;default:I.apply(c,V)}})(j)}finally{v(M),C=!1}}}}function m(M){M.source===l&&typeof M.data=="string"&&M.data.indexOf(h)===0&&y(+M.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(hh)),hh.exports}var XR=$R();const YR=Zp(XR);function GR(e){return new Int8Array(e)}function KR(e){return new Int16Array(e)}function Gb(e){return new Int32Array(e)}function Kb(e){return new Float32Array(e)}function qR(e){return new Float64Array(e)}function qb(e){if(e.length==1)return Kb(e[0]);var t=e[0];e=e.slice(1);for(var n=[],s=0;s<t;s++)n.push(qb(e));return n}function Qb(e){if(e.length==1)return Gb(e[0]);var t=e[0];e=e.slice(1);for(var n=[],s=0;s<t;s++)n.push(Qb(e));return n}function Zb(e){if(e.length==1)return KR(e[0]);var t=e[0];e=e.slice(1);for(var n=[],s=0;s<t;s++)n.push(Zb(e));return n}function Jb(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],s=0;s<t;s++)n.push(Jb(e));return n}var e3={};e3.fill=function(e,t,n,s){if(arguments.length==2)for(var o=0;o<e.length;o++)e[o]=arguments[1];else for(var o=t;o<n;o++)e[o]=s};var bl={};bl.arraycopy=function(e,t,n,s,o){for(var a=t+o;t<a;)n[s++]=e[t++]};bl.out={};bl.out.println=function(e){console.log(e)};bl.out.printf=function(){console.log.apply(console,arguments)};var Ju={};Ju.SQRT2=1.4142135623730951;Ju.FAST_LOG10=function(e){return Math.log10(e)};Ju.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function ds(e){this.ordinal=e}ds.short_block_allowed=new ds(0);ds.short_block_coupled=new ds(1);ds.short_block_dispensed=new ds(2);ds.short_block_forced=new ds(3);var t3={};t3.MAX_VALUE=34028235e31;function Jn(e){this.ordinal=e}Jn.vbr_off=new Jn(0);Jn.vbr_mt=new Jn(1);Jn.vbr_rh=new Jn(2);Jn.vbr_abr=new Jn(3);Jn.vbr_mtrh=new Jn(4);Jn.vbr_default=Jn.vbr_mtrh;var QR=function(e){},Ht={System:bl,VbrMode:Jn,Float:t3,ShortBlock:ds,Util:Ju,Arrays:e3,new_array_n:Jb,new_byte:GR,new_double:qR,new_float:Kb,new_float_n:qb,new_int:Gb,new_int_n:Qb,new_short_n:Zb,assert:QR},ph,h2;function ZR(){if(h2)return ph;h2=1;var e=Ht,t=e.System,n=e.Util,s=e.Arrays,o=e.new_float,a=Rn();function l(){var c=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],d=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],p=d[a.SHORT_TYPE],f=d[a.SHORT_TYPE],h=d[a.SHORT_TYPE],w=d[a.SHORT_TYPE],b=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function C(v,y,m){for(var M=10,j=y+238-14-286,L=-15;L<0;L++){var I,V,Y;I=c[M+-10],V=v[j+-224]*I,Y=v[y+224]*I,I=c[M+-9],V+=v[j+-160]*I,Y+=v[y+160]*I,I=c[M+-8],V+=v[j+-96]*I,Y+=v[y+96]*I,I=c[M+-7],V+=v[j+-32]*I,Y+=v[y+32]*I,I=c[M+-6],V+=v[j+32]*I,Y+=v[y+-32]*I,I=c[M+-5],V+=v[j+96]*I,Y+=v[y+-96]*I,I=c[M+-4],V+=v[j+160]*I,Y+=v[y+-160]*I,I=c[M+-3],V+=v[j+224]*I,Y+=v[y+-224]*I,I=c[M+-2],V+=v[y+-256]*I,Y-=v[j+256]*I,I=c[M+-1],V+=v[y+-192]*I,Y-=v[j+192]*I,I=c[M+0],V+=v[y+-128]*I,Y-=v[j+128]*I,I=c[M+1],V+=v[y+-64]*I,Y-=v[j+64]*I,I=c[M+2],V+=v[y+0]*I,Y-=v[j+0]*I,I=c[M+3],V+=v[y+64]*I,Y-=v[j+-64]*I,I=c[M+4],V+=v[y+128]*I,Y-=v[j+-128]*I,I=c[M+5],V+=v[y+192]*I,Y-=v[j+-192]*I,V*=c[M+6],I=Y-V,m[30+L*2]=Y+V,m[31+L*2]=c[M+7]*I,M+=18,y--,j++}{var V,Y,Q,G;Y=v[y+-16]*c[M+-10],V=v[y+-32]*c[M+-2],Y+=(v[y+-48]-v[y+16])*c[M+-9],V+=v[y+-96]*c[M+-1],Y+=(v[y+-80]+v[y+48])*c[M+-8],V+=v[y+-160]*c[M+0],Y+=(v[y+-112]-v[y+80])*c[M+-7],V+=v[y+-224]*c[M+1],Y+=(v[y+-144]+v[y+112])*c[M+-6],V-=v[y+32]*c[M+2],Y+=(v[y+-176]-v[y+144])*c[M+-5],V-=v[y+96]*c[M+3],Y+=(v[y+-208]+v[y+176])*c[M+-4],V-=v[y+160]*c[M+4],Y+=(v[y+-240]-v[y+208])*c[M+-3],V-=v[y+224],Q=V-Y,G=V+Y,Y=m[14],V=m[15]-Y,m[31]=G+Y,m[30]=Q+V,m[15]=Q-V,m[14]=G-Y}{var T;T=m[28]-m[0],m[0]+=m[28],m[28]=T*c[M+-36+7],T=m[29]-m[1],m[1]+=m[29],m[29]=T*c[M+-36+7],T=m[26]-m[2],m[2]+=m[26],m[26]=T*c[M+-72+7],T=m[27]-m[3],m[3]+=m[27],m[27]=T*c[M+-72+7],T=m[24]-m[4],m[4]+=m[24],m[24]=T*c[M+-108+7],T=m[25]-m[5],m[5]+=m[25],m[25]=T*c[M+-108+7],T=m[22]-m[6],m[6]+=m[22],m[22]=T*n.SQRT2,T=m[23]-m[7],m[7]+=m[23],m[23]=T*n.SQRT2-m[7],m[7]-=m[6],m[22]-=m[7],m[23]-=m[22],T=m[6],m[6]=m[31]-T,m[31]=m[31]+T,T=m[7],m[7]=m[30]-T,m[30]=m[30]+T,T=m[22],m[22]=m[15]-T,m[15]=m[15]+T,T=m[23],m[23]=m[14]-T,m[14]=m[14]+T,T=m[20]-m[8],m[8]+=m[20],m[20]=T*c[M+-180+7],T=m[21]-m[9],m[9]+=m[21],m[21]=T*c[M+-180+7],T=m[18]-m[10],m[10]+=m[18],m[18]=T*c[M+-216+7],T=m[19]-m[11],m[11]+=m[19],m[19]=T*c[M+-216+7],T=m[16]-m[12],m[12]+=m[16],m[16]=T*c[M+-252+7],T=m[17]-m[13],m[13]+=m[17],m[17]=T*c[M+-252+7],T=-m[20]+m[24],m[20]+=m[24],m[24]=T*c[M+-216+7],T=-m[21]+m[25],m[21]+=m[25],m[25]=T*c[M+-216+7],T=m[4]-m[8],m[4]+=m[8],m[8]=T*c[M+-216+7],T=m[5]-m[9],m[5]+=m[9],m[9]=T*c[M+-216+7],T=m[0]-m[12],m[0]+=m[12],m[12]=T*c[M+-72+7],T=m[1]-m[13],m[1]+=m[13],m[13]=T*c[M+-72+7],T=m[16]-m[28],m[16]+=m[28],m[28]=T*c[M+-72+7],T=-m[17]+m[29],m[17]+=m[29],m[29]=T*c[M+-72+7],T=n.SQRT2*(m[2]-m[10]),m[2]+=m[10],m[10]=T,T=n.SQRT2*(m[3]-m[11]),m[3]+=m[11],m[11]=T,T=n.SQRT2*(-m[18]+m[26]),m[18]+=m[26],m[26]=T-m[18],T=n.SQRT2*(-m[19]+m[27]),m[19]+=m[27],m[27]=T-m[19],T=m[2],m[19]-=m[3],m[3]-=T,m[2]=m[31]-T,m[31]+=T,T=m[3],m[11]-=m[19],m[18]-=T,m[3]=m[30]-T,m[30]+=T,T=m[18],m[27]-=m[11],m[19]-=T,m[18]=m[15]-T,m[15]+=T,T=m[19],m[10]-=T,m[19]=m[14]-T,m[14]+=T,T=m[10],m[11]-=T,m[10]=m[23]-T,m[23]+=T,T=m[11],m[26]-=T,m[11]=m[22]-T,m[22]+=T,T=m[26],m[27]-=T,m[26]=m[7]-T,m[7]+=T,T=m[27],m[27]=m[6]-T,m[6]+=T,T=n.SQRT2*(m[0]-m[4]),m[0]+=m[4],m[4]=T,T=n.SQRT2*(m[1]-m[5]),m[1]+=m[5],m[5]=T,T=n.SQRT2*(m[16]-m[20]),m[16]+=m[20],m[20]=T,T=n.SQRT2*(m[17]-m[21]),m[17]+=m[21],m[21]=T,T=-n.SQRT2*(m[8]-m[12]),m[8]+=m[12],m[12]=T-m[8],T=-n.SQRT2*(m[9]-m[13]),m[9]+=m[13],m[13]=T-m[9],T=-n.SQRT2*(m[25]-m[29]),m[25]+=m[29],m[29]=T-m[25],T=-n.SQRT2*(m[24]+m[28]),m[24]-=m[28],m[28]=T-m[24],T=m[24]-m[16],m[24]=T,T=m[20]-T,m[20]=T,T=m[28]-T,m[28]=T,T=m[25]-m[17],m[25]=T,T=m[21]-T,m[21]=T,T=m[29]-T,m[29]=T,T=m[17]-m[1],m[17]=T,T=m[9]-T,m[9]=T,T=m[25]-T,m[25]=T,T=m[5]-T,m[5]=T,T=m[21]-T,m[21]=T,T=m[13]-T,m[13]=T,T=m[29]-T,m[29]=T,T=m[1]-m[0],m[1]=T,T=m[16]-T,m[16]=T,T=m[17]-T,m[17]=T,T=m[8]-T,m[8]=T,T=m[9]-T,m[9]=T,T=m[24]-T,m[24]=T,T=m[25]-T,m[25]=T,T=m[4]-T,m[4]=T,T=m[5]-T,m[5]=T,T=m[20]-T,m[20]=T,T=m[21]-T,m[21]=T,T=m[12]-T,m[12]=T,T=m[13]-T,m[13]=T,T=m[28]-T,m[28]=T,T=m[29]-T,m[29]=T,T=m[0],m[0]+=m[31],m[31]-=T,T=m[1],m[1]+=m[30],m[30]-=T,T=m[16],m[16]+=m[15],m[15]-=T,T=m[17],m[17]+=m[14],m[14]-=T,T=m[8],m[8]+=m[23],m[23]-=T,T=m[9],m[9]+=m[22],m[22]-=T,T=m[24],m[24]+=m[7],m[7]-=T,T=m[25],m[25]+=m[6],m[6]-=T,T=m[4],m[4]+=m[27],m[27]-=T,T=m[5],m[5]+=m[26],m[26]-=T,T=m[20],m[20]+=m[11],m[11]-=T,T=m[21],m[21]+=m[10],m[10]-=T,T=m[12],m[12]+=m[19],m[19]-=T,T=m[13],m[13]+=m[18],m[18]-=T,T=m[28],m[28]+=m[3],m[3]-=T,T=m[29],m[29]+=m[2],m[2]-=T}}function _(v,y){for(var m=0;m<3;m++){var M,j,L,I,V,Y;I=v[y+6]*d[a.SHORT_TYPE][0]-v[y+15],M=v[y+0]*d[a.SHORT_TYPE][2]-v[y+9],j=I+M,L=I-M,I=v[y+15]*d[a.SHORT_TYPE][0]+v[y+6],M=v[y+9]*d[a.SHORT_TYPE][2]+v[y+0],V=I+M,Y=-I+M,M=(v[y+3]*d[a.SHORT_TYPE][1]-v[y+12])*2069978111953089e-26,I=(v[y+12]*d[a.SHORT_TYPE][1]+v[y+3])*2069978111953089e-26,v[y+0]=j*190752519173728e-25+M,v[y+15]=-V*190752519173728e-25+I,L=L*.8660254037844387*1907525191737281e-26,V=V*.5*1907525191737281e-26+I,v[y+3]=L-V,v[y+6]=L+V,j=j*.5*1907525191737281e-26-M,Y=Y*.8660254037844387*1907525191737281e-26,v[y+9]=j+Y,v[y+12]=j-Y,y++}}function x(v,y,m){var M,j;{var L,I,V,Y,Q,G,T,z;L=m[17]-m[9],V=m[15]-m[11],Y=m[14]-m[12],Q=m[0]+m[8],G=m[1]+m[7],T=m[2]+m[6],z=m[3]+m[5],v[y+17]=Q+T-z-(G-m[4]),j=(Q+T-z)*f[19]+(G-m[4]),M=(L-V-Y)*f[18],v[y+5]=M+j,v[y+6]=M-j,I=(m[16]-m[10])*f[18],G=G*f[19]+m[4],M=L*f[12]+I+V*f[13]+Y*f[14],j=-Q*f[16]+G-T*f[17]+z*f[15],v[y+1]=M+j,v[y+2]=M-j,M=L*f[13]-I-V*f[14]+Y*f[12],j=-Q*f[17]+G-T*f[15]+z*f[16],v[y+9]=M+j,v[y+10]=M-j,M=L*f[14]-I+V*f[12]-Y*f[13],j=Q*f[15]-G+T*f[16]-z*f[17],v[y+13]=M+j,v[y+14]=M-j}{var S,W,ne,q,U,K,X,E;S=m[8]-m[0],ne=m[6]-m[2],q=m[5]-m[3],U=m[17]+m[9],K=m[16]+m[10],X=m[15]+m[11],E=m[14]+m[12],v[y+0]=U+X+E+(K+m[13]),M=(U+X+E)*f[19]-(K+m[13]),j=(S-ne+q)*f[18],v[y+11]=M+j,v[y+12]=M-j,W=(m[7]-m[1])*f[18],K=m[13]-K*f[19],M=U*f[15]-K+X*f[16]+E*f[17],j=S*f[14]+W+ne*f[12]+q*f[13],v[y+3]=M+j,v[y+4]=M-j,M=-U*f[17]+K-X*f[15]-E*f[16],j=S*f[13]+W-ne*f[14]-q*f[12],v[y+7]=M+j,v[y+8]=M-j,M=-U*f[16]+K-X*f[17]-E*f[15],j=S*f[12]-W+ne*f[13]-q*f[14],v[y+15]=M+j,v[y+16]=M-j}}this.mdct_sub48=function(v,y,m){for(var M=y,j=286,L=0;L<v.channels_out;L++){for(var I=0;I<v.mode_gr;I++){for(var V,Y=v.l3_side.tt[I][L],Q=Y.xr,G=0,T=v.sb_sample[L][1-I],z=0,S=0;S<18/2;S++)for(C(M,j,T[z]),C(M,j+32,T[z+1]),z+=2,j+=64,V=1;V<32;V+=2)T[z-1][V]*=-1;for(V=0;V<32;V++,G+=18){var W=Y.block_type,ne=v.sb_sample[L][I],q=v.sb_sample[L][1-I];if(Y.mixed_block_flag!=0&&V<2&&(W=0),v.amp_filter[V]<1e-12)s.fill(Q,G+0,G+18,0);else{if(v.amp_filter[V]<1)for(var S=0;S<18;S++)q[S][b[V]]*=v.amp_filter[V];if(W==a.SHORT_TYPE){for(var S=-12/4;S<0;S++){var U=d[a.SHORT_TYPE][S+3];Q[G+S*3+9]=ne[9+S][b[V]]*U-ne[8-S][b[V]],Q[G+S*3+18]=ne[14-S][b[V]]*U+ne[15+S][b[V]],Q[G+S*3+10]=ne[15+S][b[V]]*U-ne[14-S][b[V]],Q[G+S*3+19]=q[2-S][b[V]]*U+q[3+S][b[V]],Q[G+S*3+11]=q[3+S][b[V]]*U-q[2-S][b[V]],Q[G+S*3+20]=q[8-S][b[V]]*U+q[9+S][b[V]]}_(Q,G)}else{for(var K=o(18),S=-36/4;S<0;S++){var X,E;X=d[W][S+27]*q[S+9][b[V]]+d[W][S+36]*q[8-S][b[V]],E=d[W][S+9]*ne[S+9][b[V]]-d[W][S+18]*ne[8-S][b[V]],K[S+9]=X-E*p[3+S+9],K[S+18]=X*p[3+S+9]+E}x(Q,G,K)}}if(W!=a.SHORT_TYPE&&V!=0)for(var S=7;S>=0;--S){var k,O;k=Q[G+S]*h[20+S]+Q[G+-1-S]*w[28+S],O=Q[G+S]*w[28+S]-Q[G+-1-S]*h[20+S],Q[G+-1-S]=k,Q[G+S]=O}}}if(M=m,j=286,v.mode_gr==1)for(var F=0;F<18;F++)t.arraycopy(v.sb_sample[L][1][F],0,v.sb_sample[L][0][F],0,32)}}}return ph=l,ph}var mh,p2;function n3(){if(p2)return mh;p2=1;var e=Rn(),t=Ht,n=t.System,s=t.new_float,o=t.new_float_n;function a(){this.l=s(e.SBMAX_l),this.s=o([e.SBMAX_s,3]);var l=this;this.assign=function(c){n.arraycopy(c.l,0,l.l,0,e.SBMAX_l);for(var d=0;d<e.SBMAX_s;d++)for(var p=0;p<3;p++)l.s[d][p]=c.s[d][p]}}return mh=a,mh}var gh,m2;function JR(){if(m2)return gh;m2=1;var e=n3();function t(){this.thm=new e,this.en=new e}return gh=t,gh}function Tr(e){var t=e;this.ordinal=function(){return t}}Tr.STEREO=new Tr(0);Tr.JOINT_STEREO=new Tr(1);Tr.DUAL_CHANNEL=new Tr(2);Tr.MONO=new Tr(3);Tr.NOT_SET=new Tr(4);var xl=Tr,vh,g2;function Rn(){if(g2)return vh;g2=1;var e=Ht,t=e.System,n=e.VbrMode,s=e.new_array_n,o=e.new_float,a=e.new_float_n,l=e.new_int,c=e.assert;d.ENCDELAY=576,d.POSTDELAY=1152,d.MDCTDELAY=48,d.FFTOFFSET=224+d.MDCTDELAY,d.DECDELAY=528,d.SBLIMIT=32,d.CBANDS=64,d.SBPSY_l=21,d.SBPSY_s=12,d.SBMAX_l=22,d.SBMAX_s=13,d.PSFB21=6,d.PSFB12=6,d.BLKSIZE=1024,d.HBLKSIZE=d.BLKSIZE/2+1,d.BLKSIZE_s=256,d.HBLKSIZE_s=d.BLKSIZE_s/2+1,d.NORM_TYPE=0,d.START_TYPE=1,d.SHORT_TYPE=2,d.STOP_TYPE=3,d.MPG_MD_LR_LR=0,d.MPG_MD_LR_I=1,d.MPG_MD_MS_LR=2,d.MPG_MD_MS_I=3,d.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function d(){var p=ZR(),f=JR(),h=xl,w=d.FFTOFFSET,b=d.MPG_MD_MS_LR,C=null;this.psy=null;var _=null,x=null,v=null;this.setModules=function(L,I,V,Y){C=L,this.psy=I,_=I,x=Y,v=V};var y=new p;function m(L){var I,V;if(L.ATH.useAdjust==0){L.ATH.adjust=1;return}if(V=L.loudness_sq[0][0],I=L.loudness_sq[1][0],L.channels_out==2?(V+=L.loudness_sq[0][1],I+=L.loudness_sq[1][1]):(V+=V,I+=I),L.mode_gr==2&&(V=Math.max(V,I)),V*=.5,V*=L.ATH.aaSensitivityP,V>.03125)L.ATH.adjust>=1?L.ATH.adjust=1:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=1;else{var Y=31.98*V+625e-6;L.ATH.adjust>=Y?(L.ATH.adjust*=Y*.075+.925,L.ATH.adjust<Y&&(L.ATH.adjust=Y)):L.ATH.adjustLimit>=Y?L.ATH.adjust=Y:L.ATH.adjust<L.ATH.adjustLimit&&(L.ATH.adjust=L.ATH.adjustLimit),L.ATH.adjustLimit=Y}}function M(L){var I,V;for(c(0<=L.bitrate_index&&L.bitrate_index<16),c(0<=L.mode_ext&&L.mode_ext<4),L.bitrate_stereoMode_Hist[L.bitrate_index][4]++,L.bitrate_stereoMode_Hist[15][4]++,L.channels_out==2&&(L.bitrate_stereoMode_Hist[L.bitrate_index][L.mode_ext]++,L.bitrate_stereoMode_Hist[15][L.mode_ext]++),I=0;I<L.mode_gr;++I)for(V=0;V<L.channels_out;++V){var Y=L.l3_side.tt[I][V].block_type|0;L.l3_side.tt[I][V].mixed_block_flag!=0&&(Y=4),L.bitrate_blockType_Hist[L.bitrate_index][Y]++,L.bitrate_blockType_Hist[L.bitrate_index][5]++,L.bitrate_blockType_Hist[15][Y]++,L.bitrate_blockType_Hist[15][5]++}}function j(L,I){var V=L.internal_flags,Y,Q;if(V.lame_encode_frame_init==0){var G,T,z=o(2014),S=o(2014);for(V.lame_encode_frame_init=1,G=0,T=0;G<286+576*(1+V.mode_gr);++G)G<576*V.mode_gr?(z[G]=0,V.channels_out==2&&(S[G]=0)):(z[G]=I[0][T],V.channels_out==2&&(S[G]=I[1][T]),++T);for(Q=0;Q<V.mode_gr;Q++)for(Y=0;Y<V.channels_out;Y++)V.l3_side.tt[Q][Y].block_type=d.SHORT_TYPE;y.mdct_sub48(V,z,S),c(576>=d.FFTOFFSET),c(V.mf_size>=d.BLKSIZE+L.framesize-d.FFTOFFSET),c(V.mf_size>=512+L.framesize-32)}}this.lame_encode_mp3_frame=function(L,I,V,Y,Q,G){var T,z=s([2,2]);z[0][0]=new f,z[0][1]=new f,z[1][0]=new f,z[1][1]=new f;var S=s([2,2]);S[0][0]=new f,S[0][1]=new f,S[1][0]=new f,S[1][1]=new f;var W,ne=[null,null],q=L.internal_flags,U=a([2,4]),K=[.5,.5],X=[[0,0],[0,0]],E=[[0,0],[0,0]],k,O,F;if(ne[0]=I,ne[1]=V,q.lame_encode_frame_init==0&&j(L,ne),q.padding=0,(q.slot_lag-=q.frac_SpF)<0&&(q.slot_lag+=L.out_samplerate,q.padding=1),q.psymodel!=0){var $,ae=[null,null],le=0,te=l(2);for(F=0;F<q.mode_gr;F++){for(O=0;O<q.channels_out;O++)ae[O]=ne[O],le=576+F*576-d.FFTOFFSET;if(L.VBR==n.vbr_mtrh||L.VBR==n.vbr_mt?$=_.L3psycho_anal_vbr(L,ae,le,F,z,S,X[F],E[F],U[F],te):$=_.L3psycho_anal_ns(L,ae,le,F,z,S,X[F],E[F],U[F],te),$!=0)return-4;for(L.mode==h.JOINT_STEREO&&(K[F]=U[F][2]+U[F][3],K[F]>0&&(K[F]=U[F][3]/K[F])),O=0;O<q.channels_out;O++){var ce=q.l3_side.tt[F][O];ce.block_type=te[O],ce.mixed_block_flag=0}}}else for(F=0;F<q.mode_gr;F++)for(O=0;O<q.channels_out;O++)q.l3_side.tt[F][O].block_type=d.NORM_TYPE,q.l3_side.tt[F][O].mixed_block_flag=0,E[F][O]=X[F][O]=700;if(m(q),y.mdct_sub48(q,ne[0],ne[1]),q.mode_ext=d.MPG_MD_LR_LR,L.force_ms)q.mode_ext=d.MPG_MD_MS_LR;else if(L.mode==h.JOINT_STEREO){var we=0,Ce=0;for(F=0;F<q.mode_gr;F++)for(O=0;O<q.channels_out;O++)we+=E[F][O],Ce+=X[F][O];if(we<=1*Ce){var je=q.l3_side.tt[0],Ve=q.l3_side.tt[q.mode_gr-1];je[0].block_type==je[1].block_type&&Ve[0].block_type==Ve[1].block_type&&(q.mode_ext=d.MPG_MD_MS_LR)}}if(q.mode_ext==b?(W=S,k=E):(W=z,k=X),L.analysis&&q.pinfo!=null)for(F=0;F<q.mode_gr;F++)for(O=0;O<q.channels_out;O++)q.pinfo.ms_ratio[F]=q.ms_ratio[F],q.pinfo.ms_ener_ratio[F]=K[F],q.pinfo.blocktype[F][O]=q.l3_side.tt[F][O].block_type,q.pinfo.pe[F][O]=k[F][O],t.arraycopy(q.l3_side.tt[F][O].xr,0,q.pinfo.xr[F][O],0,576),q.mode_ext==b&&(q.pinfo.ers[F][O]=q.pinfo.ers[F][O+2],t.arraycopy(q.pinfo.energy[F][O+2],0,q.pinfo.energy[F][O],0,q.pinfo.energy[F][O].length));if(L.VBR==n.vbr_off||L.VBR==n.vbr_abr){var B,ve;for(B=0;B<18;B++)q.nsPsy.pefirbuf[B]=q.nsPsy.pefirbuf[B+1];for(ve=0,F=0;F<q.mode_gr;F++)for(O=0;O<q.channels_out;O++)ve+=k[F][O];for(q.nsPsy.pefirbuf[18]=ve,ve=q.nsPsy.pefirbuf[9],B=0;B<9;B++)ve+=(q.nsPsy.pefirbuf[B]+q.nsPsy.pefirbuf[18-B])*d.fircoef[B];for(ve=670*5*q.mode_gr*q.channels_out/ve,F=0;F<q.mode_gr;F++)for(O=0;O<q.channels_out;O++)k[F][O]*=ve}if(q.iteration_loop.iteration_loop(L,k,K,W),C.format_bitstream(L),T=C.copy_buffer(q,Y,Q,G,1),L.bWriteVbrTag&&x.addVbrFrame(L),L.analysis&&q.pinfo!=null){for(O=0;O<q.channels_out;O++){var pe;for(pe=0;pe<w;pe++)q.pinfo.pcmdata[O][pe]=q.pinfo.pcmdata[O][pe+L.framesize];for(pe=w;pe<1600;pe++)q.pinfo.pcmdata[O][pe]=ne[O][pe-w]}v.set_frame_pinfo(L,W)}return M(q),T}}return vh=d,vh}var r3=Ht,v2=r3.Util,y2=r3.new_float,Zt=Rn();function eT(){var e=y2(Zt.BLKSIZE),t=y2(Zt.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function s(a,l,c){var d=0,p,f,h;c<<=1;var w=l+c;p=4;do{var b,C,_,x,v,y,m;m=p>>1,x=p,v=p<<1,y=v+x,p=v<<1,f=l,h=f+m;do{var M,j,L,I;j=a[f+0]-a[f+x],M=a[f+0]+a[f+x],I=a[f+v]-a[f+y],L=a[f+v]+a[f+y],a[f+v]=M-L,a[f+0]=M+L,a[f+y]=j-I,a[f+x]=j+I,j=a[h+0]-a[h+x],M=a[h+0]+a[h+x],I=v2.SQRT2*a[h+y],L=v2.SQRT2*a[h+v],a[h+v]=M-L,a[h+0]=M+L,a[h+y]=j-I,a[h+x]=j+I,h+=p,f+=p}while(f<w);for(C=n[d+0],b=n[d+1],_=1;_<m;_++){var V,Y;V=1-2*b*b,Y=2*b*C,f=l+_,h=l+x-_;do{var Q,G,T,M,j,z,L,S,I,W;G=Y*a[f+x]-V*a[h+x],Q=V*a[f+x]+Y*a[h+x],j=a[f+0]-Q,M=a[f+0]+Q,z=a[h+0]-G,T=a[h+0]+G,G=Y*a[f+y]-V*a[h+y],Q=V*a[f+y]+Y*a[h+y],I=a[f+v]-Q,L=a[f+v]+Q,W=a[h+v]-G,S=a[h+v]+G,G=b*L-C*W,Q=C*L+b*W,a[f+v]=M-Q,a[f+0]=M+Q,a[h+y]=z-G,a[h+x]=z+G,G=C*S-b*I,Q=b*S+C*I,a[h+v]=T-Q,a[h+0]=T+Q,a[f+y]=j-G,a[f+x]=j+G,h+=p,f+=p}while(f<w);V=C,C=V*n[d+0]-b*n[d+1],b=V*n[d+1]+b*n[d+0]}d+=2}while(p<c)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(a,l,c,d,p){for(var f=0;f<3;f++){var h=Zt.BLKSIZE_s/2,w=65535&576/3*(f+1),b=Zt.BLKSIZE_s/8-1;do{var C,_,x,v,y,m=o[b<<2]&255;C=t[m]*d[c][p+m+w],y=t[127-m]*d[c][p+m+w+128],_=C-y,C=C+y,x=t[m+64]*d[c][p+m+w+64],y=t[63-m]*d[c][p+m+w+192],v=x-y,x=x+y,h-=4,l[f][h+0]=C+x,l[f][h+2]=C-x,l[f][h+1]=_+v,l[f][h+3]=_-v,C=t[m+1]*d[c][p+m+w+1],y=t[126-m]*d[c][p+m+w+129],_=C-y,C=C+y,x=t[m+65]*d[c][p+m+w+65],y=t[62-m]*d[c][p+m+w+193],v=x-y,x=x+y,l[f][h+Zt.BLKSIZE_s/2+0]=C+x,l[f][h+Zt.BLKSIZE_s/2+2]=C-x,l[f][h+Zt.BLKSIZE_s/2+1]=_+v,l[f][h+Zt.BLKSIZE_s/2+3]=_-v}while(--b>=0);s(l[f],h,Zt.BLKSIZE_s/2)}},this.fft_long=function(a,l,c,d,p){var f=Zt.BLKSIZE/8-1,h=Zt.BLKSIZE/2;do{var w,b,C,_,x,v=o[f]&255;w=e[v]*d[c][p+v],x=e[v+512]*d[c][p+v+512],b=w-x,w=w+x,C=e[v+256]*d[c][p+v+256],x=e[v+768]*d[c][p+v+768],_=C-x,C=C+x,h-=4,l[h+0]=w+C,l[h+2]=w-C,l[h+1]=b+_,l[h+3]=b-_,w=e[v+1]*d[c][p+v+1],x=e[v+513]*d[c][p+v+513],b=w-x,w=w+x,C=e[v+257]*d[c][p+v+257],x=e[v+769]*d[c][p+v+769],_=C-x,C=C+x,l[h+Zt.BLKSIZE/2+0]=w+C,l[h+Zt.BLKSIZE/2+2]=w-C,l[h+Zt.BLKSIZE/2+1]=b+_,l[h+Zt.BLKSIZE/2+3]=b-_}while(--f>=0);s(l,h,Zt.BLKSIZE/2)},this.init_fft=function(a){for(var l=0;l<Zt.BLKSIZE;l++)e[l]=.42-.5*Math.cos(2*Math.PI*(l+.5)/Zt.BLKSIZE)+.08*Math.cos(4*Math.PI*(l+.5)/Zt.BLKSIZE);for(var l=0;l<Zt.BLKSIZE_s/2;l++)t[l]=.5*(1-Math.cos(2*Math.PI*(l+.5)/Zt.BLKSIZE_s))}}var tT=eT,hs=Ht,po=hs.VbrMode,_2=hs.Float,mo=hs.ShortBlock,Hn=hs.Util,nT=hs.Arrays,sn=hs.new_float,lr=hs.new_float_n,mi=hs.new_int,vt=hs.assert,rT=tT,Oe=Rn();function sT(){var e=xl,t=new rT,n=2.302585092994046,s=2,o=16,a=2,l=16,c=.34,d=1/(14752*14752)/(Oe.BLKSIZE/2),p=.01,f=.8,h=.6,w=.3,b=3.5,C=21,_=.2302585093;function x(J,ee){for(var oe=0,ue=0;ue<Oe.BLKSIZE/2;++ue)oe+=J[ue]*ee.ATH.eql_w[ue];return oe*=d,oe}function v(J,ee,oe,ue,he,re,ye,Se,ge,Te,xe){var Me=J.internal_flags;if(ge<2)t.fft_long(Me,ue[he],ge,Te,xe),t.fft_short(Me,re[ye],ge,Te,xe);else if(ge==2){for(var Ye=Oe.BLKSIZE-1;Ye>=0;--Ye){var ot=ue[he+0][Ye],Fe=ue[he+1][Ye];ue[he+0][Ye]=(ot+Fe)*Hn.SQRT2*.5,ue[he+1][Ye]=(ot-Fe)*Hn.SQRT2*.5}for(var rt=2;rt>=0;--rt)for(var Ye=Oe.BLKSIZE_s-1;Ye>=0;--Ye){var ot=re[ye+0][rt][Ye],Fe=re[ye+1][rt][Ye];re[ye+0][rt][Ye]=(ot+Fe)*Hn.SQRT2*.5,re[ye+1][rt][Ye]=(ot-Fe)*Hn.SQRT2*.5}}ee[0]=ue[he+0][0],ee[0]*=ee[0];for(var Ye=Oe.BLKSIZE/2-1;Ye>=0;--Ye){var Ae=ue[he+0][Oe.BLKSIZE/2-Ye],Ze=ue[he+0][Oe.BLKSIZE/2+Ye];ee[Oe.BLKSIZE/2-Ye]=(Ae*Ae+Ze*Ze)*.5}for(var rt=2;rt>=0;--rt){oe[rt][0]=re[ye+0][rt][0],oe[rt][0]*=oe[rt][0];for(var Ye=Oe.BLKSIZE_s/2-1;Ye>=0;--Ye){var Ae=re[ye+0][rt][Oe.BLKSIZE_s/2-Ye],Ze=re[ye+0][rt][Oe.BLKSIZE_s/2+Ye];oe[rt][Oe.BLKSIZE_s/2-Ye]=(Ae*Ae+Ze*Ze)*.5}}{for(var ht=0,Ye=11;Ye<Oe.HBLKSIZE;Ye++)ht+=ee[Ye];Me.tot_ener[ge]=ht}if(J.analysis){for(var Ye=0;Ye<Oe.HBLKSIZE;Ye++)Me.pinfo.energy[Se][ge][Ye]=Me.pinfo.energy_save[ge][Ye],Me.pinfo.energy_save[ge][Ye]=ee[Ye];Me.pinfo.pe[Se][ge]=Me.pe[ge]}J.athaa_loudapprox==2&&ge<2&&(Me.loudness_sq[Se][ge]=Me.loudness_sq_save[ge],Me.loudness_sq_save[ge]=x(ee,Me))}var y=8,m=23,M=15,j,L,I,V=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function Y(){j=Math.pow(10,(y+1)/16),L=Math.pow(10,(m+1)/16),I=Math.pow(10,M/10)}var Q=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],G=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],T=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function z(J,ee,oe,ue,he,re){var ye;if(ee>J)if(ee<J*L)ye=ee/J;else return J+ee;else{if(J>=ee*L)return J+ee;ye=J/ee}if(J+=ee,ue+3<=6){if(ye>=j)return J;var Se=0|Hn.FAST_LOG10_X(ye,16);return J*G[Se]}var Se=0|Hn.FAST_LOG10_X(ye,16);if(ee=he.ATH.cb_l[oe]*he.ATH.adjust,J<I*ee){if(J>ee){var ge,Te;return ge=1,Se<=13&&(ge=T[Se]),Te=Hn.FAST_LOG10_X(J/ee,10/15),J*((Q[Se]-ge)*Te+ge)}return Se>13?J:J*T[Se]}return J*Q[Se]}var S=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function W(J,ee,oe){var ue;if(J<0&&(J=0),ee<0&&(ee=0),J<=0)return ee;if(ee<=0)return J;if(ee>J?ue=ee/J:ue=J/ee,-2<=oe&&oe<=2){if(ue>=j)return J+ee;var he=0|Hn.FAST_LOG10_X(ue,16);return(J+ee)*S[he]}return ue<L?J+ee:(J<ee&&(J=ee),J)}function ne(J,ee){var oe=J.internal_flags;if(oe.channels_out>1){for(var ue=0;ue<Oe.SBMAX_l;ue++){var he=oe.thm[0].l[ue],re=oe.thm[1].l[ue];oe.thm[0].l[ue]+=re*ee,oe.thm[1].l[ue]+=he*ee}for(var ue=0;ue<Oe.SBMAX_s;ue++)for(var ye=0;ye<3;ye++){var he=oe.thm[0].s[ue][ye],re=oe.thm[1].s[ue][ye];oe.thm[0].s[ue][ye]+=re*ee,oe.thm[1].s[ue][ye]+=he*ee}}}function q(J){for(var ee=0;ee<Oe.SBMAX_l;ee++)if(!(J.thm[0].l[ee]>1.58*J.thm[1].l[ee]||J.thm[1].l[ee]>1.58*J.thm[0].l[ee])){var oe=J.mld_l[ee]*J.en[3].l[ee],ue=Math.max(J.thm[2].l[ee],Math.min(J.thm[3].l[ee],oe));oe=J.mld_l[ee]*J.en[2].l[ee];var he=Math.max(J.thm[3].l[ee],Math.min(J.thm[2].l[ee],oe));J.thm[2].l[ee]=ue,J.thm[3].l[ee]=he}for(var ee=0;ee<Oe.SBMAX_s;ee++)for(var re=0;re<3;re++)if(!(J.thm[0].s[ee][re]>1.58*J.thm[1].s[ee][re]||J.thm[1].s[ee][re]>1.58*J.thm[0].s[ee][re])){var oe=J.mld_s[ee]*J.en[3].s[ee][re],ue=Math.max(J.thm[2].s[ee][re],Math.min(J.thm[3].s[ee][re],oe));oe=J.mld_s[ee]*J.en[2].s[ee][re];var he=Math.max(J.thm[3].s[ee][re],Math.min(J.thm[2].s[ee][re],oe));J.thm[2].s[ee][re]=ue,J.thm[3].s[ee][re]=he}}function U(J,ee,oe){var ue=ee,he=Math.pow(10,oe);ee*=2,ue*=2;for(var re=0;re<Oe.SBMAX_l;re++){var ye,Se,ge,Te;if(Te=J.ATH.cb_l[J.bm_l[re]]*he,ye=Math.min(Math.max(J.thm[0].l[re],Te),Math.max(J.thm[1].l[re],Te)),Se=Math.max(J.thm[2].l[re],Te),ge=Math.max(J.thm[3].l[re],Te),ye*ee<Se+ge){var xe=ye*ue/(Se+ge);Se*=xe,ge*=xe}J.thm[2].l[re]=Math.min(Se,J.thm[2].l[re]),J.thm[3].l[re]=Math.min(ge,J.thm[3].l[re])}he*=Oe.BLKSIZE_s/Oe.BLKSIZE;for(var re=0;re<Oe.SBMAX_s;re++)for(var Me=0;Me<3;Me++){var ye,Se,ge,Te;if(Te=J.ATH.cb_s[J.bm_s[re]]*he,ye=Math.min(Math.max(J.thm[0].s[re][Me],Te),Math.max(J.thm[1].s[re][Me],Te)),Se=Math.max(J.thm[2].s[re][Me],Te),ge=Math.max(J.thm[3].s[re][Me],Te),ye*ee<Se+ge){var xe=ye*ee/(Se+ge);Se*=xe,ge*=xe}J.thm[2].s[re][Me]=Math.min(J.thm[2].s[re][Me],Se),J.thm[3].s[re][Me]=Math.min(J.thm[3].s[re][Me],ge)}}function K(J,ee,oe,ue,he){var re,ye,Se=0,ge=0;for(re=ye=0;re<Oe.SBMAX_s;++ye,++re){for(var Te=J.bo_s[re],xe=J.npart_s,Me=Te<xe?Te:xe;ye<Me;)vt(ee[ye]>=0),vt(oe[ye]>=0),Se+=ee[ye],ge+=oe[ye],ye++;if(J.en[ue].s[re][he]=Se,J.thm[ue].s[re][he]=ge,ye>=xe){++re;break}vt(ee[ye]>=0),vt(oe[ye]>=0);{var Ye=J.PSY.bo_s_weight[re],ot=1-Ye;Se=Ye*ee[ye],ge=Ye*oe[ye],J.en[ue].s[re][he]+=Se,J.thm[ue].s[re][he]+=ge,Se=ot*ee[ye],ge=ot*oe[ye]}}for(;re<Oe.SBMAX_s;++re)J.en[ue].s[re][he]=0,J.thm[ue].s[re][he]=0}function X(J,ee,oe,ue){var he,re,ye=0,Se=0;for(he=re=0;he<Oe.SBMAX_l;++re,++he){for(var ge=J.bo_l[he],Te=J.npart_l,xe=ge<Te?ge:Te;re<xe;)vt(ee[re]>=0),vt(oe[re]>=0),ye+=ee[re],Se+=oe[re],re++;if(J.en[ue].l[he]=ye,J.thm[ue].l[he]=Se,re>=Te){++he;break}vt(ee[re]>=0),vt(oe[re]>=0);{var Me=J.PSY.bo_l_weight[he],Ye=1-Me;ye=Me*ee[re],Se=Me*oe[re],J.en[ue].l[he]+=ye,J.thm[ue].l[he]+=Se,ye=Ye*ee[re],Se=Ye*oe[re]}}for(;he<Oe.SBMAX_l;++he)J.en[ue].l[he]=0,J.thm[ue].l[he]=0}function E(J,ee,oe,ue,he,re){var ye=J.internal_flags,Se,ge;for(ge=Se=0;ge<ye.npart_s;++ge){for(var Te=0,xe=ye.numlines_s[ge],Me=0;Me<xe;++Me,++Se){var Ye=ee[re][Se];Te+=Ye}oe[ge]=Te}for(vt(ge==ye.npart_s),Se=ge=0;ge<ye.npart_s;ge++){var ot=ye.s3ind_s[ge][0],Fe=ye.s3_ss[Se++]*oe[ot];for(++ot;ot<=ye.s3ind_s[ge][1];)Fe+=ye.s3_ss[Se]*oe[ot],++Se,++ot;{var rt=a*ye.nb_s1[he][ge];ue[ge]=Math.min(Fe,rt)}if(ye.blocktype_old[he&1]==Oe.SHORT_TYPE){var rt=l*ye.nb_s2[he][ge],Ae=ue[ge];ue[ge]=Math.min(rt,Ae)}ye.nb_s2[he][ge]=ye.nb_s1[he][ge],ye.nb_s1[he][ge]=Fe,vt(ue[ge]>=0)}for(;ge<=Oe.CBANDS;++ge)oe[ge]=0,ue[ge]=0}function k(J,ee,oe,ue){var he=J.internal_flags;J.short_blocks==mo.short_block_coupled&&!(ee[0]!=0&&ee[1]!=0)&&(ee[0]=ee[1]=0);for(var re=0;re<he.channels_out;re++)ue[re]=Oe.NORM_TYPE,J.short_blocks==mo.short_block_dispensed&&(ee[re]=1),J.short_blocks==mo.short_block_forced&&(ee[re]=0),ee[re]!=0?(vt(he.blocktype_old[re]!=Oe.START_TYPE),he.blocktype_old[re]==Oe.SHORT_TYPE&&(ue[re]=Oe.STOP_TYPE)):(ue[re]=Oe.SHORT_TYPE,he.blocktype_old[re]==Oe.NORM_TYPE&&(he.blocktype_old[re]=Oe.START_TYPE),he.blocktype_old[re]==Oe.STOP_TYPE&&(he.blocktype_old[re]=Oe.SHORT_TYPE)),oe[re]=he.blocktype_old[re],he.blocktype_old[re]=ue[re]}function O(J,ee,oe){return oe>=1?J:oe<=0?ee:ee>0?Math.pow(J/ee,oe)*ee:0}var F=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function $(J,ee){for(var oe=309.07,ue=0;ue<Oe.SBMAX_s-1;ue++)for(var he=0;he<3;he++){var re=J.thm.s[ue][he];if(re>0){var ye=re*ee,Se=J.en.s[ue][he];Se>ye&&(Se>ye*1e10?oe+=F[ue]*(10*n):oe+=F[ue]*Hn.FAST_LOG10(Se/ye))}}return oe}var ae=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function le(J,ee){for(var oe=281.0575,ue=0;ue<Oe.SBMAX_l-1;ue++){var he=J.thm.l[ue];if(he>0){var re=he*ee,ye=J.en.l[ue];ye>re&&(ye>re*1e10?oe+=ae[ue]*(10*n):oe+=ae[ue]*Hn.FAST_LOG10(ye/re))}}return oe}function te(J,ee,oe,ue,he){var re,ye;for(re=ye=0;re<J.npart_l;++re){var Se=0,ge=0,Te;for(Te=0;Te<J.numlines_l[re];++Te,++ye){var xe=ee[ye];Se+=xe,ge<xe&&(ge=xe)}oe[re]=Se,ue[re]=ge,he[re]=Se*J.rnumlines_l[re],vt(J.rnumlines_l[re]>=0),vt(oe[re]>=0),vt(ue[re]>=0),vt(he[re]>=0)}}function ce(J,ee,oe,ue){var he=V.length-1,re=0,ye=oe[re]+oe[re+1];if(ye>0){var Se=ee[re];Se<ee[re+1]&&(Se=ee[re+1]),vt(J.numlines_l[re]+J.numlines_l[re+1]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_l[re]+J.numlines_l[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;for(re=1;re<J.npart_l-1;re++)if(ye=oe[re-1]+oe[re]+oe[re+1],ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),Se<ee[re+1]&&(Se=ee[re+1]),vt(J.numlines_l[re-1]+J.numlines_l[re]+J.numlines_l[re+1]-1>0),ye=20*(Se*3-ye)/(ye*(J.numlines_l[re-1]+J.numlines_l[re]+J.numlines_l[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;if(vt(re==J.npart_l-1),ye=oe[re-1]+oe[re],ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),vt(J.numlines_l[re-1]+J.numlines_l[re]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_l[re-1]+J.numlines_l[re]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;vt(re==J.npart_l-1)}var we=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(J,ee,oe,ue,he,re,ye,Se,ge,Te){var xe=J.internal_flags,Me=lr([2,Oe.BLKSIZE]),Ye=lr([2,3,Oe.BLKSIZE_s]),ot=sn(Oe.CBANDS+1),Fe=sn(Oe.CBANDS+1),rt=sn(Oe.CBANDS+2),Ae=mi(2),Ze=mi(2),ht,Be,Qe,ze,st,Rt,Ge,ut,_t=lr([2,576]),It,Tn=mi(Oe.CBANDS+2),Pt=mi(Oe.CBANDS+2);for(nT.fill(Pt,0),ht=xe.channels_out,J.mode==e.JOINT_STEREO&&(ht=4),J.VBR==po.vbr_off?It=xe.ResvMax==0?0:xe.ResvSize/xe.ResvMax*.5:J.VBR==po.vbr_rh||J.VBR==po.vbr_mtrh||J.VBR==po.vbr_mt?It=.6:It=1,Be=0;Be<xe.channels_out;Be++){var Nt=ee[Be],hn=oe+576-350-C+192;for(ze=0;ze<576;ze++){var Pn,yn;for(Pn=Nt[hn+ze+10],yn=0,st=0;st<(C-1)/2-1;st+=2)Pn+=we[st]*(Nt[hn+ze+st]+Nt[hn+ze+C-st]),yn+=we[st+1]*(Nt[hn+ze+st+1]+Nt[hn+ze+C-st-1]);_t[Be][ze]=Pn+yn}he[ue][Be].en.assign(xe.en[Be]),he[ue][Be].thm.assign(xe.thm[Be]),ht>2&&(re[ue][Be].en.assign(xe.en[Be+2]),re[ue][Be].thm.assign(xe.thm[Be+2]))}for(Be=0;Be<ht;Be++){var On,In,on=sn(12),tr=[0,0,0,0],ms=sn(12),Lt=1,Al,zi=sn(Oe.CBANDS),ta=sn(Oe.CBANDS),Mt=[0,0,0,0],Dl=sn(Oe.HBLKSIZE),na=lr([3,Oe.HBLKSIZE_s]);for(vt(xe.npart_s<=Oe.CBANDS),vt(xe.npart_l<=Oe.CBANDS),ze=0;ze<3;ze++)on[ze]=xe.nsPsy.last_en_subshort[Be][ze+6],vt(xe.nsPsy.last_en_subshort[Be][ze+4]>0),ms[ze]=on[ze]/xe.nsPsy.last_en_subshort[Be][ze+4],tr[0]+=on[ze];if(Be==2)for(ze=0;ze<576;ze++){var gs,jn;gs=_t[0][ze],jn=_t[1][ze],_t[0][ze]=gs+jn,_t[1][ze]=gs-jn}{var Nl=_t[Be&1],pn=0;for(ze=0;ze<9;ze++){for(var gd=pn+64,tn=1;pn<gd;pn++)tn<Math.abs(Nl[pn])&&(tn=Math.abs(Nl[pn]));xe.nsPsy.last_en_subshort[Be][ze]=on[ze+3]=tn,tr[1+ze/3]+=tn,tn>on[ze+3-2]?(vt(on[ze+3-2]>0),tn=tn/on[ze+3-2]):on[ze+3-2]>tn*10?tn=on[ze+3-2]/(tn*10):tn=0,ms[ze+3]=tn}}if(J.analysis){var ra=ms[0];for(ze=1;ze<12;ze++)ra<ms[ze]&&(ra=ms[ze]);xe.pinfo.ers[ue][Be]=xe.pinfo.ers_save[Be],xe.pinfo.ers_save[Be]=ra}for(Al=Be==3?xe.nsPsy.attackthre_s:xe.nsPsy.attackthre,ze=0;ze<12;ze++)Mt[ze/3]==0&&ms[ze]>Al&&(Mt[ze/3]=ze%3+1);for(ze=1;ze<4;ze++){var vs;tr[ze-1]>tr[ze]?(vt(tr[ze]>0),vs=tr[ze-1]/tr[ze]):(vt(tr[ze-1]>0),vs=tr[ze]/tr[ze-1]),vs<1.7&&(Mt[ze]=0,ze==1&&(Mt[0]=0))}for(Mt[0]!=0&&xe.nsPsy.lastAttacks[Be]!=0&&(Mt[0]=0),(xe.nsPsy.lastAttacks[Be]==3||Mt[0]+Mt[1]+Mt[2]+Mt[3]!=0)&&(Lt=0,Mt[1]!=0&&Mt[0]!=0&&(Mt[1]=0),Mt[2]!=0&&Mt[1]!=0&&(Mt[2]=0),Mt[3]!=0&&Mt[2]!=0&&(Mt[3]=0)),Be<2?Ze[Be]=Lt:Lt==0&&(Ze[0]=Ze[1]=0),ge[Be]=xe.tot_ener[Be],In=Ye,On=Me,v(J,Dl,na,On,Be&1,In,Be&1,ue,Be,ee,oe),te(xe,Dl,ot,zi,ta),ce(xe,zi,ta,Tn),ut=0;ut<3;ut++){var ys,nn;for(E(J,na,Fe,rt,Be,ut),K(xe,Fe,rt,Be,ut),Ge=0;Ge<Oe.SBMAX_s;Ge++){if(nn=xe.thm[Be].s[Ge][ut],nn*=f,Mt[ut]>=2||Mt[ut+1]==1){var Or=ut!=0?ut-1:2,tn=O(xe.thm[Be].s[Ge][Or],nn,h*It);nn=Math.min(nn,tn)}if(Mt[ut]==1){var Or=ut!=0?ut-1:2,tn=O(xe.thm[Be].s[Ge][Or],nn,w*It);nn=Math.min(nn,tn)}else if(ut!=0&&Mt[ut-1]==3||ut==0&&xe.nsPsy.lastAttacks[Be]==3){var Or=ut!=2?ut+1:0,tn=O(xe.thm[Be].s[Ge][Or],nn,w*It);nn=Math.min(nn,tn)}ys=on[ut*3+3]+on[ut*3+4]+on[ut*3+5],on[ut*3+5]*6<ys&&(nn*=.5,on[ut*3+4]*6<ys&&(nn*=.5)),xe.thm[Be].s[Ge][ut]=nn}}for(xe.nsPsy.lastAttacks[Be]=Mt[2],Rt=0,Qe=0;Qe<xe.npart_l;Qe++){for(var Kr=xe.s3ind[Qe][0],sa=ot[Kr]*V[Tn[Kr]],pr=xe.s3_ll[Rt++]*sa;++Kr<=xe.s3ind[Qe][1];)sa=ot[Kr]*V[Tn[Kr]],pr=z(pr,xe.s3_ll[Rt++]*sa,Kr,Kr-Qe,xe);pr*=.158489319246111,xe.blocktype_old[Be&1]==Oe.SHORT_TYPE?rt[Qe]=pr:rt[Qe]=O(Math.min(pr,Math.min(s*xe.nb_1[Be][Qe],o*xe.nb_2[Be][Qe])),pr,It),xe.nb_2[Be][Qe]=xe.nb_1[Be][Qe],xe.nb_1[Be][Qe]=pr}for(;Qe<=Oe.CBANDS;++Qe)ot[Qe]=0,rt[Qe]=0;X(xe,ot,rt,Be)}if((J.mode==e.STEREO||J.mode==e.JOINT_STEREO)&&J.interChRatio>0&&ne(J,J.interChRatio),J.mode==e.JOINT_STEREO){var Wi;q(xe),Wi=J.msfix,Math.abs(Wi)>0&&U(xe,Wi,J.ATHlower*xe.ATH.adjust)}for(k(J,Ze,Te,Ae),Be=0;Be<ht;Be++){var qr,mr=0,Hi,_s;Be>1?(qr=Se,mr=-2,Hi=Oe.NORM_TYPE,(Te[0]==Oe.SHORT_TYPE||Te[1]==Oe.SHORT_TYPE)&&(Hi=Oe.SHORT_TYPE),_s=re[ue][Be-2]):(qr=ye,mr=0,Hi=Te[Be],_s=he[ue][Be]),Hi==Oe.SHORT_TYPE?qr[mr+Be]=$(_s,xe.masking_lower):qr[mr+Be]=le(_s,xe.masking_lower),J.analysis&&(xe.pinfo.pe[ue][Be]=qr[mr+Be])}return 0};function Ce(J,ee,oe,ue,he,re,ye,Se){var ge=J.internal_flags;if(ue<2)t.fft_long(ge,ye[Se],ue,ee,oe);else if(ue==2)for(var Te=Oe.BLKSIZE-1;Te>=0;--Te){var xe=ye[Se+0][Te],Me=ye[Se+1][Te];ye[Se+0][Te]=(xe+Me)*Hn.SQRT2*.5,ye[Se+1][Te]=(xe-Me)*Hn.SQRT2*.5}re[0]=ye[Se+0][0],re[0]*=re[0];for(var Te=Oe.BLKSIZE/2-1;Te>=0;--Te){var Ye=ye[Se+0][Oe.BLKSIZE/2-Te],ot=ye[Se+0][Oe.BLKSIZE/2+Te];re[Oe.BLKSIZE/2-Te]=(Ye*Ye+ot*ot)*.5}{for(var Fe=0,Te=11;Te<Oe.HBLKSIZE;Te++)Fe+=re[Te];ge.tot_ener[ue]=Fe}if(J.analysis){for(var Te=0;Te<Oe.HBLKSIZE;Te++)ge.pinfo.energy[he][ue][Te]=ge.pinfo.energy_save[ue][Te],ge.pinfo.energy_save[ue][Te]=re[Te];ge.pinfo.pe[he][ue]=ge.pe[ue]}}function je(J,ee,oe,ue,he,re,ye,Se){var ge=J.internal_flags;if(he==0&&ue<2&&t.fft_short(ge,ye[Se],ue,ee,oe),ue==2)for(var Te=Oe.BLKSIZE_s-1;Te>=0;--Te){var xe=ye[Se+0][he][Te],Me=ye[Se+1][he][Te];ye[Se+0][he][Te]=(xe+Me)*Hn.SQRT2*.5,ye[Se+1][he][Te]=(xe-Me)*Hn.SQRT2*.5}re[he][0]=ye[Se+0][he][0],re[he][0]*=re[he][0];for(var Te=Oe.BLKSIZE_s/2-1;Te>=0;--Te){var Ye=ye[Se+0][he][Oe.BLKSIZE_s/2-Te],ot=ye[Se+0][he][Oe.BLKSIZE_s/2+Te];re[he][Oe.BLKSIZE_s/2-Te]=(Ye*Ye+ot*ot)*.5}}function Ve(J,ee,oe,ue){var he=J.internal_flags;J.athaa_loudapprox==2&&oe<2&&(he.loudness_sq[ee][oe]=he.loudness_sq_save[oe],he.loudness_sq_save[oe]=x(ue,he))}var B=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ve(J,ee,oe,ue,he,re,ye,Se,ge,Te){for(var xe=lr([2,576]),Me=J.internal_flags,Ye=Me.channels_out,ot=J.mode==e.JOINT_STEREO?4:Ye,Fe=0;Fe<Ye;Fe++){firbuf=ee[Fe];for(var rt=oe+576-350-C+192,Ae=0;Ae<576;Ae++){var Ze,ht;Ze=firbuf[rt+Ae+10],ht=0;for(var Be=0;Be<(C-1)/2-1;Be+=2)Ze+=B[Be]*(firbuf[rt+Ae+Be]+firbuf[rt+Ae+C-Be]),ht+=B[Be+1]*(firbuf[rt+Ae+Be+1]+firbuf[rt+Ae+C-Be-1]);xe[Fe][Ae]=Ze+ht}he[ue][Fe].en.assign(Me.en[Fe]),he[ue][Fe].thm.assign(Me.thm[Fe]),ot>2&&(re[ue][Fe].en.assign(Me.en[Fe+2]),re[ue][Fe].thm.assign(Me.thm[Fe+2]))}for(var Fe=0;Fe<ot;Fe++){var Qe=sn(12),ze=sn(12),st=[0,0,0,0],Rt=xe[Fe&1],Ge=0,ut=Fe==3?Me.nsPsy.attackthre_s:Me.nsPsy.attackthre,_t=1;if(Fe==2)for(var Ae=0,Be=576;Be>0;++Ae,--Be){var It=xe[0][Ae],Tn=xe[1][Ae];xe[0][Ae]=It+Tn,xe[1][Ae]=It-Tn}for(var Ae=0;Ae<3;Ae++)ze[Ae]=Me.nsPsy.last_en_subshort[Fe][Ae+6],vt(Me.nsPsy.last_en_subshort[Fe][Ae+4]>0),Qe[Ae]=ze[Ae]/Me.nsPsy.last_en_subshort[Fe][Ae+4],st[0]+=ze[Ae];for(var Ae=0;Ae<9;Ae++){for(var Pt=Ge+64,Nt=1;Ge<Pt;Ge++)Nt<Math.abs(Rt[Ge])&&(Nt=Math.abs(Rt[Ge]));Me.nsPsy.last_en_subshort[Fe][Ae]=ze[Ae+3]=Nt,st[1+Ae/3]+=Nt,Nt>ze[Ae+3-2]?(vt(ze[Ae+3-2]>0),Nt=Nt/ze[Ae+3-2]):ze[Ae+3-2]>Nt*10?Nt=ze[Ae+3-2]/(Nt*10):Nt=0,Qe[Ae+3]=Nt}for(var Ae=0;Ae<3;++Ae){var hn=ze[Ae*3+3]+ze[Ae*3+4]+ze[Ae*3+5],Pn=1;ze[Ae*3+5]*6<hn&&(Pn*=.5,ze[Ae*3+4]*6<hn&&(Pn*=.5)),Se[Fe][Ae]=Pn}if(J.analysis){for(var yn=Qe[0],Ae=1;Ae<12;Ae++)yn<Qe[Ae]&&(yn=Qe[Ae]);Me.pinfo.ers[ue][Fe]=Me.pinfo.ers_save[Fe],Me.pinfo.ers_save[Fe]=yn}for(var Ae=0;Ae<12;Ae++)ge[Fe][Ae/3]==0&&Qe[Ae]>ut&&(ge[Fe][Ae/3]=Ae%3+1);for(var Ae=1;Ae<4;Ae++){var On=st[Ae-1],In=st[Ae],on=Math.max(On,In);on<4e4&&On<1.7*In&&In<1.7*On&&(Ae==1&&ge[Fe][0]<=ge[Fe][Ae]&&(ge[Fe][0]=0),ge[Fe][Ae]=0)}ge[Fe][0]<=Me.nsPsy.lastAttacks[Fe]&&(ge[Fe][0]=0),(Me.nsPsy.lastAttacks[Fe]==3||ge[Fe][0]+ge[Fe][1]+ge[Fe][2]+ge[Fe][3]!=0)&&(_t=0,ge[Fe][1]!=0&&ge[Fe][0]!=0&&(ge[Fe][1]=0),ge[Fe][2]!=0&&ge[Fe][1]!=0&&(ge[Fe][2]=0),ge[Fe][3]!=0&&ge[Fe][2]!=0&&(ge[Fe][3]=0)),Fe<2?Te[Fe]=_t:_t==0&&(Te[0]=Te[1]=0),ye[Fe]=Me.tot_ener[Fe]}}function pe(J,ee,oe){if(oe==0)for(var ue=0;ue<J.npart_s;ue++)J.nb_s2[ee][ue]=J.nb_s1[ee][ue],J.nb_s1[ee][ue]=0}function ie(J,ee){for(var oe=0;oe<J.npart_l;oe++)J.nb_2[ee][oe]=J.nb_1[ee][oe],J.nb_1[ee][oe]=0}function se(J,ee,oe,ue){var he=V.length-1,re=0,ye=oe[re]+oe[re+1];if(ye>0){var Se=ee[re];Se<ee[re+1]&&(Se=ee[re+1]),vt(J.numlines_s[re]+J.numlines_s[re+1]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_s[re]+J.numlines_s[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;for(re=1;re<J.npart_s-1;re++)if(ye=oe[re-1]+oe[re]+oe[re+1],vt(re+1<J.npart_s),ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),Se<ee[re+1]&&(Se=ee[re+1]),vt(J.numlines_s[re-1]+J.numlines_s[re]+J.numlines_s[re+1]-1>0),ye=20*(Se*3-ye)/(ye*(J.numlines_s[re-1]+J.numlines_s[re]+J.numlines_s[re+1]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;if(vt(re==J.npart_s-1),ye=oe[re-1]+oe[re],ye>0){var Se=ee[re-1];Se<ee[re]&&(Se=ee[re]),vt(J.numlines_s[re-1]+J.numlines_s[re]-1>0),ye=20*(Se*2-ye)/(ye*(J.numlines_s[re-1]+J.numlines_s[re]-1));var ge=0|ye;ge>he&&(ge=he),ue[re]=ge}else ue[re]=0;vt(re==J.npart_s-1)}function A(J,ee,oe,ue,he,re){var ye=J.internal_flags,Se=new float[Oe.CBANDS],ge=sn(Oe.CBANDS),Te,xe,Me,Ye=new int[Oe.CBANDS];for(Me=xe=0;Me<ye.npart_s;++Me){var ot=0,Fe=0,rt=ye.numlines_s[Me];for(Te=0;Te<rt;++Te,++xe){var Ae=ee[re][xe];ot+=Ae,Fe<Ae&&(Fe=Ae)}oe[Me]=ot,Se[Me]=Fe,ge[Me]=ot/rt,vt(ge[Me]>=0)}for(vt(Me==ye.npart_s);Me<Oe.CBANDS;++Me)Se[Me]=0,ge[Me]=0;for(se(ye,Se,ge,Ye),xe=Me=0;Me<ye.npart_s;Me++){var Ze=ye.s3ind_s[Me][0],ht=ye.s3ind_s[Me][1],Be,Qe,ze,st,Rt;for(Be=Ye[Ze],Qe=1,st=ye.s3_ss[xe]*oe[Ze]*V[Ye[Ze]],++xe,++Ze;Ze<=ht;)Be+=Ye[Ze],Qe+=1,ze=ye.s3_ss[xe]*oe[Ze]*V[Ye[Ze]],st=W(st,ze,Ze-Me),++xe,++Ze;Be=(1+2*Be)/(2*Qe),Rt=V[Be]*.5,st*=Rt,ue[Me]=st,ye.nb_s2[he][Me]=ye.nb_s1[he][Me],ye.nb_s1[he][Me]=st,ze=Se[Me],ze*=ye.minval_s[Me],ze*=Rt,ue[Me]>ze&&(ue[Me]=ze),ye.masking_lower>1&&(ue[Me]*=ye.masking_lower),ue[Me]>oe[Me]&&(ue[Me]=oe[Me]),ye.masking_lower<1&&(ue[Me]*=ye.masking_lower),vt(ue[Me]>=0)}for(;Me<Oe.CBANDS;++Me)oe[Me]=0,ue[Me]=0}function H(J,ee,oe,ue,he){var re=sn(Oe.CBANDS),ye=sn(Oe.CBANDS),Se=mi(Oe.CBANDS+2),ge;te(J,ee,oe,re,ye),ce(J,re,ye,Se);var Te=0;for(ge=0;ge<J.npart_l;ge++){var xe,Me,Ye,ot,Fe=J.s3ind[ge][0],rt=J.s3ind[ge][1],Ae=0,Ze=0;for(Ae=Se[Fe],Ze+=1,Me=J.s3_ll[Te]*oe[Fe]*V[Se[Fe]],++Te,++Fe;Fe<=rt;)Ae+=Se[Fe],Ze+=1,xe=J.s3_ll[Te]*oe[Fe]*V[Se[Fe]],ot=W(Me,xe,Fe-ge),Me=ot,++Te,++Fe;if(Ae=(1+2*Ae)/(2*Ze),Ye=V[Ae]*.5,Me*=Ye,J.blocktype_old[he&1]==Oe.SHORT_TYPE){var ht=s*J.nb_1[he][ge];ht>0?ue[ge]=Math.min(Me,ht):ue[ge]=Math.min(Me,oe[ge]*w)}else{var Be=o*J.nb_2[he][ge],Qe=s*J.nb_1[he][ge],ht;Be<=0&&(Be=Me),Qe<=0&&(Qe=Me),J.blocktype_old[he&1]==Oe.NORM_TYPE?ht=Math.min(Qe,Be):ht=Qe,ue[ge]=Math.min(Me,ht)}J.nb_2[he][ge]=J.nb_1[he][ge],J.nb_1[he][ge]=Me,xe=re[ge],xe*=J.minval_l[ge],xe*=Ye,ue[ge]>xe&&(ue[ge]=xe),J.masking_lower>1&&(ue[ge]*=J.masking_lower),ue[ge]>oe[ge]&&(ue[ge]=oe[ge]),J.masking_lower<1&&(ue[ge]*=J.masking_lower),vt(ue[ge]>=0)}for(;ge<Oe.CBANDS;++ge)oe[ge]=0,ue[ge]=0}function be(J,ee){var oe=J.internal_flags;J.short_blocks==mo.short_block_coupled&&!(ee[0]!=0&&ee[1]!=0)&&(ee[0]=ee[1]=0);for(var ue=0;ue<oe.channels_out;ue++)J.short_blocks==mo.short_block_dispensed&&(ee[ue]=1),J.short_blocks==mo.short_block_forced&&(ee[ue]=0)}function fe(J,ee,oe){for(var ue=J.internal_flags,he=0;he<ue.channels_out;he++){var re=Oe.NORM_TYPE;ee[he]!=0?(vt(ue.blocktype_old[he]!=Oe.START_TYPE),ue.blocktype_old[he]==Oe.SHORT_TYPE&&(re=Oe.STOP_TYPE)):(re=Oe.SHORT_TYPE,ue.blocktype_old[he]==Oe.NORM_TYPE&&(ue.blocktype_old[he]=Oe.START_TYPE),ue.blocktype_old[he]==Oe.STOP_TYPE&&(ue.blocktype_old[he]=Oe.SHORT_TYPE)),oe[he]=ue.blocktype_old[he],ue.blocktype_old[he]=re}}function De(J,ee,oe,ue,he,re,ye){for(var Se=re*2,ge=re>0?Math.pow(10,he):1,Te,xe,Me=0;Me<ye;++Me){var Ye=J[2][Me],ot=J[3][Me],Fe=ee[0][Me],rt=ee[1][Me],Ae=ee[2][Me],Ze=ee[3][Me];if(Fe<=1.58*rt&&rt<=1.58*Fe){var ht=oe[Me]*ot,Be=oe[Me]*Ye;xe=Math.max(Ae,Math.min(Ze,ht)),Te=Math.max(Ze,Math.min(Ae,Be))}else xe=Ae,Te=Ze;if(re>0){var Qe,ze,st=ue[Me]*ge;if(Qe=Math.min(Math.max(Fe,st),Math.max(rt,st)),Ae=Math.max(xe,st),Ze=Math.max(Te,st),ze=Ae+Ze,ze>0&&Qe*Se<ze){var Rt=Qe*Se/ze;Ae*=Rt,Ze*=Rt}xe=Math.min(Ae,xe),Te=Math.min(Ze,Te)}xe>Ye&&(xe=Ye),Te>ot&&(Te=ot),ee[2][Me]=xe,ee[3][Me]=Te}}this.L3psycho_anal_vbr=function(J,ee,oe,ue,he,re,ye,Se,ge,Te){var xe=J.internal_flags,Me,Ye,ot=sn(Oe.HBLKSIZE),Fe=lr([3,Oe.HBLKSIZE_s]),rt=lr([2,Oe.BLKSIZE]),Ae=lr([2,3,Oe.BLKSIZE_s]),Ze=lr([4,Oe.CBANDS]),ht=lr([4,Oe.CBANDS]),Be=lr([4,3]),Qe=.6,ze=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],st=mi(2),Rt=J.mode==e.JOINT_STEREO?4:xe.channels_out;ve(J,ee,oe,ue,he,re,ge,Be,ze,st),be(J,st);{for(var Ge=0;Ge<Rt;Ge++){var ut=Ge&1;Me=rt,Ce(J,ee,oe,Ge,ue,ot,Me,ut),Ve(J,ue,Ge,ot),st[ut]!=0?H(xe,ot,Ze[Ge],ht[Ge],Ge):ie(xe,Ge)}st[0]+st[1]==2&&J.mode==e.JOINT_STEREO&&De(Ze,ht,xe.mld_cb_l,xe.ATH.cb_l,J.ATHlower*xe.ATH.adjust,J.msfix,xe.npart_l);for(var Ge=0;Ge<Rt;Ge++){var ut=Ge&1;st[ut]!=0&&X(xe,Ze[Ge],ht[Ge],Ge)}}{for(var _t=0;_t<3;_t++){for(var Ge=0;Ge<Rt;++Ge){var ut=Ge&1;st[ut]!=0?pe(xe,Ge,_t):(Ye=Ae,je(J,ee,oe,Ge,_t,Fe,Ye,ut),A(J,Fe,Ze[Ge],ht[Ge],Ge,_t))}st[0]+st[1]==0&&J.mode==e.JOINT_STEREO&&De(Ze,ht,xe.mld_cb_s,xe.ATH.cb_s,J.ATHlower*xe.ATH.adjust,J.msfix,xe.npart_s);for(var Ge=0;Ge<Rt;++Ge){var ut=Ge&1;st[ut]==0&&K(xe,Ze[Ge],ht[Ge],Ge,_t)}}for(var Ge=0;Ge<Rt;Ge++){var ut=Ge&1;if(st[ut]==0)for(var It=0;It<Oe.SBMAX_s;It++){for(var Tn=sn(3),_t=0;_t<3;_t++){var Pt=xe.thm[Ge].s[It][_t];if(Pt*=f,ze[Ge][_t]>=2||ze[Ge][_t+1]==1){var Nt=_t!=0?_t-1:2,hn=O(xe.thm[Ge].s[It][Nt],Pt,h*Qe);Pt=Math.min(Pt,hn)}else if(ze[Ge][_t]==1){var Nt=_t!=0?_t-1:2,hn=O(xe.thm[Ge].s[It][Nt],Pt,w*Qe);Pt=Math.min(Pt,hn)}else if(_t!=0&&ze[Ge][_t-1]==3||_t==0&&xe.nsPsy.lastAttacks[Ge]==3){var Nt=_t!=2?_t+1:0,hn=O(xe.thm[Ge].s[It][Nt],Pt,w*Qe);Pt=Math.min(Pt,hn)}Pt*=Be[Ge][_t],Tn[_t]=Pt}for(var _t=0;_t<3;_t++)xe.thm[Ge].s[It][_t]=Tn[_t]}}}for(var Ge=0;Ge<Rt;Ge++)xe.nsPsy.lastAttacks[Ge]=ze[Ge][2];fe(J,st,Te);for(var Ge=0;Ge<Rt;Ge++){var Pn,yn,On,In;Ge>1?(Pn=Se,yn=-2,On=Oe.NORM_TYPE,(Te[0]==Oe.SHORT_TYPE||Te[1]==Oe.SHORT_TYPE)&&(On=Oe.SHORT_TYPE),In=re[ue][Ge-2]):(Pn=ye,yn=0,On=Te[Ge],In=he[ue][Ge]),On==Oe.SHORT_TYPE?Pn[yn+Ge]=$(In,xe.masking_lower):Pn[yn+Ge]=le(In,xe.masking_lower),J.analysis&&(xe.pinfo.pe[ue][Ge]=Pn[yn+Ge])}return 0};function Ie(J,ee){var oe=J,ue;return oe>=0?ue=-oe*27:ue=oe*ee,ue<=-72?0:Math.exp(ue*_)}function Pe(J){var ee=0,oe=0;{var ue=0,he,re;for(ue=0;Ie(ue,J)>1e-20;ue-=1);for(he=ue,re=0;Math.abs(re-he)>1e-12;)ue=(re+he)/2,Ie(ue,J)>0?re=ue:he=ue;ee=he}{var ue=0,he,re;for(ue=0;Ie(ue,J)>1e-20;ue+=1);for(he=0,re=ue;Math.abs(re-he)>1e-12;)ue=(re+he)/2,Ie(ue,J)>0?he=ue:re=ue;oe=re}{var ye=0,Se=1e3,ge;for(ge=0;ge<=Se;++ge){var ue=ee+ge*(oe-ee)/Se,Te=Ie(ue,J);ye+=Te}{var xe=(Se+1)/(ye*(oe-ee));return xe}}}function Le(J){var ee,oe,ue,he;return ee=J,ee>=0?ee*=3:ee*=1.5,ee>=.5&&ee<=2.5?(he=ee-.5,oe=8*(he*he-2*he)):oe=0,ee+=.474,ue=15.811389+7.5*ee-17.5*Math.sqrt(1+ee*ee),ue<=-60?0:(ee=Math.exp((oe+ue)*_),ee/=.6609193,ee)}function qe(J){return J<0&&(J=0),J=J*.001,13*Math.atan(.76*J)+3.5*Math.atan(J*J/(7.5*7.5))}function Ue(J,ee,oe,ue,he,re,ye,Se,ge,Te,xe,Me){var Ye=sn(Oe.CBANDS+1),ot=Se/(Me>15?2*576:384),Fe=mi(Oe.HBLKSIZE),rt;Se/=ge;var Ae=0,Ze=0;for(rt=0;rt<Oe.CBANDS;rt++){var ht,Be;for(ht=qe(Se*Ae),Ye[rt]=Se*Ae,Be=Ae;qe(Se*Be)-ht<c&&Be<=ge/2;Be++);for(J[rt]=Be-Ae,Ze=rt+1;Ae<Be;)vt(Ae<Oe.HBLKSIZE),Fe[Ae++]=rt;if(Ae>ge/2){Ae=ge/2,++rt;break}}vt(rt<Oe.CBANDS),Ye[rt]=Se*Ae;for(var Qe=0;Qe<Me;Qe++){var ze,st,Rt,Ge,ut;Rt=Te[Qe],Ge=Te[Qe+1],ze=0|Math.floor(.5+xe*(Rt-.5)),ze<0&&(ze=0),st=0|Math.floor(.5+xe*(Ge-.5)),st>ge/2&&(st=ge/2),oe[Qe]=(Fe[ze]+Fe[st])/2,ee[Qe]=Fe[st];var _t=ot*Ge;ye[Qe]=(_t-Ye[ee[Qe]])/(Ye[ee[Qe]+1]-Ye[ee[Qe]]),ye[Qe]<0?ye[Qe]=0:ye[Qe]>1&&(ye[Qe]=1),ut=qe(Se*Te[Qe]*xe),ut=Math.min(ut,15.5)/15.5,re[Qe]=Math.pow(10,1.25*(1-Math.cos(Math.PI*ut))-2.5)}Ae=0;for(var It=0;It<Ze;It++){var Tn=J[It],ht,Pt;ht=qe(Se*Ae),Pt=qe(Se*(Ae+Tn-1)),ue[It]=.5*(ht+Pt),ht=qe(Se*(Ae-.5)),Pt=qe(Se*(Ae+Tn-.5)),he[It]=Pt-ht,Ae+=Tn}return Ze}function Ee(J,ee,oe,ue,he,re){var ye=lr([Oe.CBANDS,Oe.CBANDS]),Se,ge=0;if(re)for(var Te=0;Te<ee;Te++)for(Se=0;Se<ee;Se++){var xe=Le(oe[Te]-oe[Se])*ue[Se];ye[Te][Se]=xe*he[Te]}else for(Se=0;Se<ee;Se++)for(var Me=15+Math.min(21/oe[Se],12),Ye=Pe(Me),Te=0;Te<ee;Te++){var xe=Ye*Ie(oe[Te]-oe[Se],Me)*ue[Se];ye[Te][Se]=xe*he[Te]}for(var Te=0;Te<ee;Te++){for(Se=0;Se<ee&&!(ye[Te][Se]>0);Se++);for(J[Te][0]=Se,Se=ee-1;Se>0&&!(ye[Te][Se]>0);Se--);J[Te][1]=Se,ge+=J[Te][1]-J[Te][0]+1}for(var ot=sn(ge),Fe=0,Te=0;Te<ee;Te++)for(Se=J[Te][0];Se<=J[Te][1];Se++)ot[Fe++]=ye[Te][Se];return ot}function tt(J){var ee=qe(J);return ee=Math.min(ee,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*ee))-2.5)}this.psymodel_init=function(J){var ee=J.internal_flags,oe,ue=!0,he=13,re=24,ye=0,Se=0,ge=-8.25,Te=-4.5,xe=sn(Oe.CBANDS),Me=sn(Oe.CBANDS),Ye=sn(Oe.CBANDS),ot=J.out_samplerate;switch(J.experimentalZ){default:case 0:ue=!0;break;case 1:ue=!(J.VBR==po.vbr_mtrh||J.VBR==po.vbr_mt);break;case 2:ue=!1;break;case 3:he=8,ye=-1.75,Se=-.0125,ge=-8.25,Te=-2.25;break}for(ee.ms_ener_ratio_old=.25,ee.blocktype_old[0]=ee.blocktype_old[1]=Oe.NORM_TYPE,oe=0;oe<4;++oe){for(var Ae=0;Ae<Oe.CBANDS;++Ae)ee.nb_1[oe][Ae]=1e20,ee.nb_2[oe][Ae]=1e20,ee.nb_s1[oe][Ae]=ee.nb_s2[oe][Ae]=1;for(var Fe=0;Fe<Oe.SBMAX_l;Fe++)ee.en[oe].l[Fe]=1e20,ee.thm[oe].l[Fe]=1e20;for(var Ae=0;Ae<3;++Ae){for(var Fe=0;Fe<Oe.SBMAX_s;Fe++)ee.en[oe].s[Fe][Ae]=1e20,ee.thm[oe].s[Fe][Ae]=1e20;ee.nsPsy.lastAttacks[oe]=0}for(var Ae=0;Ae<9;Ae++)ee.nsPsy.last_en_subshort[oe][Ae]=10}for(ee.loudness_sq_save[0]=ee.loudness_sq_save[1]=0,ee.npart_l=Ue(ee.numlines_l,ee.bo_l,ee.bm_l,xe,Me,ee.mld_l,ee.PSY.bo_l_weight,ot,Oe.BLKSIZE,ee.scalefac_band.l,Oe.BLKSIZE/(2*576),Oe.SBMAX_l),vt(ee.npart_l<Oe.CBANDS),oe=0;oe<ee.npart_l;oe++){var rt=ye;xe[oe]>=he&&(rt=Se*(xe[oe]-he)/(re-he)+ye*(re-xe[oe])/(re-he)),Ye[oe]=Math.pow(10,rt/10),ee.numlines_l[oe]>0?ee.rnumlines_l[oe]=1/ee.numlines_l[oe]:ee.rnumlines_l[oe]=0}ee.s3_ll=Ee(ee.s3ind,ee.npart_l,xe,Me,Ye,ue);var Ae=0;for(oe=0;oe<ee.npart_l;oe++){var Ze;Ze=_2.MAX_VALUE;for(var ht=0;ht<ee.numlines_l[oe];ht++,Ae++){var Be=ot*Ae/(1e3*Oe.BLKSIZE),Qe;Qe=this.ATHformula(Be*1e3,J)-20,Qe=Math.pow(10,.1*Qe),Qe*=ee.numlines_l[oe],Ze>Qe&&(Ze=Qe)}ee.ATH.cb_l[oe]=Ze,Ze=-20+xe[oe]*20/10,Ze>6&&(Ze=100),Ze<-15&&(Ze=-15),Ze-=8,ee.minval_l[oe]=Math.pow(10,Ze/10)*ee.numlines_l[oe]}for(ee.npart_s=Ue(ee.numlines_s,ee.bo_s,ee.bm_s,xe,Me,ee.mld_s,ee.PSY.bo_s_weight,ot,Oe.BLKSIZE_s,ee.scalefac_band.s,Oe.BLKSIZE_s/384,Oe.SBMAX_s),vt(ee.npart_s<Oe.CBANDS),Ae=0,oe=0;oe<ee.npart_s;oe++){var Ze,rt=ge;xe[oe]>=he&&(rt=Te*(xe[oe]-he)/(re-he)+ge*(re-xe[oe])/(re-he)),Ye[oe]=Math.pow(10,rt/10),Ze=_2.MAX_VALUE;for(var ht=0;ht<ee.numlines_s[oe];ht++,Ae++){var Be=ot*Ae/(1e3*Oe.BLKSIZE_s),Qe;Qe=this.ATHformula(Be*1e3,J)-20,Qe=Math.pow(10,.1*Qe),Qe*=ee.numlines_s[oe],Ze>Qe&&(Ze=Qe)}ee.ATH.cb_s[oe]=Ze,Ze=-7+xe[oe]*7/12,xe[oe]>12&&(Ze*=1+Math.log(1+Ze)*3.1),xe[oe]<12&&(Ze*=1+Math.log(1-Ze)*2.3),Ze<-15&&(Ze=-15),Ze-=8,ee.minval_s[oe]=Math.pow(10,Ze/10)*ee.numlines_s[oe]}ee.s3_ss=Ee(ee.s3ind_s,ee.npart_s,xe,Me,Ye,ue),Y(),t.init_fft(ee),ee.decay=Math.exp(-1*n/(p*ot/192));{var ze;ze=b,J.exp_nspsytune&2&&(ze=1),Math.abs(J.msfix)>0&&(ze=J.msfix),J.msfix=ze;for(var st=0;st<ee.npart_l;st++)ee.s3ind[st][1]>ee.npart_l-1&&(ee.s3ind[st][1]=ee.npart_l-1)}var Rt=576*ee.mode_gr/ot;if(ee.ATH.decay=Math.pow(10,-12/10*Rt),ee.ATH.adjust=.01,ee.ATH.adjustLimit=1,vt(ee.bo_l[Oe.SBMAX_l-1]<=ee.npart_l),vt(ee.bo_s[Oe.SBMAX_s-1]<=ee.npart_s),J.ATHtype!=-1){var Be,Ge=J.out_samplerate/Oe.BLKSIZE,ut=0;for(Be=0,oe=0;oe<Oe.BLKSIZE/2;++oe)Be+=Ge,ee.ATH.eql_w[oe]=1/Math.pow(10,this.ATHformula(Be,J)/10),ut+=ee.ATH.eql_w[oe];for(ut=1/ut,oe=Oe.BLKSIZE/2;--oe>=0;)ee.ATH.eql_w[oe]*=ut}{for(var st=Ae=0;st<ee.npart_s;++st)for(oe=0;oe<ee.numlines_s[st];++oe)++Ae;for(var st=Ae=0;st<ee.npart_l;++st)for(oe=0;oe<ee.numlines_l[st];++oe)++Ae}for(Ae=0,oe=0;oe<ee.npart_l;oe++){var Be=ot*(Ae+ee.numlines_l[oe]/2)/(1*Oe.BLKSIZE);ee.mld_cb_l[oe]=tt(Be),Ae+=ee.numlines_l[oe]}for(;oe<Oe.CBANDS;++oe)ee.mld_cb_l[oe]=1;for(Ae=0,oe=0;oe<ee.npart_s;oe++){var Be=ot*(Ae+ee.numlines_s[oe]/2)/(1*Oe.BLKSIZE_s);ee.mld_cb_s[oe]=tt(Be),Ae+=ee.numlines_s[oe]}for(;oe<Oe.CBANDS;++oe)ee.mld_cb_s[oe]=1;return 0};function ct(J,ee){J<-.3&&(J=3410),J/=1e3,J=Math.max(.1,J);var oe=3.64*Math.pow(J,-.8)-6.8*Math.exp(-.6*Math.pow(J-3.4,2))+6*Math.exp(-.15*Math.pow(J-8.7,2))+(.6+.04*ee)*.001*Math.pow(J,4);return oe}this.ATHformula=function(J,ee){var oe;switch(ee.ATHtype){case 0:oe=ct(J,9);break;case 1:oe=ct(J,-1);break;case 2:oe=ct(J,0);break;case 3:oe=ct(J,1)+6;break;case 4:oe=ct(J,ee.ATHcurve);break;default:oe=ct(J,0);break}return oe}}var iT=sT,oT=xl;function aT(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=oT.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var lT=aT,cT=Rn(),s3={};s3.SFBMAX=cT.SBMAX_s*3;var ed=s3,i3=Ht,uT=i3.new_float,gi=i3.new_int,yh=ed;function dT(){this.xr=uT(576),this.l3_enc=gi(576),this.scalefac=gi(yh.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=gi(3),this.subblock_gain=gi(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=gi(yh.SFBMAX),this.window=gi(yh.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=gi(4),this.max_nonzero_coeff=0;var e=this;function t(s){return new Int32Array(s)}function n(s){return new Float32Array(s)}this.assign=function(s){e.xr=n(s.xr),e.l3_enc=t(s.l3_enc),e.scalefac=t(s.scalefac),e.xrpow_max=s.xrpow_max,e.part2_3_length=s.part2_3_length,e.big_values=s.big_values,e.count1=s.count1,e.global_gain=s.global_gain,e.scalefac_compress=s.scalefac_compress,e.block_type=s.block_type,e.mixed_block_flag=s.mixed_block_flag,e.table_select=t(s.table_select),e.subblock_gain=t(s.subblock_gain),e.region0_count=s.region0_count,e.region1_count=s.region1_count,e.preflag=s.preflag,e.scalefac_scale=s.scalefac_scale,e.count1table_select=s.count1table_select,e.part2_length=s.part2_length,e.sfb_lmax=s.sfb_lmax,e.sfb_smin=s.sfb_smin,e.psy_lmax=s.psy_lmax,e.sfbmax=s.sfbmax,e.psymax=s.psymax,e.sfbdivide=s.sfbdivide,e.width=t(s.width),e.window=t(s.window),e.count1bits=s.count1bits,e.sfb_partition_table=s.sfb_partition_table.slice(0),e.slen=t(s.slen),e.max_nonzero_coeff=s.max_nonzero_coeff}}var Lm=dT,fT=Ht,w2=fT.new_int,hT=Lm;function pT(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[w2(4),w2(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new hT}var mT=pT,o3=Ht,zc=o3.System,Wc=o3.new_int,Hc=Rn();function gT(e,t,n,s){this.l=Wc(1+Hc.SBMAX_l),this.s=Wc(1+Hc.SBMAX_s),this.psfb21=Wc(1+Hc.PSFB21),this.psfb12=Wc(1+Hc.PSFB12);var o=this.l,a=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],zc.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),zc.arraycopy(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),zc.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),zc.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var a3=gT,Bm=Ht,_h=Bm.new_float,vT=Bm.new_float_n,yT=Bm.new_int,b2=Rn();function _T(){this.last_en_subshort=vT([4,9]),this.lastAttacks=yT(4),this.pefirbuf=_h(19),this.longfact=_h(b2.SBMAX_l),this.shortfact=_h(b2.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var wT=_T;function bT(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var xT=bT,Ko=Ht,ST=Ko.new_byte,ET=Ko.new_double,cr=Ko.new_float,vi=Ko.new_float_n,xr=Ko.new_int,Uc=Ko.new_int_n,CT=mT,kT=a3,RT=wT,TT=xT,x2=n3(),Gt=Rn(),PT=ed;os.MFSIZE=3*1152+Gt.ENCDELAY-Gt.MDCTDELAY;os.MAX_HEADER_BUF=256;os.MAX_BITS_PER_CHANNEL=4095;os.MAX_BITS_PER_GRANULE=7680;os.BPC=320;function os(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=vi([2,os.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new CT,this.ms_ratio=cr(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=xr(2),this.CurrentStep=xr(2),this.masking_lower=0,this.bv_scf=xr(576),this.pseudohalf=xr(PT.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*os.BPC+1),this.itime=ET(2),this.sideinfo_len=0,this.sb_sample=vi([2,2,18,Gt.SBLIMIT]),this.amp_filter=cr(32);function t(){this.write_timing=0,this.ptr=0,this.buf=ST(e)}this.header=new Array(os.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new kT,this.minval_l=cr(Gt.CBANDS),this.minval_s=cr(Gt.CBANDS),this.nb_1=vi([4,Gt.CBANDS]),this.nb_2=vi([4,Gt.CBANDS]),this.nb_s1=vi([4,Gt.CBANDS]),this.nb_s2=vi([4,Gt.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=cr(4),this.loudness_sq=vi([2,2]),this.loudness_sq_save=cr(2),this.mld_l=cr(Gt.SBMAX_l),this.mld_s=cr(Gt.SBMAX_s),this.bm_l=xr(Gt.SBMAX_l),this.bo_l=xr(Gt.SBMAX_l),this.bm_s=xr(Gt.SBMAX_s),this.bo_s=xr(Gt.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Uc([Gt.CBANDS,2]),this.s3ind_s=Uc([Gt.CBANDS,2]),this.numlines_s=xr(Gt.CBANDS),this.numlines_l=xr(Gt.CBANDS),this.rnumlines_l=cr(Gt.CBANDS),this.mld_cb_l=cr(Gt.CBANDS),this.mld_cb_s=cr(Gt.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=cr(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=xr(2),this.nsPsy=new RT,this.VBR_seek_table=new TT,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Uc([16,5]),this.bitrate_blockType_Hist=Uc([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new x2;for(var n=0;n<this.thm.length;n++)this.thm[n]=new x2;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var td=os,MT=Ht,yi=MT.new_float,_i=Rn();function AT(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=yi(_i.SBMAX_l),this.s=yi(_i.SBMAX_s),this.psfb21=yi(_i.PSFB21),this.psfb12=yi(_i.PSFB12),this.cb_l=yi(_i.CBANDS),this.cb_s=yi(_i.CBANDS),this.eql_w=yi(_i.BLKSIZE/2)}var DT=AT,l3=Ht,Un=l3.System,S2=l3.Arrays;qt.STEPS_per_dB=100;qt.MAX_dB=120;qt.GAIN_NOT_ENOUGH_SAMPLES=-24601;qt.GAIN_ANALYSIS_ERROR=0;qt.GAIN_ANALYSIS_OK=1;qt.INIT_GAIN_ANALYSIS_ERROR=0;qt.INIT_GAIN_ANALYSIS_OK=1;qt.YULE_ORDER=10;qt.MAX_ORDER=qt.YULE_ORDER;qt.MAX_SAMP_FREQ=48e3;qt.RMS_WINDOW_TIME_NUMERATOR=1;qt.RMS_WINDOW_TIME_DENOMINATOR=20;qt.MAX_SAMPLES_PER_WINDOW=qt.MAX_SAMP_FREQ*qt.RMS_WINDOW_TIME_NUMERATOR/qt.RMS_WINDOW_TIME_DENOMINATOR+1;function qt(){var e=64.82,t=.95,n=qt.RMS_WINDOW_TIME_NUMERATOR,s=qt.RMS_WINDOW_TIME_DENOMINATOR,o=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],a=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function l(h,w,b,C,_,x){for(;_--!=0;)b[C]=1e-10+h[w+0]*x[0]-b[C-1]*x[1]+h[w-1]*x[2]-b[C-2]*x[3]+h[w-2]*x[4]-b[C-3]*x[5]+h[w-3]*x[6]-b[C-4]*x[7]+h[w-4]*x[8]-b[C-5]*x[9]+h[w-5]*x[10]-b[C-6]*x[11]+h[w-6]*x[12]-b[C-7]*x[13]+h[w-7]*x[14]-b[C-8]*x[15]+h[w-8]*x[16]-b[C-9]*x[17]+h[w-9]*x[18]-b[C-10]*x[19]+h[w-10]*x[20],++C,++w}function c(h,w,b,C,_,x){for(;_--!=0;)b[C]=h[w+0]*x[0]-b[C-1]*x[1]+h[w-1]*x[2]-b[C-2]*x[3]+h[w-2]*x[4],++C,++w}function d(h,w){for(var b=0;b<MAX_ORDER;b++)h.linprebuf[b]=h.lstepbuf[b]=h.loutbuf[b]=h.rinprebuf[b]=h.rstepbuf[b]=h.routbuf[b]=0;switch(0|w){case 48e3:h.reqindex=0;break;case 44100:h.reqindex=1;break;case 32e3:h.reqindex=2;break;case 24e3:h.reqindex=3;break;case 22050:h.reqindex=4;break;case 16e3:h.reqindex=5;break;case 12e3:h.reqindex=6;break;case 11025:h.reqindex=7;break;case 8e3:h.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return h.sampleWindow=0|(w*n+s-1)/s,h.lsum=0,h.rsum=0,h.totsamp=0,S2.ill(h.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(h,w){return d(h,w)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(h.linpre=MAX_ORDER,h.rinpre=MAX_ORDER,h.lstep=MAX_ORDER,h.rstep=MAX_ORDER,h.lout=MAX_ORDER,h.rout=MAX_ORDER,S2.fill(h.B,0),INIT_GAIN_ANALYSIS_OK)};function p(h){return h*h}this.AnalyzeSamples=function(h,w,b,C,_,x,v){var y,m,M,j,L,I,V;if(x==0)return GAIN_ANALYSIS_OK;switch(V=0,L=x,v){case 1:C=w,_=b;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(x<MAX_ORDER?(Un.arraycopy(w,b,h.linprebuf,MAX_ORDER,x),Un.arraycopy(C,_,h.rinprebuf,MAX_ORDER,x)):(Un.arraycopy(w,b,h.linprebuf,MAX_ORDER,MAX_ORDER),Un.arraycopy(C,_,h.rinprebuf,MAX_ORDER,MAX_ORDER));L>0;){I=L>h.sampleWindow-h.totsamp?h.sampleWindow-h.totsamp:L,V<MAX_ORDER?(y=h.linpre+V,m=h.linprebuf,M=h.rinpre+V,j=h.rinprebuf,I>MAX_ORDER-V&&(I=MAX_ORDER-V)):(y=b+V,m=w,M=_+V,j=C),l(m,y,h.lstepbuf,h.lstep+h.totsamp,I,o[h.reqindex]),l(j,M,h.rstepbuf,h.rstep+h.totsamp,I,o[h.reqindex]),c(h.lstepbuf,h.lstep+h.totsamp,h.loutbuf,h.lout+h.totsamp,I,a[h.reqindex]),c(h.rstepbuf,h.rstep+h.totsamp,h.routbuf,h.rout+h.totsamp,I,a[h.reqindex]),y=h.lout+h.totsamp,m=h.loutbuf,M=h.rout+h.totsamp,j=h.routbuf;for(var Y=I%8;Y--!=0;)h.lsum+=p(m[y++]),h.rsum+=p(j[M++]);for(Y=I/8;Y--!=0;)h.lsum+=p(m[y+0])+p(m[y+1])+p(m[y+2])+p(m[y+3])+p(m[y+4])+p(m[y+5])+p(m[y+6])+p(m[y+7]),y+=8,h.rsum+=p(j[M+0])+p(j[M+1])+p(j[M+2])+p(j[M+3])+p(j[M+4])+p(j[M+5])+p(j[M+6])+p(j[M+7]),M+=8;if(L-=I,V+=I,h.totsamp+=I,h.totsamp==h.sampleWindow){var Q=qt.STEPS_per_dB*10*Math.log10((h.lsum+h.rsum)/h.totsamp*.5+1e-37),G=Q<=0?0:0|Q;G>=h.A.length&&(G=h.A.length-1),h.A[G]++,h.lsum=h.rsum=0,Un.arraycopy(h.loutbuf,h.totsamp,h.loutbuf,0,MAX_ORDER),Un.arraycopy(h.routbuf,h.totsamp,h.routbuf,0,MAX_ORDER),Un.arraycopy(h.lstepbuf,h.totsamp,h.lstepbuf,0,MAX_ORDER),Un.arraycopy(h.rstepbuf,h.totsamp,h.rstepbuf,0,MAX_ORDER),h.totsamp=0}if(h.totsamp>h.sampleWindow)return GAIN_ANALYSIS_ERROR}return x<MAX_ORDER?(Un.arraycopy(h.linprebuf,x,h.linprebuf,0,MAX_ORDER-x),Un.arraycopy(h.rinprebuf,x,h.rinprebuf,0,MAX_ORDER-x),Un.arraycopy(w,b,h.linprebuf,MAX_ORDER-x,x),Un.arraycopy(C,_,h.rinprebuf,MAX_ORDER-x,x)):(Un.arraycopy(w,b+x-MAX_ORDER,h.linprebuf,0,MAX_ORDER),Un.arraycopy(C,_+x-MAX_ORDER,h.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function f(h,w){var b,C=0;for(b=0;b<w;b++)C+=h[b];if(C==0)return GAIN_NOT_ENOUGH_SAMPLES;var _=0|Math.ceil(C*(1-t));for(b=w;b-- >0&&!((_-=h[b])<=0););return e-b/qt.STEPS_per_dB}this.GetTitleGain=function(h){for(var w=f(h.A,h.A.length),b=0;b<h.A.length;b++)h.B[b]+=h.A[b],h.A[b]=0;for(var b=0;b<MAX_ORDER;b++)h.linprebuf[b]=h.lstepbuf[b]=h.loutbuf[b]=h.rinprebuf[b]=h.rstepbuf[b]=h.routbuf[b]=0;return h.totsamp=0,h.lsum=h.rsum=0,w}}var c3=qt,u3=Ht,go=u3.new_float,E2=u3.new_int,$n=c3;function NT(){this.linprebuf=go($n.MAX_ORDER*2),this.linpre=0,this.lstepbuf=go($n.MAX_SAMPLES_PER_WINDOW+$n.MAX_ORDER),this.lstep=0,this.loutbuf=go($n.MAX_SAMPLES_PER_WINDOW+$n.MAX_ORDER),this.lout=0,this.rinprebuf=go($n.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=go($n.MAX_SAMPLES_PER_WINDOW+$n.MAX_ORDER),this.rstep=0,this.routbuf=go($n.MAX_SAMPLES_PER_WINDOW+$n.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=E2(0|$n.STEPS_per_dB*$n.MAX_dB),this.B=E2(0|$n.STEPS_per_dB*$n.MAX_dB)}var OT=NT;function IT(e){this.bits=e}var d3=IT,Fm=Ht,C2=Fm.new_float,jT=Fm.new_int,k2=Fm.assert,LT=d3,R2=Rn(),BT=ed,FT=td;function VT(e){var t=e;this.quantize=t,this.iteration_loop=function(n,s,o,a){var l=n.internal_flags,c=C2(BT.SFBMAX),d=C2(576),p=jT(2),f=0,h,w=l.l3_side,b=new LT(f);this.quantize.rv.ResvFrameBegin(n,b),f=b.bits;for(var C=0;C<l.mode_gr;C++){h=this.quantize.qupvt.on_pe(n,s,p,f,C,C),l.mode_ext==R2.MPG_MD_MS_LR&&(this.quantize.ms_convert(l.l3_side,C),this.quantize.qupvt.reduce_side(p,o[C],f,h));for(var _=0;_<l.channels_out;_++){var x,v,y=w.tt[C][_];y.block_type!=R2.SHORT_TYPE?(x=0,v=l.PSY.mask_adjust-x):(x=0,v=l.PSY.mask_adjust_short-x),l.masking_lower=Math.pow(10,v*.1),this.quantize.init_outer_loop(l,y),this.quantize.init_xrpow(l,y,d)&&(this.quantize.qupvt.calc_xmin(n,a[C][_],y,c),this.quantize.outer_loop(n,y,c,d,_,p[_])),this.quantize.iteration_finish_one(l,C,_),k2(y.part2_3_length<=FT.MAX_BITS_PER_CHANNEL),k2(y.part2_3_length<=p[_])}}this.quantize.rv.ResvFrameEnd(l,f)}}var zT=VT;function xt(e,t,n,s){this.xlen=e,this.linmax=t,this.table=n,this.hlen=s}var We={};We.t1HB=[1,1,1,0];We.t2HB=[1,2,1,3,1,1,3,2,0];We.t3HB=[3,2,1,1,1,1,3,2,0];We.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];We.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];We.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];We.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];We.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];We.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];We.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];We.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];We.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];We.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];We.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];We.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];We.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];We.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];We.t1l=[1,4,3,5];We.t2l=[1,4,7,4,5,7,6,7,8];We.t3l=[2,3,7,4,4,7,6,7,8];We.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];We.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];We.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];We.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];We.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];We.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];We.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];We.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];We.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];We.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];We.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];We.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];We.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];We.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];We.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];We.ht=[new xt(0,0,null,null),new xt(2,0,We.t1HB,We.t1l),new xt(3,0,We.t2HB,We.t2l),new xt(3,0,We.t3HB,We.t3l),new xt(0,0,null,null),new xt(4,0,We.t5HB,We.t5l),new xt(4,0,We.t6HB,We.t6l),new xt(6,0,We.t7HB,We.t7l),new xt(6,0,We.t8HB,We.t8l),new xt(6,0,We.t9HB,We.t9l),new xt(8,0,We.t10HB,We.t10l),new xt(8,0,We.t11HB,We.t11l),new xt(8,0,We.t12HB,We.t12l),new xt(16,0,We.t13HB,We.t13l),new xt(0,0,null,We.t16_5l),new xt(16,0,We.t15HB,We.t15l),new xt(1,1,We.t16HB,We.t16l),new xt(2,3,We.t16HB,We.t16l),new xt(3,7,We.t16HB,We.t16l),new xt(4,15,We.t16HB,We.t16l),new xt(6,63,We.t16HB,We.t16l),new xt(8,255,We.t16HB,We.t16l),new xt(10,1023,We.t16HB,We.t16l),new xt(13,8191,We.t16HB,We.t16l),new xt(4,15,We.t24HB,We.t24l),new xt(5,31,We.t24HB,We.t24l),new xt(6,63,We.t24HB,We.t24l),new xt(7,127,We.t24HB,We.t24l),new xt(8,255,We.t24HB,We.t24l),new xt(9,511,We.t24HB,We.t24l),new xt(11,2047,We.t24HB,We.t24l),new xt(13,8191,We.t24HB,We.t24l),new xt(0,0,We.t32HB,We.t32l),new xt(0,0,We.t33HB,We.t33l)];We.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];We.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];We.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];We.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];We.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];We.scfsi_band=[0,6,11,16,21];var Vm=We,wh,T2;function f3(){if(T2)return wh;T2=1;var e=a3,t=Ht,n=t.VbrMode,s=t.Float,o=t.Util,a=t.new_float,l=t.new_int,c=t.assert,d=Rn(),p=d3,f=td;h.Q_MAX=257,h.Q_MAX2=116,h.LARGE_BITS=1e5,h.IXMAX_VAL=8206;function h(){var w=zm(),b=null,C=null,_=null;this.setModules=function(W,ne,q){b=W,C=ne,_=q};function x(W){return c(0<=W+h.Q_MAX2&&W<h.Q_MAX),V[W+h.Q_MAX2]}this.IPOW20=function(W){return c(0<=W&&W<h.Q_MAX),Y[W]};var v=2220446049250313e-31,y=h.IXMAX_VAL,m=y+2,M=h.Q_MAX,j=h.Q_MAX2;h.LARGE_BITS;var L=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var I=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=I,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var V=a(M+j+1),Y=a(M),Q=a(m),G=a(m);this.adj43=G;function T(W,ne){var q=_.ATHformula(ne,W);return q-=L,q=Math.pow(10,q/10+W.ATHlower),q}function z(W){for(var ne=W.internal_flags.ATH.l,q=W.internal_flags.ATH.psfb21,U=W.internal_flags.ATH.s,K=W.internal_flags.ATH.psfb12,X=W.internal_flags,E=W.out_samplerate,k=0;k<d.SBMAX_l;k++){var O=X.scalefac_band.l[k],F=X.scalefac_band.l[k+1];ne[k]=s.MAX_VALUE;for(var $=O;$<F;$++){var ae=$*E/1152,le=T(W,ae);ne[k]=Math.min(ne[k],le)}}for(var k=0;k<d.PSFB21;k++){var O=X.scalefac_band.psfb21[k],F=X.scalefac_band.psfb21[k+1];q[k]=s.MAX_VALUE;for(var $=O;$<F;$++){var ae=$*E/1152,le=T(W,ae);q[k]=Math.min(q[k],le)}}for(var k=0;k<d.SBMAX_s;k++){var O=X.scalefac_band.s[k],F=X.scalefac_band.s[k+1];U[k]=s.MAX_VALUE;for(var $=O;$<F;$++){var ae=$*E/384,le=T(W,ae);U[k]=Math.min(U[k],le)}U[k]*=X.scalefac_band.s[k+1]-X.scalefac_band.s[k]}for(var k=0;k<d.PSFB12;k++){var O=X.scalefac_band.psfb12[k],F=X.scalefac_band.psfb12[k+1];K[k]=s.MAX_VALUE;for(var $=O;$<F;$++){var ae=$*E/384,le=T(W,ae);K[k]=Math.min(K[k],le)}K[k]*=X.scalefac_band.s[13]-X.scalefac_band.s[12]}if(W.noATH){for(var k=0;k<d.SBMAX_l;k++)ne[k]=1e-20;for(var k=0;k<d.PSFB21;k++)q[k]=1e-20;for(var k=0;k<d.SBMAX_s;k++)U[k]=1e-20;for(var k=0;k<d.PSFB12;k++)K[k]=1e-20}X.ATH.floor=10*Math.log10(T(W,-1))}this.iteration_init=function(W){var ne=W.internal_flags,q=ne.l3_side,U;if(ne.iteration_init_init==0){for(ne.iteration_init_init=1,q.main_data_begin=0,z(W),Q[0]=0,U=1;U<m;U++)Q[U]=Math.pow(U,4/3);for(U=0;U<m-1;U++)G[U]=U+1-Math.pow(.5*(Q[U]+Q[U+1]),.75);for(G[U]=.5,U=0;U<M;U++)Y[U]=Math.pow(2,(U-210)*-.1875);for(U=0;U<=M+j;U++)V[U]=Math.pow(2,(U-210-j)*.25);b.huffman_init(ne);{var K,X,E,k;for(U=W.exp_nspsytune>>2&63,U>=32&&(U-=64),K=Math.pow(10,U/4/10),U=W.exp_nspsytune>>8&63,U>=32&&(U-=64),X=Math.pow(10,U/4/10),U=W.exp_nspsytune>>14&63,U>=32&&(U-=64),E=Math.pow(10,U/4/10),U=W.exp_nspsytune>>20&63,U>=32&&(U-=64),k=E*Math.pow(10,U/4/10),U=0;U<d.SBMAX_l;U++){var O;U<=6?O=K:U<=13?O=X:U<=20?O=E:O=k,ne.nsPsy.longfact[U]=O}for(U=0;U<d.SBMAX_s;U++){var O;U<=5?O=K:U<=10?O=X:U<=11?O=E:O=k,ne.nsPsy.shortfact[U]=O}}}},this.on_pe=function(W,ne,q,U,K,X){var E=W.internal_flags,k=0,O,F=l(2),$,ae=new p(k),le=C.ResvMaxBits(W,U,ae,X);k=ae.bits;var te=k+le;for(te>f.MAX_BITS_PER_GRANULE&&(te=f.MAX_BITS_PER_GRANULE),O=0,$=0;$<E.channels_out;++$)q[$]=Math.min(f.MAX_BITS_PER_CHANNEL,k/E.channels_out),F[$]=0|q[$]*ne[K][$]/700-q[$],F[$]>U*3/4&&(F[$]=U*3/4),F[$]<0&&(F[$]=0),F[$]+q[$]>f.MAX_BITS_PER_CHANNEL&&(F[$]=Math.max(0,f.MAX_BITS_PER_CHANNEL-q[$])),O+=F[$];if(O>le)for($=0;$<E.channels_out;++$)F[$]=le*F[$]/O;for($=0;$<E.channels_out;++$)q[$]+=F[$],le-=F[$];for(O=0,$=0;$<E.channels_out;++$)O+=q[$];if(O>f.MAX_BITS_PER_GRANULE){var ce=0;for($=0;$<E.channels_out;++$)q[$]*=f.MAX_BITS_PER_GRANULE,q[$]/=O,ce+=q[$]}return te},this.reduce_side=function(W,ne,q,U){c(W[0]+W[1]<=f.MAX_BITS_PER_GRANULE);var K=.33*(.5-ne)/.5;K<0&&(K=0),K>.5&&(K=.5);var X=0|K*.5*(W[0]+W[1]);X>f.MAX_BITS_PER_CHANNEL-W[0]&&(X=f.MAX_BITS_PER_CHANNEL-W[0]),X<0&&(X=0),W[1]>=125&&(W[1]-X>125?(W[0]<q&&(W[0]+=X),W[1]-=X):(W[0]+=W[1]-125,W[1]=125)),X=W[0]+W[1],X>U&&(W[0]=U*W[0]/X,W[1]=U*W[1]/X),c(W[0]<=f.MAX_BITS_PER_CHANNEL),c(W[1]<=f.MAX_BITS_PER_CHANNEL),c(W[0]+W[1]<=f.MAX_BITS_PER_GRANULE)},this.athAdjust=function(W,ne,q){var U=90.30873362,K=94.82444863,X=o.FAST_LOG10_X(ne,10),E=W*W,k=0;return X-=q,E>1e-20&&(k=1+o.FAST_LOG10_X(E,10/U)),k<0&&(k=0),X*=k,X+=q+U-K,Math.pow(10,.1*X)},this.calc_xmin=function(W,ne,q,U){var K=0,X=W.internal_flags,E,k=0,O=0,F=X.ATH,$=q.xr,ae=W.VBR==n.vbr_mtrh?1:0,le=X.masking_lower;for((W.VBR==n.vbr_mtrh||W.VBR==n.vbr_mt)&&(le=1),E=0;E<q.psy_lmax;E++){var te,ce,we,Ce,je,Ve;W.VBR==n.vbr_rh||W.VBR==n.vbr_mtrh?ce=athAdjust(F.adjust,F.l[E],F.floor):ce=F.adjust*F.l[E],je=q.width[E],we=ce/je,Ce=v,Ve=je>>1,te=0;do{var B,ve;B=$[k]*$[k],te+=B,Ce+=B<we?B:we,k++,ve=$[k]*$[k],te+=ve,Ce+=ve<we?ve:we,k++}while(--Ve>0);if(te>ce&&O++,E==d.SBPSY_l){var pe=ce*X.nsPsy.longfact[E];Ce<pe&&(Ce=pe)}if(ae!=0&&(ce=Ce),!W.ATHonly){var ie=ne.en.l[E];if(ie>0){var pe;pe=te*ne.thm.l[E]*le/ie,ae!=0&&(pe*=X.nsPsy.longfact[E]),ce<pe&&(ce=pe)}}ae!=0?U[K++]=ce:U[K++]=ce*X.nsPsy.longfact[E]}var se=575;if(q.block_type!=d.SHORT_TYPE)for(var A=576;A--!=0&&w.EQ($[A],0);)se=A;q.max_nonzero_coeff=se;for(var H=q.sfb_smin;E<q.psymax;H++,E+=3){var je,be,fe;for(W.VBR==n.vbr_rh||W.VBR==n.vbr_mtrh?fe=athAdjust(F.adjust,F.s[H],F.floor):fe=F.adjust*F.s[H],je=q.width[E],be=0;be<3;be++){var te=0,ce,we,Ce,Ve=je>>1;we=fe/je,Ce=v;do{var B,ve;B=$[k]*$[k],te+=B,Ce+=B<we?B:we,k++,ve=$[k]*$[k],te+=ve,Ce+=ve<we?ve:we,k++}while(--Ve>0);if(te>fe&&O++,H==d.SBPSY_s){var pe=fe*X.nsPsy.shortfact[H];Ce<pe&&(Ce=pe)}if(ae!=0?ce=Ce:ce=fe,!W.ATHonly&&!W.ATHshort){var ie=ne.en.s[H][be];if(ie>0){var pe;pe=te*ne.thm.s[H][be]*le/ie,ae!=0&&(pe*=X.nsPsy.shortfact[H]),ce<pe&&(ce=pe)}}ae!=0?U[K++]=ce:U[K++]=ce*X.nsPsy.shortfact[H]}W.useTemporal&&(U[K-3]>U[K-3+1]&&(U[K-3+1]+=(U[K-3]-U[K-3+1])*X.decay),U[K-3+1]>U[K-3+2]&&(U[K-3+2]+=(U[K-3+1]-U[K-3+2])*X.decay))}return O};function S(W){this.s=W}this.calc_noise_core=function(W,ne,q,U){var K=0,X=ne.s,E=W.l3_enc;if(X>W.count1)for(;q--!=0;){var k;k=W.xr[X],X++,K+=k*k,k=W.xr[X],X++,K+=k*k}else if(X>W.big_values){var O=a(2);for(O[0]=0,O[1]=U;q--!=0;){var k;k=Math.abs(W.xr[X])-O[E[X]],X++,K+=k*k,k=Math.abs(W.xr[X])-O[E[X]],X++,K+=k*k}}else for(;q--!=0;){var k;k=Math.abs(W.xr[X])-Q[E[X]]*U,X++,K+=k*k,k=Math.abs(W.xr[X])-Q[E[X]]*U,X++,K+=k*k}return ne.s=X,K},this.calc_noise=function(W,ne,q,U,K){var X=0,E=0,k,O,F=0,$=0,ae=0,le=-20,te=0,ce=W.scalefac,we=0;for(U.over_SSD=0,k=0;k<W.psymax;k++){var Ce=W.global_gain-(ce[we++]+(W.preflag!=0?I[k]:0)<<W.scalefac_scale+1)-W.subblock_gain[W.window[k]]*8,je=0;if(K!=null&&K.step[k]==Ce)je=K.noise[k],te+=W.width[k],q[X++]=je/ne[E++],je=K.noise_log[k];else{var Ve=x(Ce);if(O=W.width[k]>>1,te+W.width[k]>W.max_nonzero_coeff){var B;B=W.max_nonzero_coeff-te+1,B>0?O=B>>1:O=0}var ve=new S(te);je=this.calc_noise_core(W,ve,O,Ve),te=ve.s,K!=null&&(K.step[k]=Ce,K.noise[k]=je),je=q[X++]=je/ne[E++],je=o.FAST_LOG10(Math.max(je,1e-20)),K!=null&&(K.noise_log[k]=je)}if(K!=null&&(K.global_gain=W.global_gain),ae+=je,je>0){var pe;pe=Math.max(0|je*10+.5,1),U.over_SSD+=pe*pe,F++,$+=je}le=Math.max(le,je)}return U.over_count=F,U.tot_noise=ae,U.over_noise=$,U.max_noise=le,F},this.set_pinfo=function(W,ne,q,U,K){var X=W.internal_flags,E,k,O,F,$,ae=ne.scalefac_scale==0?.5:1,le=ne.scalefac,te=a(L3Side.SFBMAX),ce=a(L3Side.SFBMAX),we=new CalcNoiseResult;calc_xmin(W,q,ne,te),calc_noise(ne,te,ce,we,null);var Ce=0;for(k=ne.sfb_lmax,ne.block_type!=d.SHORT_TYPE&&ne.mixed_block_flag==0&&(k=22),E=0;E<k;E++){var je=X.scalefac_band.l[E],Ve=X.scalefac_band.l[E+1],B=Ve-je;for(F=0;Ce<Ve;Ce++)F+=ne.xr[Ce]*ne.xr[Ce];F/=B,$=1e15,X.pinfo.en[U][K][E]=$*F,X.pinfo.xfsf[U][K][E]=$*te[E]*ce[E]/B,q.en.l[E]>0&&!W.ATHonly?F=F/q.en.l[E]:F=0,X.pinfo.thr[U][K][E]=$*Math.max(F*q.thm.l[E],X.ATH.l[E]),X.pinfo.LAMEsfb[U][K][E]=0,ne.preflag!=0&&E>=11&&(X.pinfo.LAMEsfb[U][K][E]=-ae*I[E]),E<d.SBPSY_l&&(c(le[E]>=0),X.pinfo.LAMEsfb[U][K][E]-=ae*le[E])}if(ne.block_type==d.SHORT_TYPE)for(k=E,E=ne.sfb_smin;E<d.SBMAX_s;E++)for(var je=X.scalefac_band.s[E],Ve=X.scalefac_band.s[E+1],B=Ve-je,ve=0;ve<3;ve++){for(F=0,O=je;O<Ve;O++)F+=ne.xr[Ce]*ne.xr[Ce],Ce++;F=Math.max(F/B,1e-20),$=1e15,X.pinfo.en_s[U][K][3*E+ve]=$*F,X.pinfo.xfsf_s[U][K][3*E+ve]=$*te[k]*ce[k]/B,q.en.s[E][ve]>0?F=F/q.en.s[E][ve]:F=0,(W.ATHonly||W.ATHshort)&&(F=0),X.pinfo.thr_s[U][K][3*E+ve]=$*Math.max(F*q.thm.s[E][ve],X.ATH.s[E]),X.pinfo.LAMEsfb_s[U][K][3*E+ve]=-2*ne.subblock_gain[ve],E<d.SBPSY_s&&(X.pinfo.LAMEsfb_s[U][K][3*E+ve]-=ae*le[k]),k++}X.pinfo.LAMEqss[U][K]=ne.global_gain,X.pinfo.LAMEmainbits[U][K]=ne.part2_3_length+ne.part2_length,X.pinfo.LAMEsfbits[U][K]=ne.part2_length,X.pinfo.over[U][K]=we.over_count,X.pinfo.max_noise[U][K]=we.max_noise*10,X.pinfo.over_noise[U][K]=we.over_noise*10,X.pinfo.tot_noise[U][K]=we.tot_noise*10,X.pinfo.over_SSD[U][K]=we.over_SSD}}return wh=h,wh}var bh,P2;function h3(){if(P2)return bh;P2=1;var e=Ht,t=e.System,n=e.Arrays,s=e.new_int,o=e.assert,a=Rn(),l=Vm,c=Lm,d=f3();function p(){var f=null;this.qupvt=null,this.setModules=function(X){this.qupvt=X,f=X};function h(X){this.bits=0|X}var w=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function b(X,E,k,O,F,$){var ae=.5946/E;for(X=X>>1;X--!=0;)F[$++]=ae>k[O++]?0:1,F[$++]=ae>k[O++]?0:1}function C(X,E,k,O,F,$){X=X>>1;var ae=X%2;for(X=X>>1;X--!=0;){var le,te,ce,we,Ce,je,Ve,B;le=k[O++]*E,te=k[O++]*E,Ce=0|le,ce=k[O++]*E,je=0|te,we=k[O++]*E,Ve=0|ce,le+=f.adj43[Ce],B=0|we,te+=f.adj43[je],F[$++]=0|le,ce+=f.adj43[Ve],F[$++]=0|te,we+=f.adj43[B],F[$++]=0|ce,F[$++]=0|we}if(ae!=0){var le,te,Ce,je;le=k[O++]*E,te=k[O++]*E,Ce=0|le,je=0|te,le+=f.adj43[Ce],te+=f.adj43[je],F[$++]=0|le,F[$++]=0|te}}function _(X,E,k,O,F){var $,ae,le=0,te,ce=0,we=0,Ce=0,je=E,Ve=0,B=je,ve=0,pe=X,ie=0;for(te=F!=null&&O.global_gain==F.global_gain,O.block_type==a.SHORT_TYPE?ae=38:ae=21,$=0;$<=ae;$++){var se=-1;if((te||O.block_type==a.NORM_TYPE)&&(se=O.global_gain-(O.scalefac[$]+(O.preflag!=0?f.pretab[$]:0)<<O.scalefac_scale+1)-O.subblock_gain[O.window[$]]*8),o(O.width[$]>=0),te&&F.step[$]==se)ce!=0&&(C(ce,k,pe,ie,B,ve),ce=0),we!=0&&(b(we,k,pe,ie,B,ve),we=0);else{var A=O.width[$];if(le+O.width[$]>O.max_nonzero_coeff){var H;H=O.max_nonzero_coeff-le+1,n.fill(E,O.max_nonzero_coeff,576,0),A=H,A<0&&(A=0),$=ae+1}if(ce==0&&we==0&&(B=je,ve=Ve,pe=X,ie=Ce),F!=null&&F.sfb_count1>0&&$>=F.sfb_count1&&F.step[$]>0&&se>=F.step[$]?(ce!=0&&(C(ce,k,pe,ie,B,ve),ce=0,B=je,ve=Ve,pe=X,ie=Ce),we+=A):(we!=0&&(b(we,k,pe,ie,B,ve),we=0,B=je,ve=Ve,pe=X,ie=Ce),ce+=A),A<=0){we!=0&&(b(we,k,pe,ie,B,ve),we=0),ce!=0&&(C(ce,k,pe,ie,B,ve),ce=0);break}}$<=ae&&(Ve+=O.width[$],Ce+=O.width[$],le+=O.width[$])}ce!=0&&(C(ce,k,pe,ie,B,ve),ce=0),we!=0&&(b(we,k,pe,ie,B,ve),we=0)}function x(X,E,k){var O=0,F=0;do{var $=X[E++],ae=X[E++];O<$&&(O=$),F<ae&&(F=ae)}while(E<k);return O<F&&(O=F),O}function v(X,E,k,O,F,$){var ae=l.ht[O].xlen*65536+l.ht[F].xlen,le=0,te;do{var ce=X[E++],we=X[E++];ce!=0&&(ce>14&&(ce=15,le+=ae),ce*=16),we!=0&&(we>14&&(we=15,le+=ae),ce+=we),le+=l.largetbl[ce]}while(E<k);return te=le&65535,le>>=16,le>te&&(le=te,O=F),$.bits+=le,O}function y(X,E,k,O){var F=0,$=l.ht[1].hlen;do{var ae=X[E+0]*2+X[E+1];E+=2,F+=$[ae]}while(E<k);return O.bits+=F,1}function m(X,E,k,O,F){var $=0,ae,le=l.ht[O].xlen,te;O==2?te=l.table23:te=l.table56;do{var ce=X[E+0]*le+X[E+1];E+=2,$+=te[ce]}while(E<k);return ae=$&65535,$>>=16,$>ae&&($=ae,O++),F.bits+=$,O}function M(X,E,k,O,F){var $=0,ae=0,le=0,te=l.ht[O].xlen,ce=l.ht[O].hlen,we=l.ht[O+1].hlen,Ce=l.ht[O+2].hlen;do{var je=X[E+0]*te+X[E+1];E+=2,$+=ce[je],ae+=we[je],le+=Ce[je]}while(E<k);var Ve=O;return $>ae&&($=ae,Ve++),$>le&&($=le,Ve=O+2),F.bits+=$,Ve}var j=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function L(X,E,k,O){var F=x(X,E,k);switch(F){case 0:return F;case 1:return y(X,E,k,O);case 2:case 3:return m(X,E,k,j[F-1],O);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return M(X,E,k,j[F-1],O);default:if(F>d.IXMAX_VAL)return O.bits=d.LARGE_BITS,-1;F-=15;var $;for($=24;$<32&&!(l.ht[$].linmax>=F);$++);var ae;for(ae=$-8;ae<24&&!(l.ht[ae].linmax>=F);ae++);return v(X,E,k,ae,$,O)}}this.noquant_count_bits=function(X,E,k){var O=E.l3_enc,F=Math.min(576,E.max_nonzero_coeff+2>>1<<1);for(k!=null&&(k.sfb_count1=0);F>1&&!(O[F-1]|O[F-2]);F-=2);E.count1=F;for(var $=0,ae=0;F>3;F-=4){var le;if(((O[F-1]|O[F-2]|O[F-3]|O[F-4])&2147483647)>1)break;le=((O[F-4]*2+O[F-3])*2+O[F-2])*2+O[F-1],$+=l.t32l[le],ae+=l.t33l[le]}var te=$;if(E.count1table_select=0,$>ae&&(te=ae,E.count1table_select=1),E.count1bits=te,E.big_values=F,F==0)return te;if(E.block_type==a.SHORT_TYPE)$=3*X.scalefac_band.s[3],$>E.big_values&&($=E.big_values),ae=E.big_values;else if(E.block_type==a.NORM_TYPE){if($=E.region0_count=X.bv_scf[F-2],ae=E.region1_count=X.bv_scf[F-1],o($+ae+2<a.SBPSY_l),ae=X.scalefac_band.l[$+ae+2],$=X.scalefac_band.l[$+1],ae<F){var ce=new h(te);E.table_select[2]=L(O,ae,F,ce),te=ce.bits}}else E.region0_count=7,E.region1_count=a.SBMAX_l-1-7-1,$=X.scalefac_band.l[8],ae=F,$>ae&&($=ae);if($=Math.min($,F),ae=Math.min(ae,F),0<$){var ce=new h(te);E.table_select[0]=L(O,0,$,ce),te=ce.bits}if($<ae){var ce=new h(te);E.table_select[1]=L(O,$,ae,ce),te=ce.bits}if(X.use_best_huffman==2&&(E.part2_3_length=te,best_huffman_divide(X,E),te=E.part2_3_length),k!=null&&E.block_type==a.NORM_TYPE){for(var we=0;X.scalefac_band.l[we]<E.big_values;)we++;k.sfb_count1=we}return te},this.count_bits=function(X,E,k,O){var F=k.l3_enc,$=d.IXMAX_VAL/f.IPOW20(k.global_gain);if(k.xrpow_max>$)return d.LARGE_BITS;if(_(E,F,f.IPOW20(k.global_gain),k,O),X.substep_shaping&2)for(var ae=0,le=k.global_gain+k.scalefac_scale,te=.634521682242439/f.IPOW20(le),ce=0;ce<k.sfbmax;ce++){var we=k.width[ce];if(X.pseudohalf[ce]==0)ae+=we;else{var Ce;for(Ce=ae,ae+=we;Ce<ae;++Ce)F[Ce]=E[Ce]>=te?F[Ce]:0}}return this.noquant_count_bits(X,k,O)};function I(X,E,k,O,F,$,ae){for(var le=E.big_values,te=0;te<=22;te++)O[te]=d.LARGE_BITS;for(var te=0;te<16;te++){var ce=X.scalefac_band.l[te+1];if(ce>=le)break;var we=0,Ce=new h(we),je=L(k,0,ce,Ce);we=Ce.bits;for(var Ve=0;Ve<8;Ve++){var B=X.scalefac_band.l[te+Ve+2];if(B>=le)break;var ve=we;Ce=new h(ve);var pe=L(k,ce,B,Ce);ve=Ce.bits,O[te+Ve]>ve&&(O[te+Ve]=ve,F[te+Ve]=te,$[te+Ve]=je,ae[te+Ve]=pe)}}}function V(X,E,k,O,F,$,ae,le){for(var te=E.big_values,ce=2;ce<a.SBMAX_l+1;ce++){var we=X.scalefac_band.l[ce];if(we>=te)break;var Ce=F[ce-2]+E.count1bits;if(k.part2_3_length<=Ce)break;var je=new h(Ce),Ve=L(O,we,te,je);Ce=je.bits,!(k.part2_3_length<=Ce)&&(k.assign(E),k.part2_3_length=Ce,k.region0_count=$[ce-2],k.region1_count=ce-2-$[ce-2],k.table_select[0]=ae[ce-2],k.table_select[1]=le[ce-2],k.table_select[2]=Ve)}}this.best_huffman_divide=function(X,E){var k=new c,O=E.l3_enc,F=s(23),$=s(23),ae=s(23),le=s(23);if(!(E.block_type==a.SHORT_TYPE&&X.mode_gr==1)){k.assign(E),E.block_type==a.NORM_TYPE&&(I(X,E,O,F,$,ae,le),V(X,k,E,O,F,$,ae,le));var te=k.big_values;if(!(te==0||(O[te-2]|O[te-1])>1)&&(te=E.count1+2,!(te>576))){k.assign(E),k.count1=te;for(var ce=0,we=0;te>k.big_values;te-=4){var Ce=((O[te-4]*2+O[te-3])*2+O[te-2])*2+O[te-1];ce+=l.t32l[Ce],we+=l.t33l[Ce]}if(k.big_values=te,k.count1table_select=0,ce>we&&(ce=we,k.count1table_select=1),k.count1bits=ce,k.block_type==a.NORM_TYPE)V(X,k,E,O,F,$,ae,le);else{if(k.part2_3_length=ce,ce=X.scalefac_band.l[8],ce>te&&(ce=te),ce>0){var je=new h(k.part2_3_length);k.table_select[0]=L(O,0,ce,je),k.part2_3_length=je.bits}if(te>ce){var je=new h(k.part2_3_length);k.table_select[1]=L(O,ce,te,je),k.part2_3_length=je.bits}E.part2_3_length>k.part2_3_length&&E.assign(k)}}}};var Y=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],Q=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],G=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],T=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];p.slen1_tab=G,p.slen2_tab=T;function z(X,E){for(var k,O=E.tt[1][X],F=E.tt[0][X],$=0;$<l.scfsi_band.length-1;$++){for(k=l.scfsi_band[$];k<l.scfsi_band[$+1]&&!(F.scalefac[k]!=O.scalefac[k]&&O.scalefac[k]>=0);k++);if(k==l.scfsi_band[$+1]){for(k=l.scfsi_band[$];k<l.scfsi_band[$+1];k++)O.scalefac[k]=-1;E.scfsi[X][$]=1}}var ae=0,le=0;for(k=0;k<11;k++)O.scalefac[k]!=-1&&(le++,ae<O.scalefac[k]&&(ae=O.scalefac[k]));for(var te=0,ce=0;k<a.SBPSY_l;k++)O.scalefac[k]!=-1&&(ce++,te<O.scalefac[k]&&(te=O.scalefac[k]));for(var $=0;$<16;$++)if(ae<Y[$]&&te<Q[$]){var we=G[$]*le+T[$]*ce;O.part2_length>we&&(O.part2_length=we,O.scalefac_compress=$)}}this.best_scalefac_store=function(X,E,k,O){var F=O.tt[E][k],$,ae,le,te,ce=0;for(le=0,$=0;$<F.sfbmax;$++){var we=F.width[$];for(le+=we,te=-we;te<0&&F.l3_enc[te+le]==0;te++);te==0&&(F.scalefac[$]=ce=-2)}if(F.scalefac_scale==0&&F.preflag==0){var Ce=0;for($=0;$<F.sfbmax;$++)F.scalefac[$]>0&&(Ce|=F.scalefac[$]);if(!(Ce&1)&&Ce!=0){for($=0;$<F.sfbmax;$++)F.scalefac[$]>0&&(F.scalefac[$]>>=1);F.scalefac_scale=ce=1}}if(F.preflag==0&&F.block_type!=a.SHORT_TYPE&&X.mode_gr==2){for($=11;$<a.SBPSY_l&&!(F.scalefac[$]<f.pretab[$]&&F.scalefac[$]!=-2);$++);if($==a.SBPSY_l){for($=11;$<a.SBPSY_l;$++)F.scalefac[$]>0&&(F.scalefac[$]-=f.pretab[$]);F.preflag=ce=1}}for(ae=0;ae<4;ae++)O.scfsi[k][ae]=0;for(X.mode_gr==2&&E==1&&O.tt[0][k].block_type!=a.SHORT_TYPE&&O.tt[1][k].block_type!=a.SHORT_TYPE&&(z(k,O),ce=0),$=0;$<F.sfbmax;$++)F.scalefac[$]==-2&&(F.scalefac[$]=0);ce!=0&&(X.mode_gr==2?this.scale_bitcount(F):this.scale_bitcount_lsf(X,F))};function S(X,E){for(var k=0;k<E;++k)if(X[k]<0)return!1;return!0}var W=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],ne=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],q=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(X){var E,k,O=0,F=0,$,ae=X.scalefac;if(o(S(ae,X.sfbmax)),X.block_type==a.SHORT_TYPE)$=W,X.mixed_block_flag!=0&&($=ne);else if($=q,X.preflag==0){for(k=11;k<a.SBPSY_l&&!(ae[k]<f.pretab[k]);k++);if(k==a.SBPSY_l)for(X.preflag=1,k=11;k<a.SBPSY_l;k++)ae[k]-=f.pretab[k]}for(k=0;k<X.sfbdivide;k++)O<ae[k]&&(O=ae[k]);for(;k<X.sfbmax;k++)F<ae[k]&&(F=ae[k]);for(X.part2_length=d.LARGE_BITS,E=0;E<16;E++)O<Y[E]&&F<Q[E]&&X.part2_length>$[E]&&(X.part2_length=$[E],X.scalefac_compress=E);return X.part2_length==d.LARGE_BITS};var U=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(X,E){var k,O,F,$,ae,le,te,ce,we=s(4),Ce=E.scalefac;for(E.preflag!=0?k=2:k=0,te=0;te<4;te++)we[te]=0;if(E.block_type==a.SHORT_TYPE){O=1;var je=f.nr_of_sfb_block[k][O];for(ce=0,F=0;F<4;F++)for($=je[F]/3,te=0;te<$;te++,ce++)for(ae=0;ae<3;ae++)Ce[ce*3+ae]>we[F]&&(we[F]=Ce[ce*3+ae])}else{O=0;var je=f.nr_of_sfb_block[k][O];for(ce=0,F=0;F<4;F++)for($=je[F],te=0;te<$;te++,ce++)Ce[ce]>we[F]&&(we[F]=Ce[ce])}for(le=!1,F=0;F<4;F++)we[F]>U[k][F]&&(le=!0);if(!le){var Ve,B,ve,pe;for(E.sfb_partition_table=f.nr_of_sfb_block[k][O],F=0;F<4;F++)E.slen[F]=K[we[F]];switch(Ve=E.slen[0],B=E.slen[1],ve=E.slen[2],pe=E.slen[3],k){case 0:E.scalefac_compress=(Ve*5+B<<4)+(ve<<2)+pe;break;case 1:E.scalefac_compress=400+(Ve*5+B<<2)+ve;break;case 2:E.scalefac_compress=500+Ve*3+B;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!le)for(o(E.sfb_partition_table!=null),E.part2_length=0,F=0;F<4;F++)E.part2_length+=E.slen[F]*E.sfb_partition_table[F];return le};var K=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(X){for(var E=2;E<=576;E+=2){for(var k=0,O;X.scalefac_band.l[++k]<E;);for(O=w[k][0];X.scalefac_band.l[O+1]>E;)O--;for(O<0&&(O=w[k][0]),X.bv_scf[E-2]=O,O=w[k][1];X.scalefac_band.l[O+X.bv_scf[E-2]+2]>E;)O--;O<0&&(O=w[k][1]),X.bv_scf[E-1]=O}}}return bh=p,bh}var xh,M2;function zm(){if(M2)return xh;M2=1;var e=Ht,t=e.System,n=e.Arrays,s=e.new_byte,o=e.new_float_n,a=e.new_int,l=e.assert,c=h3(),d=Vm,p=Rn(),f=td;h.EQ=function(w,b){return Math.abs(w)>Math.abs(b)?Math.abs(w-b)<=Math.abs(w)*1e-6:Math.abs(w-b)<=Math.abs(b)*1e-6},h.NEQ=function(w,b){return!h.EQ(w,b)};function h(){var w=Wm(),b=this,C=32773,_=null,x=null,v=null,y=null;this.setModules=function(E,k,O,F){_=E,x=k,v=O,y=F};var m=null,M=0,j=0,L=0;this.getframebits=function(E){var k=E.internal_flags,O;k.bitrate_index!=0?O=d.bitrate_table[E.version][k.bitrate_index]:O=E.brate;var F=0|(E.version+1)*72e3*O/E.out_samplerate+k.padding;return 8*F};function I(E){t.arraycopy(E.header[E.w_ptr].buf,0,m,j,E.sideinfo_len),j+=E.sideinfo_len,M+=E.sideinfo_len*8,E.w_ptr=E.w_ptr+1&f.MAX_HEADER_BUF-1}function V(E,k,O){for(;O>0;){var F;L==0&&(L=8,j++,l(j<w.LAME_MAXMP3BUFFER),l(E.header[E.w_ptr].write_timing>=M),E.header[E.w_ptr].write_timing==M&&I(E),m[j]=0),F=Math.min(O,L),O-=F,L-=F,m[j]|=k>>O<<L,M+=F}}function Y(E,k,O){for(;O>0;){var F;L==0&&(L=8,j++,l(j<w.LAME_MAXMP3BUFFER),m[j]=0),F=Math.min(O,L),O-=F,L-=F,m[j]|=k>>O<<L,M+=F}}function Q(E,k){var O=E.internal_flags,F;if(k>=8&&(V(O,76,8),k-=8),k>=8&&(V(O,65,8),k-=8),k>=8&&(V(O,77,8),k-=8),k>=8&&(V(O,69,8),k-=8),k>=32){var $=v.getLameShortVersion();if(k>=32)for(F=0;F<$.length&&k>=8;++F)k-=8,V(O,$.charAt(F),8)}for(;k>=1;k-=1)V(O,O.ancillary_flag,1),O.ancillary_flag^=E.disable_reservoir?0:1}function G(E,k,O){for(var F=E.header[E.h_ptr].ptr;O>0;){var $=Math.min(O,8-(F&7));O-=$,E.header[E.h_ptr].buf[F>>3]|=k>>O<<8-(F&7)-$,F+=$}E.header[E.h_ptr].ptr=F}function T(E,k){E<<=8;for(var O=0;O<8;O++)E<<=1,k<<=1,(k^E)&65536&&(k^=C);return k}this.CRC_writeheader=function(E,k){var O=65535;O=T(k[2]&255,O),O=T(k[3]&255,O);for(var F=6;F<E.sideinfo_len;F++)O=T(k[F]&255,O);k[4]=byte(O>>8),k[5]=byte(O&255)};function z(E,k){var O=E.internal_flags,F,$,ae;if(F=O.l3_side,O.header[O.h_ptr].ptr=0,n.fill(O.header[O.h_ptr].buf,0,O.sideinfo_len,0),E.out_samplerate<16e3?G(O,4094,12):G(O,4095,12),G(O,E.version,1),G(O,1,2),G(O,E.error_protection?0:1,1),G(O,O.bitrate_index,4),G(O,O.samplerate_index,2),G(O,O.padding,1),G(O,E.extension,1),G(O,E.mode.ordinal(),2),G(O,O.mode_ext,2),G(O,E.copyright,1),G(O,E.original,1),G(O,E.emphasis,2),E.error_protection&&G(O,0,16),E.version==1){for(l(F.main_data_begin>=0),G(O,F.main_data_begin,9),O.channels_out==2?G(O,F.private_bits,3):G(O,F.private_bits,5),ae=0;ae<O.channels_out;ae++){var le;for(le=0;le<4;le++)G(O,F.scfsi[ae][le],1)}for($=0;$<2;$++)for(ae=0;ae<O.channels_out;ae++){var te=F.tt[$][ae];G(O,te.part2_3_length+te.part2_length,12),G(O,te.big_values/2,9),G(O,te.global_gain,8),G(O,te.scalefac_compress,4),te.block_type!=p.NORM_TYPE?(G(O,1,1),G(O,te.block_type,2),G(O,te.mixed_block_flag,1),te.table_select[0]==14&&(te.table_select[0]=16),G(O,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(O,te.table_select[1],5),G(O,te.subblock_gain[0],3),G(O,te.subblock_gain[1],3),G(O,te.subblock_gain[2],3)):(G(O,0,1),te.table_select[0]==14&&(te.table_select[0]=16),G(O,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(O,te.table_select[1],5),te.table_select[2]==14&&(te.table_select[2]=16),G(O,te.table_select[2],5),l(0<=te.region0_count&&te.region0_count<16),l(0<=te.region1_count&&te.region1_count<8),G(O,te.region0_count,4),G(O,te.region1_count,3)),G(O,te.preflag,1),G(O,te.scalefac_scale,1),G(O,te.count1table_select,1)}}else for(l(F.main_data_begin>=0),G(O,F.main_data_begin,8),G(O,F.private_bits,O.channels_out),$=0,ae=0;ae<O.channels_out;ae++){var te=F.tt[$][ae];G(O,te.part2_3_length+te.part2_length,12),G(O,te.big_values/2,9),G(O,te.global_gain,8),G(O,te.scalefac_compress,9),te.block_type!=p.NORM_TYPE?(G(O,1,1),G(O,te.block_type,2),G(O,te.mixed_block_flag,1),te.table_select[0]==14&&(te.table_select[0]=16),G(O,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(O,te.table_select[1],5),G(O,te.subblock_gain[0],3),G(O,te.subblock_gain[1],3),G(O,te.subblock_gain[2],3)):(G(O,0,1),te.table_select[0]==14&&(te.table_select[0]=16),G(O,te.table_select[0],5),te.table_select[1]==14&&(te.table_select[1]=16),G(O,te.table_select[1],5),te.table_select[2]==14&&(te.table_select[2]=16),G(O,te.table_select[2],5),l(0<=te.region0_count&&te.region0_count<16),l(0<=te.region1_count&&te.region1_count<8),G(O,te.region0_count,4),G(O,te.region1_count,3)),G(O,te.scalefac_scale,1),G(O,te.count1table_select,1)}E.error_protection&&CRC_writeheader(O,O.header[O.h_ptr].buf);{var ce=O.h_ptr;l(O.header[ce].ptr==O.sideinfo_len*8),O.h_ptr=ce+1&f.MAX_HEADER_BUF-1,O.header[O.h_ptr].write_timing=O.header[ce].write_timing+k,O.h_ptr==O.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function S(E,k){var O=d.ht[k.count1table_select+32],F,$=0,ae=k.big_values,le=k.big_values;for(l(k.count1table_select<2),F=(k.count1-k.big_values)/4;F>0;--F){var te=0,ce=0,we;we=k.l3_enc[ae+0],we!=0&&(ce+=8,k.xr[le+0]<0&&te++),we=k.l3_enc[ae+1],we!=0&&(ce+=4,te*=2,k.xr[le+1]<0&&te++),we=k.l3_enc[ae+2],we!=0&&(ce+=2,te*=2,k.xr[le+2]<0&&te++),we=k.l3_enc[ae+3],we!=0&&(ce++,te*=2,k.xr[le+3]<0&&te++),ae+=4,le+=4,V(E,te+O.table[ce],O.hlen[ce]),$+=O.hlen[ce]}return $}function W(E,k,O,F,$){var ae=d.ht[k],le=0;if(k==0)return le;for(var te=O;te<F;te+=2){var ce=0,we=0,Ce=ae.xlen,je=ae.xlen,Ve=0,B=$.l3_enc[te],ve=$.l3_enc[te+1];if(B!=0&&($.xr[te]<0&&Ve++,ce--),k>15){if(B>14){var pe=B-15;l(pe<=ae.linmax),Ve|=pe<<1,we=Ce,B=15}if(ve>14){var ie=ve-15;l(ie<=ae.linmax),Ve<<=Ce,Ve|=ie,we+=Ce,ve=15}je=16}ve!=0&&(Ve<<=1,$.xr[te+1]<0&&Ve++,ce--),B=B*je+ve,we-=ce,ce+=ae.hlen[B],V(E,ae.table[B],ce),V(E,Ve,we),le+=ce+we}return le}function ne(E,k){var O=3*E.scalefac_band.s[3];O>k.big_values&&(O=k.big_values);var F=W(E,k.table_select[0],0,O,k);return F+=W(E,k.table_select[1],O,k.big_values,k),F}function q(E,k){var O,F,$,ae;O=k.big_values;var le=k.region0_count+1;return l(le<E.scalefac_band.l.length),$=E.scalefac_band.l[le],le+=k.region1_count+1,l(le<E.scalefac_band.l.length),ae=E.scalefac_band.l[le],$>O&&($=O),ae>O&&(ae=O),F=W(E,k.table_select[0],0,$,k),F+=W(E,k.table_select[1],$,ae,k),F+=W(E,k.table_select[2],ae,O,k),F}function U(E){var k,O,F,$,ae=0,le=E.internal_flags,te=le.l3_side;if(E.version==1)for(k=0;k<2;k++)for(O=0;O<le.channels_out;O++){var ce=te.tt[k][O],we=c.slen1_tab[ce.scalefac_compress],Ce=c.slen2_tab[ce.scalefac_compress];for($=0,F=0;F<ce.sfbdivide;F++)ce.scalefac[F]!=-1&&(V(le,ce.scalefac[F],we),$+=we);for(;F<ce.sfbmax;F++)ce.scalefac[F]!=-1&&(V(le,ce.scalefac[F],Ce),$+=Ce);l($==ce.part2_length),ce.block_type==p.SHORT_TYPE?$+=ne(le,ce):$+=q(le,ce),$+=S(le,ce),l($==ce.part2_3_length+ce.part2_length),ae+=$}else for(k=0,O=0;O<le.channels_out;O++){var ce=te.tt[k][O],je,Ve,B=0;if(l(ce.sfb_partition_table!=null),$=0,F=0,Ve=0,ce.block_type==p.SHORT_TYPE){for(;Ve<4;Ve++){var ve=ce.sfb_partition_table[Ve]/3,pe=ce.slen[Ve];for(je=0;je<ve;je++,F++)V(le,Math.max(ce.scalefac[F*3+0],0),pe),V(le,Math.max(ce.scalefac[F*3+1],0),pe),V(le,Math.max(ce.scalefac[F*3+2],0),pe),B+=3*pe}$+=ne(le,ce)}else{for(;Ve<4;Ve++){var ve=ce.sfb_partition_table[Ve],pe=ce.slen[Ve];for(je=0;je<ve;je++,F++)V(le,Math.max(ce.scalefac[F],0),pe),B+=pe}$+=q(le,ce)}$+=S(le,ce),l($==ce.part2_3_length),l(B==ce.part2_length),ae+=B+$}return ae}function K(){this.total=0}function X(E,k){var O=E.internal_flags,F,$,ae,le,te;return te=O.w_ptr,le=O.h_ptr-1,le==-1&&(le=f.MAX_HEADER_BUF-1),F=O.header[le].write_timing-M,k.total=F,F>=0&&($=1+le-te,le<te&&($=1+le-te+f.MAX_HEADER_BUF),F-=$*8*O.sideinfo_len),ae=b.getframebits(E),F+=ae,k.total+=ae,k.total%8!=0?k.total=1+k.total/8:k.total=k.total/8,k.total+=j+1,F<0&&t.err.println(`strange error flushing buffer ... 
`),F}this.flush_bitstream=function(E){var k=E.internal_flags,O,F,$=k.h_ptr-1;if($==-1&&($=f.MAX_HEADER_BUF-1),O=k.l3_side,!((F=X(E,new K))<0)){if(Q(E,F),l(k.header[$].write_timing+this.getframebits(E)==M),k.ResvSize=0,O.main_data_begin=0,k.findReplayGain){var ae=_.GetTitleGain(k.rgdata);l(NEQ(ae,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),k.RadioGain=Math.floor(ae*10+.5)|0}k.findPeakSample&&(k.noclipGainChange=Math.ceil(Math.log10(k.PeakSample/32767)*20*10)|0,k.noclipGainChange>0&&(EQ(E.scale,1)||EQ(E.scale,0))?k.noclipScale=Math.floor(32767/k.PeakSample*100)/100:k.noclipScale=-1)}},this.add_dummy_byte=function(E,k,O){for(var F=E.internal_flags,$;O-- >0;)for(Y(F,k,8),$=0;$<f.MAX_HEADER_BUF;++$)F.header[$].write_timing+=8},this.format_bitstream=function(E){var k=E.internal_flags,O;O=k.l3_side;var F=this.getframebits(E);Q(E,O.resvDrain_pre),z(E,F);var $=8*k.sideinfo_len;if($+=U(E),Q(E,O.resvDrain_post),$+=O.resvDrain_post,O.main_data_begin+=(F-$)/8,X(E,new K)!=k.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),O.main_data_begin*8!=k.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*O.main_data_begin,k.ResvSize,O.resvDrain_post,O.resvDrain_pre,8*k.sideinfo_len,$-O.resvDrain_post-8*k.sideinfo_len,$,$%8,F),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),k.ResvSize=O.main_data_begin*8),M>1e9){var ae;for(ae=0;ae<f.MAX_HEADER_BUF;++ae)k.header[ae].write_timing-=M;M=0}return 0},this.copy_buffer=function(E,k,O,F,$){var ae=j+1;if(ae<=0)return 0;if(F!=0&&ae>F)return-1;if(t.arraycopy(m,0,k,O,ae),j=-1,L=0,$!=0){var le=a(1);if(le[0]=E.nMusicCRC,y.updateMusicCRC(le,k,O,ae),E.nMusicCRC=le[0],ae>0&&(E.VBR_seek_table.nBytesWritten+=ae),E.decode_on_the_fly){for(var te=o([2,1152]),ce=ae,we=-1,Ce;we!=0;)if(we=x.hip_decode1_unclipped(E.hip,k,O,ce,te[0],te[1]),ce=0,we==-1&&(we=0),we>0){if(E.findPeakSample){for(Ce=0;Ce<we;Ce++)te[0][Ce]>E.PeakSample?E.PeakSample=te[0][Ce]:-te[0][Ce]>E.PeakSample&&(E.PeakSample=-te[0][Ce]);if(E.channels_out>1)for(Ce=0;Ce<we;Ce++)te[1][Ce]>E.PeakSample?E.PeakSample=te[1][Ce]:-te[1][Ce]>E.PeakSample&&(E.PeakSample=-te[1][Ce])}if(E.findReplayGain&&_.AnalyzeSamples(E.rgdata,te[0],0,te[1],0,we,E.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return ae},this.init_bit_stream_w=function(E){m=s(w.LAME_MAXMP3BUFFER),E.h_ptr=E.w_ptr=0,E.header[E.h_ptr].write_timing=0,j=-1,L=0,M=0}}return xh=h,xh}var Sh,A2;function Wm(){if(A2)return Sh;A2=1;var e=Ht,t=e.System,n=e.VbrMode,s=e.ShortBlock,o=e.new_float,a=e.new_int_n,l=e.new_short_n,c=e.assert,d=iT,p=lT,f=td,h=DT,w=OT,b=zT,C=zm(),_=Vm,x=Rn();function v(){var y=xl,m=this,M=128*1024;v.V9=410,v.V8=420,v.V7=430,v.V6=440,v.V5=450,v.V4=460,v.V3=470,v.V2=480,v.V1=490,v.V0=500,v.R3MIX=1e3,v.STANDARD=1001,v.EXTREME=1002,v.INSANE=1003,v.STANDARD_FAST=1004,v.EXTREME_FAST=1005,v.MEDIUM=1006,v.MEDIUM_FAST=1007;var j=16384+M;v.LAME_MAXMP3BUFFER=j;var L,I,V,Y,Q,G=new d,T,z,S;this.enc=new x,this.setModules=function(A,H,be,fe,De,Ie,Pe,Le,qe){L=A,I=H,V=be,Y=fe,Q=De,T=Ie,z=Le,S=qe,this.enc.setModules(I,G,Y,T)};function W(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=o(x.SBMAX_l),this.bo_s_weight=o(x.SBMAX_s)}function ne(){this.lowerlimit=0}function q(A,H){this.lowpass=H}var U=4294479419;function K(A){var H;return A.class_id=U,H=A.internal_flags=new f,A.mode=y.NOT_SET,A.original=1,A.in_samplerate=44100,A.num_channels=2,A.num_samples=-1,A.bWriteVbrTag=!0,A.quality=-1,A.short_blocks=null,H.subblock_gain=-1,A.lowpassfreq=0,A.highpassfreq=0,A.lowpasswidth=-1,A.highpasswidth=-1,A.VBR=n.vbr_off,A.VBR_q=4,A.ATHcurve=-1,A.VBR_mean_bitrate_kbps=128,A.VBR_min_bitrate_kbps=0,A.VBR_max_bitrate_kbps=0,A.VBR_hard_min=0,H.VBR_min_bitrate=1,H.VBR_max_bitrate=13,A.quant_comp=-1,A.quant_comp_short=-1,A.msfix=-1,H.resample_ratio=1,H.OldValue[0]=180,H.OldValue[1]=180,H.CurrentStep[0]=4,H.CurrentStep[1]=4,H.masking_lower=1,H.nsPsy.attackthre=-1,H.nsPsy.attackthre_s=-1,A.scale=-1,A.athaa_type=-1,A.ATHtype=-1,A.athaa_loudapprox=-1,A.athaa_sensitivity=0,A.useTemporal=null,A.interChRatio=-1,H.mf_samples_to_encode=x.ENCDELAY+x.POSTDELAY,A.encoder_padding=0,H.mf_size=x.ENCDELAY-x.MDCTDELAY,A.findReplayGain=!1,A.decode_on_the_fly=!1,H.decode_on_the_fly=!1,H.findReplayGain=!1,H.findPeakSample=!1,H.RadioGain=0,H.AudiophileGain=0,H.noclipGainChange=0,H.noclipScale=-1,A.preset=0,A.write_id3tag_automatic=!0,0}this.lame_init=function(){var A=new p;return K(A),A.lame_allocated_gfp=1,A};function X(A){return A>1?0:A<=0?1:Math.cos(Math.PI/2*A)}this.nearestBitrateFullIndex=function(A){var H=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],be=0,fe=0,De=0,Ie=0;Ie=H[16],De=16,fe=H[16],be=16;for(var Pe=0;Pe<16;Pe++)if(Math.max(A,H[Pe+1])!=A){Ie=H[Pe+1],De=Pe+1,fe=H[Pe],be=Pe;break}return Ie-A>A-fe?be:De};function E(A,H){var be=44100;return H>=48e3?be=48e3:H>=44100?be=44100:H>=32e3?be=32e3:H>=24e3?be=24e3:H>=22050?be=22050:H>=16e3?be=16e3:H>=12e3?be=12e3:H>=11025?be=11025:H>=8e3&&(be=8e3),A==-1?be:(A<=15960&&(be=44100),A<=15250&&(be=32e3),A<=11220&&(be=24e3),A<=9970&&(be=22050),A<=7230&&(be=16e3),A<=5420&&(be=12e3),A<=4510&&(be=11025),A<=3970&&(be=8e3),H<be?H>44100?48e3:H>32e3?44100:H>24e3?32e3:H>22050?24e3:H>16e3?22050:H>12e3?16e3:H>11025?12e3:H>8e3?11025:8e3:be)}function k(A,H){switch(A){case 44100:return H.version=1,0;case 48e3:return H.version=1,1;case 32e3:return H.version=1,2;case 22050:return H.version=0,0;case 24e3:return H.version=0,1;case 16e3:return H.version=0,2;case 11025:return H.version=0,0;case 12e3:return H.version=0,1;case 8e3:return H.version=0,2;default:return H.version=0,-1}}function O(A,H,be){be<16e3&&(H=2);for(var fe=_.bitrate_table[H][1],De=2;De<=14;De++)_.bitrate_table[H][De]>0&&Math.abs(_.bitrate_table[H][De]-A)<Math.abs(fe-A)&&(fe=_.bitrate_table[H][De]);return fe}function F(A,H,be){be<16e3&&(H=2);for(var fe=0;fe<=14;fe++)if(_.bitrate_table[H][fe]>0&&_.bitrate_table[H][fe]==A)return fe;return-1}function $(A,H){var be=[new q(8,2e3),new q(16,3700),new q(24,3900),new q(32,5500),new q(40,7e3),new q(48,7500),new q(56,1e4),new q(64,11e3),new q(80,13500),new q(96,15100),new q(112,15600),new q(128,17e3),new q(160,17500),new q(192,18600),new q(224,19400),new q(256,19700),new q(320,20500)],fe=m.nearestBitrateFullIndex(H);A.lowerlimit=be[fe].lowpass}function ae(A){var H=A.internal_flags,be=32,fe=-1;if(H.lowpass1>0){for(var De=999,Ie=0;Ie<=31;Ie++){var Pe=Ie/31;Pe>=H.lowpass2&&(be=Math.min(be,Ie)),H.lowpass1<Pe&&Pe<H.lowpass2&&(De=Math.min(De,Ie))}De==999?H.lowpass1=(be-.75)/31:H.lowpass1=(De-.75)/31,H.lowpass2=be/31}if(H.highpass2>0&&H.highpass2<.9*(.75/31)&&(H.highpass1=0,H.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),H.highpass2>0){for(var Le=-1,Ie=0;Ie<=31;Ie++){var Pe=Ie/31;Pe<=H.highpass1&&(fe=Math.max(fe,Ie)),H.highpass1<Pe&&Pe<H.highpass2&&(Le=Math.max(Le,Ie))}H.highpass1=fe/31,Le==-1?H.highpass2=(fe+.75)/31:H.highpass2=(Le+.75)/31}for(var Ie=0;Ie<32;Ie++){var qe,Ue,Pe=Ie/31;H.highpass2>H.highpass1?qe=X((H.highpass2-Pe)/(H.highpass2-H.highpass1+1e-20)):qe=1,H.lowpass2>H.lowpass1?Ue=X((Pe-H.lowpass1)/(H.lowpass2-H.lowpass1+1e-20)):Ue=1,H.amp_filter[Ie]=qe*Ue}}function le(A){var H=A.internal_flags;switch(A.quality){default:case 9:H.psymodel=0,H.noise_shaping=0,H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.use_best_huffman=0,H.full_outer_loop=0;break;case 8:A.quality=7;case 7:H.psymodel=1,H.noise_shaping=0,H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.use_best_huffman=0,H.full_outer_loop=0;break;case 6:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=0,H.full_outer_loop=0;break;case 5:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=0,H.full_outer_loop=0;break;case 4:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 3:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=1,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 2:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.substep_shaping==0&&(H.substep_shaping=2),H.noise_shaping_amp=1,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 1:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.substep_shaping==0&&(H.substep_shaping=2),H.noise_shaping_amp=2,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 0:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.substep_shaping==0&&(H.substep_shaping=2),H.noise_shaping_amp=2,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break}}function te(A){var H=A.internal_flags;A.frameNum=0,A.write_id3tag_automatic&&z.id3tag_write_v2(A),H.bitrate_stereoMode_Hist=a([16,5]),H.bitrate_blockType_Hist=a([16,6]),H.PeakSample=0,A.bWriteVbrTag&&T.InitVbrTag(A)}this.lame_init_params=function(A){var H=A.internal_flags;if(H.Class_ID=0,H.ATH==null&&(H.ATH=new h),H.PSY==null&&(H.PSY=new W),H.rgdata==null&&(H.rgdata=new w),H.channels_in=A.num_channels,H.channels_in==1&&(A.mode=y.MONO),H.channels_out=A.mode==y.MONO?1:2,H.mode_ext=x.MPG_MD_MS_LR,A.mode==y.MONO&&(A.force_ms=!1),A.VBR==n.vbr_off&&A.VBR_mean_bitrate_kbps!=128&&A.brate==0&&(A.brate=A.VBR_mean_bitrate_kbps),A.VBR==n.vbr_off||A.VBR==n.vbr_mtrh||A.VBR==n.vbr_mt||(A.free_format=!1),A.VBR==n.vbr_off&&A.brate==0&&C.EQ(A.compression_ratio,0)&&(A.compression_ratio=11.025),A.VBR==n.vbr_off&&A.compression_ratio>0&&(A.out_samplerate==0&&(A.out_samplerate=map2MP3Frequency(int(.97*A.in_samplerate))),A.brate=0|A.out_samplerate*16*H.channels_out/(1e3*A.compression_ratio),H.samplerate_index=k(A.out_samplerate,A),A.free_format||(A.brate=O(A.brate,A.version,A.out_samplerate))),A.out_samplerate!=0&&(A.out_samplerate<16e3?(A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,8),A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,64)):A.out_samplerate<32e3?(A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,8),A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,160)):(A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,32),A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,320))),A.lowpassfreq==0){var be=16e3;switch(A.VBR){case n.vbr_off:{var fe=new ne;$(fe,A.brate),be=fe.lowerlimit;break}case n.vbr_abr:{var fe=new ne;$(fe,A.VBR_mean_bitrate_kbps),be=fe.lowerlimit;break}case n.vbr_rh:{var De=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=A.VBR_q&&A.VBR_q<=9){var Ie=De[A.VBR_q],Pe=De[A.VBR_q+1],Le=A.VBR_q_frac;be=linear_int(Ie,Pe,Le)}else be=19500;break}default:{var De=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=A.VBR_q&&A.VBR_q<=9){var Ie=De[A.VBR_q],Pe=De[A.VBR_q+1],Le=A.VBR_q_frac;be=linear_int(Ie,Pe,Le)}else be=19500}}A.mode==y.MONO&&(A.VBR==n.vbr_off||A.VBR==n.vbr_abr)&&(be*=1.5),A.lowpassfreq=be|0}if(A.out_samplerate==0&&(2*A.lowpassfreq>A.in_samplerate&&(A.lowpassfreq=A.in_samplerate/2),A.out_samplerate=E(A.lowpassfreq|0,A.in_samplerate)),A.lowpassfreq=Math.min(20500,A.lowpassfreq),A.lowpassfreq=Math.min(A.out_samplerate/2,A.lowpassfreq),A.VBR==n.vbr_off&&(A.compression_ratio=A.out_samplerate*16*H.channels_out/(1e3*A.brate)),A.VBR==n.vbr_abr&&(A.compression_ratio=A.out_samplerate*16*H.channels_out/(1e3*A.VBR_mean_bitrate_kbps)),A.bWriteVbrTag||(A.findReplayGain=!1,A.decode_on_the_fly=!1,H.findPeakSample=!1),H.findReplayGain=A.findReplayGain,H.decode_on_the_fly=A.decode_on_the_fly,H.decode_on_the_fly&&(H.findPeakSample=!0),H.findReplayGain&&L.InitGainAnalysis(H.rgdata,A.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return A.internal_flags=null,-6;switch(H.decode_on_the_fly&&!A.decode_only&&(H.hip!=null&&S.hip_decode_exit(H.hip),H.hip=S.hip_decode_init()),H.mode_gr=A.out_samplerate<=24e3?1:2,A.framesize=576*H.mode_gr,A.encoder_delay=x.ENCDELAY,H.resample_ratio=A.in_samplerate/A.out_samplerate,A.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var qe=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];A.compression_ratio=qe[A.VBR_q]}break;case n.vbr_abr:A.compression_ratio=A.out_samplerate*16*H.channels_out/(1e3*A.VBR_mean_bitrate_kbps);break;default:A.compression_ratio=A.out_samplerate*16*H.channels_out/(1e3*A.brate);break}if(A.mode==y.NOT_SET&&(A.mode=y.JOINT_STEREO),A.highpassfreq>0?(H.highpass1=2*A.highpassfreq,A.highpasswidth>=0?H.highpass2=2*(A.highpassfreq+A.highpasswidth):H.highpass2=2*A.highpassfreq,H.highpass1/=A.out_samplerate,H.highpass2/=A.out_samplerate):(H.highpass1=0,H.highpass2=0),A.lowpassfreq>0?(H.lowpass2=2*A.lowpassfreq,A.lowpasswidth>=0?(H.lowpass1=2*(A.lowpassfreq-A.lowpasswidth),H.lowpass1<0&&(H.lowpass1=0)):H.lowpass1=2*A.lowpassfreq,H.lowpass1/=A.out_samplerate,H.lowpass2/=A.out_samplerate):(H.lowpass1=0,H.lowpass2=0),ae(A),H.samplerate_index=k(A.out_samplerate,A),H.samplerate_index<0)return A.internal_flags=null,-1;if(A.VBR==n.vbr_off){if(A.free_format)H.bitrate_index=0;else if(A.brate=O(A.brate,A.version,A.out_samplerate),H.bitrate_index=F(A.brate,A.version,A.out_samplerate),H.bitrate_index<=0)return A.internal_flags=null,-1}else H.bitrate_index=1;A.analysis&&(A.bWriteVbrTag=!1),H.pinfo!=null&&(A.bWriteVbrTag=!1),I.init_bit_stream_w(H);for(var Ue=H.samplerate_index+3*A.version+6*(A.out_samplerate<16e3?1:0),Ee=0;Ee<x.SBMAX_l+1;Ee++)H.scalefac_band.l[Ee]=Y.sfBandIndex[Ue].l[Ee];for(var Ee=0;Ee<x.PSFB21+1;Ee++){var tt=(H.scalefac_band.l[22]-H.scalefac_band.l[21])/x.PSFB21,ct=H.scalefac_band.l[21]+Ee*tt;H.scalefac_band.psfb21[Ee]=ct}H.scalefac_band.psfb21[x.PSFB21]=576;for(var Ee=0;Ee<x.SBMAX_s+1;Ee++)H.scalefac_band.s[Ee]=Y.sfBandIndex[Ue].s[Ee];for(var Ee=0;Ee<x.PSFB12+1;Ee++){var tt=(H.scalefac_band.s[13]-H.scalefac_band.s[12])/x.PSFB12,ct=H.scalefac_band.s[12]+Ee*tt;H.scalefac_band.psfb12[Ee]=ct}H.scalefac_band.psfb12[x.PSFB12]=192,A.version==1?H.sideinfo_len=H.channels_out==1?21:36:H.sideinfo_len=H.channels_out==1?13:21,A.error_protection&&(H.sideinfo_len+=2),te(A),H.Class_ID=U;{var J;for(J=0;J<19;J++)H.nsPsy.pefirbuf[J]=700*H.mode_gr*H.channels_out;A.ATHtype==-1&&(A.ATHtype=4)}switch(c(A.VBR_q<=9),c(A.VBR_q>=0),A.VBR){case n.vbr_mt:A.VBR=n.vbr_mtrh;case n.vbr_mtrh:{A.useTemporal==null&&(A.useTemporal=!1),V.apply_preset(A,500-A.VBR_q*10,0),A.quality<0&&(A.quality=LAME_DEFAULT_QUALITY),A.quality<5&&(A.quality=0),A.quality>5&&(A.quality=5),H.PSY.mask_adjust=A.maskingadjust,H.PSY.mask_adjust_short=A.maskingadjust_short,A.experimentalY?H.sfb21_extra=!1:H.sfb21_extra=A.out_samplerate>44e3,H.iteration_loop=new VBRNewIterationLoop(Q);break}case n.vbr_rh:{V.apply_preset(A,500-A.VBR_q*10,0),H.PSY.mask_adjust=A.maskingadjust,H.PSY.mask_adjust_short=A.maskingadjust_short,A.experimentalY?H.sfb21_extra=!1:H.sfb21_extra=A.out_samplerate>44e3,A.quality>6&&(A.quality=6),A.quality<0&&(A.quality=LAME_DEFAULT_QUALITY),H.iteration_loop=new VBROldIterationLoop(Q);break}default:{var ee;H.sfb21_extra=!1,A.quality<0&&(A.quality=LAME_DEFAULT_QUALITY),ee=A.VBR,ee==n.vbr_off&&(A.VBR_mean_bitrate_kbps=A.brate),V.apply_preset(A,A.VBR_mean_bitrate_kbps,0),A.VBR=ee,H.PSY.mask_adjust=A.maskingadjust,H.PSY.mask_adjust_short=A.maskingadjust_short,ee==n.vbr_off?H.iteration_loop=new b(Q):H.iteration_loop=new ABRIterationLoop(Q);break}}if(c(A.scale>=0),A.VBR!=n.vbr_off){if(H.VBR_min_bitrate=1,H.VBR_max_bitrate=14,A.out_samplerate<16e3&&(H.VBR_max_bitrate=8),A.VBR_min_bitrate_kbps!=0&&(A.VBR_min_bitrate_kbps=O(A.VBR_min_bitrate_kbps,A.version,A.out_samplerate),H.VBR_min_bitrate=F(A.VBR_min_bitrate_kbps,A.version,A.out_samplerate),H.VBR_min_bitrate<0)||A.VBR_max_bitrate_kbps!=0&&(A.VBR_max_bitrate_kbps=O(A.VBR_max_bitrate_kbps,A.version,A.out_samplerate),H.VBR_max_bitrate=F(A.VBR_max_bitrate_kbps,A.version,A.out_samplerate),H.VBR_max_bitrate<0))return-1;A.VBR_min_bitrate_kbps=_.bitrate_table[A.version][H.VBR_min_bitrate],A.VBR_max_bitrate_kbps=_.bitrate_table[A.version][H.VBR_max_bitrate],A.VBR_mean_bitrate_kbps=Math.min(_.bitrate_table[A.version][H.VBR_max_bitrate],A.VBR_mean_bitrate_kbps),A.VBR_mean_bitrate_kbps=Math.max(_.bitrate_table[A.version][H.VBR_min_bitrate],A.VBR_mean_bitrate_kbps)}return A.tune&&(H.PSY.mask_adjust+=A.tune_value_a,H.PSY.mask_adjust_short+=A.tune_value_a),le(A),c(A.scale>=0),A.athaa_type<0?H.ATH.useAdjust=3:H.ATH.useAdjust=A.athaa_type,H.ATH.aaSensitivityP=Math.pow(10,A.athaa_sensitivity/-10),A.short_blocks==null&&(A.short_blocks=s.short_block_allowed),A.short_blocks==s.short_block_allowed&&(A.mode==y.JOINT_STEREO||A.mode==y.STEREO)&&(A.short_blocks=s.short_block_coupled),A.quant_comp<0&&(A.quant_comp=1),A.quant_comp_short<0&&(A.quant_comp_short=0),A.msfix<0&&(A.msfix=0),A.exp_nspsytune=A.exp_nspsytune|1,A.internal_flags.nsPsy.attackthre<0&&(A.internal_flags.nsPsy.attackthre=d.NSATTACKTHRE),A.internal_flags.nsPsy.attackthre_s<0&&(A.internal_flags.nsPsy.attackthre_s=d.NSATTACKTHRE_S),c(A.scale>=0),A.scale<0&&(A.scale=1),A.ATHtype<0&&(A.ATHtype=4),A.ATHcurve<0&&(A.ATHcurve=4),A.athaa_loudapprox<0&&(A.athaa_loudapprox=2),A.interChRatio<0&&(A.interChRatio=0),A.useTemporal==null&&(A.useTemporal=!0),H.slot_lag=H.frac_SpF=0,A.VBR==n.vbr_off&&(H.slot_lag=H.frac_SpF=(A.version+1)*72e3*A.brate%A.out_samplerate|0),Y.iteration_init(A),G.psymodel_init(A),c(A.scale>=0),0};function ce(A,H){(A.in_buffer_0==null||A.in_buffer_nsamples<H)&&(A.in_buffer_0=o(H),A.in_buffer_1=o(H),A.in_buffer_nsamples=H)}this.lame_encode_flush=function(A,H,be,fe){var De=A.internal_flags,Ie=l([2,1152]),Pe=0,Le,qe,Ue,Ee,tt=De.mf_samples_to_encode-x.POSTDELAY,ct=we(A);if(De.mf_samples_to_encode<1)return 0;for(Le=0,A.in_samplerate!=A.out_samplerate&&(tt+=16*A.out_samplerate/A.in_samplerate),Ue=A.framesize-tt%A.framesize,Ue<576&&(Ue+=A.framesize),A.encoder_padding=Ue,Ee=(tt+Ue)/A.framesize;Ee>0&&Pe>=0;){var J=ct-De.mf_size,ee=A.frameNum;J*=A.in_samplerate,J/=A.out_samplerate,J>1152&&(J=1152),J<1&&(J=1),qe=fe-Le,fe==0&&(qe=0),Pe=this.lame_encode_buffer(A,Ie[0],Ie[1],J,H,be,qe),be+=Pe,Le+=Pe,Ee-=ee!=A.frameNum?1:0}if(De.mf_samples_to_encode=0,Pe<0||(qe=fe-Le,fe==0&&(qe=0),I.flush_bitstream(A),Pe=I.copy_buffer(De,H,be,qe,1),Pe<0))return Pe;if(be+=Pe,Le+=Pe,qe=fe-Le,fe==0&&(qe=0),A.write_id3tag_automatic){if(z.id3tag_write_v1(A),Pe=I.copy_buffer(De,H,be,qe,0),Pe<0)return Pe;Le+=Pe}return Le},this.lame_encode_buffer=function(A,H,be,fe,De,Ie,Pe){var Le=A.internal_flags,qe=[null,null];if(Le.Class_ID!=U)return-3;if(fe==0)return 0;ce(Le,fe),qe[0]=Le.in_buffer_0,qe[1]=Le.in_buffer_1;for(var Ue=0;Ue<fe;Ue++)qe[0][Ue]=H[Ue],Le.channels_in>1&&(qe[1][Ue]=be[Ue]);return Ce(A,qe[0],qe[1],fe,De,Ie,Pe)};function we(A){var H=x.BLKSIZE+A.framesize-x.FFTOFFSET;return H=Math.max(H,512+A.framesize-32),H}function Ce(A,H,be,fe,De,Ie,Pe){var Le=A.internal_flags,qe=0,Ue,Ee,tt,ct,J,ee=[null,null],oe=[null,null];if(Le.Class_ID!=U)return-3;if(fe==0)return 0;if(J=I.copy_buffer(Le,De,Ie,Pe,0),J<0)return J;if(Ie+=J,qe+=J,oe[0]=H,oe[1]=be,C.NEQ(A.scale,0)&&C.NEQ(A.scale,1))for(Ee=0;Ee<fe;++Ee)oe[0][Ee]*=A.scale,Le.channels_out==2&&(oe[1][Ee]*=A.scale);if(C.NEQ(A.scale_left,0)&&C.NEQ(A.scale_left,1))for(Ee=0;Ee<fe;++Ee)oe[0][Ee]*=A.scale_left;if(C.NEQ(A.scale_right,0)&&C.NEQ(A.scale_right,1))for(Ee=0;Ee<fe;++Ee)oe[1][Ee]*=A.scale_right;if(A.num_channels==2&&Le.channels_out==1)for(Ee=0;Ee<fe;++Ee)oe[0][Ee]=.5*(oe[0][Ee]+oe[1][Ee]),oe[1][Ee]=0;ct=we(A),ee[0]=Le.mfbuf[0],ee[1]=Le.mfbuf[1];for(var ue=0;fe>0;){var he=[null,null],re=0,ye=0;he[0]=oe[0],he[1]=oe[1];var Se=new Ve;if(se(A,ee,he,ue,fe,Se),re=Se.n_in,ye=Se.n_out,Le.findReplayGain&&!Le.decode_on_the_fly&&L.AnalyzeSamples(Le.rgdata,ee[0],Le.mf_size,ee[1],Le.mf_size,ye,Le.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(fe-=re,ue+=re,Le.channels_out==2,Le.mf_size+=ye,c(Le.mf_size<=f.MFSIZE),Le.mf_samples_to_encode<1&&(Le.mf_samples_to_encode=x.ENCDELAY+x.POSTDELAY),Le.mf_samples_to_encode+=ye,Le.mf_size>=ct){var ge=Pe-qe;if(Pe==0&&(ge=0),Ue=je(A,ee[0],ee[1],De,Ie,ge),Ue<0)return Ue;for(Ie+=Ue,qe+=Ue,Le.mf_size-=A.framesize,Le.mf_samples_to_encode-=A.framesize,tt=0;tt<Le.channels_out;tt++)for(Ee=0;Ee<Le.mf_size;Ee++)ee[tt][Ee]=ee[tt][Ee+A.framesize]}}return qe}function je(A,H,be,fe,De,Ie){var Pe=m.enc.lame_encode_mp3_frame(A,H,be,fe,De,Ie);return A.frameNum++,Pe}function Ve(){this.n_in=0,this.n_out=0}function B(){this.num_used=0}function ve(A,H){return H!=0?ve(H,A%H):A}function pe(A,H,be){var fe=Math.PI*H;A/=be,A<0&&(A=0),A>1&&(A=1);var De=A-.5,Ie=.42-.5*Math.cos(2*A*Math.PI)+.08*Math.cos(4*A*Math.PI);return Math.abs(De)<1e-9?fe/Math.PI:Ie*Math.sin(be*fe*De)/(Math.PI*be*De)}function ie(A,H,be,fe,De,Ie,Pe,Le,qe){var Ue=A.internal_flags,Ee,tt=0,ct,J=A.out_samplerate/ve(A.out_samplerate,A.in_samplerate);J>f.BPC&&(J=f.BPC);var ee=Math.abs(Ue.resample_ratio-Math.floor(.5+Ue.resample_ratio))<1e-4?1:0,oe=1/Ue.resample_ratio;oe>1&&(oe=1);var ue=31;ue%2==0&&--ue,ue+=ee;var he=ue+1;if(Ue.fill_buffer_resample_init==0){for(Ue.inbuf_old[0]=o(he),Ue.inbuf_old[1]=o(he),Ee=0;Ee<=2*J;++Ee)Ue.blackfilt[Ee]=o(he);for(Ue.itime[0]=0,Ue.itime[1]=0,tt=0;tt<=2*J;tt++){var re=0,ye=(tt-J)/(2*J);for(Ee=0;Ee<=ue;Ee++)re+=Ue.blackfilt[tt][Ee]=pe(Ee-ye,oe,ue);for(Ee=0;Ee<=ue;Ee++)Ue.blackfilt[tt][Ee]/=re}Ue.fill_buffer_resample_init=1}var Se=Ue.inbuf_old[qe];for(ct=0;ct<fe;ct++){var ge,Te;if(ge=ct*Ue.resample_ratio,tt=0|Math.floor(ge-Ue.itime[qe]),ue+tt-ue/2>=Pe)break;var ye=ge-Ue.itime[qe]-(tt+.5*(ue%2));Te=0|Math.floor(ye*2*J+J+.5);var xe=0;for(Ee=0;Ee<=ue;++Ee){var Me=0|Ee+tt-ue/2,Ye;Ye=Me<0?Se[he+Me]:De[Ie+Me],xe+=Ye*Ue.blackfilt[Te][Ee]}H[be+ct]=xe}if(Le.num_used=Math.min(Pe,ue+tt-ue/2),Ue.itime[qe]+=Le.num_used-ct*Ue.resample_ratio,Le.num_used>=he)for(Ee=0;Ee<he;Ee++)Se[Ee]=De[Ie+Le.num_used+Ee-he];else{var ot=he-Le.num_used;for(Ee=0;Ee<ot;++Ee)Se[Ee]=Se[Ee+Le.num_used];for(tt=0;Ee<he;++Ee,++tt)Se[Ee]=De[Ie+tt];c(tt==Le.num_used)}return ct}function se(A,H,be,fe,De,Ie){var Pe=A.internal_flags;if(Pe.resample_ratio<.9999||Pe.resample_ratio>1.0001)for(var Le=0;Le<Pe.channels_out;Le++){var qe=new B;Ie.n_out=ie(A,H[Le],Pe.mf_size,A.framesize,be[Le],fe,De,qe,Le),Ie.n_in=qe.num_used}else{Ie.n_out=Math.min(A.framesize,De),Ie.n_in=Ie.n_out;for(var Ue=0;Ue<Ie.n_out;++Ue)H[0][Pe.mf_size+Ue]=be[0][fe+Ue],Pe.channels_out==2&&(H[1][Pe.mf_size+Ue]=be[1][fe+Ue])}}}return Sh=v,Sh}var WT=Ht,Fr=WT.VbrMode;function HT(){var e=Wm();function t(f,h,w,b,C,_,x,v,y,m,M,j,L,I,V){this.vbr_q=f,this.quant_comp=h,this.quant_comp_s=w,this.expY=b,this.st_lrm=C,this.st_s=_,this.masking_adj=x,this.masking_adj_short=v,this.ath_lower=y,this.ath_curve=m,this.ath_sensitivity=M,this.interch=j,this.safejoint=L,this.sfb21mod=I,this.msfix=V}function n(f,h,w,b,C,_,x,v,y,m,M,j,L,I){this.quant_comp=h,this.quant_comp_s=w,this.safejoint=b,this.nsmsfix=C,this.st_lrm=_,this.st_s=x,this.nsbass=v,this.scale=y,this.masking_adj=m,this.ath_lower=M,this.ath_curve=j,this.interch=L,this.sfscale=I}var s;this.setModules=function(f){s=f};var o=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],a=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(f,h,w){var b=f.VBR==Fr.vbr_rh?o:a,C=f.VBR_q_frac,_=b[h],x=b[h+1],v=_;_.st_lrm=_.st_lrm+C*(x.st_lrm-_.st_lrm),_.st_s=_.st_s+C*(x.st_s-_.st_s),_.masking_adj=_.masking_adj+C*(x.masking_adj-_.masking_adj),_.masking_adj_short=_.masking_adj_short+C*(x.masking_adj_short-_.masking_adj_short),_.ath_lower=_.ath_lower+C*(x.ath_lower-_.ath_lower),_.ath_curve=_.ath_curve+C*(x.ath_curve-_.ath_curve),_.ath_sensitivity=_.ath_sensitivity+C*(x.ath_sensitivity-_.ath_sensitivity),_.interch=_.interch+C*(x.interch-_.interch),_.msfix=_.msfix+C*(x.msfix-_.msfix),p(f,v.vbr_q),w!=0?f.quant_comp=v.quant_comp:Math.abs(f.quant_comp- -1)>0||(f.quant_comp=v.quant_comp),w!=0?f.quant_comp_short=v.quant_comp_s:Math.abs(f.quant_comp_short- -1)>0||(f.quant_comp_short=v.quant_comp_s),v.expY!=0&&(f.experimentalY=v.expY!=0),w!=0?f.internal_flags.nsPsy.attackthre=v.st_lrm:Math.abs(f.internal_flags.nsPsy.attackthre- -1)>0||(f.internal_flags.nsPsy.attackthre=v.st_lrm),w!=0?f.internal_flags.nsPsy.attackthre_s=v.st_s:Math.abs(f.internal_flags.nsPsy.attackthre_s- -1)>0||(f.internal_flags.nsPsy.attackthre_s=v.st_s),w!=0?f.maskingadjust=v.masking_adj:Math.abs(f.maskingadjust-0)>0||(f.maskingadjust=v.masking_adj),w!=0?f.maskingadjust_short=v.masking_adj_short:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=v.masking_adj_short),w!=0?f.ATHlower=-v.ath_lower/10:Math.abs(-f.ATHlower*10-0)>0||(f.ATHlower=-v.ath_lower/10),w!=0?f.ATHcurve=v.ath_curve:Math.abs(f.ATHcurve- -1)>0||(f.ATHcurve=v.ath_curve),w!=0?f.athaa_sensitivity=v.ath_sensitivity:Math.abs(f.athaa_sensitivity- -1)>0||(f.athaa_sensitivity=v.ath_sensitivity),v.interch>0&&(w!=0?f.interChRatio=v.interch:Math.abs(f.interChRatio- -1)>0||(f.interChRatio=v.interch)),v.safejoint>0&&(f.exp_nspsytune=f.exp_nspsytune|v.safejoint),v.sfb21mod>0&&(f.exp_nspsytune=f.exp_nspsytune|v.sfb21mod<<20),w!=0?f.msfix=v.msfix:Math.abs(f.msfix- -1)>0||(f.msfix=v.msfix),w==0&&(f.VBR_q=h,f.VBR_q_frac=C)}var c=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function d(f,h,w){var b=h,C=s.nearestBitrateFullIndex(h);if(f.VBR=Fr.vbr_abr,f.VBR_mean_bitrate_kbps=b,f.VBR_mean_bitrate_kbps=Math.min(f.VBR_mean_bitrate_kbps,320),f.VBR_mean_bitrate_kbps=Math.max(f.VBR_mean_bitrate_kbps,8),f.brate=f.VBR_mean_bitrate_kbps,f.VBR_mean_bitrate_kbps>320&&(f.disable_reservoir=!0),c[C].safejoint>0&&(f.exp_nspsytune=f.exp_nspsytune|2),c[C].sfscale>0&&(f.internal_flags.noise_shaping=2),Math.abs(c[C].nsbass)>0){var _=int(c[C].nsbass*4);_<0&&(_+=64),f.exp_nspsytune=f.exp_nspsytune|_<<2}return w!=0?f.quant_comp=c[C].quant_comp:Math.abs(f.quant_comp- -1)>0||(f.quant_comp=c[C].quant_comp),w!=0?f.quant_comp_short=c[C].quant_comp_s:Math.abs(f.quant_comp_short- -1)>0||(f.quant_comp_short=c[C].quant_comp_s),w!=0?f.msfix=c[C].nsmsfix:Math.abs(f.msfix- -1)>0||(f.msfix=c[C].nsmsfix),w!=0?f.internal_flags.nsPsy.attackthre=c[C].st_lrm:Math.abs(f.internal_flags.nsPsy.attackthre- -1)>0||(f.internal_flags.nsPsy.attackthre=c[C].st_lrm),w!=0?f.internal_flags.nsPsy.attackthre_s=c[C].st_s:Math.abs(f.internal_flags.nsPsy.attackthre_s- -1)>0||(f.internal_flags.nsPsy.attackthre_s=c[C].st_s),w!=0?f.scale=c[C].scale:Math.abs(f.scale- -1)>0||(f.scale=c[C].scale),w!=0?f.maskingadjust=c[C].masking_adj:Math.abs(f.maskingadjust-0)>0||(f.maskingadjust=c[C].masking_adj),c[C].masking_adj>0?w!=0?f.maskingadjust_short=c[C].masking_adj*.9:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=c[C].masking_adj*.9):w!=0?f.maskingadjust_short=c[C].masking_adj*1.1:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=c[C].masking_adj*1.1),w!=0?f.ATHlower=-c[C].ath_lower/10:Math.abs(-f.ATHlower*10-0)>0||(f.ATHlower=-c[C].ath_lower/10),w!=0?f.ATHcurve=c[C].ath_curve:Math.abs(f.ATHcurve- -1)>0||(f.ATHcurve=c[C].ath_curve),w!=0?f.interChRatio=c[C].interch:Math.abs(f.interChRatio- -1)>0||(f.interChRatio=c[C].interch),h}this.apply_preset=function(f,h,w){switch(h){case e.R3MIX:{h=e.V3,f.VBR=Fr.vbr_mtrh;break}case e.MEDIUM:{h=e.V4,f.VBR=Fr.vbr_rh;break}case e.MEDIUM_FAST:{h=e.V4,f.VBR=Fr.vbr_mtrh;break}case e.STANDARD:{h=e.V2,f.VBR=Fr.vbr_rh;break}case e.STANDARD_FAST:{h=e.V2,f.VBR=Fr.vbr_mtrh;break}case e.EXTREME:{h=e.V0,f.VBR=Fr.vbr_rh;break}case e.EXTREME_FAST:{h=e.V0,f.VBR=Fr.vbr_mtrh;break}case e.INSANE:return h=320,f.preset=h,d(f,h,w),f.VBR=Fr.vbr_off,h}switch(f.preset=h,h){case e.V9:return l(f,9,w),h;case e.V8:return l(f,8,w),h;case e.V7:return l(f,7,w),h;case e.V6:return l(f,6,w),h;case e.V5:return l(f,5,w),h;case e.V4:return l(f,4,w),h;case e.V3:return l(f,3,w),h;case e.V2:return l(f,2,w),h;case e.V1:return l(f,1,w),h;case e.V0:return l(f,0,w),h}return 8<=h&&h<=320?d(f,h,w):(f.preset=0,h)};function p(f,h){var w=0;return 0>h&&(w=-1,h=0),9<h&&(w=-1,h=9),f.VBR_q=h,f.VBR_q_frac=0,w}}var UT=HT;function $T(){this.setModules=function(e,t){}}var XT=$T;function YT(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var GT=YT,p3=Ht,D2=p3.new_float,KT=p3.new_int;function qT(){this.global_gain=0,this.sfb_count1=0,this.step=KT(39),this.noise=D2(39),this.noise_log=D2(39)}var QT=qT,qo=Ht,Ws=qo.System,N2=qo.VbrMode,Eh=qo.Util,vo=qo.Arrays,Wa=qo.new_float,Ha=qo.assert,ZT=XT,Ch=GT,JT=QT,St=Rn(),O2=Lm,I2=ed;function eP(){var e;this.rv=null;var t;this.qupvt=null;var n,s=new ZT,o;this.setModules=function(v,y,m,M){e=v,t=y,this.rv=y,n=m,this.qupvt=m,o=M,s.setModules(n,o)},this.ms_convert=function(v,y){for(var m=0;m<576;++m){var M=v.tt[y][0].xr[m],j=v.tt[y][1].xr[m];v.tt[y][0].xr[m]=(M+j)*(Eh.SQRT2*.5),v.tt[y][1].xr[m]=(M-j)*(Eh.SQRT2*.5)}};function a(v,y,m,M){M=0;for(var j=0;j<=m;++j){var L=Math.abs(v.xr[j]);M+=L,y[j]=Math.sqrt(L*Math.sqrt(L)),y[j]>v.xrpow_max&&(v.xrpow_max=y[j])}return M}this.init_xrpow=function(v,y,m){var M=0,j=0|y.max_nonzero_coeff;if(y.xrpow_max=0,vo.fill(m,j,576,0),M=a(y,m,j,M),M>1e-20){var L=0;v.substep_shaping&2&&(L=1);for(var I=0;I<y.psymax;I++)v.pseudohalf[I]=L;return!0}return vo.fill(y.l3_enc,0,576,0),!1};function l(v,y){var m=v.ATH,M=y.xr;if(y.block_type!=St.SHORT_TYPE)for(var j=!1,L=St.PSFB21-1;L>=0&&!j;L--){var I=v.scalefac_band.psfb21[L],V=v.scalefac_band.psfb21[L+1],Y=n.athAdjust(m.adjust,m.psfb21[L],m.floor);v.nsPsy.longfact[21]>1e-12&&(Y*=v.nsPsy.longfact[21]);for(var Q=V-1;Q>=I;Q--)if(Math.abs(M[Q])<Y)M[Q]=0;else{j=!0;break}}else for(var G=0;G<3;G++)for(var j=!1,L=St.PSFB12-1;L>=0&&!j;L--){var I=v.scalefac_band.s[12]*3+(v.scalefac_band.s[13]-v.scalefac_band.s[12])*G+(v.scalefac_band.psfb12[L]-v.scalefac_band.psfb12[0]),V=I+(v.scalefac_band.psfb12[L+1]-v.scalefac_band.psfb12[L]),T=n.athAdjust(m.adjust,m.psfb12[L],m.floor);v.nsPsy.shortfact[12]>1e-12&&(T*=v.nsPsy.shortfact[12]);for(var Q=V-1;Q>=I;Q--)if(Math.abs(M[Q])<T)M[Q]=0;else{j=!0;break}}}this.init_outer_loop=function(v,y){y.part2_3_length=0,y.big_values=0,y.count1=0,y.global_gain=210,y.scalefac_compress=0,y.table_select[0]=0,y.table_select[1]=0,y.table_select[2]=0,y.subblock_gain[0]=0,y.subblock_gain[1]=0,y.subblock_gain[2]=0,y.subblock_gain[3]=0,y.region0_count=0,y.region1_count=0,y.preflag=0,y.scalefac_scale=0,y.count1table_select=0,y.part2_length=0,y.sfb_lmax=St.SBPSY_l,y.sfb_smin=St.SBPSY_s,y.psy_lmax=v.sfb21_extra?St.SBMAX_l:St.SBPSY_l,y.psymax=y.psy_lmax,y.sfbmax=y.sfb_lmax,y.sfbdivide=11;for(var m=0;m<St.SBMAX_l;m++)y.width[m]=v.scalefac_band.l[m+1]-v.scalefac_band.l[m],y.window[m]=3;if(y.block_type==St.SHORT_TYPE){var M=Wa(576);y.sfb_smin=0,y.sfb_lmax=0,y.mixed_block_flag!=0&&(y.sfb_smin=3,y.sfb_lmax=v.mode_gr*2+4),y.psymax=y.sfb_lmax+3*((v.sfb21_extra?St.SBMAX_s:St.SBPSY_s)-y.sfb_smin),y.sfbmax=y.sfb_lmax+3*(St.SBPSY_s-y.sfb_smin),y.sfbdivide=y.sfbmax-18,y.psy_lmax=y.sfb_lmax;var j=v.scalefac_band.l[y.sfb_lmax];Ws.arraycopy(y.xr,0,M,0,576);for(var m=y.sfb_smin;m<St.SBMAX_s;m++)for(var L=v.scalefac_band.s[m],I=v.scalefac_band.s[m+1],V=0;V<3;V++)for(var Y=L;Y<I;Y++)y.xr[j++]=M[3*Y+V];for(var Q=y.sfb_lmax,m=y.sfb_smin;m<St.SBMAX_s;m++)y.width[Q]=y.width[Q+1]=y.width[Q+2]=v.scalefac_band.s[m+1]-v.scalefac_band.s[m],y.window[Q]=0,y.window[Q+1]=1,y.window[Q+2]=2,Q+=3}y.count1bits=0,y.sfb_partition_table=n.nr_of_sfb_block[0][0],y.slen[0]=0,y.slen[1]=0,y.slen[2]=0,y.slen[3]=0,y.max_nonzero_coeff=575,vo.fill(y.scalefac,0),l(v,y)};function c(v){this.ordinal=v}c.BINSEARCH_NONE=new c(0),c.BINSEARCH_UP=new c(1),c.BINSEARCH_DOWN=new c(2);function d(v,y,m,M,j){var L,I=v.CurrentStep[M],V=!1,Y=v.OldValue[M],Q=c.BINSEARCH_NONE;for(y.global_gain=Y,m-=y.part2_length;;){var G;if(L=o.count_bits(v,j,y,null),I==1||L==m)break;L>m?(Q==c.BINSEARCH_DOWN&&(V=!0),V&&(I/=2),Q=c.BINSEARCH_UP,G=I):(Q==c.BINSEARCH_UP&&(V=!0),V&&(I/=2),Q=c.BINSEARCH_DOWN,G=-I),y.global_gain+=G,y.global_gain<0&&(y.global_gain=0,V=!0),y.global_gain>255&&(y.global_gain=255,V=!0)}for(Ha(y.global_gain>=0),Ha(y.global_gain<256);L>m&&y.global_gain<255;)y.global_gain++,L=o.count_bits(v,j,y,null);return v.CurrentStep[M]=Y-y.global_gain>=4?4:2,v.OldValue[M]=y.global_gain,y.part2_3_length=L,L}this.trancate_smallspectrums=function(v,y,m,M){var j=Wa(I2.SFBMAX);if(!(!(v.substep_shaping&4)&&y.block_type==St.SHORT_TYPE||v.substep_shaping&128)){n.calc_noise(y,m,j,new Ch,null);for(var I=0;I<576;I++){var L=0;y.l3_enc[I]!=0&&(L=Math.abs(y.xr[I])),M[I]=L}var I=0,V=8;y.block_type==St.SHORT_TYPE&&(V=6);do{var Y,Q,G,T,z=y.width[V];if(I+=z,!(j[V]>=1)&&(vo.sort(M,I-z,z),!BitStream.EQ(M[I-1],0))){Y=(1-j[V])*m[V],Q=0,T=0;do{var S;for(G=1;T+G<z&&!BitStream.NEQ(M[T+I-z],M[T+I+G-z]);G++);if(S=M[T+I-z]*M[T+I-z]*G,Y<S){T!=0&&(Q=M[T+I-z-1]);break}Y-=S,T+=G}while(T<z);if(!BitStream.EQ(Q,0))do Math.abs(y.xr[I-z])<=Q&&(y.l3_enc[I-z]=0);while(--z>0)}}while(++V<y.psymax);y.part2_3_length=o.noquant_count_bits(v,y,null)}};function p(v){for(var y=0;y<v.sfbmax;y++)if(v.scalefac[y]+v.subblock_gain[v.window[y]]==0)return!1;return!0}function f(v){return Eh.FAST_LOG10(.368+.632*v*v*v)}function h(v,y){for(var m=1e-37,M=0;M<y.psymax;M++)m+=f(v[M]);return Math.max(1e-20,m)}function w(v,y,m,M,j){var L;switch(v){default:case 9:{y.over_count>0?(L=m.over_SSD<=y.over_SSD,m.over_SSD==y.over_SSD&&(L=m.bits<y.bits)):L=m.max_noise<0&&m.max_noise*10+m.bits<=y.max_noise*10+y.bits;break}case 0:L=m.over_count<y.over_count||m.over_count==y.over_count&&m.over_noise<y.over_noise||m.over_count==y.over_count&&BitStream.EQ(m.over_noise,y.over_noise)&&m.tot_noise<y.tot_noise;break;case 8:m.max_noise=h(j,M);case 1:L=m.max_noise<y.max_noise;break;case 2:L=m.tot_noise<y.tot_noise;break;case 3:L=m.tot_noise<y.tot_noise&&m.max_noise<y.max_noise;break;case 4:L=m.max_noise<=0&&y.max_noise>.2||m.max_noise<=0&&y.max_noise<0&&y.max_noise>m.max_noise-.2&&m.tot_noise<y.tot_noise||m.max_noise<=0&&y.max_noise>0&&y.max_noise>m.max_noise-.2&&m.tot_noise<y.tot_noise+y.over_noise||m.max_noise>0&&y.max_noise>-.05&&y.max_noise>m.max_noise-.1&&m.tot_noise+m.over_noise<y.tot_noise+y.over_noise||m.max_noise>0&&y.max_noise>-.1&&y.max_noise>m.max_noise-.15&&m.tot_noise+m.over_noise+m.over_noise<y.tot_noise+y.over_noise+y.over_noise;break;case 5:L=m.over_noise<y.over_noise||BitStream.EQ(m.over_noise,y.over_noise)&&m.tot_noise<y.tot_noise;break;case 6:L=m.over_noise<y.over_noise||BitStream.EQ(m.over_noise,y.over_noise)&&(m.max_noise<y.max_noise||BitStream.EQ(m.max_noise,y.max_noise)&&m.tot_noise<=y.tot_noise);break;case 7:L=m.over_count<y.over_count||m.over_noise<y.over_noise;break}return y.over_count==0&&(L=L&&m.bits<y.bits),L}function b(v,y,m,M,j){var L=v.internal_flags,I;y.scalefac_scale==0?I=1.2968395546510096:I=1.6817928305074292;for(var V=0,Y=0;Y<y.sfbmax;Y++)V<m[Y]&&(V=m[Y]);var Q=L.noise_shaping_amp;switch(Q==3&&(j?Q=2:Q=1),Q){case 2:break;case 1:V>1?V=Math.pow(V,.5):V*=.95;break;default:V>1?V=1:V*=.95;break}for(var G=0,Y=0;Y<y.sfbmax;Y++){var T=y.width[Y],z;if(G+=T,!(m[Y]<V)){if(L.substep_shaping&2&&(L.pseudohalf[Y]=L.pseudohalf[Y]==0?1:0,L.pseudohalf[Y]==0&&L.noise_shaping_amp==2))return;for(y.scalefac[Y]++,z=-T;z<0;z++)M[G+z]*=I,M[G+z]>y.xrpow_max&&(y.xrpow_max=M[G+z]);if(L.noise_shaping_amp==2)return}}}function C(v,y){for(var m=1.2968395546510096,M=0,j=0;j<v.sfbmax;j++){var L=v.width[j],I=v.scalefac[j];if(v.preflag!=0&&(I+=n.pretab[j]),M+=L,I&1){I++;for(var V=-L;V<0;V++)y[M+V]*=m,y[M+V]>v.xrpow_max&&(v.xrpow_max=y[M+V])}v.scalefac[j]=I>>1}v.preflag=0,v.scalefac_scale=1}function _(v,y,m){var M,j=y.scalefac;for(M=0;M<y.sfb_lmax;M++)if(j[M]>=16)return!0;for(var L=0;L<3;L++){var I=0,V=0;for(M=y.sfb_lmax+L;M<y.sfbdivide;M+=3)I<j[M]&&(I=j[M]);for(;M<y.sfbmax;M+=3)V<j[M]&&(V=j[M]);if(!(I<16&&V<8)){if(y.subblock_gain[L]>=7)return!0;y.subblock_gain[L]++;var Y=v.scalefac_band.l[y.sfb_lmax];for(M=y.sfb_lmax+L;M<y.sfbmax;M+=3){var Q,G=y.width[M],T=j[M];if(T=T-(4>>y.scalefac_scale),T>=0){j[M]=T,Y+=G*3;continue}j[M]=0;{var z=210+(T<<y.scalefac_scale+1);Q=n.IPOW20(z)}Y+=G*(L+1);for(var S=-G;S<0;S++)m[Y+S]*=Q,m[Y+S]>y.xrpow_max&&(y.xrpow_max=m[Y+S]);Y+=G*(3-L-1)}{var Q=n.IPOW20(202);Y+=y.width[M]*(L+1);for(var S=-y.width[M];S<0;S++)m[Y+S]*=Q,m[Y+S]>y.xrpow_max&&(y.xrpow_max=m[Y+S])}}}return!1}function x(v,y,m,M,j){var L=v.internal_flags;b(v,y,m,M,j);var I=p(y);return I?!1:(L.mode_gr==2?I=o.scale_bitcount(y):I=o.scale_bitcount_lsf(L,y),I?(L.noise_shaping>1&&(vo.fill(L.pseudohalf,0),y.scalefac_scale==0?(C(y,M),I=!1):y.block_type==St.SHORT_TYPE&&L.subblock_gain>0&&(I=_(L,y,M)||p(y))),I||(L.mode_gr==2?I=o.scale_bitcount(y):I=o.scale_bitcount_lsf(L,y)),!I):!0)}this.outer_loop=function(v,y,m,M,j,L){var I=v.internal_flags,V=new O2,Y=Wa(576),Q=Wa(I2.SFBMAX),G=new Ch,T,z=new JT,S=9999999,W=!1,ne=!1,q=0;if(d(I,y,L,j,M),I.noise_shaping==0)return 100;n.calc_noise(y,m,Q,G,z),G.bits=y.part2_3_length,V.assign(y);var U=0;for(Ws.arraycopy(M,0,Y,0,576);!W;){do{var K=new Ch,X,E=255;if(I.substep_shaping&2?X=20:X=3,I.sfb21_extra&&(Q[V.sfbmax]>1||V.block_type==St.SHORT_TYPE&&(Q[V.sfbmax+1]>1||Q[V.sfbmax+2]>1))||!x(v,V,Q,M,ne))break;V.scalefac_scale!=0&&(E=254);var k=L-V.part2_length;if(k<=0)break;for(;(V.part2_3_length=o.count_bits(I,M,V,z))>k&&V.global_gain<=E;)V.global_gain++;if(V.global_gain>E)break;if(G.over_count==0){for(;(V.part2_3_length=o.count_bits(I,M,V,z))>S&&V.global_gain<=E;)V.global_gain++;if(V.global_gain>E)break}if(n.calc_noise(V,m,Q,K,z),K.bits=V.part2_3_length,y.block_type!=St.SHORT_TYPE?T=v.quant_comp:T=v.quant_comp_short,T=w(T,G,K,V,Q)?1:0,T!=0)S=y.part2_3_length,G=K,y.assign(V),U=0,Ws.arraycopy(M,0,Y,0,576);else if(I.full_outer_loop==0&&(++U>X&&G.over_count==0||I.noise_shaping_amp==3&&ne&&U>30||I.noise_shaping_amp==3&&ne&&V.global_gain-q>15))break}while(V.global_gain+V.scalefac_scale<255);I.noise_shaping_amp==3?ne?W=!0:(V.assign(y),Ws.arraycopy(Y,0,M,0,576),U=0,q=V.global_gain,ne=!0):W=!0}return Ha(y.global_gain+y.scalefac_scale<=255),v.VBR==N2.vbr_rh||v.VBR==N2.vbr_mtrh?Ws.arraycopy(Y,0,M,0,576):I.substep_shaping&1&&trancate_smallspectrums(I,y,m,M),G.over_count},this.iteration_finish_one=function(v,y,m){var M=v.l3_side,j=M.tt[y][m];o.best_scalefac_store(v,y,m,M),v.use_best_huffman==1&&o.best_huffman_divide(v,j),t.ResvAdjust(v,j)},this.VBR_encode_granule=function(v,y,m,M,j,L,I){var V=v.internal_flags,Y=new O2,Q=Wa(576),G=I,T=I+1,z=(I+L)/2,S,W,ne=0,q=V.sfb21_extra;Ha(G<=LameInternalFlags.MAX_BITS_PER_CHANNEL),vo.fill(Y.l3_enc,0);do z>G-42?V.sfb21_extra=!1:V.sfb21_extra=q,W=outer_loop(v,y,m,M,j,z),W<=0?(ne=1,T=y.part2_3_length,Y.assign(y),Ws.arraycopy(M,0,Q,0,576),I=T-32,S=I-L,z=(I+L)/2):(L=z+32,S=I-L,z=(I+L)/2,ne!=0&&(ne=2,y.assign(Y),Ws.arraycopy(Q,0,M,0,576)));while(S>12);V.sfb21_extra=q,ne==2&&Ws.arraycopy(Y.l3_enc,0,y.l3_enc,0,576),Ha(y.part2_3_length<=G)},this.get_framebits=function(v,y){var m=v.internal_flags;m.bitrate_index=m.VBR_min_bitrate;var M=e.getframebits(v);m.bitrate_index=1,M=e.getframebits(v);for(var j=1;j<=m.VBR_max_bitrate;j++){m.bitrate_index=j;var L=new MeanBits(M);y[j]=t.ResvFrameBegin(v,L),M=L.bits}},this.VBR_old_prepare=function(v,y,m,M,j,L,I,V,Y){var Q=v.internal_flags,G,T=0,z=1,S=0;Q.bitrate_index=Q.VBR_max_bitrate;var W=t.ResvFrameBegin(v,new MeanBits(0))/Q.mode_gr;get_framebits(v,L);for(var ne=0;ne<Q.mode_gr;ne++){var q=n.on_pe(v,y,V[ne],W,ne,0);Q.mode_ext==St.MPG_MD_MS_LR&&(ms_convert(Q.l3_side,ne),n.reduce_side(V[ne],m[ne],W,q));for(var U=0;U<Q.channels_out;++U){var K=Q.l3_side.tt[ne][U];K.block_type!=St.SHORT_TYPE?(T=1.28/(1+Math.exp(3.5-y[ne][U]/300))-.05,G=Q.PSY.mask_adjust-T):(T=2.56/(1+Math.exp(3.5-y[ne][U]/300))-.14,G=Q.PSY.mask_adjust_short-T),Q.masking_lower=Math.pow(10,G*.1),init_outer_loop(Q,K),Y[ne][U]=n.calc_xmin(v,M[ne][U],K,j[ne][U]),Y[ne][U]!=0&&(z=0),I[ne][U]=126,S+=V[ne][U]}}for(var ne=0;ne<Q.mode_gr;ne++)for(var U=0;U<Q.channels_out;U++)S>L[Q.VBR_max_bitrate]&&(V[ne][U]*=L[Q.VBR_max_bitrate],V[ne][U]/=S),I[ne][U]>V[ne][U]&&(I[ne][U]=V[ne][U]);return z},this.bitpressure_strategy=function(v,y,m,M){for(var j=0;j<v.mode_gr;j++)for(var L=0;L<v.channels_out;L++){for(var I=v.l3_side.tt[j][L],V=y[j][L],Y=0,Q=0;Q<I.psy_lmax;Q++)V[Y++]*=1+.029*Q*Q/St.SBMAX_l/St.SBMAX_l;if(I.block_type==St.SHORT_TYPE)for(var Q=I.sfb_smin;Q<St.SBMAX_s;Q++)V[Y++]*=1+.029*Q*Q/St.SBMAX_s/St.SBMAX_s,V[Y++]*=1+.029*Q*Q/St.SBMAX_s/St.SBMAX_s,V[Y++]*=1+.029*Q*Q/St.SBMAX_s/St.SBMAX_s;M[j][L]=0|Math.max(m[j][L],.9*M[j][L])}},this.VBR_new_prepare=function(v,y,m,M,j,L){var I=v.internal_flags,V=1,Y=0,Q=0,G;if(v.free_format){I.bitrate_index=0;var T=new MeanBits(Y);G=t.ResvFrameBegin(v,T),Y=T.bits,j[0]=G}else{I.bitrate_index=I.VBR_max_bitrate;var T=new MeanBits(Y);t.ResvFrameBegin(v,T),Y=T.bits,get_framebits(v,j),G=j[I.VBR_max_bitrate]}for(var z=0;z<I.mode_gr;z++){n.on_pe(v,y,L[z],Y,z,0),I.mode_ext==St.MPG_MD_MS_LR&&ms_convert(I.l3_side,z);for(var S=0;S<I.channels_out;++S){var W=I.l3_side.tt[z][S];I.masking_lower=Math.pow(10,I.PSY.mask_adjust*.1),init_outer_loop(I,W),n.calc_xmin(v,m[z][S],W,M[z][S])!=0&&(V=0),Q+=L[z][S]}}for(var z=0;z<I.mode_gr;z++)for(var S=0;S<I.channels_out;S++)Q>G&&(L[z][S]*=G,L[z][S]/=Q);return V},this.calc_target_bits=function(v,y,m,M,j,L){var I=v.internal_flags,V=I.l3_side,Y,Q,G,T,z=0;I.bitrate_index=I.VBR_max_bitrate;var S=new MeanBits(z);for(L[0]=t.ResvFrameBegin(v,S),z=S.bits,I.bitrate_index=1,z=e.getframebits(v)-I.sideinfo_len*8,j[0]=z/(I.mode_gr*I.channels_out),z=v.VBR_mean_bitrate_kbps*v.framesize*1e3,I.substep_shaping&1&&(z*=1.09),z/=v.out_samplerate,z-=I.sideinfo_len*8,z/=I.mode_gr*I.channels_out,Y=.93+.07*(11-v.compression_ratio)/(11-5.5),Y<.9&&(Y=.9),Y>1&&(Y=1),Q=0;Q<I.mode_gr;Q++){var W=0;for(G=0;G<I.channels_out;G++){if(M[Q][G]=int(Y*z),y[Q][G]>700){var ne=int((y[Q][G]-700)/1.4),q=V.tt[Q][G];M[Q][G]=int(Y*z),q.block_type==St.SHORT_TYPE&&ne<z/2&&(ne=z/2),ne>z*3/2?ne=z*3/2:ne<0&&(ne=0),M[Q][G]+=ne}M[Q][G]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(M[Q][G]=LameInternalFlags.MAX_BITS_PER_CHANNEL),W+=M[Q][G]}if(W>LameInternalFlags.MAX_BITS_PER_GRANULE)for(G=0;G<I.channels_out;++G)M[Q][G]*=LameInternalFlags.MAX_BITS_PER_GRANULE,M[Q][G]/=W}if(I.mode_ext==St.MPG_MD_MS_LR)for(Q=0;Q<I.mode_gr;Q++)n.reduce_side(M[Q],m[Q],z*I.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(T=0,Q=0;Q<I.mode_gr;Q++)for(G=0;G<I.channels_out;G++)M[Q][G]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(M[Q][G]=LameInternalFlags.MAX_BITS_PER_CHANNEL),T+=M[Q][G];if(T>L[0])for(Q=0;Q<I.mode_gr;Q++)for(G=0;G<I.channels_out;G++)M[Q][G]*=L[0],M[Q][G]/=T}}var tP=eP,nP=Ht,j2=nP.assert;function rP(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var s=t.internal_flags,o,a=s.l3_side,l=e.getframebits(t);n.bits=(l-s.sideinfo_len*8)/s.mode_gr;var c=8*256*s.mode_gr-8;t.brate>320?o=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(o=8*1440,t.strict_ISO&&(o=8*int(32e4/(t.out_samplerate/1152)/8+.5))),s.ResvMax=o-l,s.ResvMax>c&&(s.ResvMax=c),(s.ResvMax<0||t.disable_reservoir)&&(s.ResvMax=0);var d=n.bits*s.mode_gr+Math.min(s.ResvSize,s.ResvMax);return d>o&&(d=o),j2(s.ResvMax%8==0),j2(s.ResvMax>=0),a.resvDrain_pre=0,s.pinfo!=null&&(s.pinfo.mean_bits=n.bits/2,s.pinfo.resvsize=s.ResvSize),d},this.ResvMaxBits=function(t,n,s,o){var a=t.internal_flags,l,c=a.ResvSize,d=a.ResvMax;o!=0&&(c+=n),a.substep_shaping&1&&(d*=.9),s.bits=n,c*10>d*9?(l=c-d*9/10,s.bits+=l,a.substep_shaping|=128):(l=0,a.substep_shaping&=127,!t.disable_reservoir&&!(a.substep_shaping&1)&&(s.bits-=.1*n));var p=c<a.ResvMax*6/10?c:a.ResvMax*6/10;return p-=l,p<0&&(p=0),p},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var s,o=t.l3_side;t.ResvSize+=n*t.mode_gr;var a=0;o.resvDrain_post=0,o.resvDrain_pre=0,(s=t.ResvSize%8)!=0&&(a+=s),s=t.ResvSize-a-t.ResvMax,s>0&&(a+=s);{var l=Math.min(o.main_data_begin*8,a)/8;o.resvDrain_pre+=8*l,a-=8*l,t.ResvSize-=8*l,o.main_data_begin-=l}o.resvDrain_post+=a,t.ResvSize-=a}}var sP=rP;function iP(){var e="http://www.mp3dev.org/",t=3,n=98,s=4,o=0,a=93;this.getLameVersion=function(){return t+"."+n+"."+s},this.getLameShortVersion=function(){return t+"."+n+"."+s},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return o+"."+a},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var oP=iP,Qo=Ht,aP=Qo.System,kh=Qo.VbrMode,L2=Qo.ShortBlock,lP=Qo.Arrays,$c=Qo.new_byte,cP=Qo.assert;al.NUMTOCENTRIES=100;al.MAXFRAMESIZE=2880;function al(){var e,t,n;this.setModules=function(z,S,W){e=z,t=S,n=W};var s=1,o=2,a=4,l=8,c=al.NUMTOCENTRIES,d=al.MAXFRAMESIZE,p=c+4+4+4+4+4,f=p+9+1+1+8+1+1+3+1+1+2+4+2+2,h=128,w=64,b=32,C=null,_="Xing",x="Info",v=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function y(z,S){if(z.nVbrNumFrames++,z.sum+=S,z.seen++,!(z.seen<z.want)&&(z.pos<z.size&&(z.bag[z.pos]=z.sum,z.pos++,z.seen=0),z.pos==z.size)){for(var W=1;W<z.size;W+=2)z.bag[W/2]=z.bag[W];z.want*=2,z.pos/=2}}function m(z,S){if(!(z.pos<=0))for(var W=1;W<c;++W){var ne=W/c,q,U,K=0|Math.floor(ne*z.pos);K>z.pos-1&&(K=z.pos-1),q=z.bag[K],U=z.sum;var X=0|256*q/U;X>255&&(X=255),S[W]=255&X}}this.addVbrFrame=function(z){var S=z.internal_flags,W=Tables.bitrate_table[z.version][S.bitrate_index];cP(S.VBR_seek_table.bag!=null),y(S.VBR_seek_table,W)};function M(z,S){var W=z[S+0]&255;return W<<=8,W|=z[S+1]&255,W<<=8,W|=z[S+2]&255,W<<=8,W|=z[S+3]&255,W}function j(z,S,W){z[S+0]=255&(W>>24&255),z[S+1]=255&(W>>16&255),z[S+2]=255&(W>>8&255),z[S+3]=255&(W&255)}function L(z,S,W){z[S+0]=255&(W>>8&255),z[S+1]=255&(W&255)}function I(z,S){return new String(z,S,_.length(),C).equals(_)||new String(z,S,x.length(),C).equals(x)}function V(z,S,W){return 255&(z<<S|W&~(-1<<S))}function Y(z,S){var W=z.internal_flags;S[0]=V(S[0],8,255),S[1]=V(S[1],3,7),S[1]=V(S[1],1,z.out_samplerate<16e3?0:1),S[1]=V(S[1],1,z.version),S[1]=V(S[1],2,1),S[1]=V(S[1],1,z.error_protection?0:1),S[2]=V(S[2],4,W.bitrate_index),S[2]=V(S[2],2,W.samplerate_index),S[2]=V(S[2],1,0),S[2]=V(S[2],1,z.extension),S[3]=V(S[3],2,z.mode.ordinal()),S[3]=V(S[3],2,W.mode_ext),S[3]=V(S[3],1,z.copyright),S[3]=V(S[3],1,z.original),S[3]=V(S[3],2,z.emphasis),S[0]=255;var ne=255&(S[1]&241),q;z.version==1?q=h:z.out_samplerate<16e3?q=b:q=w,z.VBR==kh.vbr_off&&(q=z.brate);var U;z.free_format?U=0:U=255&16*e.BitrateIndex(q,z.version,z.out_samplerate),z.version==1?(S[1]=255&(ne|10),ne=255&(S[2]&13),S[2]=255&(U|ne)):(S[1]=255&(ne|2),ne=255&(S[2]&13),S[2]=255&(U|ne))}this.getVbrTag=function(z){var S=new VBRTagData,W=0;S.flags=0;var ne=z[W+1]>>3&1,q=z[W+2]>>2&3,U=z[W+3]>>6&3,K=z[W+2]>>4&15;if(K=Tables.bitrate_table[ne][K],z[W+1]>>4==14?S.samprate=Tables.samplerate_table[2][q]:S.samprate=Tables.samplerate_table[ne][q],ne!=0?U!=3?W+=36:W+=21:U!=3?W+=21:W+=13,!I(z,W))return null;W+=4,S.hId=ne;var X=S.flags=M(z,W);if(W+=4,X&s&&(S.frames=M(z,W),W+=4),X&o&&(S.bytes=M(z,W),W+=4),X&a){if(S.toc!=null)for(var E=0;E<c;E++)S.toc[E]=z[W+E];W+=c}S.vbrScale=-1,X&l&&(S.vbrScale=M(z,W),W+=4),S.headersize=(ne+1)*72e3*K/S.samprate,W+=21;var k=z[W+0]<<4;k+=z[W+1]>>4;var O=(z[W+1]&15)<<8;return O+=z[W+2]&255,(k<0||k>3e3)&&(k=-1),(O<0||O>3e3)&&(O=-1),S.encDelay=k,S.encPadding=O,S},this.InitVbrTag=function(z){var S=z.internal_flags,W;z.version==1?W=h:z.out_samplerate<16e3?W=b:W=w,z.VBR==kh.vbr_off&&(W=z.brate);var ne=(z.version+1)*72e3*W/z.out_samplerate,q=S.sideinfo_len+f;if(S.VBR_seek_table.TotalFrameSize=ne,ne<q||ne>d){z.bWriteVbrTag=!1;return}S.VBR_seek_table.nVbrNumFrames=0,S.VBR_seek_table.nBytesWritten=0,S.VBR_seek_table.sum=0,S.VBR_seek_table.seen=0,S.VBR_seek_table.want=1,S.VBR_seek_table.pos=0,S.VBR_seek_table.bag==null&&(S.VBR_seek_table.bag=new int[400],S.VBR_seek_table.size=400);var U=$c(d);Y(z,U);for(var K=S.VBR_seek_table.TotalFrameSize,X=0;X<K;++X)t.add_dummy_byte(z,U[X]&255,1)};function Q(z,S){var W=S^z;return S=S>>8^v[W&255],S}this.updateMusicCRC=function(z,S,W,ne){for(var q=0;q<ne;++q)z[0]=Q(S[W+q],z[0])};function G(z,S,W,ne,q){var U=z.internal_flags,K=0,X=z.encoder_delay,E=z.encoder_padding,k=100-10*z.VBR_q-z.quality,O=n.getLameVeryShortVersion(),F,$=0,ae,le=[1,5,3,2,4,0,3],te=0|(z.lowpassfreq/100+.5>255?255:z.lowpassfreq/100+.5),ce=0,we=0,Ce=0,je=z.internal_flags.noise_shaping,Ve=0,B=0,ve=0,pe=0,ie=0,se=(z.exp_nspsytune&1)!=0,A=(z.exp_nspsytune&2)!=0,H=!1,be=!1,fe=z.internal_flags.nogap_total,De=z.internal_flags.nogap_current,Ie=z.ATHtype,Pe=0,Le;switch(z.VBR){case vbr_abr:Le=z.VBR_mean_bitrate_kbps;break;case vbr_off:Le=z.brate;break;default:Le=z.VBR_min_bitrate_kbps}switch(z.VBR.ordinal()<le.length?F=le[z.VBR.ordinal()]:F=0,ae=16*$+F,U.findReplayGain&&(U.RadioGain>510&&(U.RadioGain=510),U.RadioGain<-510&&(U.RadioGain=-510),we=8192,we|=3072,U.RadioGain>=0?we|=U.RadioGain:(we|=512,we|=-U.RadioGain)),U.findPeakSample&&(ce=Math.abs(0|U.PeakSample/32767*Math.pow(2,23)+.5)),fe!=-1&&(De>0&&(be=!0),De<fe-1&&(H=!0)),Pe=Ie+((se?1:0)<<4)+((A?1:0)<<5)+((H?1:0)<<6)+((be?1:0)<<7),k<0&&(k=0),z.mode){case MONO:Ve=0;break;case STEREO:Ve=1;break;case DUAL_CHANNEL:Ve=2;break;case JOINT_STEREO:z.force_ms?Ve=4:Ve=3;break;case NOT_SET:default:Ve=7;break}z.in_samplerate<=32e3?ve=0:z.in_samplerate==48e3?ve=2:z.in_samplerate>48e3?ve=3:ve=1,(z.short_blocks==L2.short_block_forced||z.short_blocks==L2.short_block_dispensed||z.lowpassfreq==-1&&z.highpassfreq==-1||z.scale_left<z.scale_right||z.scale_left>z.scale_right||z.disable_reservoir&&z.brate<320||z.noATH||z.ATHonly||Ie==0||z.in_samplerate<=32e3)&&(B=1),pe=je+(Ve<<2)+(B<<5)+(ve<<6),ie=U.nMusicCRC,j(W,ne+K,k),K+=4;for(var qe=0;qe<9;qe++)W[ne+K+qe]=255&O.charAt(qe);K+=9,W[ne+K]=255&ae,K++,W[ne+K]=255&te,K++,j(W,ne+K,ce),K+=4,L(W,ne+K,we),K+=2,L(W,ne+K,Ce),K+=2,W[ne+K]=255&Pe,K++,Le>=255?W[ne+K]=255:W[ne+K]=255&Le,K++,W[ne+K]=255&X>>4,W[ne+K+1]=255&(X<<4)+(E>>8),W[ne+K+2]=255&E,K+=3,W[ne+K]=255&pe,K++,W[ne+K++]=0,L(W,ne+K,z.preset),K+=2,j(W,ne+K,S),K+=4,L(W,ne+K,ie),K+=2;for(var Ue=0;Ue<K;Ue++)q=Q(W[ne+Ue],q);return L(W,ne+K,q),K+=2,K}function T(z){z.seek(0);var S=$c(10);z.readFully(S);var W;return new String(S,"ISO-8859-1").startsWith("ID3")?W=0:W=((S[6]&127)<<21|(S[7]&127)<<14|(S[8]&127)<<7|S[9]&127)+S.length,W}this.getLameTagFrame=function(z,S){var W=z.internal_flags;if(!z.bWriteVbrTag||W.Class_ID!=Lame.LAME_ID||W.VBR_seek_table.pos<=0)return 0;if(S.length<W.VBR_seek_table.TotalFrameSize)return W.VBR_seek_table.TotalFrameSize;lP.fill(S,0,W.VBR_seek_table.TotalFrameSize,0),Y(z,S);var ne=$c(c);if(z.free_format)for(var q=1;q<c;++q)ne[q]=255&255*q/100;else m(W.VBR_seek_table,ne);var U=W.sideinfo_len;z.error_protection&&(U-=2),z.VBR==kh.vbr_off?(S[U++]=255&x.charAt(0),S[U++]=255&x.charAt(1),S[U++]=255&x.charAt(2),S[U++]=255&x.charAt(3)):(S[U++]=255&_.charAt(0),S[U++]=255&_.charAt(1),S[U++]=255&_.charAt(2),S[U++]=255&_.charAt(3)),j(S,U,s+o+a+l),U+=4,j(S,U,W.VBR_seek_table.nVbrNumFrames),U+=4;var K=W.VBR_seek_table.nBytesWritten+W.VBR_seek_table.TotalFrameSize;j(S,U,0|K),U+=4,aP.arraycopy(ne,0,S,U,ne.length),U+=ne.length,z.error_protection&&t.CRC_writeheader(W,S);for(var X=0,q=0;q<U;q++)X=Q(S[q],X);return U+=G(z,K,S,U,X),W.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(z,S){var W=z.internal_flags;if(W.VBR_seek_table.pos<=0||(S.seek(S.length()),S.length()==0))return-1;var ne=T(S);S.seek(ne);var q=$c(d),U=getLameTagFrame(z,q);return U>q.length?-1:(U<1||S.write(q,0,U),0)}}var uP=al,m3=Ht,B2=m3.new_byte,dP=m3.assert,fP=Wm(),hP=UT,pP=c3,mP=f3(),gP=tP,vP=h3(),yP=sP,_P=xl,wP=zm();Rn();var bP=oP,xP=uP;function SP(){this.setModules=function(e,t){}}function EP(){this.setModules=function(e,t,n){}}function CP(){}function kP(){this.setModules=function(e,t){}}function RP(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var s=new fP,o=new SP,a=new pP,l=new wP,c=new hP,d=new mP,p=new gP,f=new xP,h=new bP,w=new kP,b=new yP,C=new vP,_=new EP,x=new CP;s.setModules(a,l,c,d,p,f,h,w,x),l.setModules(a,x,h,f),w.setModules(l,h),c.setModules(s),p.setModules(l,b,d,C),d.setModules(C,b,s.enc.psy),b.setModules(l),C.setModules(d),f.setModules(s,l,h),o.setModules(_,x),_.setModules(h,w,c);var v=s.lame_init();v.num_channels=e,v.in_samplerate=t,v.brate=n,v.mode=_P.STEREO,v.quality=3,v.bWriteVbrTag=!1,v.disable_reservoir=!0,v.write_id3tag_automatic=!1,s.lame_init_params(v);var y=1152,m=0|1.25*y+7200,M=B2(m);this.encodeBuffer=function(j,L){e==1&&(L=j),dP(j.length==L.length),j.length>y&&(y=j.length,m=0|1.25*y+7200,M=B2(m));var I=s.lame_encode_buffer(v,j,L,j.length,M,0,m);return new Int8Array(M.subarray(0,I))},this.flush=function(){var j=s.lame_encode_flush(v,M,0,m);return new Int8Array(M.subarray(0,j))}}function Vr(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function nd(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}Vr.RIFF=nd("RIFF");Vr.WAVE=nd("WAVE");Vr.fmt_=nd("fmt ");Vr.data=nd("data");Vr.readHeader=function(e){var t=new Vr,n=e.getUint32(0,!1);if(Vr.RIFF==n&&(e.getUint32(4,!0),Vr.WAVE==e.getUint32(8,!1)&&Vr.fmt_==e.getUint32(12,!1))){var s=e.getUint32(16,!0),o=20;switch(s){case 16:case 18:t.channels=e.getUint16(o+2,!0),t.sampleRate=e.getUint32(o+4,!0);break;default:throw"extended fmt chunk not implemented"}o+=s;for(var a=Vr.data,l=0;a!=n&&(n=e.getUint32(o,!1),l=e.getUint32(o+4,!0),a!=n);)o+=l+8;return t.dataLen=l,t.dataOffset=o+8,t}};var g3=RP;async function bp(e){if(e.type==="audio/mpeg")return e;const t=new AudioContext;try{const n=await e.arrayBuffer(),s=await t.decodeAudioData(n),o=s.sampleRate,a=s.numberOfChannels,l=128;return a===1?TP(s.getChannelData(0),o,l):PP(s.getChannelData(0),s.getChannelData(1),o,l)}finally{await t.close()}}function xp(e){const t=new Int16Array(e.length);for(let n=0;n<e.length;n++){const s=Math.max(-1,Math.min(1,e[n]));t[n]=s<0?s*32768:s*32767}return t}function TP(e,t,n){const s=new g3(1,t,n),o=xp(e),a=1152,l=[];for(let d=0;d<o.length;d+=a){const p=o.subarray(d,d+a),f=s.encodeBuffer(p);f.length>0&&l.push(new Uint8Array(f))}const c=s.flush();return c.length>0&&l.push(new Uint8Array(c)),new Blob(l,{type:"audio/mpeg"})}function PP(e,t,n,s){const o=new g3(2,n,s),a=xp(e),l=xp(t),c=1152,d=[];for(let f=0;f<a.length;f+=c){const h=a.subarray(f,f+c),w=l.subarray(f,f+c),b=o.encodeBuffer(h,w);b.length>0&&d.push(new Uint8Array(b))}const p=o.flush();return p.length>0&&d.push(new Uint8Array(p)),new Blob(d,{type:"audio/mpeg"})}const v3="flagit-theme";function MP(){if(typeof window>"u")return"light";const e=localStorage.getItem(v3);return e==="dark"||e==="light"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Hm(){const[e,t]=N.useState(MP);return N.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem(v3,e)},[e]),{theme:e,toggleTheme:()=>t(s=>s==="dark"?"light":"dark")}}var Rh="focusScope.autoFocusOnMount",Th="focusScope.autoFocusOnUnmount",F2={bubbles:!1,cancelable:!0},AP="FocusScope",rd=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[c,d]=N.useState(null),p=Cn(o),f=Cn(a),h=N.useRef(null),w=Ct(t,_=>d(_)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let _=function(m){if(b.paused||!c)return;const M=m.target;c.contains(M)?h.current=M:Us(h.current,{select:!0})},x=function(m){if(b.paused||!c)return;const M=m.relatedTarget;M!==null&&(c.contains(M)||Us(h.current,{select:!0}))},v=function(m){if(document.activeElement===document.body)for(const j of m)j.removedNodes.length>0&&Us(c)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const y=new MutationObserver(v);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),y.disconnect()}}},[s,c,b.paused]),N.useEffect(()=>{if(c){z2.add(b);const _=document.activeElement;if(!c.contains(_)){const v=new CustomEvent(Rh,F2);c.addEventListener(Rh,p),c.dispatchEvent(v),v.defaultPrevented||(DP(LP(y3(c)),{select:!0}),document.activeElement===_&&Us(c))}return()=>{c.removeEventListener(Rh,p),setTimeout(()=>{const v=new CustomEvent(Th,F2);c.addEventListener(Th,f),c.dispatchEvent(v),v.defaultPrevented||Us(_??document.body,{select:!0}),c.removeEventListener(Th,f),z2.remove(b)},0)}}},[c,p,f,b]);const C=N.useCallback(_=>{if(!n&&!s||b.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,v=document.activeElement;if(x&&v){const y=_.currentTarget,[m,M]=NP(y);m&&M?!_.shiftKey&&v===M?(_.preventDefault(),n&&Us(m,{select:!0})):_.shiftKey&&v===m&&(_.preventDefault(),n&&Us(M,{select:!0})):v===y&&_.preventDefault()}},[n,s,b.paused]);return P.jsx(yt.div,{tabIndex:-1,...l,ref:w,onKeyDown:C})});rd.displayName=AP;function DP(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Us(s,{select:t}),document.activeElement!==n)return}function NP(e){const t=y3(e),n=V2(t,e),s=V2(t.reverse(),e);return[n,s]}function y3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function V2(e,t){for(const n of e)if(!OP(n,{upTo:t}))return n}function OP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IP(e){return e instanceof HTMLInputElement&&"select"in e}function Us(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&IP(e)&&t&&e.select()}}var z2=jP();function jP(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=W2(e,t),e.unshift(t)},remove(t){e=W2(e,t),e[0]?.resume()}}}function W2(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function LP(e){return e.filter(t=>t.tagName!=="A")}var Ph=0;function Um(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H2()),document.body.insertAdjacentElement("beforeend",e[1]??H2()),Ph++,()=>{Ph===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ph--}},[])}function H2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zr=function(){return zr=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},zr.apply(this,arguments)};function _3(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function BP(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,a;s<o;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var su="right-scroll-bar-position",iu="width-before-scroll-bar",FP="with-scroll-bars-hidden",VP="--removed-body-scroll-bar-size";function Mh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zP(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var WP=typeof window<"u"?N.useLayoutEffect:N.useEffect,U2=new WeakMap;function HP(e,t){var n=zP(null,function(s){return e.forEach(function(o){return Mh(o,s)})});return WP(function(){var s=U2.get(n);if(s){var o=new Set(s),a=new Set(e),l=n.current;o.forEach(function(c){a.has(c)||Mh(c,null)}),a.forEach(function(c){o.has(c)||Mh(c,l)})}U2.set(n,e)},[e]),n}function UP(e){return e}function $P(e,t){t===void 0&&(t=UP);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,s);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(s=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){s=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(a),l=n}var d=function(){var f=l;l=[],f.forEach(a)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(f){l.push(f),p()},filter:function(f){return l=l.filter(f),n}}}};return o}function XP(e){e===void 0&&(e={});var t=$P(null);return t.options=zr({async:!0,ssr:!1},e),t}var w3=function(e){var t=e.sideCar,n=_3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,zr({},n))};w3.isSideCarExport=!0;function YP(e,t){return e.useMedium(t),w3}var b3=XP(),Ah=function(){},sd=N.forwardRef(function(e,t){var n=N.useRef(null),s=N.useState({onScrollCapture:Ah,onWheelCapture:Ah,onTouchMoveCapture:Ah}),o=s[0],a=s[1],l=e.forwardProps,c=e.children,d=e.className,p=e.removeScrollBar,f=e.enabled,h=e.shards,w=e.sideCar,b=e.noIsolation,C=e.inert,_=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,y=e.gapMode,m=_3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=w,j=HP([n,t]),L=zr(zr({},m),o);return N.createElement(N.Fragment,null,f&&N.createElement(M,{sideCar:b3,removeScrollBar:p,shards:h,noIsolation:b,inert:C,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:y}),l?N.cloneElement(N.Children.only(c),zr(zr({},L),{ref:j})):N.createElement(v,zr({},L,{className:d,ref:j}),c))});sd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sd.classNames={fullWidth:iu,zeroRight:su};var GP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=GP();return t&&e.setAttribute("nonce",t),e}function qP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function QP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=KP())&&(qP(t,n),QP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},JP=function(){var e=ZP();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},x3=function(){var e=JP(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},eM={left:0,top:0,right:0,gap:0},Dh=function(e){return parseInt(e||"",10)||0},tM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Dh(n),Dh(s),Dh(o)]},nM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eM;var t=tM(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},rM=x3(),Oo="data-scroll-locked",sM=function(e,t,n,s){var o=e.left,a=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(FP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(Oo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(su,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(iu,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(su," .").concat(su,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(iu," .").concat(iu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Oo,`] {
    `).concat(VP,": ").concat(c,`px;
  }
`)},$2=function(){var e=parseInt(document.body.getAttribute(Oo)||"0",10);return isFinite(e)?e:0},iM=function(){N.useEffect(function(){return document.body.setAttribute(Oo,($2()+1).toString()),function(){var e=$2()-1;e<=0?document.body.removeAttribute(Oo):document.body.setAttribute(Oo,e.toString())}},[])},oM=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;iM();var a=N.useMemo(function(){return nM(o)},[o]);return N.createElement(rM,{styles:sM(a,!t,o,n?"":"!important")})},Sp=!1;if(typeof window<"u")try{var Xc=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{Sp=!1}var yo=Sp?{passive:!1}:!1,aM=function(e){return e.tagName==="TEXTAREA"},S3=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!aM(e)&&n[t]==="visible")},lM=function(e){return S3(e,"overflowY")},cM=function(e){return S3(e,"overflowX")},X2=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=E3(e,s);if(o){var a=C3(e,s),l=a[1],c=a[2];if(l>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},uM=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},dM=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},E3=function(e,t){return e==="v"?lM(t):cM(t)},C3=function(e,t){return e==="v"?uM(t):dM(t)},fM=function(e,t){return e==="h"&&t==="rtl"?-1:1},hM=function(e,t,n,s,o){var a=fM(e,window.getComputedStyle(t).direction),l=a*s,c=n.target,d=t.contains(c),p=!1,f=l>0,h=0,w=0;do{var b=C3(e,c),C=b[0],_=b[1],x=b[2],v=_-x-a*C;(C||v)&&E3(e,c)&&(h+=v,w+=C),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&Math.abs(h)<1||!f&&Math.abs(w)<1)&&(p=!0),p},Yc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Y2=function(e){return[e.deltaX,e.deltaY]},G2=function(e){return e&&"current"in e?e.current:e},pM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gM=0,_o=[];function vM(e){var t=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),o=N.useState(gM++)[0],a=N.useState(x3)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var _=BP([e.lockRef.current],(e.shards||[]).map(G2),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=N.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var v=Yc(_),y=n.current,m="deltaX"in _?_.deltaX:y[0]-v[0],M="deltaY"in _?_.deltaY:y[1]-v[1],j,L=_.target,I=Math.abs(m)>Math.abs(M)?"h":"v";if("touches"in _&&I==="h"&&L.type==="range")return!1;var V=X2(I,L);if(!V)return!0;if(V?j=I:(j=I==="v"?"h":"v",V=X2(I,L)),!V)return!1;if(!s.current&&"changedTouches"in _&&(m||M)&&(s.current=j),!j)return!0;var Y=s.current||j;return hM(Y,x,_,Y==="h"?m:M)},[]),d=N.useCallback(function(_){var x=_;if(!(!_o.length||_o[_o.length-1]!==a)){var v="deltaY"in x?Y2(x):Yc(x),y=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&pM(j.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var m=(l.current.shards||[]).map(G2).filter(Boolean).filter(function(j){return j.contains(x.target)}),M=m.length>0?c(x,m[0]):!l.current.noIsolation;M&&x.cancelable&&x.preventDefault()}}},[]),p=N.useCallback(function(_,x,v,y){var m={name:_,delta:x,target:v,should:y,shadowParent:yM(v)};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(M){return M!==m})},1)},[]),f=N.useCallback(function(_){n.current=Yc(_),s.current=void 0},[]),h=N.useCallback(function(_){p(_.type,Y2(_),_.target,c(_,e.lockRef.current))},[]),w=N.useCallback(function(_){p(_.type,Yc(_),_.target,c(_,e.lockRef.current))},[]);N.useEffect(function(){return _o.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:w}),document.addEventListener("wheel",d,yo),document.addEventListener("touchmove",d,yo),document.addEventListener("touchstart",f,yo),function(){_o=_o.filter(function(_){return _!==a}),document.removeEventListener("wheel",d,yo),document.removeEventListener("touchmove",d,yo),document.removeEventListener("touchstart",f,yo)}},[]);var b=e.removeScrollBar,C=e.inert;return N.createElement(N.Fragment,null,C?N.createElement(a,{styles:mM(o)}):null,b?N.createElement(oM,{gapMode:e.gapMode}):null)}function yM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _M=YP(b3,vM);var id=N.forwardRef(function(e,t){return N.createElement(sd,zr({},e,{ref:t,sideCar:_M}))});id.classNames=sd.classNames;var wM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wo=new WeakMap,Gc=new WeakMap,Kc={},Nh=0,k3=function(e){return e&&(e.host||k3(e.parentNode))},bM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=k3(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xM=function(e,t,n,s){var o=bM(t,Array.isArray(e)?e:[e]);Kc[n]||(Kc[n]=new WeakMap);var a=Kc[n],l=[],c=new Set,d=new Set(o),p=function(h){!h||c.has(h)||(c.add(h),p(h.parentNode))};o.forEach(p);var f=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(w){if(c.has(w))f(w);else try{var b=w.getAttribute(s),C=b!==null&&b!=="false",_=(wo.get(w)||0)+1,x=(a.get(w)||0)+1;wo.set(w,_),a.set(w,x),l.push(w),_===1&&C&&Gc.set(w,!0),x===1&&w.setAttribute(n,"true"),C||w.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",w,v)}})};return f(t),c.clear(),Nh++,function(){l.forEach(function(h){var w=wo.get(h)-1,b=a.get(h)-1;wo.set(h,w),a.set(h,b),w||(Gc.has(h)||h.removeAttribute(s),Gc.delete(h)),b||h.removeAttribute(n)}),Nh--,Nh||(wo=new WeakMap,wo=new WeakMap,Gc=new WeakMap,Kc={})}},$m=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=wM(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live]"))),xM(s,o,n,"aria-hidden")):function(){return null}},Xm="Dialog",[R3,T3]=Pr(Xm),[SM,Nr]=R3(Xm),P3=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,c=N.useRef(null),d=N.useRef(null),[p=!1,f]=Ni({prop:s,defaultProp:o,onChange:a});return P.jsx(SM,{scope:t,triggerRef:c,contentRef:d,contentId:Wr(),titleId:Wr(),descriptionId:Wr(),open:p,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(h=>!h),[f]),modal:l,children:n})};P3.displayName=Xm;var M3="DialogTrigger",A3=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Nr(M3,n),a=Ct(t,o.triggerRef);return P.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Km(o.open),...s,ref:a,onClick:Je(e.onClick,o.onOpenToggle)})});A3.displayName=M3;var Ym="DialogPortal",[EM,D3]=R3(Ym,{forceMount:void 0}),N3=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,a=Nr(Ym,t);return P.jsx(EM,{scope:t,forceMount:n,children:N.Children.map(s,l=>P.jsx(Mr,{present:n||a.open,children:P.jsx(yl,{asChild:!0,container:o,children:l})}))})};N3.displayName=Ym;var bu="DialogOverlay",O3=N.forwardRef((e,t)=>{const n=D3(bu,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,a=Nr(bu,e.__scopeDialog);return a.modal?P.jsx(Mr,{present:s||a.open,children:P.jsx(kM,{...o,ref:t})}):null});O3.displayName=bu;var CM=Di("DialogOverlay.RemoveScroll"),kM=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Nr(bu,n);return P.jsx(id,{as:CM,allowPinchZoom:!0,shards:[o.contentRef],children:P.jsx(yt.div,{"data-state":Km(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ji="DialogContent",I3=N.forwardRef((e,t)=>{const n=D3(ji,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,a=Nr(ji,e.__scopeDialog);return P.jsx(Mr,{present:s||a.open,children:a.modal?P.jsx(RM,{...o,ref:t}):P.jsx(TM,{...o,ref:t})})});I3.displayName=ji;var RM=N.forwardRef((e,t)=>{const n=Nr(ji,e.__scopeDialog),s=N.useRef(null),o=Ct(t,n.contentRef,s);return N.useEffect(()=>{const a=s.current;if(a)return $m(a)},[]),P.jsx(j3,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Je(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Je(e.onFocusOutside,a=>a.preventDefault())})}),TM=N.forwardRef((e,t)=>{const n=Nr(ji,e.__scopeDialog),s=N.useRef(!1),o=N.useRef(!1);return P.jsx(j3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),j3=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=e,c=Nr(ji,n),d=N.useRef(null),p=Ct(t,d);return Um(),P.jsxs(P.Fragment,{children:[P.jsx(rd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:P.jsx(Uo,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Km(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(MM,{titleId:c.titleId}),P.jsx(DM,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Gm="DialogTitle",L3=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Nr(Gm,n);return P.jsx(yt.h2,{id:o.titleId,...s,ref:t})});L3.displayName=Gm;var B3="DialogDescription",F3=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Nr(B3,n);return P.jsx(yt.p,{id:o.descriptionId,...s,ref:t})});F3.displayName=B3;var V3="DialogClose",z3=N.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Nr(V3,n);return P.jsx(yt.button,{type:"button",...s,ref:t,onClick:Je(e.onClick,()=>o.onOpenChange(!1))})});z3.displayName=V3;function Km(e){return e?"open":"closed"}var W3="DialogTitleWarning",[PM,H3]=D9(W3,{contentName:ji,titleName:Gm,docsSlug:"dialog"}),MM=({titleId:e})=>{const t=H3(W3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},AM="DialogDescriptionWarning",DM=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${H3(AM).contentName}}.`;return N.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},U3=P3,NM=A3,$3=N3,qm=O3,Qm=I3,Zm=L3,Jm=F3,e1=z3,X3="AlertDialog",[OM]=Pr(X3,[T3]),ps=T3(),Y3=e=>{const{__scopeAlertDialog:t,...n}=e,s=ps(t);return P.jsx(U3,{...s,...n,modal:!0})};Y3.displayName=X3;var IM="AlertDialogTrigger",G3=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=ps(n);return P.jsx(NM,{...o,...s,ref:t})});G3.displayName=IM;var jM="AlertDialogPortal",K3=e=>{const{__scopeAlertDialog:t,...n}=e,s=ps(t);return P.jsx($3,{...s,...n})};K3.displayName=jM;var LM="AlertDialogOverlay",q3=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=ps(n);return P.jsx(qm,{...o,...s,ref:t})});q3.displayName=LM;var Io="AlertDialogContent",[BM,FM]=OM(Io),VM=Y_("AlertDialogContent"),Q3=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...o}=e,a=ps(n),l=N.useRef(null),c=Ct(t,l),d=N.useRef(null);return P.jsx(PM,{contentName:Io,titleName:Z3,docsSlug:"alert-dialog",children:P.jsx(BM,{scope:n,cancelRef:d,children:P.jsxs(Qm,{role:"alertdialog",...a,...o,ref:c,onOpenAutoFocus:Je(o.onOpenAutoFocus,p=>{p.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[P.jsx(VM,{children:s}),P.jsx(WM,{contentRef:l})]})})})});Q3.displayName=Io;var Z3="AlertDialogTitle",J3=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=ps(n);return P.jsx(Zm,{...o,...s,ref:t})});J3.displayName=Z3;var ex="AlertDialogDescription",tx=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=ps(n);return P.jsx(Jm,{...o,...s,ref:t})});tx.displayName=ex;var zM="AlertDialogAction",nx=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=ps(n);return P.jsx(e1,{...o,...s,ref:t})});nx.displayName=zM;var rx="AlertDialogCancel",sx=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:o}=FM(rx,n),a=ps(n),l=Ct(t,o);return P.jsx(e1,{...a,...s,ref:l})});sx.displayName=rx;var WM=({contentRef:e})=>{const t=`\`${Io}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Io}\` by passing a \`${ex}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Io}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},HM=Y3,UM=G3,$M=K3,ix=q3,ox=Q3,ax=nx,lx=sx,cx=J3,ux=tx;const XM=HM,YM=UM,GM=$M,dx=N.forwardRef(({className:e,...t},n)=>P.jsx(ix,{className:mt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));dx.displayName=ix.displayName;const fx=N.forwardRef(({className:e,...t},n)=>P.jsxs(GM,{children:[P.jsx(dx,{}),P.jsx(ox,{ref:n,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));fx.displayName=ox.displayName;const hx=({className:e,...t})=>P.jsx("div",{className:mt("flex flex-col space-y-2 text-center sm:text-left",e),...t});hx.displayName="AlertDialogHeader";const px=({className:e,...t})=>P.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});px.displayName="AlertDialogFooter";const mx=N.forwardRef(({className:e,...t},n)=>P.jsx(cx,{ref:n,className:mt("text-lg font-semibold",e),...t}));mx.displayName=cx.displayName;const gx=N.forwardRef(({className:e,...t},n)=>P.jsx(ux,{ref:n,className:mt("text-sm text-muted-foreground",e),...t}));gx.displayName=ux.displayName;const vx=N.forwardRef(({className:e,...t},n)=>P.jsx(ax,{ref:n,className:mt(Im(),e),...t}));vx.displayName=ax.displayName;const yx=N.forwardRef(({className:e,...t},n)=>P.jsx(lx,{ref:n,className:mt(Im({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));yx.displayName=lx.displayName;const Ep=U3,KM=$3,_x=N.forwardRef(({className:e,...t},n)=>P.jsx(qm,{ref:n,className:mt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_x.displayName=qm.displayName;const xu=N.forwardRef(({className:e,children:t,...n},s)=>P.jsxs(KM,{children:[P.jsx(_x,{}),P.jsxs(Qm,{ref:s,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,P.jsxs(e1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[P.jsx(Ew,{className:"h-4 w-4"}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xu.displayName=Qm.displayName;const Su=({className:e,...t})=>P.jsx("div",{className:mt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Su.displayName="DialogHeader";const Eu=({className:e,...t})=>P.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Eu.displayName="DialogFooter";const Cu=N.forwardRef(({className:e,...t},n)=>P.jsx(Zm,{ref:n,className:mt("text-lg font-semibold leading-none tracking-tight",e),...t}));Cu.displayName=Zm.displayName;const qM=N.forwardRef(({className:e,...t},n)=>P.jsx(Jm,{ref:n,className:mt("text-sm text-muted-foreground",e),...t}));qM.displayName=Jm.displayName;function QM(){const{data:e,isLoading:t}=gb(),{data:n}=Dm(),s=yb(),{toast:o}=vl(),[a,l]=N.useState("All"),[c,d]=N.useState(()=>new Set),[p,f]=N.useState(!1),[h,w]=N.useState(!1),[b,C]=N.useState(!1),[_,x]=N.useState(!1),[v,y]=N.useState(!1),{theme:m,toggleTheme:M}=Hm(),j=e?.reduce((E,k)=>{const O=k.category||"Recordings";return E[O]||(E[O]=[]),E[O].push(k),E},{}),L=N.useMemo(()=>{const E=(n||[]).map(F=>F.name),k=Object.keys(j||{});return Array.from(new Set([...E,...k])).sort((F,$)=>F==="Recordings"?-1:$==="Recordings"?1:F.localeCompare($))},[n,j]),I=N.useMemo(()=>{const E=new Map;return(e??[]).forEach(k=>E.set(k.id,k)),E},[e]),V=N.useMemo(()=>Array.from(c).map(E=>I.get(E)).filter(Boolean),[c,I]),Y=N.useMemo(()=>e?a==="All"?e:j?.[a]??[]:[],[a,e,j]),Q=N.useMemo(()=>Y.map(E=>E.id),[Y]),G=N.useMemo(()=>Q.length===0?!1:Q.every(E=>c.has(E)),[Q,c]),T=N.useMemo(()=>(e??[]).map(E=>E.id),[e]),z=N.useMemo(()=>T.length===0?!1:T.every(E=>c.has(E)),[T,c]),S=E=>{d(k=>{const O=new Set(k);return O.has(E)?O.delete(E):O.add(E),O})},W=()=>{d(E=>{const k=new Set(E);if(G)Q.forEach(O=>k.delete(O));else{const O=new Set;return Q.forEach(F=>O.add(F)),O}return k})},ne=()=>{d(E=>z?new Set:new Set(T))},q=()=>d(new Set),U=async()=>{c.size!==0&&x(!0)},K=async()=>{if(c.size!==0){f(!0),x(!1);try{const E=V,k=[],O=new YR;if(E.length===1){const F=E[0],$=await wp(F.id);if(!$){o({variant:"destructive",title:"Audio not found",description:"This recording's audio blob wasn't found in local storage."});return}const ae=await bp($),le=URL.createObjectURL(ae),te=document.createElement("a");if(te.href=le,te.download=qc(F,new Map),te.click(),URL.revokeObjectURL(le),v){const ce=`Recording: ${F.name}
Date: ${No(new Date(F.createdAt),"yyyy-MM-dd 'at' HH:mm")}
Duration: ${Cp(F.duration)}
Category: ${F.category||"Recordings"}

Notes:
${F.notes||"No notes added"}`;ZM(new Blob([ce],{type:"text/plain"}),qc(F,new Map).replace(".mp3",".txt"))}o({title:"Download complete",description:`${F.name} has been downloaded.`})}else{const F=new Map,$=new Map;E.forEach(Ce=>{const je=ou(Ce.name||`recording-${Ce.id}`);F.set(je,(F.get(je)||0)+1)});const ae=new Map;E.forEach(Ce=>{const je=ou(Ce.name||`recording-${Ce.id}`);if((F.get(je)||0)>1){const Ve=(ae.get(je)||0)+1;ae.set(je,Ve),$.set(Ce.id,Ve)}});let le=0;for(const Ce of E)try{const je=await wp(Ce.id);if(!je){k.push(Ce);continue}const Ve=await bp(je),B=ou(Ce.category||"Recordings"),ve=O.folder(B)??O;if(ve.file(qc(Ce,$),Ve),v){const pe=`Recording: ${Ce.name}
Date: ${No(new Date(Ce.createdAt),"yyyy-MM-dd 'at' HH:mm")}
Duration: ${Cp(Ce.duration)}
Category: ${Ce.category||"Recordings"}

Notes:
${Ce.notes||"No notes added"}`;ve.file(qc(Ce,$).replace(".mp3",".txt"),pe)}le+=1}catch(je){console.error(`Failed to process recording ${Ce.id}:`,je),k.push(Ce)}const te=await O.generateAsync({type:"blob"}),ce=URL.createObjectURL(te),we=document.createElement("a");we.href=ce,we.download=`recordings-${No(new Date,"yyyy-MM-dd-HHmm")}.zip`,we.click(),URL.revokeObjectURL(ce),k.length>0?o({variant:"destructive",title:"Some recordings missing",description:`${k.length} recordings couldn't be downloaded because their audio wasn't found in local storage.`}):o({title:"Download complete",description:`${le} recordings have been downloaded.`})}}catch(E){console.error("Download error:",E),o({variant:"destructive",title:"Download Failed",description:"An error occurred while preparing the download."})}finally{f(!1),y(!1)}}},X=async()=>{if(c.size!==0){w(!0);try{let E=0,k=0;for(const O of Array.from(c))try{await s.mutateAsync(O),await UR(O),E+=1}catch{k+=1}q(),k>0?o({variant:"destructive",title:"Some deletions failed",description:`Deleted ${E}. Failed ${k}.`}):o({title:"Deleted",description:`Deleted ${E} recording(s).`})}finally{w(!1),C(!1)}}};return P.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[P.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border",children:P.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between",children:[P.jsx(So,{href:"/",children:P.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent cursor-pointer",children:"FLAG IT"})}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(So,{href:"/",children:P.jsxs("button",{className:"flex items-center gap-2 bg-primary text-primary-foreground px-3 sm:px-4 py-2 rounded-full font-semibold text-sm hover:opacity-90 transition-opacity shadow-lg hover:shadow-xl",children:[P.jsx(ip,{className:"w-4 h-4"}),P.jsx("span",{className:"hidden sm:inline",children:"New Recording"})]})}),P.jsx(Ot,{variant:"ghost",size:"icon",className:"rounded-full",onClick:M,children:m==="dark"?P.jsx(hm,{className:"w-5 h-5"}):P.jsx(fm,{className:"w-5 h-5"})}),P.jsx(So,{href:"/settings",children:P.jsx(Ot,{variant:"ghost",size:"icon",className:"rounded-full",children:P.jsx(Wu,{className:"w-5 h-5"})})})]})]})}),P.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[P.jsxs("div",{className:"mb-6",children:[P.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"My Recordings"}),P.jsx("div",{className:"space-y-1",children:P.jsx("p",{className:"text-lg text-primary font-semibold",children:"Click a flag on the waveform to save snippets of key moments."})})]}),!!e?.length&&P.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between bg-card/50 border border-border rounded-xl p-3",children:[P.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[P.jsxs("button",{type:"button",onClick:W,className:"inline-flex items-center gap-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:[G?P.jsx(op,{className:"w-4 h-4"}):P.jsx(mu,{className:"w-4 h-4"}),"Select all in view"]}),P.jsxs("button",{type:"button",onClick:ne,className:"inline-flex items-center gap-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:[z?P.jsx(op,{className:"w-4 h-4"}):P.jsx(mu,{className:"w-4 h-4"}),"All recordings"]})]}),P.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2",children:[P.jsxs("div",{className:"text-sm text-muted-foreground mr-2",children:["Selected: ",P.jsx("span",{className:"font-semibold text-foreground",children:c.size})]}),P.jsxs(Ot,{variant:"outline",onClick:U,disabled:c.size===0||p||h,className:"gap-2",children:[P.jsx(sp,{className:"w-4 h-4"}),p?"Preparing...":"Download"]}),P.jsxs(XM,{open:b,onOpenChange:C,children:[P.jsx(YM,{asChild:!0,children:P.jsxs(Ot,{variant:"destructive",disabled:c.size===0||p||h,className:"gap-2",children:[P.jsx(pm,{className:"w-4 h-4"}),"Delete"]})}),P.jsxs(fx,{children:[P.jsxs(hx,{children:[P.jsx(mx,{children:"Are you sure?"}),P.jsxs(gx,{children:["This will permanently delete ",c.size," recording(s) and remove their audio from local storage."]})]}),P.jsxs(px,{children:[P.jsx(yx,{disabled:h,children:"Cancel"}),P.jsx(vx,{onClick:E=>{E.preventDefault(),X()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:h,children:h?"Deleting...":"Delete"})]})]})]})]})]}),t?P.jsx("div",{className:"grid gap-4",children:[1,2,3].map(E=>P.jsx("div",{className:"h-24 rounded-xl bg-card animate-pulse border border-border"},E))}):e?.length===0?P.jsxs("div",{className:"text-center py-20 border border-dashed border-border rounded-3xl bg-card/30",children:[P.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:P.jsx(ip,{className:"w-8 h-8 text-primary"})}),P.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No recordings yet"}),P.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm mx-auto",children:"Start capturing your thoughts and flagging important moments."}),P.jsx(So,{href:"/",children:P.jsx("button",{className:"px-6 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-all shadow-lg shadow-primary/20",children:"Start Recording"})})]}):P.jsxs(MR,{value:a,onValueChange:l,className:"w-full",children:[P.jsxs(Ub,{className:"mb-6 bg-card border border-border p-1",children:[P.jsx(hp,{value:"All",children:"All"}),L.map(E=>P.jsx(hp,{value:E,children:E},E))]}),P.jsx(pp,{value:"All",children:P.jsx("div",{className:"grid gap-4 w-full overflow-hidden",children:e?.map(E=>P.jsx(K2,{recording:E,selected:c.has(E.id),onToggleSelected:()=>S(E.id)},E.id))})}),L.map(E=>P.jsx(pp,{value:E,children:P.jsx("div",{className:"grid gap-4 w-full overflow-hidden",children:j?.[E]?.map(k=>P.jsx(K2,{recording:k,selected:c.has(k.id),onToggleSelected:()=>S(k.id)},k.id))})},E))]})]}),P.jsx(JM,{open:_,onOpenChange:x,includeNotes:v,onIncludeNotesChange:y,onDownload:K,onCancel:()=>{x(!1),y(!1)}})]})}function K2({recording:e,selected:t,onToggleSelected:n}){const[,s]=gl();return P.jsx("div",{className:"group relative bg-card hover:bg-card/80 border border-border hover:border-primary/50 rounded-xl p-3 sm:p-5 transition-all duration-300 cursor-pointer shadow-sm hover:shadow-md hover:-translate-y-0.5",role:"button",tabIndex:0,onClick:()=>s(`/recordings/${e.id}`),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&s(`/recordings/${e.id}`)},children:P.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4",children:[P.jsxs("div",{className:"flex items-start gap-2 sm:gap-4 min-w-0",children:[P.jsx("button",{type:"button","aria-label":t?"Deselect recording":"Select recording",onClick:o=>{o.preventDefault(),o.stopPropagation(),n()},className:"mt-1 inline-flex items-center justify-center w-5 h-5 sm:w-6 sm:h-6 rounded-md border border-border bg-background/60 hover:bg-background transition-colors shrink-0",children:t?P.jsx(op,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary"}):P.jsx(mu,{className:"w-3 h-3 sm:w-4 sm:h-4 text-muted-foreground"})}),P.jsxs("div",{className:"space-y-1 min-w-0",children:[P.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[P.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors shrink-0",children:P.jsx(CE,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),P.jsx("h3",{className:"font-semibold text-sm sm:text-lg text-foreground group-hover:text-primary transition-colors truncate min-w-0 flex-1",children:e.name})]}),P.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-muted-foreground pl-8 sm:pl-12",children:[P.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5",children:[P.jsx(RE,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),Cp(e.duration)]}),P.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5 min-w-0",children:[P.jsx(IE,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),P.jsx("span",{className:"truncate",children:e.category})]})]})]})]}),P.jsx("div",{className:"flex flex-col items-end gap-1 shrink-0",children:P.jsx(pu,{className:"w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground/50 group-hover:text-primary transition-colors"})})]})})}function Cp(e){const t=Math.floor(e/1e3),n=Math.floor(t/60),s=t%60;return`${n}m ${s}s`}function ou(e){return e.replace(/[^a-z0-9]/gi,"_").toLowerCase()}function qc(e,t){const n=ou(e.name||`recording-${e.id}`),s=t.get(e.id);return s&&s>0?`${n} (${s}).mp3`:`${n}.mp3`}function ZM(e,t){const n=URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),s.remove(),setTimeout(()=>URL.revokeObjectURL(n),2500)}function JM({open:e,onOpenChange:t,includeNotes:n,onIncludeNotesChange:s,onDownload:o,onCancel:a}){return P.jsx(Ep,{open:e,onOpenChange:t,children:P.jsxs(xu,{className:"bg-card text-foreground border-border",children:[P.jsx(Su,{children:P.jsx(Cu,{children:"Download Recordings"})}),P.jsxs("div",{className:"py-4",children:[P.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Would you like to include notes with your download?"}),P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("input",{type:"checkbox",id:"include-notes",checked:n,onChange:l=>s(l.target.checked),className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary"}),P.jsx("label",{htmlFor:"include-notes",className:"text-sm font-medium text-foreground",children:"Yes, include notes"})]})]}),P.jsxs(Eu,{children:[P.jsx(Ot,{variant:"outline",onClick:a,children:"Cancel"}),P.jsx(Ot,{onClick:o,children:"Download"})]})]})})}function eA({stream:e,isRecording:t,height:n=64}){const s=N.useRef(null),o=N.useRef(),a=N.useRef(),l=N.useRef();return N.useEffect(()=>{if(!e||!t)return;const c=s.current;if(!c)return;const d=c.getContext("2d");if(!d)return;const p=new(window.AudioContext||window.webkitAudioContext);l.current=p;const f=p.createMediaStreamSource(e),h=p.createAnalyser();h.fftSize=256,f.connect(h),a.current=h;const w=h.frequencyBinCount,b=new Uint8Array(w),C=()=>{if(!t)return;o.current=requestAnimationFrame(C),h.getByteFrequencyData(b),d.fillStyle="rgba(17, 24, 39, 0.0)",d.clearRect(0,0,c.width,c.height);const _=c.width/w*2.5;let x,v=0;for(let y=0;y<w;y++){x=b[y]/255*c.height;const m=d.createLinearGradient(0,c.height,0,0);m.addColorStop(0,"#7c3aed"),m.addColorStop(1,"#0ea5e9"),d.fillStyle=m,d.beginPath(),d.roundRect(v,c.height-x,_,x,[4]),d.fill(),v+=_+2}};return C(),()=>{o.current&&cancelAnimationFrame(o.current),l.current?.state!=="closed"&&l.current?.close()}},[e,t]),P.jsx("canvas",{ref:s,width:600,height:n,className:"w-full h-full rounded-lg"})}function wx(){const e=Yr();return Zs({mutationFn:async t=>nk(t),onSuccess:t=>{e.invalidateQueries({queryKey:["recording",t.recordingId]})}})}function tA(){const e=Yr();return Zs({mutationFn:async({id:t,...n})=>{const s=rk(t,n);if(!s)throw new Error("Flag not found");return s},onSuccess:t=>{e.invalidateQueries({queryKey:["recording",t.recordingId]})}})}function nA(){const e=Yr();return Zs({mutationFn:async({id:t,recordingId:n})=>{if(!sk(t))throw new Error("Flag not found");return{id:t,recordingId:n}},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["recording",n.recordingId]})}})}const bx=N.createContext({});function rA(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const t1=N.createContext(null),xx=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function sA(e=!0){const t=N.useContext(t1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,a=N.useId();N.useEffect(()=>{e&&o(a)},[e]);const l=N.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,l]:[!0]}const n1=typeof window<"u",iA=n1?N.useLayoutEffect:N.useEffect,Zn=e=>e;let Sx=Zn;function r1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bo=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},as=e=>e*1e3,ls=e=>e/1e3,oA={useManualTiming:!1};function aA(e){let t=new Set,n=new Set,s=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(d.schedule(p),e()),p(l)}const d={schedule:(p,f=!1,h=!1)=>{const b=h&&s?t:n;return f&&a.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,s){o=!0;return}s=!0,[t,n]=[n,t],t.forEach(c),t.clear(),s=!1,o&&(o=!1,d.process(p))}};return d}const Qc=["read","resolveKeyframes","update","preRender","render","postRender"],lA=40;function Ex(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Qc.reduce((v,y)=>(v[y]=aA(a),v),{}),{read:c,resolveKeyframes:d,update:p,preRender:f,render:h,postRender:w}=l,b=()=>{const v=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(v-o.timestamp,lA),1),o.timestamp=v,o.isProcessing=!0,c.process(o),d.process(o),p.process(o),f.process(o),h.process(o),w.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(b))},C=()=>{n=!0,s=!0,o.isProcessing||e(b)};return{schedule:Qc.reduce((v,y)=>{const m=l[y];return v[y]=(M,j=!1,L=!1)=>(n||C(),m.schedule(M,j,L)),v},{}),cancel:v=>{for(let y=0;y<Qc.length;y++)l[Qc[y]].cancel(v)},state:o,steps:l}}const{schedule:zt,cancel:qs,state:vn,steps:Oh}=Ex(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0),Cx=N.createContext({strict:!1}),q2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const e in q2)Fo[e]={isEnabled:t=>q2[e].some(n=>!!t[n])};function cA(e){for(const t in e)Fo[t]={...Fo[t],...e[t]}}const uA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ku(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uA.has(e)}let kx=e=>!ku(e);function dA(e){e&&(kx=t=>t.startsWith("on")?!ku(t):e(t))}try{dA(require("@emotion/is-prop-valid").default)}catch{}function fA(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(kx(o)||n===!0&&ku(o)||!t&&!ku(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}function hA(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const od=N.createContext({});function ll(e){return typeof e=="string"||Array.isArray(e)}function ad(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const s1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i1=["initial",...s1];function ld(e){return ad(e.animate)||i1.some(t=>ll(e[t]))}function Rx(e){return!!(ld(e)||e.variants)}function pA(e,t){if(ld(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ll(n)?n:void 0,animate:ll(s)?s:void 0}}return e.inherit!==!1?t:{}}function mA(e){const{initial:t,animate:n}=pA(e,N.useContext(od));return N.useMemo(()=>({initial:t,animate:n}),[Q2(t),Q2(n)])}function Q2(e){return Array.isArray(e)?e.join(" "):e}const gA=Symbol.for("motionComponentSymbol");function Eo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vA(e,t,n){return N.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Eo(n)&&(n.current=s))},[t])}const o1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yA="framerAppearId",Tx="data-"+o1(yA),{schedule:a1}=Ex(queueMicrotask,!1),Px=N.createContext({});function _A(e,t,n,s,o){var a,l;const{visualElement:c}=N.useContext(od),d=N.useContext(Cx),p=N.useContext(t1),f=N.useContext(xx).reducedMotion,h=N.useRef(null);s=s||d.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:f}));const w=h.current,b=N.useContext(Px);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&wA(h.current,n,o,b);const C=N.useRef(!1);N.useInsertionEffect(()=>{w&&C.current&&w.update(n,p)});const _=n[Tx],x=N.useRef(!!_&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,_))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,_)));return iA(()=>{w&&(C.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),a1.render(w.render),x.current&&w.animationState&&w.animationState.animateChanges())}),N.useEffect(()=>{w&&(!x.current&&w.animationState&&w.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,_)}),x.current=!1))}),w}function wA(e,t,n,s){const{layoutId:o,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Mx(e.parent)),e.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||c&&Eo(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}function Mx(e){if(e)return e.options.allowProjection!==!1?e.projection:Mx(e.parent)}function bA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:o}){var a,l;e&&cA(e);function c(p,f){let h;const w={...N.useContext(xx),...p,layoutId:xA(p)},{isStatic:b}=w,C=mA(p),_=s(p,b);if(!b&&n1){SA();const x=EA(w);h=x.MeasureLayout,C.visualElement=_A(o,_,w,t,x.ProjectionNode)}return P.jsxs(od.Provider,{value:C,children:[h&&C.visualElement?P.jsx(h,{visualElement:C.visualElement,...w}):null,n(o,p,vA(_,C.visualElement,f),_,b,C.visualElement)]})}c.displayName=`motion.${typeof o=="string"?o:`create(${(l=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&l!==void 0?l:""})`}`;const d=N.forwardRef(c);return d[gA]=o,d}function xA({layoutId:e}){const t=N.useContext(bx).id;return t&&e!==void 0?t+"-"+e:e}function SA(e,t){N.useContext(Cx).strict}function EA(e){const{drag:t,layout:n}=Fo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const CA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l1(e){return typeof e!="string"||e.includes("-")?!1:!!(CA.indexOf(e)>-1||/[A-Z]/u.test(e))}function Z2(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function c1(e,t,n,s){if(typeof t=="function"){const[o,a]=Z2(s);t=t(n!==void 0?n:e.custom,o,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,a]=Z2(s);t=t(n!==void 0?n:e.custom,o,a)}return t}const kp=e=>Array.isArray(e),kA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),RA=e=>kp(e)?e[e.length-1]||0:e,En=e=>!!(e&&e.getVelocity);function au(e){const t=En(e)?e.get():e;return kA(t)?t.toValue():t}function TA({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,o,a){const l={latestValues:PA(s,o,a,e),renderState:t()};return n&&(l.onMount=c=>n({props:s,current:c,...l}),l.onUpdate=c=>n(c)),l}const Ax=e=>(t,n)=>{const s=N.useContext(od),o=N.useContext(t1),a=()=>TA(e,t,s,o);return n?a():rA(a)};function PA(e,t,n,s){const o={},a=s(e,{});for(const w in a)o[w]=au(a[w]);let{initial:l,animate:c}=e;const d=ld(e),p=Rx(e);t&&p&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let f=n?n.initial===!1:!1;f=f||l===!1;const h=f?c:l;if(h&&typeof h!="boolean"&&!ad(h)){const w=Array.isArray(h)?h:[h];for(let b=0;b<w.length;b++){const C=c1(e,w[b]);if(C){const{transitionEnd:_,transition:x,...v}=C;for(const y in v){let m=v[y];if(Array.isArray(m)){const M=f?m.length-1:0;m=m[M]}m!==null&&(o[y]=m)}for(const y in _)o[y]=_[y]}}}return o}const Zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bi=new Set(Zo),Dx=e=>t=>typeof t=="string"&&t.startsWith(e),Nx=Dx("--"),MA=Dx("var(--"),u1=e=>MA(e)?AA.test(e.split("/*")[0].trim()):!1,AA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ox=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fs=(e,t,n)=>n>t?t:n<e?e:n,Jo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},cl={...Jo,transform:e=>fs(0,1,e)},Zc={...Jo,default:1},Sl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$s=Sl("deg"),Ur=Sl("%"),pt=Sl("px"),DA=Sl("vh"),NA=Sl("vw"),J2={...Ur,parse:e=>Ur.parse(e)/100,transform:e=>Ur.transform(e*100)},OA={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt},IA={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Zc,scaleX:Zc,scaleY:Zc,scaleZ:Zc,skew:$s,skewX:$s,skewY:$s,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:cl,originX:J2,originY:J2,originZ:pt},ey={...Jo,transform:Math.round},d1={...OA,...IA,zIndex:ey,size:pt,fillOpacity:cl,strokeOpacity:cl,numOctaves:ey},jA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LA=Zo.length;function BA(e,t,n){let s="",o=!0;for(let a=0;a<LA;a++){const l=Zo[a],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const p=Ox(c,d1[l]);if(!d){o=!1;const f=jA[l]||l;s+=`${f}(${p}) `}n&&(t[l]=p)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function f1(e,t,n){const{style:s,vars:o,transformOrigin:a}=e;let l=!1,c=!1;for(const d in t){const p=t[d];if(Bi.has(d)){l=!0;continue}else if(Nx(d)){o[d]=p;continue}else{const f=Ox(p,d1[d]);d.startsWith("origin")?(c=!0,a[d]=f):s[d]=f}}if(t.transform||(l||n?s.transform=BA(t,e.transform,n):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:f=0}=a;s.transformOrigin=`${d} ${p} ${f}`}}const FA={offset:"stroke-dashoffset",array:"stroke-dasharray"},VA={offset:"strokeDashoffset",array:"strokeDasharray"};function zA(e,t,n=1,s=0,o=!0){e.pathLength=1;const a=o?FA:VA;e[a.offset]=pt.transform(-s);const l=pt.transform(t),c=pt.transform(n);e[a.array]=`${l} ${c}`}function ty(e,t,n){return typeof e=="string"?e:pt.transform(t+n*e)}function WA(e,t,n){const s=ty(t,e.x,e.width),o=ty(n,e.y,e.height);return`${s} ${o}`}function h1(e,{attrX:t,attrY:n,attrScale:s,originX:o,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},f,h){if(f1(e,p,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:b,dimensions:C}=e;w.transform&&(C&&(b.transform=w.transform),delete w.transform),C&&(o!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=WA(C,o!==void 0?o:.5,a!==void 0?a:.5)),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),s!==void 0&&(w.scale=s),l!==void 0&&zA(w,l,c,d,!1)}const p1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ix=()=>({...p1(),attrs:{}}),m1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jx(e,{style:t,vars:n},s,o){Object.assign(e.style,t,o&&o.getProjectionStyles(s));for(const a in n)e.style.setProperty(a,n[a])}const Lx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bx(e,t,n,s){jx(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(Lx.has(o)?o:o1(o),t.attrs[o])}const Ru={};function HA(e){Object.assign(Ru,e)}function Fx(e,{layout:t,layoutId:n}){return Bi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ru[e]||e==="opacity")}function g1(e,t,n){var s;const{style:o}=e,a={};for(const l in o)(En(o[l])||t.style&&En(t.style[l])||Fx(l,e)||((s=n?.getValue(l))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(a[l]=o[l]);return a}function Vx(e,t,n){const s=g1(e,t,n);for(const o in e)if(En(e[o])||En(t[o])){const a=Zo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=e[o]}return s}function UA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const ny=["x","y","width","height","cx","cy","r"],$A={useVisualState:Ax({scrapeMotionValuesFromProps:Vx,createRenderState:Ix,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:o})=>{if(!n)return;let a=!!e.drag;if(!a){for(const c in o)if(Bi.has(c)){a=!0;break}}if(!a)return;let l=!t;if(t)for(let c=0;c<ny.length;c++){const d=ny[c];e[d]!==t[d]&&(l=!0)}l&&zt.read(()=>{UA(n,s),zt.render(()=>{h1(s,o,m1(n.tagName),e.transformTemplate),Bx(n,s)})})}})},XA={useVisualState:Ax({scrapeMotionValuesFromProps:g1,createRenderState:p1})};function zx(e,t,n){for(const s in t)!En(t[s])&&!Fx(s,n)&&(e[s]=t[s])}function YA({transformTemplate:e},t){return N.useMemo(()=>{const n=p1();return f1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function GA(e,t){const n=e.style||{},s={};return zx(s,n,e),Object.assign(s,YA(e,t)),s}function KA(e,t){const n={},s=GA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function qA(e,t,n,s){const o=N.useMemo(()=>{const a=Ix();return h1(a,t,m1(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};zx(a,e.style,e),o.style={...a,...o.style}}return o}function QA(e=!1){return(n,s,o,{latestValues:a},l)=>{const d=(l1(n)?qA:KA)(s,a,l,n),p=fA(s,typeof n=="string",e),f=n!==N.Fragment?{...p,...d,ref:o}:{},{children:h}=s,w=N.useMemo(()=>En(h)?h.get():h,[h]);return N.createElement(n,{...f,children:w})}}function ZA(e,t){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...l1(s)?$A:XA,preloadedFeatures:e,useRender:QA(o),createVisualElement:t,Component:s};return bA(l)}}function Wx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function cd(e,t,n){const s=e.getProps();return c1(s,t,n!==void 0?n:s.custom,e)}const JA=r1(()=>window.ScrollTimeline!==void 0);class eD{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(o=>{if(JA()&&o.attachTimeline)return o.attachTimeline(t);if(typeof n=="function")return n(o)});return()=>{s.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tD extends eD{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function v1(e,t){return e?e[t]||e.default||e:void 0}const Rp=2e4;function Hx(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Rp;)t+=n,s=e.next(t);return t>=Rp?1/0:t}function y1(e){return typeof e=="function"}function ry(e,t){e.timeline=t,e.onfinish=null}const _1=e=>Array.isArray(e)&&typeof e[0]=="number",nD={linearEasing:void 0};function rD(e,t){const n=r1(e);return()=>{var s;return(s=nD[t])!==null&&s!==void 0?s:n()}}const Tu=rD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ux=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let a=0;a<o;a++)s+=e(Bo(0,o-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function $x(e){return!!(typeof e=="function"&&Tu()||!e||typeof e=="string"&&(e in Tp||Tu())||_1(e)||Array.isArray(e)&&e.every($x))}const $a=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Tp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$a([0,.65,.55,1]),circOut:$a([.55,0,1,.45]),backIn:$a([.31,.01,.66,-.59]),backOut:$a([.33,1.53,.69,.99])};function Xx(e,t){if(e)return typeof e=="function"&&Tu()?Ux(e,t):_1(e)?$a(e):Array.isArray(e)?e.map(n=>Xx(n,t)||Tp.easeOut):Tp[e]}const Sr={x:!1,y:!1};function Yx(){return Sr.x||Sr.y}function sD(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const a=(s=void 0)!==null&&s!==void 0?s:o.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function Gx(e,t){const n=sD(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function sy(e){return t=>{t.pointerType==="touch"||Yx()||e(t)}}function iD(e,t,n={}){const[s,o,a]=Gx(e,n),l=sy(c=>{const{target:d}=c,p=t(c);if(typeof p!="function"||!d)return;const f=sy(h=>{p(h),d.removeEventListener("pointerleave",f)});d.addEventListener("pointerleave",f,o)});return s.forEach(c=>{c.addEventListener("pointerenter",l,o)}),a}const Kx=(e,t)=>t?e===t?!0:Kx(e,t.parentElement):!1,w1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aD(e){return oD.has(e.tagName)||e.tabIndex!==-1}const Xa=new WeakSet;function iy(e){return t=>{t.key==="Enter"&&e(t)}}function Ih(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lD=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=iy(()=>{if(Xa.has(n))return;Ih(n,"down");const o=iy(()=>{Ih(n,"up")}),a=()=>Ih(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function oy(e){return w1(e)&&!Yx()}function cD(e,t,n={}){const[s,o,a]=Gx(e,n),l=c=>{const d=c.currentTarget;if(!oy(c)||Xa.has(d))return;Xa.add(d);const p=t(c),f=(b,C)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",w),!(!oy(b)||!Xa.has(d))&&(Xa.delete(d),typeof p=="function"&&p(b,{success:C}))},h=b=>{f(b,n.useGlobalTarget||Kx(d,b.target))},w=b=>{f(b,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",w,o)};return s.forEach(c=>{!aD(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,o),c.addEventListener("focus",p=>lD(p,o),o)}),a}function uD(e){return e==="x"||e==="y"?Sr[e]?null:(Sr[e]=!0,()=>{Sr[e]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}const qx=new Set(["width","height","top","left","right","bottom",...Zo]);let lu;function dD(){lu=void 0}const $r={now:()=>(lu===void 0&&$r.set(vn.isProcessing||oA.useManualTiming?vn.timestamp:performance.now()),lu),set:e=>{lu=e,queueMicrotask(dD)}};function b1(e,t){e.indexOf(t)===-1&&e.push(t)}function x1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class S1{constructor(){this.subscriptions=[]}add(t){return b1(this.subscriptions,t),()=>x1(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Qx(e,t){return t?e*(1e3/t):0}const ay=30,fD=e=>!isNaN(parseFloat(e));class hD{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const a=$r.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=$r.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new S1);const s=this.events[t].add(n);return t==="change"?()=>{s(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ay)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ay);return Qx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(e,t){return new hD(e,t)}function pD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ul(n))}function mD(e,t){const n=cd(e,t);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const l in a){const c=RA(a[l]);pD(e,l,c)}}function gD(e){return!!(En(e)&&e.add)}function Pp(e,t){const n=e.getValue("willChange");if(gD(n))return n.add(t)}function Zx(e){return e.props[Tx]}const Jx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vD=1e-7,yD=12;function _D(e,t,n,s,o){let a,l,c=0;do l=t+(n-t)/2,a=Jx(l,s,o)-e,a>0?n=l:t=l;while(Math.abs(a)>vD&&++c<yD);return l}function El(e,t,n,s){if(e===t&&n===s)return Zn;const o=a=>_D(a,0,1,e,n);return a=>a===0||a===1?a:Jx(o(a),t,s)}const e5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,t5=e=>t=>1-e(1-t),n5=El(.33,1.53,.69,.99),E1=t5(n5),r5=e5(E1),s5=e=>(e*=2)<1?.5*E1(e):.5*(2-Math.pow(2,-10*(e-1))),C1=e=>1-Math.sin(Math.acos(e)),i5=t5(C1),o5=e5(C1),a5=e=>/^0[^.\s]+$/u.test(e);function wD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||a5(e):!0}const Za=e=>Math.round(e*1e5)/1e5,k1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bD(e){return e==null}const xD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,R1=(e,t)=>n=>!!(typeof n=="string"&&xD.test(n)&&n.startsWith(e)||t&&!bD(n)&&Object.prototype.hasOwnProperty.call(n,t)),l5=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,a,l,c]=s.match(k1);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},SD=e=>fs(0,255,e),jh={...Jo,transform:e=>Math.round(SD(e))},Ri={test:R1("rgb","red"),parse:l5("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+jh.transform(e)+", "+jh.transform(t)+", "+jh.transform(n)+", "+Za(cl.transform(s))+")"};function ED(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Mp={test:R1("#"),parse:ED,transform:Ri.transform},Co={test:R1("hsl","hue"),parse:l5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ur.transform(Za(t))+", "+Ur.transform(Za(n))+", "+Za(cl.transform(s))+")"},Sn={test:e=>Ri.test(e)||Mp.test(e)||Co.test(e),parse:e=>Ri.test(e)?Ri.parse(e):Co.test(e)?Co.parse(e):Mp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ri.transform(e):Co.transform(e)},CD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kD(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(k1))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(CD))===null||n===void 0?void 0:n.length)||0)>0}const c5="number",u5="color",RD="var",TD="var(",ly="${}",PD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dl(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const c=t.replace(PD,d=>(Sn.test(d)?(s.color.push(a),o.push(u5),n.push(Sn.parse(d))):d.startsWith(TD)?(s.var.push(a),o.push(RD),n.push(d)):(s.number.push(a),o.push(c5),n.push(parseFloat(d))),++a,ly)).split(ly);return{values:n,split:c,indexes:s,types:o}}function d5(e){return dl(e).values}function f5(e){const{split:t,types:n}=dl(e),s=t.length;return o=>{let a="";for(let l=0;l<s;l++)if(a+=t[l],o[l]!==void 0){const c=n[l];c===c5?a+=Za(o[l]):c===u5?a+=Sn.transform(o[l]):a+=o[l]}return a}}const MD=e=>typeof e=="number"?0:e;function AD(e){const t=d5(e);return f5(e)(t.map(MD))}const Qs={test:kD,parse:d5,createTransformer:f5,getAnimatableNone:AD},DD=new Set(["brightness","contrast","saturate","opacity"]);function ND(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(k1)||[];if(!s)return e;const o=n.replace(s,"");let a=DD.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+o+")"}const OD=/\b([a-z-]*)\(.*?\)/gu,Ap={...Qs,getAnimatableNone:e=>{const t=e.match(OD);return t?t.map(ND).join(" "):e}},ID={...d1,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:Ap,WebkitFilter:Ap},T1=e=>ID[e];function h5(e,t){let n=T1(e);return n!==Ap&&(n=Qs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const jD=new Set(["auto","none","0"]);function LD(e,t,n){let s=0,o;for(;s<e.length&&!o;){const a=e[s];typeof a=="string"&&!jD.has(a)&&dl(a).values.length&&(o=e[s]),s++}if(o&&n)for(const a of t)e[a]=h5(n,o)}const cy=e=>e===Jo||e===pt,uy=(e,t)=>parseFloat(e.split(", ")[t]),dy=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/u);if(o)return uy(o[1],t);{const a=s.match(/^matrix\((.+)\)$/u);return a?uy(a[1],e):0}},BD=new Set(["x","y","z"]),FD=Zo.filter(e=>!BD.has(e));function VD(e){const t=[];return FD.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Vo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:dy(4,13),y:dy(5,14)};Vo.translateX=Vo.x;Vo.translateY=Vo.y;const Pi=new Set;let Dp=!1,Np=!1;function p5(){if(Np){const e=Array.from(Pi).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=VD(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,l])=>{var c;(c=s.getValue(a))===null||c===void 0||c.set(l)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Np=!1,Dp=!1,Pi.forEach(e=>e.complete()),Pi.clear()}function m5(){Pi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Np=!0)})}function zD(){m5(),p5()}class P1{constructor(t,n,s,o,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pi.add(this),Dp||(Dp=!0,zt.read(m5),zt.resolveKeyframes(p5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const l=o?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const g5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),WD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HD(e){const t=WD.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function v5(e,t,n=1){const[s,o]=HD(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const l=a.trim();return g5(l)?parseFloat(l):l}return u1(o)?v5(o,t,n+1):o}const y5=e=>t=>t.test(e),UD={test:e=>e==="auto",parse:e=>e},_5=[Jo,pt,Ur,$s,NA,DA,UD],fy=e=>_5.find(y5(e));class w5 extends P1{constructor(t,n,s,o,a){super(t,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="string"&&(p=p.trim(),u1(p))){const f=v5(p,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!qx.has(s)||t.length!==2)return;const[o,a]=t,l=fy(o),c=fy(a);if(l!==c)if(cy(l)&&cy(c))for(let d=0;d<t.length;d++){const p=t[d];typeof p=="string"&&(t[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)wD(t[o])&&s.push(o);s.length&&LD(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vo[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(s);a&&a.jump(this.measuredOrigin,!1);const l=o.length-1,c=o[l];o[l]=Vo[s](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const hy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qs.test(e)||e==="0")&&!e.startsWith("url("));function $D(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function XD(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=hy(o,t),c=hy(a,t);return!l||!c?!1:$D(e)||(n==="spring"||y1(n))&&s}const YD=e=>e!==null;function ud(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(YD),a=t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||s===void 0?o[a]:s}const GD=40;class b5{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$r.now(),this.options={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zD(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=$r.now(),this.hasAttemptedResolve=!0;const{name:s,type:o,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!XD(t,s,o,a))if(l)this.options.duration=0;else{d&&d(ud(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Xt=(e,t,n)=>e+(t-e)*n;function Lh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,a=0,l=0;if(!t)o=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;o=Lh(d,c,e+1/3),a=Lh(d,c,e),l=Lh(d,c,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function Pu(e,t){return n=>n>0?t:e}const Bh=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},qD=[Mp,Ri,Co],QD=e=>qD.find(t=>t.test(e));function py(e){const t=QD(e);if(!t)return!1;let n=t.parse(e);return t===Co&&(n=KD(n)),n}const my=(e,t)=>{const n=py(e),s=py(t);if(!n||!s)return Pu(e,t);const o={...n};return a=>(o.red=Bh(n.red,s.red,a),o.green=Bh(n.green,s.green,a),o.blue=Bh(n.blue,s.blue,a),o.alpha=Xt(n.alpha,s.alpha,a),Ri.transform(o))},ZD=(e,t)=>n=>t(e(n)),Cl=(...e)=>e.reduce(ZD),Op=new Set(["none","hidden"]);function JD(e,t){return Op.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function eN(e,t){return n=>Xt(e,t,n)}function M1(e){return typeof e=="number"?eN:typeof e=="string"?u1(e)?Pu:Sn.test(e)?my:rN:Array.isArray(e)?x5:typeof e=="object"?Sn.test(e)?my:tN:Pu}function x5(e,t){const n=[...e],s=n.length,o=e.map((a,l)=>M1(a)(a,t[l]));return a=>{for(let l=0;l<s;l++)n[l]=o[l](a);return n}}function tN(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=M1(e[o])(e[o],t[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function nN(e,t){var n;const s=[],o={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][o[l]],d=(n=e.values[c])!==null&&n!==void 0?n:0;s[a]=d,o[l]++}return s}const rN=(e,t)=>{const n=Qs.createTransformer(t),s=dl(e),o=dl(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Op.has(e)&&!o.values.length||Op.has(t)&&!s.values.length?JD(e,t):Cl(x5(nN(s,o),o.values),n):Pu(e,t)};function S5(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Xt(e,t,n):M1(e)(e,t)}const sN=5;function E5(e,t,n){const s=Math.max(t-sN,0);return Qx(n-e(s),t-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fh=.001;function iN({duration:e=Kt.duration,bounce:t=Kt.bounce,velocity:n=Kt.velocity,mass:s=Kt.mass}){let o,a,l=1-t;l=fs(Kt.minDamping,Kt.maxDamping,l),e=fs(Kt.minDuration,Kt.maxDuration,ls(e)),l<1?(o=p=>{const f=p*l,h=f*e,w=f-n,b=Ip(p,l),C=Math.exp(-h);return Fh-w/b*C},a=p=>{const h=p*l*e,w=h*n+n,b=Math.pow(l,2)*Math.pow(p,2)*e,C=Math.exp(-h),_=Ip(Math.pow(p,2),l);return(-o(p)+Fh>0?-1:1)*((w-b)*C)/_}):(o=p=>{const f=Math.exp(-p*e),h=(p-n)*e+1;return-Fh+f*h},a=p=>{const f=Math.exp(-p*e),h=(n-p)*(e*e);return f*h});const c=5/e,d=aN(o,a,c);if(e=as(e),isNaN(d))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:e};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:l*2*Math.sqrt(s*p),duration:e}}}const oN=12;function aN(e,t,n){let s=n;for(let o=1;o<oN;o++)s=s-e(s)/t(s);return s}function Ip(e,t){return e*Math.sqrt(1-t*t)}const lN=["duration","bounce"],cN=["stiffness","damping","mass"];function gy(e,t){return t.some(n=>e[n]!==void 0)}function uN(e){let t={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...e};if(!gy(e,cN)&&gy(e,lN))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*fs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Kt.mass,stiffness:o,damping:a}}else{const n=iN(e);t={...t,...n,mass:Kt.mass},t.isResolvedFromDuration=!0}return t}function C5(e=Kt.visualDuration,t=Kt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:f,duration:h,velocity:w,isResolvedFromDuration:b}=uN({...n,velocity:-ls(n.velocity||0)}),C=w||0,_=p/(2*Math.sqrt(d*f)),x=l-a,v=ls(Math.sqrt(d/f)),y=Math.abs(x)<5;s||(s=y?Kt.restSpeed.granular:Kt.restSpeed.default),o||(o=y?Kt.restDelta.granular:Kt.restDelta.default);let m;if(_<1){const j=Ip(v,_);m=L=>{const I=Math.exp(-_*v*L);return l-I*((C+_*v*x)/j*Math.sin(j*L)+x*Math.cos(j*L))}}else if(_===1)m=j=>l-Math.exp(-v*j)*(x+(C+v*x)*j);else{const j=v*Math.sqrt(_*_-1);m=L=>{const I=Math.exp(-_*v*L),V=Math.min(j*L,300);return l-I*((C+_*v*x)*Math.sinh(V)+j*x*Math.cosh(V))/j}}const M={calculatedDuration:b&&h||null,next:j=>{const L=m(j);if(b)c.done=j>=h;else{let I=0;_<1&&(I=j===0?as(C):E5(m,j,L));const V=Math.abs(I)<=s,Y=Math.abs(l-L)<=o;c.done=V&&Y}return c.value=c.done?l:L,c},toString:()=>{const j=Math.min(Hx(M),Rp),L=Ux(I=>M.next(j*I).value,j,30);return j+"ms "+L}};return M}function vy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:f}){const h=e[0],w={done:!1,value:h},b=V=>c!==void 0&&V<c||d!==void 0&&V>d,C=V=>c===void 0?d:d===void 0||Math.abs(c-V)<Math.abs(d-V)?c:d;let _=n*t;const x=h+_,v=l===void 0?x:l(x);v!==x&&(_=v-h);const y=V=>-_*Math.exp(-V/s),m=V=>v+y(V),M=V=>{const Y=y(V),Q=m(V);w.done=Math.abs(Y)<=p,w.value=w.done?v:Q};let j,L;const I=V=>{b(w.value)&&(j=V,L=C5({keyframes:[w.value,C(w.value)],velocity:E5(m,V,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:f}))};return I(0),{calculatedDuration:null,next:V=>{let Y=!1;return!L&&j===void 0&&(Y=!0,M(V),I(V)),j!==void 0&&V>=j?L.next(V-j):(!Y&&M(V),w)}}}const dN=El(.42,0,1,1),fN=El(0,0,.58,1),k5=El(.42,0,.58,1),hN=e=>Array.isArray(e)&&typeof e[0]!="number",pN={linear:Zn,easeIn:dN,easeInOut:k5,easeOut:fN,circIn:C1,circInOut:o5,circOut:i5,backIn:E1,backInOut:r5,backOut:n5,anticipate:s5},yy=e=>{if(_1(e)){Sx(e.length===4);const[t,n,s,o]=e;return El(t,n,s,o)}else if(typeof e=="string")return pN[e];return e};function mN(e,t,n){const s=[],o=n||S5,a=e.length-1;for(let l=0;l<a;l++){let c=o(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Zn:t;c=Cl(d,c)}s.push(c)}return s}function gN(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const a=e.length;if(Sx(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=mN(t,s,o),d=c.length,p=f=>{if(l&&f<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(f<e[h+1]);h++);const w=Bo(e[h],e[h+1],f);return c[h](w)};return n?f=>p(fs(e[0],e[a-1],f)):p}function vN(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Bo(0,t,s);e.push(Xt(n,1,o))}}function yN(e){const t=[0];return vN(t,e.length-1),t}function _N(e,t){return e.map(n=>n*t)}function wN(e,t){return e.map(()=>t||k5).splice(0,e.length-1)}function Mu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=hN(s)?s.map(yy):yy(s),a={done:!1,value:t[0]},l=_N(n&&n.length===t.length?n:yN(t),e),c=gN(l,t,{ease:Array.isArray(o)?o:wN(t,o)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const bN=e=>{const t=({timestamp:n})=>e(n);return{start:()=>zt.update(t,!0),stop:()=>qs(t),now:()=>vn.isProcessing?vn.timestamp:$r.now()}},xN={decay:vy,inertia:vy,tween:Mu,keyframes:Mu,spring:C5},SN=e=>e/100;class A1 extends b5{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:s,element:o,keyframes:a}=this.options,l=o?.KeyframeResolver||P1,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,c,n,s,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=this.options,c=y1(n)?n:xN[n]||Mu;let d,p;c!==Mu&&typeof t[0]!="number"&&(d=Cl(SN,S5(t[0],t[1])),t=[0,100]);const f=c({...this.options,keyframes:t});a==="mirror"&&(p=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Hx(f));const{calculatedDuration:h}=f,w=h+o,b=w*(s+1)-o;return{generator:f,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:h,resolvedDuration:w,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:f,resolvedDuration:h}=s;if(this.startTime===null)return a.next(0);const{delay:w,repeat:b,repeatType:C,repeatDelay:_,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-w*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>f;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let m=this.currentTime,M=a;if(b){const V=Math.min(this.currentTime,f)/h;let Y=Math.floor(V),Q=V%1;!Q&&V>=1&&(Q=1),Q===1&&Y--,Y=Math.min(Y,b+1),Y%2&&(C==="reverse"?(Q=1-Q,_&&(Q-=_/h)):C==="mirror"&&(M=l)),m=fs(0,1,Q)*h}const j=y?{done:!1,value:d[0]}:M.next(m);c&&(j.value=c(j.value));let{done:L}=j;!y&&p!==null&&(L=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return I&&o!==void 0&&(j.value=ud(d,this.options,o)),x&&x(j.value),I&&this.finish(),j}get duration(){const{resolved:t}=this;return t?ls(t.calculatedDuration):0}get time(){return ls(this.currentTime)}set time(t){t=as(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ls(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=bN,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const EN=new Set(["opacity","clipPath","filter","transform"]);function CN(e,t,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[t]:n};d&&(p.offset=d);const f=Xx(c,o);return Array.isArray(f)&&(p.easing=f),e.animate(p,{delay:s,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const kN=r1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Au=10,RN=2e4;function TN(e){return y1(e.type)||e.type==="spring"||!$x(e.ease)}function PN(e,t){const n=new A1({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const o=[];let a=0;for(;!s.done&&a<RN;)s=n.sample(a),o.push(s.value),a+=Au;return{times:void 0,keyframes:o,duration:a-Au,ease:"linear"}}const R5={anticipate:s5,backInOut:r5,circInOut:o5};function MN(e){return e in R5}class _y extends b5{constructor(t){super(t);const{name:n,motionValue:s,element:o,keyframes:a}=this.options;this.resolver=new w5(a,(l,c)=>this.onKeyframesResolved(l,c),n,s,o),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:o,ease:a,type:l,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Tu()&&MN(a)&&(a=R5[a]),TN(this.options)){const{onComplete:h,onUpdate:w,motionValue:b,element:C,..._}=this.options,x=PN(t,_);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,o=x.times,a=x.ease,l="keyframes"}const f=CN(c.owner.current,d,t,{...this.options,duration:s,times:o,ease:a});return f.startTime=p??this.calcStartTime(),this.pendingTimeline?(ry(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(ud(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:s,times:o,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ls(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ls(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=as(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Zn;const{animation:s}=n;ry(s,t)}return Zn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:o,type:a,ease:l,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:f,onComplete:h,element:w,...b}=this.options,C=new A1({...b,keyframes:s,duration:o,type:a,ease:l,times:c,isGenerator:!0}),_=as(this.time);p.setWithVelocity(C.sample(_-Au).value,C.sample(_).value,Au)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:o,repeatType:a,damping:l,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return kN()&&s&&EN.has(s)&&!d&&!p&&!o&&a!=="mirror"&&l!==0&&c!=="inertia"}}const AN={type:"spring",stiffness:500,damping:25,restSpeed:10},DN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),NN={type:"keyframes",duration:.8},ON={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IN=(e,{keyframes:t})=>t.length>2?NN:Bi.has(e)?e.startsWith("scale")?DN(t[1]):AN:ON;function jN({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...f}){return!!Object.keys(f).length}const D1=(e,t,n,s={},o,a)=>l=>{const c=v1(s,e)||{},d=c.delay||s.delay||0;let{elapsed:p=0}=s;p=p-as(d);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-p,onUpdate:w=>{t.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:o};jN(c)||(f={...f,...IN(e,f)}),f.duration&&(f.duration=as(f.duration)),f.repeatDelay&&(f.repeatDelay=as(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const w=ud(f.keyframes,c);if(w!==void 0)return zt.update(()=>{f.onUpdate(w),f.onComplete()}),new tD([])}return!a&&_y.supports(f)?new _y(f):new A1(f)};function LN({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function T5(e,t,{delay:n=0,transitionOverride:s,type:o}={}){var a;let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const p=[],f=o&&e.animationState&&e.animationState.getState()[o];for(const h in d){const w=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),b=d[h];if(b===void 0||f&&LN(f,h))continue;const C={delay:n,...v1(l||{},h)};let _=!1;if(window.MotionHandoffAnimation){const v=Zx(e);if(v){const y=window.MotionHandoffAnimation(v,h,zt);y!==null&&(C.startTime=y,_=!0)}}Pp(e,h),w.start(D1(h,w,b,e.shouldReduceMotion&&qx.has(h)?{type:!1}:C,e,_));const x=w.animation;x&&p.push(x)}return c&&Promise.all(p).then(()=>{zt.update(()=>{c&&mD(e,c)})}),p}function jp(e,t,n={}){var s;const o=cd(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const l=o?()=>Promise.all(T5(e,o,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:w}=a;return BN(e,t,f+p,h,w,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,f]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>f())}else return Promise.all([l(),c(n.delay)])}function BN(e,t,n=0,s=0,o=1,a){const l=[],c=(e.variantChildren.size-1)*s,d=o===1?(p=0)=>p*s:(p=0)=>c-p*s;return Array.from(e.variantChildren).sort(FN).forEach((p,f)=>{p.notify("AnimationStart",t),l.push(jp(p,t,{...a,delay:n+d(f)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(l)}function FN(e,t){return e.sortNodePosition(t)}function VN(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(a=>jp(e,a,n));s=Promise.all(o)}else if(typeof t=="string")s=jp(e,t,n);else{const o=typeof t=="function"?cd(e,t,n.custom):t;s=Promise.all(T5(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const zN=i1.length;function P5(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?P5(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<zN;n++){const s=i1[n],o=e.props[s];(ll(o)||o===!1)&&(t[s]=o)}return t}const WN=[...s1].reverse(),HN=s1.length;function UN(e){return t=>Promise.all(t.map(({animation:n,options:s})=>VN(e,n,s)))}function $N(e){let t=UN(e),n=wy(),s=!0;const o=d=>(p,f)=>{var h;const w=cd(e,f,d==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(w){const{transition:b,transitionEnd:C,..._}=w;p={...p,..._,...C}}return p};function a(d){t=d(e)}function l(d){const{props:p}=e,f=P5(e.parent)||{},h=[],w=new Set;let b={},C=1/0;for(let x=0;x<HN;x++){const v=WN[x],y=n[v],m=p[v]!==void 0?p[v]:f[v],M=ll(m),j=v===d?y.isActive:null;j===!1&&(C=x);let L=m===f[v]&&m!==p[v]&&M;if(L&&s&&e.manuallyAnimateOnMount&&(L=!1),y.protectedKeys={...b},!y.isActive&&j===null||!m&&!y.prevProp||ad(m)||typeof m=="boolean")continue;const I=XN(y.prevProp,m);let V=I||v===d&&y.isActive&&!L&&M||x>C&&M,Y=!1;const Q=Array.isArray(m)?m:[m];let G=Q.reduce(o(v),{});j===!1&&(G={});const{prevResolvedValues:T={}}=y,z={...T,...G},S=q=>{V=!0,w.has(q)&&(Y=!0,w.delete(q)),y.needsAnimating[q]=!0;const U=e.getValue(q);U&&(U.liveStyle=!1)};for(const q in z){const U=G[q],K=T[q];if(b.hasOwnProperty(q))continue;let X=!1;kp(U)&&kp(K)?X=!Wx(U,K):X=U!==K,X?U!=null?S(q):w.add(q):U!==void 0&&w.has(q)?S(q):y.protectedKeys[q]=!0}y.prevProp=m,y.prevResolvedValues=G,y.isActive&&(b={...b,...G}),s&&e.blockInitialAnimation&&(V=!1),V&&(!(L&&I)||Y)&&h.push(...Q.map(q=>({animation:q,options:{type:v}})))}if(w.size){const x={};w.forEach(v=>{const y=e.getBaseTarget(v),m=e.getValue(v);m&&(m.liveStyle=!0),x[v]=y??null}),h.push({animation:x})}let _=!!h.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(_=!1),s=!1,_?t(h):Promise.resolve()}function c(d,p){var f;if(n[d].isActive===p)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(w=>{var b;return(b=w.animationState)===null||b===void 0?void 0:b.setActive(d,p)}),n[d].isActive=p;const h=l(d);for(const w in n)n[w].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=wy(),s=!0}}}function XN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Wx(t,e):!1}function wi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wy(){return{animate:wi(!0),whileInView:wi(),whileHover:wi(),whileTap:wi(),whileDrag:wi(),whileFocus:wi(),exit:wi()}}class ei{constructor(t){this.isMounted=!1,this.node=t}update(){}}class YN extends ei{constructor(t){super(t),t.animationState||(t.animationState=$N(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ad(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let GN=0;class KN extends ei{constructor(){super(...arguments),this.id=GN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const qN={animation:{Feature:YN},exit:{Feature:KN}};function fl(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function kl(e){return{point:{x:e.pageX,y:e.pageY}}}const QN=e=>t=>w1(t)&&e(t,kl(t));function Ja(e,t,n,s){return fl(e,t,QN(n),s)}const by=(e,t)=>Math.abs(e-t);function ZN(e,t){const n=by(e.x,t.x),s=by(e.y,t.y);return Math.sqrt(n**2+s**2)}class M5{constructor(t,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=zh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=ZN(h.offset,{x:0,y:0})>=3;if(!w&&!b)return;const{point:C}=h,{timestamp:_}=vn;this.history.push({...C,timestamp:_});const{onStart:x,onMove:v}=this.handlers;w||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,w)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Vh(w,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(h,w)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=zh(h.type==="pointercancel"?this.lastMoveEventInfo:Vh(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(h,x),C&&C(h,x)},!w1(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const l=kl(t),c=Vh(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=vn;this.history=[{...d,timestamp:p}];const{onSessionStart:f}=n;f&&f(t,zh(c,this.history)),this.removeListeners=Cl(Ja(this.contextWindow,"pointermove",this.handlePointerMove),Ja(this.contextWindow,"pointerup",this.handlePointerUp),Ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qs(this.updatePoint)}}function Vh(e,t){return t?{point:t(e.point)}:e}function xy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zh({point:e},t){return{point:e,delta:xy(e,A5(t)),offset:xy(e,JN(t)),velocity:eO(t,.1)}}function JN(e){return e[0]}function A5(e){return e[e.length-1]}function eO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=A5(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>as(t)));)n--;if(!s)return{x:0,y:0};const a=ls(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const D5=1e-4,tO=1-D5,nO=1+D5,N5=.01,rO=0-N5,sO=0+N5;function er(e){return e.max-e.min}function iO(e,t,n){return Math.abs(e-t)<=n}function Sy(e,t,n,s=.5){e.origin=s,e.originPoint=Xt(t.min,t.max,e.origin),e.scale=er(n)/er(t),e.translate=Xt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tO&&e.scale<=nO||isNaN(e.scale))&&(e.scale=1),(e.translate>=rO&&e.translate<=sO||isNaN(e.translate))&&(e.translate=0)}function el(e,t,n,s){Sy(e.x,t.x,n.x,s?s.originX:void 0),Sy(e.y,t.y,n.y,s?s.originY:void 0)}function Ey(e,t,n){e.min=n.min+t.min,e.max=e.min+er(t)}function oO(e,t,n){Ey(e.x,t.x,n.x),Ey(e.y,t.y,n.y)}function Cy(e,t,n){e.min=t.min-n.min,e.max=e.min+er(t)}function tl(e,t,n){Cy(e.x,t.x,n.x),Cy(e.y,t.y,n.y)}function aO(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Xt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Xt(n,e,s.max):Math.min(e,n)),e}function ky(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lO(e,{top:t,left:n,bottom:s,right:o}){return{x:ky(e.x,n,o),y:ky(e.y,t,s)}}function Ry(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function cO(e,t){return{x:Ry(e.x,t.x),y:Ry(e.y,t.y)}}function uO(e,t){let n=.5;const s=er(e),o=er(t);return o>s?n=Bo(t.min,t.max-s,e.min):s>o&&(n=Bo(e.min,e.max-o,t.min)),fs(0,1,n)}function dO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Lp=.35;function fO(e=Lp){return e===!1?e=0:e===!0&&(e=Lp),{x:Ty(e,"left","right"),y:Ty(e,"top","bottom")}}function Ty(e,t,n){return{min:Py(e,t),max:Py(e,n)}}function Py(e,t){return typeof e=="number"?e:e[t]||0}const My=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:My(),y:My()}),Ay=()=>({min:0,max:0}),Jt=()=>({x:Ay(),y:Ay()});function dr(e){return[e("x"),e("y")]}function O5({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function hO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Wh(e){return e===void 0||e===1}function Bp({scale:e,scaleX:t,scaleY:n}){return!Wh(e)||!Wh(t)||!Wh(n)}function xi(e){return Bp(e)||I5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function I5(e){return Dy(e.x)||Dy(e.y)}function Dy(e){return e&&e!=="0%"}function Du(e,t,n){const s=e-n,o=t*s;return n+o}function Ny(e,t,n,s,o){return o!==void 0&&(e=Du(e,o,s)),Du(e,n,s)+t}function Fp(e,t=0,n=1,s,o){e.min=Ny(e.min,t,n,s,o),e.max=Ny(e.max,t,n,s,o)}function j5(e,{x:t,y:n}){Fp(e.x,t.translate,t.scale,t.originPoint),Fp(e.y,n.translate,n.scale,n.originPoint)}const Oy=.999999999999,Iy=1.0000000000001;function mO(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let a,l;for(let c=0;c<o;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&To(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,j5(e,l)),s&&xi(a.latestValues)&&To(e,a.latestValues))}t.x<Iy&&t.x>Oy&&(t.x=1),t.y<Iy&&t.y>Oy&&(t.y=1)}function Ro(e,t){e.min=e.min+t,e.max=e.max+t}function jy(e,t,n,s,o=.5){const a=Xt(e.min,e.max,o);Fp(e,t,n,a,s)}function To(e,t){jy(e.x,t.x,t.scaleX,t.scale,t.originX),jy(e.y,t.y,t.scaleY,t.scale,t.originY)}function L5(e,t){return O5(pO(e.getBoundingClientRect(),t))}function gO(e,t,n){const s=L5(e,n),{scroll:o}=t;return o&&(Ro(s.x,o.offset.x),Ro(s.y,o.offset.y)),s}const B5=({current:e})=>e?e.ownerDocument.defaultView:null,vO=new WeakMap;class yO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kl(f).point)},a=(f,h)=>{const{drag:w,dragPropagation:b,onDragStart:C}=this.getProps();if(w&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uD(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Ur.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const m=y.layout.layoutBox[x];m&&(v=er(m)*(parseFloat(v)/100))}}this.originPoint[x]=v}),C&&zt.postRender(()=>C(f,h)),Pp(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(f,h)=>{const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:C,onDrag:_}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:x}=h;if(b&&this.currentDirection===null){this.currentDirection=_O(x),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),_&&_(f,h)},c=(f,h)=>this.stop(f,h),d=()=>dr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new M5(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:B5(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&zt.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Jc(t,o,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(l=aO(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Eo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=lO(o.layoutBox,n):this.constraints=!1,this.elastic=fO(s),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&dr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=dO(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Eo(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=gO(s,o.root,this.visualElement.getTransformPagePoint());let l=cO(o.layout.layoutBox,a);if(n){const c=n(hO(l));this.hasMutatedConstraints=!!c,c&&(l=O5(c))}return l}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=dr(f=>{if(!Jc(f,n,this.currentDirection))return;let h=d&&d[f]||{};l&&(h={min:0,max:0});const w=o?200:1e6,b=o?40:1e7,C={type:"inertia",velocity:s?t[f]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(f,C)});return Promise.all(p).then(c)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Pp(this.visualElement,t),s.start(D1(t,s,0,n,this.visualElement,!1))}stopAnimation(){dr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){dr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){dr(n=>{const{drag:s}=this.getProps();if(!Jc(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:c}=o.layout.layoutBox[n];a.set(t[n]-Xt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Eo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};dr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();o[l]=uO({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),dr(l=>{if(!Jc(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(Xt(d,p,o[l]))})}addListeners(){if(!this.visualElement.current)return;vO.set(this.visualElement,this);const t=this.visualElement.current,n=Ja(t,"pointerdown",d=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Eo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),zt.read(s);const l=fl(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(dr(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=d[f].translate,h.set(h.get()+d[f].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=Lp,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Jc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _O(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wO extends ei{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new yO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ly=e=>(t,n)=>{e&&zt.postRender(()=>e(t,n))};class bO extends ei{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new M5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ly(t),onStart:Ly(n),onMove:s,onEnd:(a,l)=>{delete this.session,o&&zt.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function By(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ua={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=By(e,t.target.x),s=By(e,t.target.y);return`${n}% ${s}%`}},xO={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Qs.parse(e);if(o.length>5)return s;const a=Qs.createTransformer(e),l=typeof o[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;o[0+l]/=c,o[1+l]/=d;const p=Xt(c,d,.5);return typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p),a(o)}};class SO extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=t;HA(EO),a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,l=s.projection;return l&&(l.isPresent=a,o||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||zt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),a1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function F5(e){const[t,n]=sA(),s=N.useContext(bx);return P.jsx(SO,{...e,layoutGroup:s,switchLayoutGroup:N.useContext(Px),isPresent:t,safeToRemove:n})}const EO={borderRadius:{...Ua,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ua,borderTopRightRadius:Ua,borderBottomLeftRadius:Ua,borderBottomRightRadius:Ua,boxShadow:xO};function CO(e,t,n){const s=En(e)?e:ul(e);return s.start(D1("",s,t,n)),s.animation}function kO(e){return e instanceof SVGElement&&e.tagName!=="svg"}const RO=(e,t)=>e.depth-t.depth;class TO{constructor(){this.children=[],this.isDirty=!1}add(t){b1(this.children,t),this.isDirty=!0}remove(t){x1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RO),this.isDirty=!1,this.children.forEach(t)}}function PO(e,t){const n=$r.now(),s=({timestamp:o})=>{const a=o-n;a>=t&&(qs(s),e(a-t))};return zt.read(s,!0),()=>qs(s)}const V5=["TopLeft","TopRight","BottomLeft","BottomRight"],MO=V5.length,Fy=e=>typeof e=="string"?parseFloat(e):e,Vy=e=>typeof e=="number"||pt.test(e);function AO(e,t,n,s,o,a){o?(e.opacity=Xt(0,n.opacity!==void 0?n.opacity:1,DO(s)),e.opacityExit=Xt(t.opacity!==void 0?t.opacity:1,0,NO(s))):a&&(e.opacity=Xt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let l=0;l<MO;l++){const c=`border${V5[l]}Radius`;let d=zy(t,c),p=zy(n,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Vy(d)===Vy(p)?(e[c]=Math.max(Xt(Fy(d),Fy(p),s),0),(Ur.test(p)||Ur.test(d))&&(e[c]+="%")):e[c]=p}(t.rotate||n.rotate)&&(e.rotate=Xt(t.rotate||0,n.rotate||0,s))}function zy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DO=z5(0,.5,i5),NO=z5(.5,.95,Zn);function z5(e,t,n){return s=>s<e?0:s>t?1:n(Bo(e,t,s))}function Wy(e,t){e.min=t.min,e.max=t.max}function ur(e,t){Wy(e.x,t.x),Wy(e.y,t.y)}function Hy(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Uy(e,t,n,s,o){return e-=t,e=Du(e,1/n,s),o!==void 0&&(e=Du(e,1/o,s)),e}function OO(e,t=0,n=1,s=.5,o,a=e,l=e){if(Ur.test(t)&&(t=parseFloat(t),t=Xt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Xt(a.min,a.max,s);e===a&&(c-=t),e.min=Uy(e.min,t,n,c,o),e.max=Uy(e.max,t,n,c,o)}function $y(e,t,[n,s,o],a,l){OO(e,t[n],t[s],t[o],t.scale,a,l)}const IO=["x","scaleX","originX"],jO=["y","scaleY","originY"];function Xy(e,t,n,s){$y(e.x,t,IO,n?n.x:void 0,s?s.x:void 0),$y(e.y,t,jO,n?n.y:void 0,s?s.y:void 0)}function Yy(e){return e.translate===0&&e.scale===1}function W5(e){return Yy(e.x)&&Yy(e.y)}function Gy(e,t){return e.min===t.min&&e.max===t.max}function LO(e,t){return Gy(e.x,t.x)&&Gy(e.y,t.y)}function Ky(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function H5(e,t){return Ky(e.x,t.x)&&Ky(e.y,t.y)}function qy(e){return er(e.x)/er(e.y)}function Qy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class BO{constructor(){this.members=[]}add(t){b1(this.members,t),t.scheduleRender()}remove(t){if(x1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FO(e,t,n){let s="";const o=e.x.translate/t.x,a=e.y.translate/t.y,l=n?.z||0;if((o||a||l)&&(s=`translate3d(${o}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:f,rotateX:h,rotateY:w,skewX:b,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),f&&(s+=`rotate(${f}deg) `),h&&(s+=`rotateX(${h}deg) `),w&&(s+=`rotateY(${w}deg) `),b&&(s+=`skewX(${b}deg) `),C&&(s+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(s+=`scale(${c}, ${d})`),s||"none"}const Si={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ya=typeof window<"u"&&window.MotionDebug!==void 0,Hh=["","X","Y","Z"],VO={visibility:"hidden"},Zy=1e3;let zO=0;function Uh(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function U5(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Zx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(o||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&U5(s)}function $5({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(l={},c=t?.()){this.id=zO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ya&&(Si.totalNodes=Si.resolvedTargetDeltas=Si.recalculatedProjection=0),this.nodes.forEach(UO),this.nodes.forEach(KO),this.nodes.forEach(qO),this.nodes.forEach($O),Ya&&window.MotionDebug.record(Si)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new TO)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new S1),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kO(l),this.instance=l;const{layoutId:d,layout:p,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),e){let h;const w=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=PO(w,250),cu.hasAnimatedSinceResize&&(cu.hasAnimatedSinceResize=!1,this.nodes.forEach(e_))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||p)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:w,hasRelativeTargetChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||tI,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=f.getProps(),y=!this.targetLayout||!H5(this.targetLayout,C)||b,m=!w&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||w&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const M={...v1(_,"layout"),onPlay:x,onComplete:v};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else w||e_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QO),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jy);return}this.isUpdating||this.nodes.forEach(YO),this.isUpdating=!1,this.nodes.forEach(GO),this.nodes.forEach(WO),this.nodes.forEach(HO),this.clearAllSnapshots();const c=$r.now();vn.delta=fs(0,1e3/60,c-vn.timestamp),vn.timestamp=c,vn.isProcessing=!0,Oh.update.process(vn),Oh.preRender.process(vn),Oh.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XO),this.sharedNodes.forEach(ZO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!W5(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;l&&(c||xi(this.latestValues)||f)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),nI(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Jt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(rI))){const{scroll:f}=this.root;f&&(Ro(d.x,f.offset.x),Ro(d.y,f.offset.y))}return d}removeElementScroll(l){var c;const d=Jt();if(ur(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const f=this.path[p],{scroll:h,options:w}=f;f!==this.root&&h&&w.layoutScroll&&(h.wasRoot&&ur(d,l),Ro(d.x,h.offset.x),Ro(d.y,h.offset.y))}return d}applyTransform(l,c=!1){const d=Jt();ur(d,l);for(let p=0;p<this.path.length;p++){const f=this.path[p];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&To(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),xi(f.latestValues)&&To(d,f.latestValues)}return xi(this.latestValues)&&To(d,this.latestValues),d}removeTransform(l){const c=Jt();ur(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!xi(p.latestValues))continue;Bp(p.latestValues)&&p.updateSnapshot();const f=Jt(),h=p.measurePageBox();ur(f,h),Xy(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return xi(this.latestValues)&&Xy(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:w}=this.options;if(!(!this.layout||!(h||w))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),tl(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),j5(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),tl(this.relativeTargetOrigin,this.target,b.target),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ya&&Si.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bp(this.parent.latestValues)||I5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(p=!1),p)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ur(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;mO(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Jt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hy(this.prevProjectionDelta.x,this.projectionDelta.x),Hy(this.prevProjectionDelta.y,this.projectionDelta.y)),el(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!Qy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Ya&&Si.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},f={...this.latestValues},h=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Jt(),b=d?d.source:void 0,C=this.layout?this.layout.source:void 0,_=b!==C,x=this.getStack(),v=!x||x.members.length<=1,y=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(eI));this.animationProgress=0;let m;this.mixTargetDelta=M=>{const j=M/1e3;t_(h.x,l.x,j),t_(h.y,l.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JO(this.relativeTarget,this.relativeTargetOrigin,w,j),m&&LO(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Jt()),ur(m,this.relativeTarget)),_&&(this.animationValues=f,AO(f,p,this.latestValues,j,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{cu.hasAnimatedSinceResize=!0,this.currentAnimation=CO(0,Zy,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:f}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&X5(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Jt();const h=er(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+h;const w=er(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}ur(c,d),To(c,f),el(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new BO),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&Uh("z",l,p,this.animationValues);for(let f=0;f<Hh.length;f++)Uh(`rotate${Hh[f]}`,l,p,this.animationValues),Uh(`skew${Hh[f]}`,l,p,this.animationValues);l.render();for(const f in p)l.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VO;const p={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=au(l?.pointerEvents)||"",p.transform=f?f(this.latestValues,""):"none",p;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=au(l?.pointerEvents)||""),this.hasProjected&&!xi(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const w=h.animationValues||h.latestValues;this.applyTransformsToTarget(),p.transform=FO(this.projectionDeltaWithTransform,this.treeScale,w),f&&(p.transform=f(w,p.transform));const{x:b,y:C}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,h.animationValues?p.opacity=h===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=h===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const _ in Ru){if(w[_]===void 0)continue;const{correct:x,applyTo:v}=Ru[_],y=p.transform==="none"?w[_]:x(w[_],h);if(v){const m=v.length;for(let M=0;M<m;M++)p[v[M]]=y}else p[_]=y}return this.options.layoutId&&(p.pointerEvents=h===this?au(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Jy),this.root.sharedNodes.clear()}}}function WO(e){e.updateLayout()}function HO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:a}=e.options,l=n.source!==e.layout.source;a==="size"?dr(h=>{const w=l?n.measuredBox[h]:n.layoutBox[h],b=er(w);w.min=s[h].min,w.max=w.min+b}):X5(a,n.layoutBox,s)&&dr(h=>{const w=l?n.measuredBox[h]:n.layoutBox[h],b=er(s[h]);w.max=w.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+b)});const c=ko();el(c,s,n.layoutBox);const d=ko();l?el(d,e.applyTransform(o,!0),n.measuredBox):el(d,s,n.layoutBox);const p=!W5(c);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:w,layout:b}=h;if(w&&b){const C=Jt();tl(C,n.layoutBox,w.layoutBox);const _=Jt();tl(_,s,b.layoutBox),H5(C,_)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=C,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function UO(e){Ya&&Si.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $O(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XO(e){e.clearSnapshot()}function Jy(e){e.clearMeasurements()}function YO(e){e.isLayoutDirty=!1}function GO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function e_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KO(e){e.resolveTargetDelta()}function qO(e){e.calcProjection()}function QO(e){e.resetSkewAndRotation()}function ZO(e){e.removeLeadSnapshot()}function t_(e,t,n){e.translate=Xt(t.translate,0,n),e.scale=Xt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function n_(e,t,n,s){e.min=Xt(t.min,n.min,s),e.max=Xt(t.max,n.max,s)}function JO(e,t,n,s){n_(e.x,t.x,n.x,s),n_(e.y,t.y,n.y,s)}function eI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tI={duration:.45,ease:[.4,0,.1,1]},r_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),s_=r_("applewebkit/")&&!r_("chrome/")?Math.round:Zn;function i_(e){e.min=s_(e.min),e.max=s_(e.max)}function nI(e){i_(e.x),i_(e.y)}function X5(e,t,n){return e==="position"||e==="preserve-aspect"&&!iO(qy(t),qy(n),.2)}function rI(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const sI=$5({attachResizeListener:(e,t)=>fl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$h={current:void 0},Y5=$5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$h.current){const e=new sI({});e.mount(window),e.setOptions({layoutScroll:!0}),$h.current=e}return $h.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),iI={pan:{Feature:bO},drag:{Feature:wO,ProjectionNode:Y5,MeasureLayout:F5}};function o_(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&zt.postRender(()=>a(t,kl(t)))}class oI extends ei{mount(){const{current:t}=this.node;t&&(this.unmount=iD(t,n=>(o_(this.node,n,"Start"),s=>o_(this.node,s,"End"))))}unmount(){}}class aI extends ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cl(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a_(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&zt.postRender(()=>a(t,kl(t)))}class lI extends ei{mount(){const{current:t}=this.node;t&&(this.unmount=cD(t,n=>(a_(this.node,n,"Start"),(s,{success:o})=>a_(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vp=new WeakMap,Xh=new WeakMap,cI=e=>{const t=Vp.get(e.target);t&&t(e)},uI=e=>{e.forEach(cI)};function dI({root:e,...t}){const n=e||document;Xh.has(n)||Xh.set(n,{});const s=Xh.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(uI,{root:e,...t})),s[o]}function fI(e,t,n){const s=dI(t);return Vp.set(e,n),s.observe(e),()=>{Vp.delete(e),s.unobserve(e)}}const hI={some:0,all:1};class pI extends ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:hI[o]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),w=p?f:h;w&&w(d)};return fI(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mI(t,n))&&this.startObserver()}unmount(){}}function mI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gI={inView:{Feature:pI},tap:{Feature:lI},focus:{Feature:aI},hover:{Feature:oI}},vI={layout:{ProjectionNode:Y5,MeasureLayout:F5}},zp={current:null},G5={current:!1};function yI(){if(G5.current=!0,!!n1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zp.current=e.matches;e.addListener(t),t()}else zp.current=!1}const _I=[..._5,Sn,Qs],wI=e=>_I.find(y5(e)),l_=new WeakMap;function bI(e,t,n){for(const s in t){const o=t[s],a=n[s];if(En(o))e.addValue(s,o);else if(En(a))e.addValue(s,ul(o,{owner:e}));else if(a!==o)if(e.hasValue(s)){const l=e.getValue(s);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,ul(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const c_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xI{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=$r.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,zt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:f}=l;this.onUpdate=f,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=ld(n),this.isVariantNode=Rx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in w){const C=w[b];d[b]!==void 0&&En(C)&&C.set(d[b],!1)}}mount(t){this.current=t,l_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),G5.current||yI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){l_.delete(this.current),this.projection&&this.projection.unmount(),qs(this.notifyUpdate),qs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Bi.has(t),o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&zt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fo){const n=Fo[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<c_.length;s++){const o=c_[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=t[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=bI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ul(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(g5(o)||a5(o))?o=parseFloat(o):!wI(o)&&Qs.test(n)&&(o=h5(t,n)),this.setBaseTarget(t,En(o)?o.get():o)),En(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const l=c1(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(o=l[t])}if(s&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!En(a)?a:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new S1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class K5 extends xI{constructor(){super(...arguments),this.KeyframeResolver=w5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SI(e){return window.getComputedStyle(e)}class EI extends K5{constructor(){super(...arguments),this.type="html",this.renderInstance=jx}readValueFromInstance(t,n){if(Bi.has(n)){const s=T1(n);return s&&s.default||0}else{const s=SI(t),o=(Nx(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return L5(t,n)}build(t,n,s){f1(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return g1(t,n,s)}}class CI extends K5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Bi.has(n)){const s=T1(n);return s&&s.default||0}return n=Lx.has(n)?n:o1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Vx(t,n,s)}build(t,n,s){h1(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,o){Bx(t,n,s,o)}mount(t){this.isSVGTag=m1(t.tagName),super.mount(t)}}const kI=(e,t)=>l1(e)?new CI(t):new EI(t,{allowProjection:e!==N.Fragment}),RI=ZA({...qN,...gI,...iI,...vI},kI),TI=hA(RI);function PI(){const[e,t]=gl(),{toast:n}=vl(),[s,o]=N.useState(!1),[a,l]=N.useState(0),[c,d]=N.useState(null),[p,f]=N.useState([]),[h,w]=N.useState(null),{theme:b,toggleTheme:C}=Hm(),_=N.useRef(null),x=N.useRef([]),v=N.useRef(0),y=N.useRef(),m=N.useRef(null),M=N.useRef(!1),j=vb(),L=wx();N.useEffect(()=>{async function Q(){try{const G=await navigator.mediaDevices.getUserMedia({audio:!0});d(G);const T=window.SpeechRecognition||window.webkitSpeechRecognition;if(T){const z=new T;z.continuous=!0,z.interimResults=!1,z.lang="en-US",z.onresult=S=>{const W=S.results.length-1,ne=S.results[W][0].transcript.toLowerCase().trim();console.log("Speech detected:",ne),(ne.includes("flag it")||ne.includes("flag that")||ne.includes("flagit"))&&Y("Voice Triggered",!0)},z.onend=()=>{if(M.current)try{z.start(),console.log("Speech recognition restarted")}catch(S){console.log("Speech recognition restart failed, retrying...",S),setTimeout(()=>{if(M.current)try{z.start()}catch{}},300)}},z.onerror=S=>{console.log("Speech recognition error:",S.error)},m.current=z}}catch(G){console.error("Microphone access denied:",G),n({variant:"destructive",title:"Microphone Error",description:"Please allow microphone access to record audio."})}}return Q(),()=>{c?.getTracks().forEach(G=>G.stop()),m.current&&m.current.stop()}},[]);const I=()=>{if(!c)return;const Q=new MediaRecorder(c);_.current=Q,x.current=[],Q.ondataavailable=G=>{G.data.size>0&&(x.current.push(G.data),console.log("Chunk recorded:",G.data.size))},Q.onstop=()=>{console.log("Recorder stopped, total chunks:",x.current.length)},Q.start(1e3),o(!0),M.current=!0,v.current=Date.now(),l(0),f([]),y.current=window.setInterval(()=>{l(Date.now()-v.current)},100);try{m.current?.start()}catch{console.log("Speech recognition already started")}},V=async()=>{if(!_.current)return;_.current.stop(),o(!1),M.current=!1,clearInterval(y.current),m.current?.stop();const Q=new Blob(x.current,{type:"audio/webm"}),G=a;try{const T=await j.mutateAsync({name:`Recording ${new Date().toLocaleString()}`,category:"Recordings",categoryId:null,duration:G,notes:""});await Yb(T.id,Q),await Promise.all(p.map(z=>L.mutateAsync({recordingId:T.id,timestamp:z.timestamp,color:z.color,description:"Flagged it"}))),w(T.id),n({title:"Recording saved",description:"Your recording has been added to your collection.",duration:3e3}),l(0),f([]),x.current=[]}catch(T){console.error("Save recording error:",T);const z=T instanceof Error?T.message:"Unknown error";n({variant:"destructive",title:"Save Failed",description:`Could not save the recording: ${z}`})}},Y=(Q="Manual",G=!1)=>{o(T=>{if(!T)return T;let z=Date.now()-v.current;G&&(z=Math.max(0,z-1e3));const S={id:Math.random().toString(),timestamp:z,color:"green"};return f(W=>[...W,S]),n({title:"Flag Added!",description:`${Q} at ${u_(z)}`,duration:1500}),T})};return P.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[s&&P.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:P.jsx("div",{className:"w-96 h-96 bg-red-500/10 rounded-full blur-3xl animate-pulse"})}),P.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-center z-10",children:[P.jsx("div",{className:"flex items-center gap-4",children:P.jsx(So,{href:"/recordings",children:P.jsxs("button",{className:"px-4 py-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground font-medium flex items-center gap-2",children:["Recordings",P.jsx(pu,{className:"w-4 h-4"})]})})}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("button",{onClick:C,className:"p-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground",children:b==="dark"?P.jsx(hm,{className:"w-5 h-5"}):P.jsx(fm,{className:"w-5 h-5"})}),P.jsx(So,{href:"/settings",children:P.jsx("button",{className:"p-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground",children:P.jsx(Wu,{className:"w-5 h-5"})})}),P.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-card/50 border border-white/5 backdrop-blur-sm",children:[P.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-red-500 animate-pulse":"bg-gray-500"}`}),P.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:s?"REC":"READY"})]})]})]}),P.jsxs("div",{className:"w-full max-w-2xl space-y-12 z-10",children:[P.jsxs("div",{className:"text-center space-y-4",children:[P.jsx("h1",{className:"text-7xl font-mono font-bold tracking-tighter timer-text tabular-nums",children:u_(a)}),P.jsxs("div",{className:"space-y-1",children:[P.jsxs("p",{className:"text-lg text-primary font-semibold max-w-sm mx-auto leading-relaxed",children:["Say ",P.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent font-bold",children:"FLAG IT"})]}),P.jsx("p",{className:"text-lg text-primary font-semibold max-w-sm mx-auto leading-relaxed",children:"or click the flag"}),P.jsx("p",{className:"text-lg text-primary font-semibold max-w-sm mx-auto leading-relaxed",children:"to mark key moments"})]})]}),P.jsxs("div",{className:"h-32 bg-card/30 rounded-2xl border border-white/5 backdrop-blur-sm overflow-hidden flex items-center justify-center relative",children:[c?P.jsx(eA,{stream:c,isRecording:s,height:128}):P.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[P.jsx(xw,{className:"w-5 h-5"}),P.jsx("span",{children:"Waiting for microphone..."})]}),p.map(Q=>P.jsx(TI.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"absolute top-0 bottom-0 w-0.5 bg-green-500",style:{left:`${Q.timestamp/a*100}%`}},Q.id))]}),P.jsx("div",{className:"text-center",children:P.jsx("p",{className:"text-muted-foreground font-medium",children:s?"Listening for 'Flag It'...":"Press record to start"})}),P.jsxs("div",{className:"flex items-center justify-center gap-8",children:[P.jsxs("button",{onClick:()=>Y("Manual"),disabled:!s,className:"group flex flex-col items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[P.jsx("div",{className:"w-16 h-16 rounded-2xl bg-card border border-border flex items-center justify-center shadow-lg group-hover:border-green-500/50 group-active:scale-95 transition-all",children:P.jsx(Sw,{className:"w-6 h-6 text-green-500 fill-current"})}),P.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Flag"})]}),P.jsx("button",{onClick:s?V:I,className:`w-24 h-24 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 transform hover:scale-105 active:scale-95
              ${s?"bg-red-500 text-white animate-pulse-ring":"record-button text-white"}`,children:s?P.jsx(mu,{className:"w-8 h-8 fill-current"}):P.jsx(ip,{className:"w-8 h-8 fill-current text-white dark:text-black"})}),h?P.jsxs("button",{onClick:()=>t(`/recordings/${h}`),className:"group w-16 flex flex-col items-center gap-2 transition-all",children:[P.jsx("div",{className:"w-16 h-16 rounded-2xl bg-card border border-border flex items-center justify-center shadow-lg group-hover:border-primary/50 group-active:scale-95 transition-all",children:P.jsx(pu,{className:"w-6 h-6 text-primary"})}),P.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Latest"})]}):P.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 opacity-0 pointer-events-none",children:[P.jsx("div",{className:"w-16 h-16 rounded-2xl bg-card border border-border flex items-center justify-center shadow-lg"}),P.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Latest"})]})]})]})]})}function u_(e){const t=Math.floor(e/1e3),n=Math.floor(t/60),s=t%60,o=Math.floor(e%1e3/10);return`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}.${o.toString().padStart(2,"0")}`}async function MI(e){const t=e.numberOfChannels,n=e.length*t*2+44,s=new ArrayBuffer(n),o=new DataView(s),a=[];let l,c,d=0,p=0;for(h(1179011410),h(n-8),h(1163280727),h(544501094),h(16),f(1),f(t),h(e.sampleRate),h(e.sampleRate*2*t),f(t*2),f(16),h(1635017060),h(n-p-4),l=0;l<e.numberOfChannels;l++)a.push(e.getChannelData(l));for(;p<n;){for(l=0;l<t;l++)c=Math.max(-1,Math.min(1,a[l][d])),c=(.5+c<0?c*32768:c*32767)|0,o.setInt16(p,c,!0),p+=2;d++}return new Blob([s],{type:"audio/wav"});function f(w){o.setUint16(p,w,!0),p+=2}function h(w){o.setUint32(p,w,!0),p+=4}}function Dn(e,t,n,s){return new(n||(n=Promise))((function(o,a){function l(p){try{d(s.next(p))}catch(f){a(f)}}function c(p){try{d(s.throw(p))}catch(f){a(f)}}function d(p){var f;p.done?o(p.value):(f=p.value,f instanceof n?f:new n((function(h){h(f)}))).then(l,c)}d((s=s.apply(e,t||[])).next())}))}let Rl=class{constructor(){this.listeners={}}on(t,n,s){if(this.listeners[t]||(this.listeners[t]=new Set),s?.once){const o=(...a)=>{this.un(t,o),n(...a)};return this.listeners[t].add(o),()=>this.un(t,o)}return this.listeners[t].add(n),()=>this.un(t,n)}un(t,n){var s;(s=this.listeners[t])===null||s===void 0||s.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((s=>s(...n)))}};const eu={decode:function(e,t){return Dn(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:t});try{return yield n.decodeAudioData(e)}finally{n.close()}}))},createBuffer:function(e,t){if(!e||e.length===0)throw new Error("channelData must be a non-empty array");if(t<=0)throw new Error("duration must be greater than 0");if(typeof e[0]=="number"&&(e=[e]),!e[0]||e[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(s){const o=s[0];if(o.some((a=>a>1||a<-1))){const a=o.length;let l=0;for(let c=0;c<a;c++){const d=Math.abs(o[c]);d>l&&(l=d)}for(const c of s)for(let d=0;d<a;d++)c[d]/=l}})(e);const n=e.map((s=>s instanceof Float32Array?s:Float32Array.from(s)));return{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:s=>{const o=n[s];if(!o)throw new Error(`Channel ${s} not found`);return o},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function q5(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[s,o]of Object.entries(t))if(s==="children"&&o)for(const[a,l]of Object.entries(o))l instanceof Node?n.appendChild(l):typeof l=="string"?n.appendChild(document.createTextNode(l)):n.appendChild(q5(a,l));else s==="style"?Object.assign(n.style,o):s==="textContent"?n.textContent=o:n.setAttribute(s,o.toString());return n}function d_(e,t,n){const s=q5(e,t||{});return n?.appendChild(s),s}var AI=Object.freeze({__proto__:null,createElement:d_,default:d_});const DI={fetchBlob:function(e,t,n){return Dn(this,void 0,void 0,(function*(){const s=yield fetch(e,n);if(s.status>=400)throw new Error(`Failed to fetch ${e}: ${s.status} (${s.statusText})`);return(function(o,a){Dn(this,void 0,void 0,(function*(){if(!o.body||!o.headers)return;const l=o.body.getReader(),c=Number(o.headers.get("Content-Length"))||0;let d=0;const p=f=>{d+=f?.length||0;const h=Math.round(d/c*100);a(h)};try{for(;;){const f=yield l.read();if(f.done)break;p(f.value)}}catch(f){console.warn("Progress tracking error:",f)}}))})(s.clone(),t),s.blob()}))}};function en(e){let t=e;const n=new Set;return{get value(){return t},set(s){Object.is(t,s)||(t=s,n.forEach((o=>o(t))))},update(s){this.set(s(t))},subscribe:s=>(n.add(s),()=>n.delete(s))}}function ki(e,t){const n=en(e());return t.forEach((s=>s.subscribe((()=>{const o=e();Object.is(n.value,o)||n.set(o)})))),{get value(){return n.value},subscribe:s=>n.subscribe(s)}}function Xs(e,t){let n;const s=()=>{n&&(n(),n=void 0),n=e()},o=t.map((a=>a.subscribe(s)));return s(),()=>{n&&(n(),n=void 0),o.forEach((a=>a()))}}class NI extends Rl{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(t){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=en(!1),this._currentTime=en(0),this._duration=en(0),this._volume=en(this.media.volume),this._muted=en(this.media.muted),this._playbackRate=en(this.media.playbackRate||1),this._seeking=en(!1),this.setupReactiveMediaEvents(),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(t,n,s){return this.media.addEventListener(t,n,s),()=>this.media.removeEventListener(t,n,s)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const s=this.getSrc();if(t&&s===t)return;this.revokeSrc();const o=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;if(s&&this.media.removeAttribute("src"),o||t)try{this.media.src=o}catch{this.media.src=t}}destroy(){this.reactiveMediaEventCleanups.forEach((t=>t())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(t){this.reactiveMediaEventCleanups.forEach((n=>n())),this.reactiveMediaEventCleanups=[],this.media=t,this.setupReactiveMediaEvents()}play(){return Dn(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(t){if(t instanceof DOMException&&t.name==="AbortError")return;throw t}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function OI({maxTop:e,maxBottom:t,halfHeight:n,vScale:s,barMinHeight:o=0,barAlign:a}){let l=Math.round(e*n*s),c=l+Math.round(t*n*s)||1;return c<o&&(c=o,a||(l=c/2)),{topHeight:l,totalHeight:c}}function II({barAlign:e,halfHeight:t,topHeight:n,totalHeight:s,canvasHeight:o}){return e==="top"?0:e==="bottom"?o-s:t-n}function f_(e,t,n){const s=t-e.left,o=n-e.top;return[s/e.width,o/e.height]}function Q5(e){return!!(e.barWidth||e.barGap||e.barAlign)}function h_(e,t){if(!Q5(t))return e;const n=t.barWidth||.5,s=n+(t.barGap||n/2);return s===0?e:Math.floor(e/s)*s}function p_({scrollLeft:e,totalWidth:t,numCanvases:n}){if(t===0)return[0];const s=e/t,o=Math.floor(s*n);return[o-1,o,o+1]}function Z5(e){const t=e._cleanup;typeof t=="function"&&t()}function jI(e){const t=en({scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth}),n=ki((()=>(function(a){const{scrollLeft:l,scrollWidth:c,clientWidth:d}=a;if(c===0)return{startX:0,endX:1};const p=l/c,f=(l+d)/c;return{startX:Math.max(0,Math.min(1,p)),endX:Math.max(0,Math.min(1,f))}})(t.value)),[t]),s=ki((()=>(function(a){return{left:a.scrollLeft,right:a.scrollLeft+a.clientWidth}})(t.value)),[t]),o=()=>{t.set({scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth})};return e.addEventListener("scroll",o,{passive:!0}),{scrollData:t,percentages:n,bounds:s,cleanup:()=>{e.removeEventListener("scroll",o),Z5(t)}}}class LI extends Rl{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=t;const s=this.parentFromOptionsContainer(t.container);this.parent=s;const[o,a]=this.initHtml();s.appendChild(o),this.container=o,this.scrollContainer=a.querySelector(".scroll"),this.wrapper=a.querySelector(".wrapper"),this.canvasWrapper=a.querySelector(".canvases"),this.progressWrapper=a.querySelector(".progress"),this.cursor=a.querySelector(".cursor"),n&&a.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){this.wrapper.addEventListener("click",(n=>{const s=this.wrapper.getBoundingClientRect(),[o,a]=f_(s,n.clientX,n.clientY);this.emit("click",o,a)})),this.wrapper.addEventListener("dblclick",(n=>{const s=this.wrapper.getBoundingClientRect(),[o,a]=f_(s,n.clientX,n.clientY);this.emit("dblclick",o,a)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=jI(this.scrollContainer);const t=Xs((()=>{const{startX:n,endX:s}=this.scrollStream.percentages.value,{left:o,right:a}=this.scrollStream.bounds.value;this.emit("scroll",n,s,o,a)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(t),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{n().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(n,s={}){const{threshold:o=3,mouseButton:a=0,touchDelay:l=100}=s,c=en(null),d=new Map,p=matchMedia("(pointer: coarse)").matches;let f=()=>{};const h=w=>{if(w.button!==a||(d.set(w.pointerId,w),d.size>1))return;let b=w.clientX,C=w.clientY,_=!1;const x=Date.now(),v=n.getBoundingClientRect(),{left:y,top:m}=v,M=Y=>{if(Y.defaultPrevented||d.size>1||p&&Date.now()-x<l)return;const Q=Y.clientX,G=Y.clientY,T=Q-b,z=G-C;(_||Math.abs(T)>o||Math.abs(z)>o)&&(Y.preventDefault(),Y.stopPropagation(),_||(c.set({type:"start",x:b-y,y:C-m}),_=!0),c.set({type:"move",x:Q-y,y:G-m,deltaX:T,deltaY:z}),b=Q,C=G)},j=Y=>{if(d.delete(Y.pointerId),_){const Q=Y.clientX,G=Y.clientY;c.set({type:"end",x:Q-y,y:G-m})}f()},L=Y=>{d.delete(Y.pointerId),Y.relatedTarget&&Y.relatedTarget!==document.documentElement||j(Y)},I=Y=>{_&&(Y.stopPropagation(),Y.preventDefault())},V=Y=>{Y.defaultPrevented||d.size>1||_&&Y.preventDefault()};document.addEventListener("pointermove",M),document.addEventListener("pointerup",j),document.addEventListener("pointerout",L),document.addEventListener("pointercancel",L),document.addEventListener("touchmove",V,{passive:!1}),document.addEventListener("click",I,{capture:!0}),f=()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",j),document.removeEventListener("pointerout",L),document.removeEventListener("pointercancel",L),document.removeEventListener("touchmove",V),setTimeout((()=>{document.removeEventListener("click",I,{capture:!0})}),10)}};return n.addEventListener("pointerdown",h),{signal:c,cleanup:()=>{f(),n.removeEventListener("pointerdown",h),d.clear(),Z5(c)}}})(this.wrapper);const t=Xs((()=>{const n=this.dragStream.signal.value;if(!n)return;const s=this.wrapper.getBoundingClientRect().width,o=(a=n.x/s)<0?0:a>1?1:a;var a;n.type==="start"?(this.isDragging=!0,this.emit("dragstart",o)):n.type==="move"?this.emit("drag",o):n.type==="end"&&(this.isDragging=!1,this.emit("dragend",o))}),[this.dragStream.signal]);this.subscriptions.push(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),s=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${s?` nonce="${s}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,s=n*t;this.setScroll(s)}destroy(){var t;this.subscriptions.forEach((n=>n())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(t=this.unsubscribeOnScroll)===null||t===void 0||t.forEach((n=>n())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(t=10){let n,s;const o=()=>{n&&(clearTimeout(n),n=void 0),s&&(s(),s=void 0)};return this.timeouts.push(o),()=>new Promise(((a,l)=>{o(),s=l,n=setTimeout((()=>{n=void 0,s=void 0,a()}),t)}))}getHeight(t,n){var s;const o=((s=this.audioData)===null||s===void 0?void 0:s.numberOfChannels)||1;return(function({optionsHeight:a,optionsSplitChannels:l,parentHeight:c,numberOfChannels:d,defaultHeight:p=128}){if(a==null)return p;const f=Number(a);if(!isNaN(f))return f;if(a==="auto"){const h=c||p;return l?.every((w=>!w.overlay))?h/d:h}return p})({optionsHeight:t,optionsSplitChannels:n,parentHeight:this.parent.clientHeight,numberOfChannels:o,defaultHeight:128})}convertColorValues(t,n){return(function(s,o,a){if(!Array.isArray(s))return s||"";if(s.length===0)return"#999";if(s.length<2)return s[0]||"";const l=document.createElement("canvas"),c=l.getContext("2d"),d=a??l.height*o,p=c.createLinearGradient(0,0,0,d||o),f=1/(s.length-1);return s.forEach(((h,w)=>{p.addColorStop(w*f,h)})),p})(t,this.getPixelRatio(),n?.canvas.height)}getPixelRatio(){return t=window.devicePixelRatio,Math.max(1,t||1);var t}renderBarWaveform(t,n,s,o){const{width:a,height:l}=s.canvas,{halfHeight:c,barWidth:d,barRadius:p,barIndexScale:f,barSpacing:h,barMinHeight:w}=(function({width:C,height:_,length:x,options:v,pixelRatio:y}){const m=_/2,M=v.barWidth?v.barWidth*y:1,j=v.barGap?v.barGap*y:v.barWidth?M/2:0,L=M+j||1;return{halfHeight:m,barWidth:M,barGap:j,barRadius:v.barRadius||0,barMinHeight:v.barMinHeight?v.barMinHeight*y:0,barIndexScale:x>0?C/L/x:0,barSpacing:L}})({width:a,height:l,length:(t[0]||[]).length,options:n,pixelRatio:this.getPixelRatio()}),b=(function({channelData:C,barIndexScale:_,barSpacing:x,barWidth:v,halfHeight:y,vScale:m,canvasHeight:M,barAlign:j,barMinHeight:L}){const I=C[0]||[],V=C[1]||I,Y=I.length,Q=[];let G=0,T=0,z=0;for(let S=0;S<=Y;S++){const W=Math.round(S*_);if(W>G){const{topHeight:U,totalHeight:K}=OI({maxTop:T,maxBottom:z,halfHeight:y,vScale:m,barMinHeight:L,barAlign:j}),X=II({barAlign:j,halfHeight:y,topHeight:U,totalHeight:K,canvasHeight:M});Q.push({x:G*x,y:X,width:v,height:K}),G=W,T=0,z=0}const ne=Math.abs(I[S]||0),q=Math.abs(V[S]||0);ne>T&&(T=ne),q>z&&(z=q)}return Q})({channelData:t,barIndexScale:f,barSpacing:h,barWidth:d,halfHeight:c,vScale:o,canvasHeight:l,barAlign:n.barAlign,barMinHeight:w});s.beginPath();for(const C of b)p&&"roundRect"in s?s.roundRect(C.x,C.y,C.width,C.height,p):s.rect(C.x,C.y,C.width,C.height);s.fill(),s.closePath()}renderLineWaveform(t,n,s,o){const{width:a,height:l}=s.canvas,c=(function({channelData:d,width:p,height:f,vScale:h}){const w=f/2,b=d[0]||[];return[b,d[1]||b].map(((C,_)=>{const x=C.length,v=x?p/x:0,y=w,m=_===0?-1:1,M=[{x:0,y}];let j=0,L=0;for(let I=0;I<=x;I++){const V=Math.round(I*v);if(V>j){const Q=y+(Math.round(L*w*h)||1)*m;M.push({x:j,y:Q}),j=V,L=0}const Y=Math.abs(C[I]||0);Y>L&&(L=Y)}return M.push({x:j,y}),M}))})({channelData:t,width:a,height:l,vScale:o});s.beginPath();for(const d of c)if(d.length){s.moveTo(d[0].x,d[0].y);for(let p=1;p<d.length;p++){const f=d[p];s.lineTo(f.x,f.y)}}s.fill(),s.closePath()}renderWaveform(t,n,s){if(s.fillStyle=this.convertColorValues(n.waveColor,s),n.renderFunction)return void n.renderFunction(t,s);const o=(function({channelData:a,barHeight:l,normalize:c,maxPeak:d}){var p;const f=l||1;if(!c)return f;const h=a[0];if(!h||h.length===0)return f;let w=d??0;if(!d)for(let b=0;b<h.length;b++){const C=(p=h[b])!==null&&p!==void 0?p:0,_=Math.abs(C);_>w&&(w=_)}return w?f/w:f})({channelData:t,barHeight:n.barHeight,normalize:n.normalize,maxPeak:n.maxPeak});Q5(n)?this.renderBarWaveform(t,n,s,o):this.renderLineWaveform(t,n,s,o)}renderSingleCanvas(t,n,s,o,a,l,c){const d=this.getPixelRatio(),p=document.createElement("canvas");p.width=Math.round(s*d),p.height=Math.round(o*d),p.style.width=`${s}px`,p.style.height=`${o}px`,p.style.left=`${Math.round(a)}px`,l.appendChild(p);const f=p.getContext("2d");if(n.renderFunction?(f.fillStyle=this.convertColorValues(n.waveColor,f),n.renderFunction(t,f)):this.renderWaveform(t,n,f),p.width>0&&p.height>0){const h=p.cloneNode(),w=h.getContext("2d");w.drawImage(p,0,0),w.globalCompositeOperation="source-in",w.fillStyle=this.convertColorValues(n.progressColor,w),w.fillRect(0,0,p.width,p.height),c.appendChild(h)}}renderMultiCanvas(t,n,s,o,a,l){const c=this.getPixelRatio(),{clientWidth:d}=this.scrollContainer,p=s/c,f=(function({clientWidth:C,totalWidth:_,options:x}){return h_(Math.min(8e3,C,_),x)})({clientWidth:d,totalWidth:p,options:n});let h={};if(f===0)return;const w=C=>{if(C<0||C>=b||h[C])return;h[C]=!0;const _=C*f;let x=Math.min(p-_,f);if(x=h_(x,n),x<=0)return;const v=(function({channelData:y,offset:m,clampedWidth:M,totalWidth:j}){return y.map((L=>{const I=Math.floor(m/j*L.length),V=Math.floor((m+M)/j*L.length);return L.slice(I,V)}))})({channelData:t,offset:_,clampedWidth:x,totalWidth:p});this.renderSingleCanvas(v,n,x,o,_,a,l)},b=Math.ceil(p/f);if(!this.isScrollable){for(let C=0;C<b;C++)w(C);return}if(p_({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:p,numCanvases:b}).forEach((C=>w(C))),b>1){const C=this.on("scroll",(()=>{const{scrollLeft:_}=this.scrollContainer;Object.keys(h).length>10&&(a.innerHTML="",l.innerHTML="",h={}),p_({scrollLeft:_,totalWidth:p,numCanvases:b}).forEach((x=>w(x)))}));this.unsubscribeOnScroll.push(C)}}renderChannel(t,n,s,o){var{overlay:a}=n,l=(function(f,h){var w={};for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&h.indexOf(b)<0&&(w[b]=f[b]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var C=0;for(b=Object.getOwnPropertySymbols(f);C<b.length;C++)h.indexOf(b[C])<0&&Object.prototype.propertyIsEnumerable.call(f,b[C])&&(w[b[C]]=f[b[C]])}return w})(n,["overlay"]);const c=document.createElement("div"),d=this.getHeight(l.height,l.splitChannels);c.style.height=`${d}px`,a&&o>0&&(c.style.marginTop=`-${d}px`),this.canvasWrapper.style.minHeight=`${d}px`,this.canvasWrapper.appendChild(c);const p=c.cloneNode();this.progressWrapper.appendChild(p),this.renderMultiCanvas(t,l,s,d,c,p)}render(t){return Dn(this,void 0,void 0,(function*(){var n;this.timeouts.forEach((p=>p())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const s=this.getPixelRatio(),o=this.scrollContainer.clientWidth,{scrollWidth:a,isScrollable:l,useParentWidth:c,width:d}=(function({duration:p,minPxPerSec:f=0,parentWidth:h,fillParent:w,pixelRatio:b}){const C=Math.ceil(p*f),_=C>h,x=!!(w&&!_);return{scrollWidth:C,isScrollable:_,useParentWidth:x,width:(x?h:C)*b}})({duration:t.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:o,fillParent:this.options.fillParent,pixelRatio:s});if(this.isScrollable=l,this.wrapper.style.width=c?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let p=0;p<t.numberOfChannels;p++){const f=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[p]);this.renderChannel([t.getChannelData(p)],f,d,p)}else{const p=[t.getChannelData(0)];t.numberOfChannels>1&&p.push(t.getChannelData(1)),this.renderChannel(p,this.options,d,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((s=>s())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:s}=this.progressWrapper.getBoundingClientRect(),o=(function(a){const l=2*a;return(l<0?Math.floor(l):Math.ceil(l))/2})(s-n);this.scrollContainer.scrollLeft+=o}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:s,scrollWidth:o,clientWidth:a}=this.scrollContainer,l=t*o,c=s,d=s+a,p=a/2;if(this.isDragging)l+30>d?this.scrollContainer.scrollLeft+=30:l-30<c&&(this.scrollContainer.scrollLeft-=30);else{(l<c||l>d)&&(this.scrollContainer.scrollLeft=l-(this.options.autoCenter?p:0));const f=l-s-p;n&&this.options.autoCenter&&f>0&&(this.scrollContainer.scrollLeft+=f)}}renderProgress(t,n){if(isNaN(t))return;const s=100*t;this.canvasWrapper.style.clipPath=`polygon(${s}% 0%, 100% 0%, 100% 100%, ${s}% 100%)`,this.progressWrapper.style.width=`${s}%`,this.cursor.style.left=`${s}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${t*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(t,n)}exportImage(t,n,s){return Dn(this,void 0,void 0,(function*(){const o=this.canvasWrapper.querySelectorAll("canvas");if(!o.length)throw new Error("No waveform data");if(s==="dataURL"){const a=Array.from(o).map((l=>l.toDataURL(t,n)));return Promise.resolve(a)}return Promise.all(Array.from(o).map((a=>new Promise(((l,c)=>{a.toBlob((d=>{d?l(d):c(new Error("Could not export image"))}),t,n)})))))}))}}class BI extends Rl{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const t=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(t))};t()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class Yh extends Rl{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Dn(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then((n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()})).then((n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n))).then((n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((n=>{console.error("WebAudioPlayer load error:",n)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Dn(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,s=this.bufferNode;s?.stop(this.audioContext.currentTime+n),s?.addEventListener("ended",(()=>{s===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(t){return Dn(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let s=0;s<n;s++)t.push(this.buffer.getChannelData(s));return t}removeAttribute(t){switch(t){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const FI={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class hl extends NI{static create(t){return new hl(t)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Yh:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},FI,t);const{state:s,actions:o}=(function(c){var d,p,f,h,w,b;const C=(d=c?.currentTime)!==null&&d!==void 0?d:en(0),_=(p=c?.duration)!==null&&p!==void 0?p:en(0),x=(f=c?.isPlaying)!==null&&f!==void 0?f:en(!1),v=(h=c?.isSeeking)!==null&&h!==void 0?h:en(!1),y=(w=c?.volume)!==null&&w!==void 0?w:en(1),m=(b=c?.playbackRate)!==null&&b!==void 0?b:en(1),M=en(null),j=en(null),L=en(""),I=en(0),V=en(0),Y=ki((()=>!x.value),[x]),Q=ki((()=>M.value!==null),[M]),G=ki((()=>Q.value&&_.value>0),[Q,_]),T=ki((()=>C.value),[C]),z=ki((()=>_.value>0?C.value/_.value:0),[C,_]);return{state:{currentTime:C,duration:_,isPlaying:x,isPaused:Y,isSeeking:v,volume:y,playbackRate:m,audioBuffer:M,peaks:j,url:L,zoom:I,scrollPosition:V,canPlay:Q,isReady:G,progress:T,progressPercent:z},actions:{setCurrentTime:S=>{const W=Math.max(0,Math.min(_.value||1/0,S));C.set(W)},setDuration:S=>{_.set(Math.max(0,S))},setPlaying:S=>{x.set(S)},setSeeking:S=>{v.set(S)},setVolume:S=>{const W=Math.max(0,Math.min(1,S));y.set(W)},setPlaybackRate:S=>{const W=Math.max(.1,Math.min(16,S));m.set(W)},setAudioBuffer:S=>{M.set(S),S&&_.set(S.duration)},setPeaks:S=>{j.set(S)},setUrl:S=>{L.set(S)},setZoom:S=>{I.set(Math.max(0,S))},setScrollPosition:S=>{V.set(Math.max(0,S))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=s,this.wavesurferActions=o,this.timer=new BI;const a=n?void 0:this.getMediaElement();this.renderer=new LI(this.options,a),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const l=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:c,duration:d}=this.options;(l||c&&d)&&this.load(l,c,d).catch((p=>{this.emit("error",p instanceof Error?p:new Error(String(p)))}))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(t,n){const s=[];s.push(Xs((()=>{const l=t.isPlaying.value;n.emit(l?"play":"pause")}),[t.isPlaying])),s.push(Xs((()=>{const l=t.currentTime.value;n.emit("timeupdate",l),t.isPlaying.value&&n.emit("audioprocess",l)}),[t.currentTime,t.isPlaying])),s.push(Xs((()=>{t.isSeeking.value&&n.emit("seeking",t.currentTime.value)}),[t.isSeeking,t.currentTime]));let o=!1;s.push(Xs((()=>{t.isReady.value&&!o&&(o=!0,n.emit("ready",t.duration.value))}),[t.isReady,t.duration]));let a=!1;return s.push(Xs((()=>{const l=t.isPlaying.value,c=t.currentTime.value,d=t.duration.value,p=d>0&&c>=d;a&&!l&&p&&n.emit("finish"),a=l&&p}),[t.isPlaying,t.currentTime,t.duration])),s.push(Xs((()=>{const l=t.zoom.value;l>0&&n.emit("zoom",l)}),[t.zoom])),()=>{s.forEach((l=>l()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const t=this.updateProgress();this.emit("timeupdate",t)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))})),this.renderer.on("dblclick",((t,n)=>{this.emit("dblclick",t,n)})),this.renderer.on("scroll",((t,n,s,o)=>{const a=this.getDuration();this.emit("scroll",t*a,n*a,s,o)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(t=>{this.emit("dragstart",t)})),this.renderer.on("dragend",(t=>{this.emit("dragend",t)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let t;const n=this.renderer.on("drag",(s=>{var o;if(!this.options.interact)return;this.renderer.renderProgress(s),clearTimeout(t);let a=0;const l=this.options.dragToSeek;this.isPlaying()?a=0:l===!0?a=200:l&&typeof l=="object"&&(a=(o=l.debounceTime)!==null&&o!==void 0?o:200),t=setTimeout((()=>{this.seekTo(s)}),a),this.emit("interaction",s*this.getDuration()),this.emit("drag",s)}));this.subscriptions.push((()=>{clearTimeout(t),n()}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach((n=>{this.registerPlugin(n)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=eu.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=eu.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){if(this.plugins.includes(t))return t;t._init(this),this.plugins.push(t);const n=t.once("destroy",(()=>{this.plugins=this.plugins.filter((s=>s!==t)),this.subscriptions=this.subscriptions.filter((s=>s!==n))}));return this.subscriptions.push(n),t}unregisterPlugin(t){this.plugins=this.plugins.filter((n=>n!==t)),t.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,s,o){return Dn(this,void 0,void 0,(function*(){var a;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(a=this.abortController)===null||a===void 0||a.abort(),this.abortController=null,!n&&!s){const c=this.options.fetchParams||{};window.AbortController&&!c.signal&&(this.abortController=new AbortController,c.signal=this.abortController.signal);const d=f=>this.emit("loading",f);n=yield DI.fetchBlob(t,d,c);const p=this.options.blobMimeType;p&&(n=new Blob([n],{type:p}))}this.setSrc(t,n);const l=yield new Promise((c=>{const d=o||this.getDuration();d?c(d):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>c(this.getDuration())),{once:!0}))}));if(!t&&!n){const c=this.getMediaElement();c instanceof Yh&&(c.duration=l)}if(s)this.decodedData=eu.createBuffer(s,l||0);else if(n){const c=yield n.arrayBuffer();this.decodedData=yield eu.decode(c,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(t,n,s){return Dn(this,void 0,void 0,(function*(){try{return yield this.loadAudio(t,void 0,n,s)}catch(o){throw this.emit("error",o),o}}))}loadBlob(t,n,s){return Dn(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",t,n,s)}catch(o){throw this.emit("error",o),o}}))}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:s=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const o=Math.min(t,this.decodedData.numberOfChannels),a=[];for(let l=0;l<o;l++){const c=this.decodedData.getChannelData(l),d=[],p=c.length/n;for(let f=0;f<n;f++){const h=c.slice(Math.floor(f*p),Math.ceil((f+1)*p));let w=0;for(let b=0;b<h.length;b++){const C=h[b];Math.abs(C)>Math.abs(w)&&(w=C)}d.push(Math.round(w*s)/s)}a.push(d)}return a}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const s=Object.create(null,{play:{get:()=>super.play}});return Dn(this,void 0,void 0,(function*(){t!=null&&this.setTime(t);const o=yield s.play.call(this);return n!=null&&(this.media instanceof Yh?this.media.stopAt(n):this.stopAtPosition=n),o}))}playPause(){return Dn(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return Dn(this,arguments,void 0,(function*(t="image/png",n=1,s="dataURL"){return this.renderer.exportImage(t,n,s)}))}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach((n=>n.destroy())),this.subscriptions.forEach((n=>n())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((n=>n())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}hl.BasePlugin=class extends Rl{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},hl.dom=AI;class J5{constructor(){this.listeners={}}on(t,n,s){if(this.listeners[t]||(this.listeners[t]=new Set),s?.once){const o=(...a)=>{this.un(t,o),n(...a)};return this.listeners[t].add(o),()=>this.un(t,o)}return this.listeners[t].add(n),()=>this.un(t,n)}un(t,n){var s;(s=this.listeners[t])===null||s===void 0||s.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((s=>s(...n)))}}class VI extends J5{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function e4(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[s,o]of Object.entries(t))if(s==="children"&&o)for(const[a,l]of Object.entries(o))l instanceof Node?n.appendChild(l):typeof l=="string"?n.appendChild(document.createTextNode(l)):n.appendChild(e4(a,l));else s==="style"?Object.assign(n.style,o):s==="textContent"?n.textContent=o:n.setAttribute(s,o.toString());return n}function Ga(e,t,n){const s=e4(e,t||{});return n?.appendChild(s),s}function t4(e){let t=e;const n=new Set;return{get value(){return t},set(s){Object.is(t,s)||(t=s,n.forEach((o=>o(t))))},update(s){this.set(s(t))},subscribe:s=>(n.add(s),()=>n.delete(s))}}function uu(e,t){let n;const s=()=>{n&&(n(),n=void 0),n=e()},o=t.map((a=>a.subscribe(s)));return s(),()=>{n&&(n(),n=void 0),o.forEach((a=>a()))}}function bo(e,t){const n=t4(null),s=o=>{n.set(o)};return e.addEventListener(t,s),n._cleanup=()=>{e.removeEventListener(t,s)},n}function Ei(e){const t=e._cleanup;typeof t=="function"&&t()}function du(e,t={}){const{threshold:n=3,mouseButton:s=0,touchDelay:o=100}=t,a=t4(null),l=new Map,c=matchMedia("(pointer: coarse)").matches;let d=()=>{};const p=f=>{if(f.button!==s||(l.set(f.pointerId,f),l.size>1))return;let h=f.clientX,w=f.clientY,b=!1;const C=Date.now(),_=e.getBoundingClientRect(),{left:x,top:v}=_,y=I=>{if(I.defaultPrevented||l.size>1||c&&Date.now()-C<o)return;const V=I.clientX,Y=I.clientY,Q=V-h,G=Y-w;(b||Math.abs(Q)>n||Math.abs(G)>n)&&(I.preventDefault(),I.stopPropagation(),b||(a.set({type:"start",x:h-x,y:w-v}),b=!0),a.set({type:"move",x:V-x,y:Y-v,deltaX:Q,deltaY:G}),h=V,w=Y)},m=I=>{if(l.delete(I.pointerId),b){const V=I.clientX,Y=I.clientY;a.set({type:"end",x:V-x,y:Y-v})}d()},M=I=>{l.delete(I.pointerId),I.relatedTarget&&I.relatedTarget!==document.documentElement||m(I)},j=I=>{b&&(I.stopPropagation(),I.preventDefault())},L=I=>{I.defaultPrevented||l.size>1||b&&I.preventDefault()};document.addEventListener("pointermove",y),document.addEventListener("pointerup",m),document.addEventListener("pointerout",M),document.addEventListener("pointercancel",M),document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("click",j,{capture:!0}),d=()=>{document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",m),document.removeEventListener("pointerout",M),document.removeEventListener("pointercancel",M),document.removeEventListener("touchmove",L),setTimeout((()=>{document.removeEventListener("click",j,{capture:!0})}),10)}};return e.addEventListener("pointerdown",p),{signal:a,cleanup:()=>{d(),e.removeEventListener("pointerdown",p),l.clear(),Ei(a)}}}class m_ extends J5{constructor(t,n,s=0){var o,a,l,c,d,p,f,h,w,b;super(),this.totalDuration=n,this.numberOfChannels=s,this.element=null,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.updatingSide=void 0,this.isRemoved=!1,this.subscriptions=[],this.id=t.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(t.start),this.end=this.clampPosition((o=t.end)!==null&&o!==void 0?o:t.start),this.drag=(a=t.drag)===null||a===void 0||a,this.resize=(l=t.resize)===null||l===void 0||l,this.resizeStart=(c=t.resizeStart)===null||c===void 0||c,this.resizeEnd=(d=t.resizeEnd)===null||d===void 0||d,this.color=(p=t.color)!==null&&p!==void 0?p:"rgba(0, 0, 0, 0.1)",this.minLength=(f=t.minLength)!==null&&f!==void 0?f:this.minLength,this.maxLength=(h=t.maxLength)!==null&&h!==void 0?h:this.maxLength,this.channelIdx=(w=t.channelIdx)!==null&&w!==void 0?w:-1,this.contentEditable=(b=t.contentEditable)!==null&&b!==void 0?b:this.contentEditable,this.element=this.initElement(),this.setContent(t.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(t){return Math.max(0,Math.min(this.totalDuration,t))}setPart(){var t;const n=this.start===this.end;(t=this.element)===null||t===void 0||t.setAttribute("part",`${n?"marker":"region"} ${this.id}`)}addResizeHandles(t){const n={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},s=Ga("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},n),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},t),o=Ga("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},n),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},t),a=du(s,{threshold:1}),l=du(o,{threshold:1}),c=uu((()=>{const p=a.signal.value;p&&(p.type==="move"&&p.deltaX!==void 0?this.onResize(p.deltaX,"start"):p.type==="end"&&this.onEndResizing("start"))}),[a.signal]),d=uu((()=>{const p=l.signal.value;p&&(p.type==="move"&&p.deltaX!==void 0?this.onResize(p.deltaX,"end"):p.type==="end"&&this.onEndResizing("end"))}),[l.signal]);this.subscriptions.push((()=>{c(),d(),a.cleanup(),l.cleanup()}))}removeResizeHandles(t){const n=t.querySelector('[part*="region-handle-left"]'),s=t.querySelector('[part*="region-handle-right"]');n&&t.removeChild(n),s&&t.removeChild(s)}initElement(){if(this.isRemoved)return null;const t=this.start===this.end;let n=0,s=100;this.channelIdx>=0&&this.numberOfChannels>0&&this.channelIdx<this.numberOfChannels&&(s=100/this.numberOfChannels,n=s*this.channelIdx);const o=Ga("div",{style:{position:"absolute",top:`${n}%`,height:`${s}%`,backgroundColor:t?"none":this.color,borderLeft:t?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!t&&this.resize&&this.addResizeHandles(o),o}renderPosition(){if(!this.element)return;const t=this.start/this.totalDuration,n=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*t+"%",this.element.style.right=100*n+"%"}toggleCursor(t){var n;this.drag&&(!((n=this.element)===null||n===void 0)&&n.style)&&(this.element.style.cursor=t?"grabbing":"grab")}initMouseEvents(){const{element:t}=this;if(!t)return;const n=bo(t,"click"),s=bo(t,"mouseenter"),o=bo(t,"mouseleave"),a=bo(t,"dblclick"),l=bo(t,"pointerdown"),c=bo(t,"pointerup"),d=n.subscribe((x=>x&&this.emit("click",x))),p=s.subscribe((x=>x&&this.emit("over",x))),f=o.subscribe((x=>x&&this.emit("leave",x))),h=a.subscribe((x=>x&&this.emit("dblclick",x))),w=l.subscribe((x=>x&&this.toggleCursor(!0))),b=c.subscribe((x=>x&&this.toggleCursor(!1)));this.subscriptions.push((()=>{d(),p(),f(),h(),w(),b(),Ei(n),Ei(s),Ei(o),Ei(a),Ei(l),Ei(c)}));const C=du(t),_=uu((()=>{const x=C.signal.value;x&&(x.type==="start"?this.toggleCursor(!0):x.type==="move"&&x.deltaX!==void 0?this.onMove(x.deltaX):x.type==="end"&&(this.toggleCursor(!1),this.drag&&this.emit("update-end")))}),[C.signal]);this.subscriptions.push((()=>{_(),C.cleanup()})),this.contentEditable&&this.content&&(this.contentClickListener=x=>this.onContentClick(x),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener))}_onUpdate(t,n,s){var o;if(!(!((o=this.element)===null||o===void 0)&&o.parentElement))return;const{width:a}=this.element.parentElement.getBoundingClientRect(),l=t/a*this.totalDuration;let c=n&&n!=="start"?this.start:this.start+l,d=n&&n!=="end"?this.end:this.end+l;const p=s!==void 0;p&&this.updatingSide&&this.updatingSide!==n&&(this.updatingSide==="start"?c=s:d=s),c=Math.max(0,c),d=Math.min(this.totalDuration,d);const f=d-c;this.updatingSide=n;const h=f>=this.minLength&&f<=this.maxLength;c<=d&&(h||p)&&(this.start=c,this.end=d,this.renderPosition(),this.emit("update",n))}onMove(t){this.drag&&this._onUpdate(t)}onResize(t,n){this.resize&&(this.resizeStart||n!=="start")&&(this.resizeEnd||n!=="end")&&this._onUpdate(t,n)}onEndResizing(t){this.resize&&(this.emit("update-end",t),this.updatingSide=void 0)}onContentClick(t){t.stopPropagation(),t.target.focus(),this.emit("click",t)}onContentBlur(){this.emit("update-end")}_setTotalDuration(t){this.totalDuration=t,this.renderPosition()}play(t){this.emit("play",t&&this.end!==this.start?this.end:void 0)}getContent(t=!1){var n;return t?this.content||void 0:this.element instanceof HTMLElement?((n=this.content)===null||n===void 0?void 0:n.innerHTML)||void 0:""}setContent(t){var n;if(this.element)if(this.content&&this.contentEditable&&(this.contentClickListener&&this.content.removeEventListener("click",this.contentClickListener),this.contentBlurListener&&this.content.removeEventListener("blur",this.contentBlurListener)),(n=this.content)===null||n===void 0||n.remove(),t){if(typeof t=="string"){const s=this.start===this.end;this.content=Ga("div",{style:{padding:`0.2em ${s?.2:.4}em`,display:"inline-block"},textContent:t})}else this.content=t;this.contentEditable&&(this.content.contentEditable="true",this.contentClickListener=s=>this.onContentClick(s),this.contentBlurListener=()=>this.onContentBlur(),this.content.addEventListener("click",this.contentClickListener),this.content.addEventListener("blur",this.contentBlurListener)),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content),this.emit("content-changed")}else this.content=void 0}setOptions(t){var n,s;if(this.element){if(t.color&&(this.color=t.color,this.element.style.backgroundColor=this.color),t.drag!==void 0&&(this.drag=t.drag,this.element.style.cursor=this.drag?"grab":"default"),t.start!==void 0||t.end!==void 0){const o=this.start===this.end;this.start=this.clampPosition((n=t.start)!==null&&n!==void 0?n:this.start),this.end=this.clampPosition((s=t.end)!==null&&s!==void 0?s:o?this.start:this.end),this.renderPosition(),this.setPart()}if(t.content&&this.setContent(t.content),t.id&&(this.id=t.id,this.setPart()),t.resize!==void 0&&t.resize!==this.resize){const o=this.start===this.end;this.resize=t.resize,this.resize&&!o?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}t.resizeStart!==void 0&&(this.resizeStart=t.resizeStart),t.resizeEnd!==void 0&&(this.resizeEnd=t.resizeEnd)}}remove(){this.isRemoved=!0,this.emit("remove"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.content&&this.contentEditable&&(this.contentClickListener&&(this.content.removeEventListener("click",this.contentClickListener),this.contentClickListener=void 0),this.contentBlurListener&&(this.content.removeEventListener("blur",this.contentBlurListener),this.contentBlurListener=void 0)),this.element&&(this.element.remove(),this.element=null),this.unAll()}}class N1 extends VI{constructor(t){super(t),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(t){return new N1(t)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer),this.subscriptions.push(this.wavesurfer.on("ready",(n=>{this.regions.forEach((s=>s._setTotalDuration(n)))})));let t=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",(n=>{const s=this.regions.filter((o=>o.start<=n&&(o.end===o.start?o.start+.05:o.end)>=n));s.forEach((o=>{t.includes(o)||this.emit("region-in",o)})),t.forEach((o=>{s.includes(o)||this.emit("region-out",o)})),t=s})))}initRegionsContainer(){return Ga("div",{part:"regions-container",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"5",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(t){t.content&&setTimeout((()=>{const n=t.content,s=n.getBoundingClientRect(),o=this.regions.map((a=>{if(a===t||!a.content)return 0;const l=a.content.getBoundingClientRect();return s.left<l.left+l.width&&l.left<s.left+s.width?l.height:0})).reduce(((a,l)=>a+l),0);n.style.marginTop=`${o}px`}),10)}adjustScroll(t){var n,s;if(!t.element)return;const o=(s=(n=this.wavesurfer)===null||n===void 0?void 0:n.getWrapper())===null||s===void 0?void 0:s.parentElement;if(!o)return;const{clientWidth:a,scrollWidth:l}=o;if(l<=a)return;const c=o.getBoundingClientRect(),d=t.element.getBoundingClientRect(),p=d.left-c.left,f=d.right-c.left;p<0?o.scrollLeft+=p:f>a&&(o.scrollLeft+=f-a)}virtualAppend(t,n,s){const o=()=>{if(!this.wavesurfer)return;const a=this.wavesurfer.getWidth(),l=this.wavesurfer.getScroll(),c=n.clientWidth,d=this.wavesurfer.getDuration(),p=Math.round(t.start/d*c),f=p+(Math.round((t.end-t.start)/d*c)||1)>l&&p<l+a;f&&!s.parentElement?n.appendChild(s):!f&&s.parentElement&&s.remove()};setTimeout((()=>{if(!this.wavesurfer||!t.element)return;o();const a=this.wavesurfer.on("scroll",o),l=this.wavesurfer.on("zoom",o),c=this.wavesurfer.on("resize",o);this.subscriptions.push(a,l,c),t.once("remove",(()=>{a(),l(),c()}))}),0)}saveRegion(t){if(!t.element)return;this.virtualAppend(t,this.regionsContainer,t.element),this.avoidOverlapping(t),this.regions.push(t);const n=[t.on("update",(s=>{s||this.adjustScroll(t),this.emit("region-update",t,s)})),t.on("update-end",(s=>{this.avoidOverlapping(t),this.emit("region-updated",t,s)})),t.on("play",(s=>{var o;(o=this.wavesurfer)===null||o===void 0||o.play(t.start,s)})),t.on("click",(s=>{this.emit("region-clicked",t,s)})),t.on("dblclick",(s=>{this.emit("region-double-clicked",t,s)})),t.on("content-changed",(()=>{this.emit("region-content-changed",t)})),t.once("remove",(()=>{n.forEach((s=>s())),this.regions=this.regions.filter((s=>s!==t)),this.emit("region-removed",t)}))];this.subscriptions.push(...n),this.emit("region-created",t)}addRegion(t){var n,s;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const o=this.wavesurfer.getDuration(),a=(s=(n=this.wavesurfer)===null||n===void 0?void 0:n.getDecodedData())===null||s===void 0?void 0:s.numberOfChannels,l=new m_(t,o,a);return this.emit("region-initialized",l),o?this.saveRegion(l):this.subscriptions.push(this.wavesurfer.once("ready",(c=>{l._setTotalDuration(c),this.saveRegion(l)}))),l}enableDragSelection(t,n=3){var s;const o=(s=this.wavesurfer)===null||s===void 0?void 0:s.getWrapper();if(!(o&&o instanceof HTMLElement))return()=>{};let a=null,l=0,c=0;const d=du(o,{threshold:n}),p=uu((()=>{var f,h;const w=d.signal.value;if(w)if(w.type==="start"){if(l=w.x,!this.wavesurfer)return;const b=this.wavesurfer.getDuration(),C=(h=(f=this.wavesurfer)===null||f===void 0?void 0:f.getDecodedData())===null||h===void 0?void 0:h.numberOfChannels,{width:_}=this.wavesurfer.getWrapper().getBoundingClientRect();c=l/_*b;const x=w.x/_*b,v=(w.x+5)/_*b;a=new m_(Object.assign(Object.assign({},t),{start:x,end:v}),b,C),this.emit("region-initialized",a),a.element&&this.regionsContainer.appendChild(a.element)}else w.type==="move"&&w.deltaX!==void 0?a&&a._onUpdate(w.deltaX,w.x>l?"end":"start",c):w.type==="end"&&a&&(this.saveRegion(a),a.updatingSide=void 0,a=null)}),[d.signal]);return()=>{p(),d.cleanup()}}clearRegions(){this.regions.slice().forEach((t=>t.remove())),this.regions=[]}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}function g_({blob:e,flags:t,onFlagClick:n,height:s=128,initialRegion:o,initialSeekTime:a,onRegionChange:l,onOpenSnippetEditor:c,onWaveformClick:d}){const p=N.useRef(null),f=N.useRef(null),h=N.useRef(null),w=N.useRef(null),b=N.useRef(o??null),[C,_]=N.useState(!1),[x,v]=N.useState(0),[y,m]=N.useState(0),[M,j]=N.useState(50),[L,I]=N.useState(a),[V,Y]=N.useState(null);N.useEffect(()=>{I(a)},[a]),N.useEffect(()=>{if(!p.current||!e)return;const G=hl.create({container:p.current,waveColor:"#4b5563",progressColor:"#7c3aed",cursorColor:"#0ea5e9",barWidth:2,barGap:3,barRadius:3,height:s,normalize:!0,minPxPerSec:50,autoScroll:!0,hideScrollbar:!1}),T=G.registerPlugin(N1.create());return h.current=T,G.loadBlob(e),f.current=G,G.on("ready",()=>{const z=G.getDuration();v(z),G.getWrapper().addEventListener("click",U=>{const K=G.getWrapper().getBoundingClientRect(),X=U.clientX-K.left,E=G.getWrapper().parentElement?.scrollLeft||0,O=(X+E)/G.getWrapper().scrollWidth*z;Y(O)});const S=G.getWrapper();console.log("=== WAVEFORM DOM STRUCTURE ==="),console.log("waveformWrapper:",S),console.log("waveformWrapper.scrollWidth:",S.scrollWidth),console.log("waveformWrapper.clientWidth:",S.clientWidth),console.log("waveformWrapper.scrollLeft:",S.scrollLeft);const W=S.parentElement;if(W){console.log("parent:",W),console.log("parent.scrollWidth:",W.scrollWidth),console.log("parent.clientWidth:",W.clientWidth),console.log("parent.scrollLeft:",W.scrollLeft);const U=W.parentElement;U&&(console.log("grandparent:",U),console.log("grandparent.scrollWidth:",U.scrollWidth),console.log("grandparent.clientWidth:",U.clientWidth),console.log("grandparent.scrollLeft:",U.scrollLeft))}let ne=G.getWrapper();for(;ne;){const U=getComputedStyle(ne).overflow+getComputedStyle(ne).overflowX;(U.includes("auto")||U.includes("scroll"))&&console.log("scrollable element found:",ne,"scrollWidth:",ne.scrollWidth),ne=ne.parentElement}console.log("=== END DOM STRUCTURE ===");const q=G.getWrapper();if(!w.current){const U=document.createElement("div");U.className="wavesurfer-flag-container",U.style.cssText="position: absolute; top: 0; left: 0; height: 100%; width: 0; pointer-events: none; z-index: 10; overflow: visible;",q.appendChild(U),w.current=U}w.current&&(w.current.style.width=`${q.scrollWidth}px`),T.getRegions().forEach(U=>U.remove()),t.forEach(U=>{T.addRegion({id:`flag-${U.id}`,start:U.timestamp/1e3,end:U.timestamp/1e3+.1,color:"transparent",drag:!1,resize:!1,data:{flag:U}})}),o&&(T.addRegion({id:"snippet-region",start:o[0],end:o[1],color:"rgba(124, 58, 237, 0.2)",drag:!0,resize:!0}),requestAnimationFrame(()=>{setTimeout(()=>{if(!G)return;const U=o[0];G.setTime(U);const K=U*50;G.getWrapper().scrollTo({left:K-100,behavior:"smooth"}),setTimeout(()=>{const X=G.getWrapper().parentElement;if(!X)return;console.log("Initial scroll container:",X,"scrollWidth:",X.scrollWidth,"clientWidth:",X.clientWidth);const E=G.getDuration(),k=X.scrollWidth-X.clientWidth,O=U/E*X.scrollWidth-X.clientWidth/2;X.scrollLeft=Math.max(0,Math.min(O,k))},50)},100)}))}),T.on("region-clicked",(z,S)=>{if(z.id.startsWith("flag-")){S.stopPropagation();const W=z.data?.flag;W&&n?.(W)}}),T.on("region-updated",z=>{z.id==="snippet-region"&&(b.current=[z.start,z.end]),l?.([z.start,z.end])}),G.on("audioprocess",()=>{const z=G.getCurrentTime();m(z);const S=b.current;S&&z>=S[1]&&(G.pause(),G.setTime(S[0]),_(!1))}),G.on("finish",()=>{_(!1)}),()=>{w.current&&w.current.parentNode&&(w.current.parentNode.removeChild(w.current),w.current=null),G.destroy()}},[e,s]);const Q=()=>{if(f.current){if(!C&&b.current){const G=b.current,T=f.current.getCurrentTime();(T<G[0]-.1||T>=G[1]-.05)&&f.current.setTime(G[0])}f.current.playPause()}};return N.useEffect(()=>{const G=f.current;if(!G)return;const T=()=>_(!0),z=()=>_(!1);return G.on("play",T),G.on("pause",z),G.on("finish",z),()=>{G.un("play",T),G.un("pause",z),G.un("finish",z)}},[]),N.useEffect(()=>{const G=f.current,T=w.current;if(!G||!T||!x||x===0)return;const z=G.getWrapper(),S=z.scrollWidth;T.style.width=`${S}px`;const W=new Map;T.querySelectorAll("button[data-flag-id]").forEach(U=>{const K=parseInt(U.getAttribute("data-flag-id")||"0");K&&W.set(K,U)});const ne=new Set;t.forEach(U=>{ne.add(U.id);const X=U.timestamp/1e3/x*S,k=(F=>{switch(F){case"red":return"#ef4444";case"green":return"#10b981";case"blue":return"#3b82f6";case"purple":return"#a855f7";case"orange":return"#f97316";default:return"#10b981"}})(U.color),O=W.get(U.id);if(O){const F=parseFloat(O.style.left)||0,$=X;Math.abs(F-$)>.1&&(O.style.left=`${$}px`);const ae=O.querySelector("div[data-flag-color]");ae&&ae.style.backgroundColor!==k&&(ae.style.backgroundColor=k);const le=O.querySelector("div[data-tooltip]");le&&le.textContent!==(U.description||"Flagged Moment")&&(le.textContent=U.description||"Flagged Moment")}else{const F=document.createElement("button");F.setAttribute("data-flag-id",U.id.toString()),F.style.cssText=`left: ${X}px; position: absolute; top: 0; transform: translateX(-50%); pointer-events: auto; cursor: pointer; background: none; border: none; padding: 0; z-index: 10; display: flex; flex-direction: column; align-items: center;`,F.onpointerdown=we=>{we.preventDefault(),we.stopPropagation(),n?.(U)};const $=document.createElement("div");$.style.cssText="width: 1px; height: 1rem; background-color: rgba(0, 0, 0, 0.1); pointer-events: none; margin-bottom: 0.25rem;",F.appendChild($);const ae=document.createElement("div");ae.setAttribute("data-flag-color",U.color),ae.style.cssText=`position: relative; padding: 0.375rem; border-radius: 9999px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); border: 2px solid white; background-color: ${k}; transition: transform 0.2s;`,F.addEventListener("mouseenter",()=>{ae.style.transform="scale(1.25)",$.style.backgroundColor="rgba(59, 130, 246, 0.3)"}),F.addEventListener("mouseleave",()=>{ae.style.transform="scale(1)",$.style.backgroundColor="rgba(0, 0, 0, 0.1)"});const le=document.createElementNS("http://www.w3.org/2000/svg","svg");le.setAttribute("viewBox","0 0 24 24"),le.setAttribute("fill","white"),le.style.cssText="width: 0.75rem; height: 0.75rem; display: block;";const te=document.createElementNS("http://www.w3.org/2000/svg","path");te.setAttribute("d","M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"),te.setAttribute("fill","white"),le.appendChild(te),ae.appendChild(le),F.appendChild(ae);const ce=document.createElement("div");ce.setAttribute("data-tooltip","true"),ce.textContent=U.description||"Flagged Moment",ce.style.cssText="position: absolute; bottom: 100%; margin-bottom: 0.5rem; left: 50%; transform: translateX(-50%); background-color: hsl(var(--popover)); color: hsl(var(--popover-foreground)); font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 0.25rem; opacity: 0; white-space: nowrap; pointer-events: none; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 0, 0, 0.1); transition: opacity 0.2s;",F.appendChild(ce),F.addEventListener("mouseenter",()=>{ce.style.opacity="1"}),F.addEventListener("mouseleave",()=>{ce.style.opacity="0"}),T.appendChild(F)}}),W.forEach((U,K)=>{ne.has(K)||U.remove()});const q=()=>{const U=z.scrollWidth;T.style.width=`${U}px`,T.querySelectorAll("button[data-flag-id]").forEach(X=>{const E=X,k=parseInt(E.getAttribute("data-flag-id")||"0"),O=t.find(F=>F.id===k);if(O){const $=O.timestamp/1e3/x*U;E.style.left=`${$}px`}})};return G.on("zoom",q),G.on("redraw",q),()=>{G.un("zoom",q),G.un("redraw",q)}},[x,t,n]),P.jsxs("div",{className:"w-full space-y-4",children:[P.jsx("div",{className:"relative bg-card/30 rounded-2xl p-4 border border-border shadow-[inset_0_1px_1px_rgba(0,0,0,0.05)] dark:shadow-[inset_0_1px_1px_rgba(255,255,255,0.05)] overflow-hidden",children:P.jsx("div",{className:"relative w-full overflow-hidden",children:P.jsx("div",{ref:p,className:"w-full relative z-10"})})}),P.jsxs("div",{className:"flex items-center justify-between px-2",children:[P.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[P.jsxs("button",{onClick:Q,className:"flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full bg-primary text-primary-foreground font-semibold hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20 text-sm sm:text-base",children:[C?P.jsx(PE,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-current"}):P.jsx(AE,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-current"}),P.jsx("span",{className:"hidden sm:inline",children:C?"Pause":"Play"})]}),c&&P.jsxs("button",{onClick:c,className:"flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full bg-secondary text-secondary-foreground font-semibold hover:bg-secondary/80 transition-colors text-sm sm:text-base",title:"Open Snippet Editor",children:[P.jsx(OE,{className:"w-4 h-4 sm:w-5 sm:h-5"}),P.jsx("span",{className:"hidden sm:inline",children:"Snippet Editor"})]}),d&&P.jsxs("button",{onClick:()=>{V!==null&&d&&(d(V),Y(null))},disabled:V===null,className:`flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-semibold transition-colors text-sm sm:text-base ${V!==null?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-primary text-primary-foreground opacity-50 cursor-not-allowed"}`,title:"Flag It",children:[P.jsx(Sw,{className:"w-4 h-4 sm:w-5 sm:h-5"}),P.jsx("span",{className:"hidden sm:inline",children:"Flag It"})]})]}),o&&P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("button",{onClick:()=>{const G=Math.max(10,M/1.5);console.log("Zoom out to:",G),j(G);const T=f.current;T&&(T.setOptions({minPxPerSec:G}),setTimeout(()=>{const z=T.getWrapper().parentElement,S=T.getWrapper();if(!z||!S)return;const W=T.getDuration();console.log("Before forcing width - wrapper.style.width:",S.style.width);const ne=Math.ceil(W*G);S.style.width=`${ne}px`,S.style.overflow="hidden",console.log("After forcing width - wrapper.style.width:",S.style.width),console.log("Post-zoom-out scrollWidth after overflow fix:",z.scrollWidth);const q=Math.max(0,z.scrollWidth-z.clientWidth);if(L!==void 0){const U=L/W*ne-z.clientWidth/2;z.scrollLeft=Math.max(0,Math.min(U,q)),console.log("Final scrollLeft (with anchor):",z.scrollLeft)}else z.scrollLeft=Math.min(z.scrollLeft,q),console.log("Final scrollLeft (no anchor):",z.scrollLeft)},50))},className:"p-1.5 rounded-md hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Zoom out",children:P.jsx(LE,{className:"w-4 h-4"})}),P.jsxs("span",{className:"text-xs font-mono text-muted-foreground w-10 text-center",children:[Math.round(M),"x"]}),P.jsx("button",{onClick:()=>{const G=Math.min(500,M*1.5);console.log("Zoom in to:",G),j(G);const T=f.current;T&&(T.setOptions({minPxPerSec:G}),setTimeout(()=>{const z=T.getWrapper().parentElement,S=T.getWrapper();if(!z||!S)return;const W=T.getDuration();console.log("Before forcing width - wrapper.style.width:",S.style.width);const ne=Math.ceil(W*G);S.style.width=`${ne}px`,S.style.overflow="hidden",console.log("After forcing width - wrapper.style.width:",S.style.width),console.log("Post-zoom-in scrollWidth after overflow fix:",z.scrollWidth);const q=Math.max(0,z.scrollWidth-z.clientWidth);if(L!==void 0){const U=L/W*ne-z.clientWidth/2;z.scrollLeft=Math.max(0,Math.min(U,q)),console.log("Final scrollLeft (with anchor):",z.scrollLeft)}else z.scrollLeft=Math.min(z.scrollLeft,q),console.log("Final scrollLeft (no anchor):",z.scrollLeft)},50))},className:"p-1.5 rounded-md hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Zoom in",children:P.jsx(jE,{className:"w-4 h-4"})})]}),P.jsxs("div",{className:"font-mono text-sm text-muted-foreground",children:[v_(y)," / ",v_(x)]})]})]})}function v_(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`}var Wp=["Enter"," "],zI=["ArrowDown","PageUp","Home"],n4=["ArrowUp","PageDown","End"],WI=[...zI,...n4],HI={ltr:[...Wp,"ArrowRight"],rtl:[...Wp,"ArrowLeft"]},UI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tl="Menu",[pl,$I,XI]=Fu(Tl),[Fi,r4]=Pr(Tl,[XI,Go,Qu]),dd=Go(),s4=Qu(),[YI,Vi]=Fi(Tl),[GI,Pl]=Fi(Tl),i4=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:a,modal:l=!0}=e,c=dd(t),[d,p]=N.useState(null),f=N.useRef(!1),h=Cn(a),w=Ku(o);return N.useEffect(()=>{const b=()=>{f.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>f.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),P.jsx(tb,{...c,children:P.jsx(YI,{scope:t,open:n,onOpenChange:h,content:d,onContentChange:p,children:P.jsx(GI,{scope:t,onClose:N.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:w,modal:l,children:s})})})};i4.displayName=Tl;var KI="MenuAnchor",O1=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=dd(n);return P.jsx(Cm,{...o,...s,ref:t})});O1.displayName=KI;var I1="MenuPortal",[qI,o4]=Fi(I1,{forceMount:void 0}),a4=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,a=Vi(I1,t);return P.jsx(qI,{scope:t,forceMount:n,children:P.jsx(Mr,{present:n||a.open,children:P.jsx(yl,{asChild:!0,container:o,children:s})})})};a4.displayName=I1;var hr="MenuContent",[QI,j1]=Fi(hr),l4=N.forwardRef((e,t)=>{const n=o4(hr,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=Vi(hr,e.__scopeMenu),l=Pl(hr,e.__scopeMenu);return P.jsx(pl.Provider,{scope:e.__scopeMenu,children:P.jsx(Mr,{present:s||a.open,children:P.jsx(pl.Slot,{scope:e.__scopeMenu,children:l.modal?P.jsx(ZI,{...o,ref:t}):P.jsx(JI,{...o,ref:t})})})})}),ZI=N.forwardRef((e,t)=>{const n=Vi(hr,e.__scopeMenu),s=N.useRef(null),o=Ct(t,s);return N.useEffect(()=>{const a=s.current;if(a)return $m(a)},[]),P.jsx(L1,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Je(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),JI=N.forwardRef((e,t)=>{const n=Vi(hr,e.__scopeMenu);return P.jsx(L1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ej=Di("MenuContent.ScrollLock"),L1=N.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:w,onDismiss:b,disableOutsideScroll:C,..._}=e,x=Vi(hr,n),v=Pl(hr,n),y=dd(n),m=s4(n),M=$I(n),[j,L]=N.useState(null),I=N.useRef(null),V=Ct(t,I,x.onContentChange),Y=N.useRef(0),Q=N.useRef(""),G=N.useRef(0),T=N.useRef(null),z=N.useRef("right"),S=N.useRef(0),W=C?id:N.Fragment,ne=C?{as:ej,allowPinchZoom:!0}:void 0,q=K=>{const X=Q.current+K,E=M().filter(le=>!le.disabled),k=document.activeElement,O=E.find(le=>le.ref.current===k)?.textValue,F=E.map(le=>le.textValue),$=fj(F,X,O),ae=E.find(le=>le.textValue===$)?.ref.current;(function le(te){Q.current=te,window.clearTimeout(Y.current),te!==""&&(Y.current=window.setTimeout(()=>le(""),1e3))})(X),ae&&setTimeout(()=>ae.focus())};N.useEffect(()=>()=>window.clearTimeout(Y.current),[]),Um();const U=N.useCallback(K=>z.current===T.current?.side&&pj(K,T.current?.area),[]);return P.jsx(QI,{scope:n,searchRef:Q,onItemEnter:N.useCallback(K=>{U(K)&&K.preventDefault()},[U]),onItemLeave:N.useCallback(K=>{U(K)||(I.current?.focus(),L(null))},[U]),onTriggerLeave:N.useCallback(K=>{U(K)&&K.preventDefault()},[U]),pointerGraceTimerRef:G,onPointerGraceIntentChange:N.useCallback(K=>{T.current=K},[]),children:P.jsx(W,{...ne,children:P.jsx(rd,{asChild:!0,trapped:o,onMountAutoFocus:Je(a,K=>{K.preventDefault(),I.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:P.jsx(Uo,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:w,onDismiss:b,children:P.jsx(Pb,{asChild:!0,...m,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:j,onCurrentTabStopIdChange:L,onEntryFocus:Je(d,K=>{v.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:P.jsx(km,{role:"menu","aria-orientation":"vertical","data-state":E4(x.open),"data-radix-menu-content":"",dir:v.dir,...y,..._,ref:V,style:{outline:"none",..._.style},onKeyDown:Je(_.onKeyDown,K=>{const E=K.target.closest("[data-radix-menu-content]")===K.currentTarget,k=K.ctrlKey||K.altKey||K.metaKey,O=K.key.length===1;E&&(K.key==="Tab"&&K.preventDefault(),!k&&O&&q(K.key));const F=I.current;if(K.target!==F||!WI.includes(K.key))return;K.preventDefault();const ae=M().filter(le=>!le.disabled).map(le=>le.ref.current);n4.includes(K.key)&&ae.reverse(),uj(ae)}),onBlur:Je(e.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(Y.current),Q.current="")}),onPointerMove:Je(e.onPointerMove,ml(K=>{const X=K.target,E=S.current!==K.clientX;if(K.currentTarget.contains(X)&&E){const k=K.clientX>S.current?"right":"left";z.current=k,S.current=K.clientX}}))})})})})})})});l4.displayName=hr;var tj="MenuGroup",B1=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return P.jsx(yt.div,{role:"group",...s,ref:t})});B1.displayName=tj;var nj="MenuLabel",c4=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return P.jsx(yt.div,{...s,ref:t})});c4.displayName=nj;var Nu="MenuItem",y_="menu.itemSelect",fd=N.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,a=N.useRef(null),l=Pl(Nu,e.__scopeMenu),c=j1(Nu,e.__scopeMenu),d=Ct(t,a),p=N.useRef(!1),f=()=>{const h=a.current;if(!n&&h){const w=new CustomEvent(y_,{bubbles:!0,cancelable:!0});h.addEventListener(y_,b=>s?.(b),{once:!0}),am(h,w),w.defaultPrevented?p.current=!1:l.onClose()}};return P.jsx(u4,{...o,ref:d,disabled:n,onClick:Je(e.onClick,f),onPointerDown:h=>{e.onPointerDown?.(h),p.current=!0},onPointerUp:Je(e.onPointerUp,h=>{p.current||h.currentTarget?.click()}),onKeyDown:Je(e.onKeyDown,h=>{const w=c.searchRef.current!=="";n||w&&h.key===" "||Wp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});fd.displayName=Nu;var u4=N.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...a}=e,l=j1(Nu,n),c=s4(n),d=N.useRef(null),p=Ct(t,d),[f,h]=N.useState(!1),[w,b]=N.useState("");return N.useEffect(()=>{const C=d.current;C&&b((C.textContent??"").trim())},[a.children]),P.jsx(pl.ItemSlot,{scope:n,disabled:s,textValue:o??w,children:P.jsx(Mb,{asChild:!0,...c,focusable:!s,children:P.jsx(yt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:p,onPointerMove:Je(e.onPointerMove,ml(C=>{s?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(e.onPointerLeave,ml(C=>l.onItemLeave(C))),onFocus:Je(e.onFocus,()=>h(!0)),onBlur:Je(e.onBlur,()=>h(!1))})})})}),rj="MenuCheckboxItem",d4=N.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return P.jsx(g4,{scope:e.__scopeMenu,checked:n,children:P.jsx(fd,{role:"menuitemcheckbox","aria-checked":Ou(n)?"mixed":n,...o,ref:t,"data-state":V1(n),onSelect:Je(o.onSelect,()=>s?.(Ou(n)?!0:!n),{checkForDefaultPrevented:!1})})})});d4.displayName=rj;var f4="MenuRadioGroup",[sj,ij]=Fi(f4,{value:void 0,onValueChange:()=>{}}),h4=N.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,a=Cn(s);return P.jsx(sj,{scope:e.__scopeMenu,value:n,onValueChange:a,children:P.jsx(B1,{...o,ref:t})})});h4.displayName=f4;var p4="MenuRadioItem",m4=N.forwardRef((e,t)=>{const{value:n,...s}=e,o=ij(p4,e.__scopeMenu),a=n===o.value;return P.jsx(g4,{scope:e.__scopeMenu,checked:a,children:P.jsx(fd,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":V1(a),onSelect:Je(s.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});m4.displayName=p4;var F1="MenuItemIndicator",[g4,oj]=Fi(F1,{checked:!1}),v4=N.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,a=oj(F1,n);return P.jsx(Mr,{present:s||Ou(a.checked)||a.checked===!0,children:P.jsx(yt.span,{...o,ref:t,"data-state":V1(a.checked)})})});v4.displayName=F1;var aj="MenuSeparator",y4=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return P.jsx(yt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});y4.displayName=aj;var lj="MenuArrow",_4=N.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=dd(n);return P.jsx(Rm,{...o,...s,ref:t})});_4.displayName=lj;var cj="MenuSub",[XL,w4]=Fi(cj),Ka="MenuSubTrigger",b4=N.forwardRef((e,t)=>{const n=Vi(Ka,e.__scopeMenu),s=Pl(Ka,e.__scopeMenu),o=w4(Ka,e.__scopeMenu),a=j1(Ka,e.__scopeMenu),l=N.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,p={__scopeMenu:e.__scopeMenu},f=N.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return N.useEffect(()=>f,[f]),N.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),d(null)}},[c,d]),P.jsx(O1,{asChild:!0,...p,children:P.jsx(u4,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":E4(n.open),...e,ref:Bu(t,o.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Je(e.onPointerMove,ml(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Je(e.onPointerLeave,ml(h=>{f();const w=n.content?.getBoundingClientRect();if(w){const b=n.content?.dataset.side,C=b==="right",_=C?-5:5,x=w[C?"left":"right"],v=w[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x,y:w.top},{x:v,y:w.top},{x:v,y:w.bottom},{x,y:w.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Je(e.onKeyDown,h=>{const w=a.searchRef.current!=="";e.disabled||w&&h.key===" "||HI[s.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});b4.displayName=Ka;var x4="MenuSubContent",S4=N.forwardRef((e,t)=>{const n=o4(hr,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=Vi(hr,e.__scopeMenu),l=Pl(hr,e.__scopeMenu),c=w4(x4,e.__scopeMenu),d=N.useRef(null),p=Ct(t,d);return P.jsx(pl.Provider,{scope:e.__scopeMenu,children:P.jsx(Mr,{present:s||a.open,children:P.jsx(pl.Slot,{scope:e.__scopeMenu,children:P.jsx(L1,{id:c.contentId,"aria-labelledby":c.triggerId,...o,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{l.isUsingKeyboardRef.current&&d.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Je(e.onFocusOutside,f=>{f.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Je(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:Je(e.onKeyDown,f=>{const h=f.currentTarget.contains(f.target),w=UI[l.dir].includes(f.key);h&&w&&(a.onOpenChange(!1),c.trigger?.focus(),f.preventDefault())})})})})})});S4.displayName=x4;function E4(e){return e?"open":"closed"}function Ou(e){return e==="indeterminate"}function V1(e){return Ou(e)?"indeterminate":e?"checked":"unchecked"}function uj(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function dj(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function fj(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=dj(e,Math.max(a,0));o.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function hj(e,t){const{x:n,y:s}=e;let o=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a].x,d=t[a].y,p=t[l].x,f=t[l].y;d>s!=f>s&&n<(p-c)*(s-d)/(f-d)+c&&(o=!o)}return o}function pj(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return hj(n,t)}function ml(e){return t=>t.pointerType==="mouse"?e(t):void 0}var mj=i4,gj=O1,vj=a4,yj=l4,_j=B1,wj=c4,bj=fd,xj=d4,Sj=h4,Ej=m4,Cj=v4,kj=y4,Rj=_4,Tj=b4,Pj=S4,z1="DropdownMenu",[Mj]=Pr(z1,[r4]),Nn=r4(),[Aj,C4]=Mj(z1),k4=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:a,onOpenChange:l,modal:c=!0}=e,d=Nn(t),p=N.useRef(null),[f=!1,h]=Ni({prop:o,defaultProp:a,onChange:l});return P.jsx(Aj,{scope:t,triggerId:Wr(),triggerRef:p,contentId:Wr(),open:f,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(w=>!w),[h]),modal:c,children:P.jsx(mj,{...d,open:f,onOpenChange:h,dir:s,modal:c,children:n})})};k4.displayName=z1;var R4="DropdownMenuTrigger",T4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,a=C4(R4,n),l=Nn(n);return P.jsx(gj,{asChild:!0,...l,children:P.jsx(yt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:Bu(t,a.triggerRef),onPointerDown:Je(e.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Je(e.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});T4.displayName=R4;var Dj="DropdownMenuPortal",P4=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Nn(t);return P.jsx(vj,{...s,...n})};P4.displayName=Dj;var M4="DropdownMenuContent",A4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=C4(M4,n),a=Nn(n),l=N.useRef(!1);return P.jsx(yj,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...s,ref:t,onCloseAutoFocus:Je(e.onCloseAutoFocus,c=>{l.current||o.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Je(e.onInteractOutside,c=>{const d=c.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,f=d.button===2||p;(!o.modal||f)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A4.displayName=M4;var Nj="DropdownMenuGroup",Oj=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(_j,{...o,...s,ref:t})});Oj.displayName=Nj;var Ij="DropdownMenuLabel",D4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(wj,{...o,...s,ref:t})});D4.displayName=Ij;var jj="DropdownMenuItem",N4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(bj,{...o,...s,ref:t})});N4.displayName=jj;var Lj="DropdownMenuCheckboxItem",O4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(xj,{...o,...s,ref:t})});O4.displayName=Lj;var Bj="DropdownMenuRadioGroup",Fj=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(Sj,{...o,...s,ref:t})});Fj.displayName=Bj;var Vj="DropdownMenuRadioItem",I4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(Ej,{...o,...s,ref:t})});I4.displayName=Vj;var zj="DropdownMenuItemIndicator",j4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(Cj,{...o,...s,ref:t})});j4.displayName=zj;var Wj="DropdownMenuSeparator",L4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(kj,{...o,...s,ref:t})});L4.displayName=Wj;var Hj="DropdownMenuArrow",Uj=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(Rj,{...o,...s,ref:t})});Uj.displayName=Hj;var $j="DropdownMenuSubTrigger",B4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(Tj,{...o,...s,ref:t})});B4.displayName=$j;var Xj="DropdownMenuSubContent",F4=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Nn(n);return P.jsx(Pj,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F4.displayName=Xj;var Yj=k4,Gj=T4,Kj=P4,V4=A4,z4=D4,W4=N4,H4=O4,U4=I4,$4=j4,X4=L4,Y4=B4,G4=F4;const qj=Yj,Qj=Gj,Zj=N.forwardRef(({className:e,inset:t,children:n,...s},o)=>P.jsxs(Y4,{ref:o,className:mt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,P.jsx(pu,{className:"ml-auto"})]}));Zj.displayName=Y4.displayName;const Jj=N.forwardRef(({className:e,...t},n)=>P.jsx(G4,{ref:n,className:mt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Jj.displayName=G4.displayName;const K4=N.forwardRef(({className:e,sideOffset:t=4,...n},s)=>P.jsx(Kj,{children:P.jsx(V4,{ref:s,sideOffset:t,className:mt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));K4.displayName=V4.displayName;const Hp=N.forwardRef(({className:e,inset:t,...n},s)=>P.jsx(W4,{ref:s,className:mt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Hp.displayName=W4.displayName;const eL=N.forwardRef(({className:e,children:t,checked:n,...s},o)=>P.jsxs(H4,{ref:o,className:mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx($4,{children:P.jsx(ww,{className:"h-4 w-4"})})}),t]}));eL.displayName=H4.displayName;const tL=N.forwardRef(({className:e,children:t,...n},s)=>P.jsxs(U4,{ref:s,className:mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx($4,{children:P.jsx(kE,{className:"h-2 w-2 fill-current"})})}),t]}));tL.displayName=U4.displayName;const nL=N.forwardRef(({className:e,inset:t,...n},s)=>P.jsx(z4,{ref:s,className:mt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));nL.displayName=z4.displayName;const rL=N.forwardRef(({className:e,...t},n)=>P.jsx(X4,{ref:n,className:mt("-mx-1 my-1 h-px bg-muted",e),...t}));rL.displayName=X4.displayName;const Po=N.forwardRef(({className:e,type:t,...n},s)=>P.jsx("input",{type:t,className:mt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Po.displayName="Input";var sL="Label",q4=N.forwardRef((e,t)=>P.jsx(yt.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));q4.displayName=sL;var Q4=q4;const iL=dm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xo=N.forwardRef(({className:e,...t},n)=>P.jsx(Q4,{ref:n,className:mt(iL(),e),...t}));xo.displayName=Q4.displayName;const Up=N.forwardRef(({className:e,...t},n)=>P.jsx("textarea",{className:mt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Up.displayName="Textarea";function __(e,[t,n]){return Math.min(n,Math.max(t,e))}function oL(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aL=[" ","Enter","ArrowUp","ArrowDown"],lL=[" ","Enter"],Ml="Select",[hd,pd,cL]=Fu(Ml),[ea]=Pr(Ml,[cL,Go]),md=Go(),[uL,ti]=ea(Ml),[dL,fL]=ea(Ml),Z4=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:a,value:l,defaultValue:c,onValueChange:d,dir:p,name:f,autoComplete:h,disabled:w,required:b,form:C}=e,_=md(t),[x,v]=N.useState(null),[y,m]=N.useState(null),[M,j]=N.useState(!1),L=Ku(p),[I=!1,V]=Ni({prop:s,defaultProp:o,onChange:a}),[Y,Q]=Ni({prop:l,defaultProp:c,onChange:d}),G=N.useRef(null),T=x?C||!!x.closest("form"):!0,[z,S]=N.useState(new Set),W=Array.from(z).map(ne=>ne.props.value).join(";");return P.jsx(tb,{..._,children:P.jsxs(uL,{required:b,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:m,valueNodeHasChildren:M,onValueNodeHasChildrenChange:j,contentId:Wr(),value:Y,onValueChange:Q,open:I,onOpenChange:V,dir:L,triggerPointerDownPosRef:G,disabled:w,children:[P.jsx(hd.Provider,{scope:t,children:P.jsx(dL,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(ne=>{S(q=>new Set(q).add(ne))},[]),onNativeOptionRemove:N.useCallback(ne=>{S(q=>{const U=new Set(q);return U.delete(ne),U})},[]),children:n})}),T?P.jsxs(SS,{"aria-hidden":!0,required:b,tabIndex:-1,name:f,autoComplete:h,value:Y,onChange:ne=>Q(ne.target.value),disabled:w,form:C,children:[Y===void 0?P.jsx("option",{value:""}):null,Array.from(z)]},W):null]})})};Z4.displayName=Ml;var J4="SelectTrigger",eS=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,a=md(n),l=ti(J4,n),c=l.disabled||s,d=Ct(t,l.onTriggerChange),p=pd(n),f=N.useRef("touch"),[h,w,b]=ES(_=>{const x=p().filter(m=>!m.disabled),v=x.find(m=>m.value===l.value),y=CS(x,_,v);y!==void 0&&l.onValueChange(y.value)}),C=_=>{c||(l.onOpenChange(!0),b()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return P.jsx(Cm,{asChild:!0,...a,children:P.jsx(yt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":xS(l.value)?"":void 0,...o,ref:d,onClick:Je(o.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&C(_)}),onPointerDown:Je(o.onPointerDown,_=>{f.current=_.pointerType;const x=_.target;x.hasPointerCapture(_.pointerId)&&x.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(C(_),_.preventDefault())}),onKeyDown:Je(o.onKeyDown,_=>{const x=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(x&&_.key===" ")&&aL.includes(_.key)&&(C(),_.preventDefault())})})})});eS.displayName=J4;var tS="SelectValue",nS=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:a,placeholder:l="",...c}=e,d=ti(tS,n),{onValueNodeHasChildrenChange:p}=d,f=a!==void 0,h=Ct(t,d.onValueNodeChange);return kn(()=>{p(f)},[p,f]),P.jsx(yt.span,{...c,ref:h,style:{pointerEvents:"none"},children:xS(d.value)?P.jsx(P.Fragment,{children:l}):a})});nS.displayName=tS;var hL="SelectIcon",rS=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return P.jsx(yt.span,{"aria-hidden":!0,...o,ref:t,children:s||""})});rS.displayName=hL;var pL="SelectPortal",sS=e=>P.jsx(yl,{asChild:!0,...e});sS.displayName=pL;var Li="SelectContent",iS=N.forwardRef((e,t)=>{const n=ti(Li,e.__scopeSelect),[s,o]=N.useState();if(kn(()=>{o(new DocumentFragment)},[]),!n.open){const a=s;return a?Ho.createPortal(P.jsx(oS,{scope:e.__scopeSelect,children:P.jsx(hd.Slot,{scope:e.__scopeSelect,children:P.jsx("div",{children:e.children})})}),a):null}return P.jsx(aS,{...e,ref:t})});iS.displayName=Li;var Er=10,[oS,ni]=ea(Li),mL="SelectContentImpl",gL=Di("SelectContent.RemoveScroll"),aS=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:d,align:p,alignOffset:f,arrowPadding:h,collisionBoundary:w,collisionPadding:b,sticky:C,hideWhenDetached:_,avoidCollisions:x,...v}=e,y=ti(Li,n),[m,M]=N.useState(null),[j,L]=N.useState(null),I=Ct(t,le=>M(le)),[V,Y]=N.useState(null),[Q,G]=N.useState(null),T=pd(n),[z,S]=N.useState(!1),W=N.useRef(!1);N.useEffect(()=>{if(m)return $m(m)},[m]),Um();const ne=N.useCallback(le=>{const[te,...ce]=T().map(je=>je.ref.current),[we]=ce.slice(-1),Ce=document.activeElement;for(const je of le)if(je===Ce||(je?.scrollIntoView({block:"nearest"}),je===te&&j&&(j.scrollTop=0),je===we&&j&&(j.scrollTop=j.scrollHeight),je?.focus(),document.activeElement!==Ce))return},[T,j]),q=N.useCallback(()=>ne([V,m]),[ne,V,m]);N.useEffect(()=>{z&&q()},[z,q]);const{onOpenChange:U,triggerPointerDownPosRef:K}=y;N.useEffect(()=>{if(m){let le={x:0,y:0};const te=we=>{le={x:Math.abs(Math.round(we.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(K.current?.y??0))}},ce=we=>{le.x<=10&&le.y<=10?we.preventDefault():m.contains(we.target)||U(!1),document.removeEventListener("pointermove",te),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",ce,{capture:!0})}}},[m,U,K]),N.useEffect(()=>{const le=()=>U(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[U]);const[X,E]=ES(le=>{const te=T().filter(Ce=>!Ce.disabled),ce=te.find(Ce=>Ce.ref.current===document.activeElement),we=CS(te,le,ce);we&&setTimeout(()=>we.ref.current.focus())}),k=N.useCallback((le,te,ce)=>{const we=!W.current&&!ce;(y.value!==void 0&&y.value===te||we)&&(Y(le),we&&(W.current=!0))},[y.value]),O=N.useCallback(()=>m?.focus(),[m]),F=N.useCallback((le,te,ce)=>{const we=!W.current&&!ce;(y.value!==void 0&&y.value===te||we)&&G(le)},[y.value]),$=s==="popper"?$p:lS,ae=$===$p?{side:c,sideOffset:d,align:p,alignOffset:f,arrowPadding:h,collisionBoundary:w,collisionPadding:b,sticky:C,hideWhenDetached:_,avoidCollisions:x}:{};return P.jsx(oS,{scope:n,content:m,viewport:j,onViewportChange:L,itemRefCallback:k,selectedItem:V,onItemLeave:O,itemTextRefCallback:F,focusSelectedItem:q,selectedItemText:Q,position:s,isPositioned:z,searchRef:X,children:P.jsx(id,{as:gL,allowPinchZoom:!0,children:P.jsx(rd,{asChild:!0,trapped:y.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Je(o,le=>{y.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:P.jsx(Uo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:P.jsx($,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:le=>le.preventDefault(),...v,...ae,onPlaced:()=>S(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Je(v.onKeyDown,le=>{const te=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!te&&le.key.length===1&&E(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let we=T().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ce=le.target,je=we.indexOf(Ce);we=we.slice(je+1)}setTimeout(()=>ne(we)),le.preventDefault()}})})})})})})});aS.displayName=mL;var vL="SelectItemAlignedPosition",lS=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,a=ti(Li,n),l=ni(Li,n),[c,d]=N.useState(null),[p,f]=N.useState(null),h=Ct(t,I=>f(I)),w=pd(n),b=N.useRef(!1),C=N.useRef(!0),{viewport:_,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=l,m=N.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&p&&_&&x&&v){const I=a.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),Y=a.valueNode.getBoundingClientRect(),Q=v.getBoundingClientRect();if(a.dir!=="rtl"){const Ce=Q.left-V.left,je=Y.left-Ce,Ve=I.left-je,B=I.width+Ve,ve=Math.max(B,V.width),pe=window.innerWidth-Er,ie=__(je,[Er,Math.max(Er,pe-ve)]);c.style.minWidth=B+"px",c.style.left=ie+"px"}else{const Ce=V.right-Q.right,je=window.innerWidth-Y.right-Ce,Ve=window.innerWidth-I.right-je,B=I.width+Ve,ve=Math.max(B,V.width),pe=window.innerWidth-Er,ie=__(je,[Er,Math.max(Er,pe-ve)]);c.style.minWidth=B+"px",c.style.right=ie+"px"}const G=w(),T=window.innerHeight-Er*2,z=_.scrollHeight,S=window.getComputedStyle(p),W=parseInt(S.borderTopWidth,10),ne=parseInt(S.paddingTop,10),q=parseInt(S.borderBottomWidth,10),U=parseInt(S.paddingBottom,10),K=W+ne+z+U+q,X=Math.min(x.offsetHeight*5,K),E=window.getComputedStyle(_),k=parseInt(E.paddingTop,10),O=parseInt(E.paddingBottom,10),F=I.top+I.height/2-Er,$=T-F,ae=x.offsetHeight/2,le=x.offsetTop+ae,te=W+ne+le,ce=K-te;if(te<=F){const Ce=G.length>0&&x===G[G.length-1].ref.current;c.style.bottom="0px";const je=p.clientHeight-_.offsetTop-_.offsetHeight,Ve=Math.max($,ae+(Ce?O:0)+je+q),B=te+Ve;c.style.height=B+"px"}else{const Ce=G.length>0&&x===G[0].ref.current;c.style.top="0px";const Ve=Math.max(F,W+_.offsetTop+(Ce?k:0)+ae)+ce;c.style.height=Ve+"px",_.scrollTop=te-F+_.offsetTop}c.style.margin=`${Er}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=T+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[w,a.trigger,a.valueNode,c,p,_,x,v,a.dir,s]);kn(()=>m(),[m]);const[M,j]=N.useState();kn(()=>{p&&j(window.getComputedStyle(p).zIndex)},[p]);const L=N.useCallback(I=>{I&&C.current===!0&&(m(),y?.(),C.current=!1)},[m,y]);return P.jsx(_L,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:L,children:P.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:P.jsx(yt.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});lS.displayName=vL;var yL="SelectPopperPosition",$p=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=Er,...a}=e,l=md(n);return P.jsx(km,{...l,...a,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$p.displayName=yL;var[_L,W1]=ea(Li,{}),Xp="SelectViewport",cS=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,a=ni(Xp,n),l=W1(Xp,n),c=Ct(t,a.onViewportChange),d=N.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),P.jsx(hd.Slot,{scope:n,children:P.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Je(o.onScroll,p=>{const f=p.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:w}=l;if(w?.current&&h){const b=Math.abs(d.current-f.scrollTop);if(b>0){const C=window.innerHeight-Er*2,_=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(_,x);if(v<C){const y=v+b,m=Math.min(C,y),M=y-m;h.style.height=m+"px",h.style.bottom==="0px"&&(f.scrollTop=M>0?M:0,h.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});cS.displayName=Xp;var uS="SelectGroup",[wL,bL]=ea(uS),xL=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Wr();return P.jsx(wL,{scope:n,id:o,children:P.jsx(yt.div,{role:"group","aria-labelledby":o,...s,ref:t})})});xL.displayName=uS;var dS="SelectLabel",fS=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=bL(dS,n);return P.jsx(yt.div,{id:o.id,...s,ref:t})});fS.displayName=dS;var Iu="SelectItem",[SL,hS]=ea(Iu),pS=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:a,...l}=e,c=ti(Iu,n),d=ni(Iu,n),p=c.value===s,[f,h]=N.useState(a??""),[w,b]=N.useState(!1),C=Ct(t,y=>d.itemRefCallback?.(y,s,o)),_=Wr(),x=N.useRef("touch"),v=()=>{o||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(SL,{scope:n,value:s,disabled:o,textId:_,isSelected:p,onItemTextChange:N.useCallback(y=>{h(m=>m||(y?.textContent??"").trim())},[]),children:P.jsx(hd.ItemSlot,{scope:n,value:s,disabled:o,textValue:f,children:P.jsx(yt.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:C,onFocus:Je(l.onFocus,()=>b(!0)),onBlur:Je(l.onBlur,()=>b(!1)),onClick:Je(l.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Je(l.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Je(l.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Je(l.onPointerMove,y=>{x.current=y.pointerType,o?d.onItemLeave?.():x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(l.onPointerLeave,y=>{y.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Je(l.onKeyDown,y=>{d.searchRef?.current!==""&&y.key===" "||(lL.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});pS.displayName=Iu;var qa="SelectItemText",mS=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...a}=e,l=ti(qa,n),c=ni(qa,n),d=hS(qa,n),p=fL(qa,n),[f,h]=N.useState(null),w=Ct(t,v=>h(v),d.onItemTextChange,v=>c.itemTextRefCallback?.(v,d.value,d.disabled)),b=f?.textContent,C=N.useMemo(()=>P.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:x}=p;return kn(()=>(_(C),()=>x(C)),[_,x,C]),P.jsxs(P.Fragment,{children:[P.jsx(yt.span,{id:d.textId,...a,ref:w}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ho.createPortal(a.children,l.valueNode):null]})});mS.displayName=qa;var gS="SelectItemIndicator",vS=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return hS(gS,n).isSelected?P.jsx(yt.span,{"aria-hidden":!0,...s,ref:t}):null});vS.displayName=gS;var Yp="SelectScrollUpButton",yS=N.forwardRef((e,t)=>{const n=ni(Yp,e.__scopeSelect),s=W1(Yp,e.__scopeSelect),[o,a]=N.useState(!1),l=Ct(t,s.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const p=d.scrollTop>0;a(p)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?P.jsx(wS,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});yS.displayName=Yp;var Gp="SelectScrollDownButton",_S=N.forwardRef((e,t)=>{const n=ni(Gp,e.__scopeSelect),s=W1(Gp,e.__scopeSelect),[o,a]=N.useState(!1),l=Ct(t,s.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const p=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<p;a(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?P.jsx(wS,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});_S.displayName=Gp;var wS=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,a=ni("SelectScrollButton",n),l=N.useRef(null),c=pd(n),d=N.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return N.useEffect(()=>()=>d(),[d]),kn(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),P.jsx(yt.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Je(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:Je(o.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:Je(o.onPointerLeave,()=>{d()})})}),EL="SelectSeparator",bS=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return P.jsx(yt.div,{"aria-hidden":!0,...s,ref:t})});bS.displayName=EL;var Kp="SelectArrow",CL=N.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=md(n),a=ti(Kp,n),l=ni(Kp,n);return a.open&&l.position==="popper"?P.jsx(Rm,{...o,...s,ref:t}):null});CL.displayName=Kp;function xS(e){return e===""||e===void 0}var SS=N.forwardRef((e,t)=>{const{value:n,...s}=e,o=N.useRef(null),a=Ct(t,o),l=oL(n);return N.useEffect(()=>{const c=o.current,d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&f){const h=new Event("change",{bubbles:!0});f.call(c,n),c.dispatchEvent(h)}},[l,n]),P.jsx(_l,{asChild:!0,children:P.jsx("select",{...s,ref:a,defaultValue:n})})});SS.displayName="BubbleSelect";function ES(e){const t=Cn(e),n=N.useRef(""),s=N.useRef(0),o=N.useCallback(l=>{const c=n.current+l;t(c),(function d(p){n.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),a=N.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,a]}function CS(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=kL(e,Math.max(a,0));o.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function kL(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var RL=Z4,kS=eS,TL=nS,PL=rS,ML=sS,RS=iS,AL=cS,TS=fS,PS=pS,DL=mS,NL=vS,MS=yS,AS=_S,DS=bS;const w_=RL,b_=TL,qp=N.forwardRef(({className:e,children:t,...n},s)=>P.jsxs(kS,{ref:s,className:mt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,P.jsx(PL,{asChild:!0,children:P.jsx(bw,{className:"h-4 w-4 opacity-50"})})]}));qp.displayName=kS.displayName;const NS=N.forwardRef(({className:e,...t},n)=>P.jsx(MS,{ref:n,className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:P.jsx(EE,{className:"h-4 w-4"})}));NS.displayName=MS.displayName;const OS=N.forwardRef(({className:e,...t},n)=>P.jsx(AS,{ref:n,className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:P.jsx(bw,{className:"h-4 w-4"})}));OS.displayName=AS.displayName;const Qp=N.forwardRef(({className:e,children:t,position:n="popper",...s},o)=>P.jsx(ML,{children:P.jsxs(RS,{ref:o,className:mt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[P.jsx(NS,{}),P.jsx(AL,{className:mt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),P.jsx(OS,{})]})}));Qp.displayName=RS.displayName;const OL=N.forwardRef(({className:e,...t},n)=>P.jsx(TS,{ref:n,className:mt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));OL.displayName=TS.displayName;const Ci=N.forwardRef(({className:e,children:t,...n},s)=>P.jsxs(PS,{ref:s,className:mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx(NL,{children:P.jsx(ww,{className:"h-4 w-4"})})}),P.jsx(DL,{children:t})]}));Ci.displayName=PS.displayName;const IL=N.forwardRef(({className:e,...t},n)=>P.jsx(DS,{ref:n,className:mt("-mx-1 my-1 h-px bg-muted",e),...t}));IL.displayName=DS.displayName;function jL(){const[e,t]=W8("/recordings/:id"),[,n]=gl(),s=Number(t?.id),{toast:o}=vl(),{data:a,isLoading:l}=lk(s),{data:c}=Dm(),d=_b(),p=ck(),f=vb(),h=yb(),w=wx(),b=tA(),C=nA(),[_,x]=N.useState(void 0),[v,y]=N.useState(null),[m,M]=N.useState(!1),[j,L]=N.useState(""),[I,V]=N.useState(null),[Y,Q]=N.useState(null),[G,T]=N.useState(!1),[z,S]=N.useState(""),[W,ne]=N.useState(null),[q,U]=N.useState(""),[K,X]=N.useState(!1),[E,k]=N.useState(""),[O,F]=N.useState(!1),[$,ae]=N.useState(""),[le,te]=N.useState(""),[ce,we]=N.useState(""),[Ce,je]=N.useState(!1),[Ve,B]=N.useState(!1),{theme:ve,toggleTheme:pe}=Hm();N.useEffect(()=>{s&&wp(s).then(x)},[s]),N.useEffect(()=>{a&&U(a.notes||"")},[a]),N.useEffect(()=>{v&&(te(v.color||"green"),we(v.description||""),je(!1))},[v]);const ie=async()=>{await p.mutateAsync({id:s,notes:q}),o({title:"Notes Saved",description:"Recording notes have been updated."})},se=()=>{if(!a)return;const Ee=`${a.name}
${"=".repeat(a.name.length)}

Recorded: ${new Date(a.createdAt).toLocaleString()}
Duration: ${LL(a.duration)}
Category: ${a.category||"Recordings"}
Flags: ${a.flags.length} flag(s)

${a.flags.length>0?`Flagged Moments:
`+a.flags.sort((ee,oe)=>ee.timestamp-oe.timestamp).map(ee=>` ${x_(ee.timestamp)} - ${ee.description||"Untitled Flag"}`).join(`
`)+`
`:""}

Notes:
${q||"No notes added"}`,tt=new Blob([Ee],{type:"text/plain"}),ct=URL.createObjectURL(tt),J=document.createElement("a");J.href=ct,J.download=`${a.name}.txt`,J.click(),URL.revokeObjectURL(ct)},A=async()=>{confirm("Are you sure you want to delete this recording? This cannot be undone.")&&(await h.mutateAsync(s),n("/"))},H=async()=>{j.trim()&&(await p.mutateAsync({id:s,name:j}),M(!1))},be=async()=>{v&&(await b.mutateAsync({id:v.id,color:le,description:ce}),je(!1))},fe=async()=>{v&&(await C.mutateAsync({id:v.id,recordingId:s}),y(null))},De=Ee=>{const tt=typeof Ee=="number"?new Date(Ee):Ee,ct=No(tt,"dd/MM/yyyy"),J=No(tt,"HH:mm:ss");return`Snippet ${ct}, ${J}`},Ie=Ee=>{if(!a)return;const tt=Ee.timestamp/1e3,ct=Math.max(0,tt-5),J=Math.min(a.duration/1e3,tt+5);V([ct,J]),Q(tt),S(De(Ee.timestamp)),ne(a.categoryId),y(Ee)},Pe=async()=>{if(!(!_||!I||!a)){T(!0);try{const Ee=new(window.AudioContext||window.webkitAudioContext),tt=await _.arrayBuffer(),ct=await Ee.decodeAudioData(tt),[J,ee]=I,oe=ct.sampleRate,ue=Math.floor(J*oe),he=Math.floor(ee*oe),re=Math.max(1,he-ue),ye=Ee.createBuffer(ct.numberOfChannels,re,oe);for(let xe=0;xe<ct.numberOfChannels;xe++){const Me=ct.getChannelData(xe);ye.getChannelData(xe).set(Me.slice(ue,he))}const Se=await MI(ye),ge=c?.find(xe=>xe.id===W)?.name||"Recordings",Te=await f.mutateAsync({name:z||`${a.name} (Snippet)`,category:ge,categoryId:W,duration:Math.round((ee-J)*1e3),notes:""});if(!Te?.id)throw new Error("Failed to create new recording entry");await Yb(Te.id,Se),o({title:"Snippet Saved",description:`Saved to ${ge} category.`,action:P.jsx("button",{onClick:()=>{window.location.href=`/recordings/${Te.id}`},className:"px-3 py-1.5 bg-primary text-primary-foreground rounded-md text-sm font-medium hover:bg-primary/90 transition-colors",children:"Go to snippet?"})}),V(null),Q(null),y(null),B(!1)}catch(Ee){console.error("Save snippet error:",Ee),o({variant:"destructive",title:"Save Failed",description:Ee instanceof Error?Ee.message:"Could not save snippet."})}finally{T(!1)}}},Le=async()=>{if(!_||!a)return;const Ee=await bp(_),tt=URL.createObjectURL(Ee),ct=document.createElement("a");ct.href=tt,ct.download=`${a.name}.mp3`,ct.click(),URL.revokeObjectURL(tt)},qe=async Ee=>{a&&await w.mutateAsync({recordingId:a.id,timestamp:Math.round(Ee*1e3),color:"green",description:"Flagged It"})},Ue=async()=>{if($.trim())try{const Ee=await d.mutateAsync({name:$.trim()});p.mutate({id:s,categoryId:Ee.id,category:Ee.name}),ae(""),F(!1)}catch(Ee){console.error("Error creating category:",Ee)}};return l||!a?P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:P.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):P.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[P.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:P.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between gap-4",children:[P.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[P.jsx("button",{onClick:()=>n("/recordings"),className:"p-2 hover:bg-card rounded-full transition-colors text-muted-foreground hover:text-foreground flex-shrink-0",children:P.jsx(_w,{className:"w-5 h-5"})}),m?P.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P.jsx(Po,{value:j,onChange:Ee=>L(Ee.target.value),className:"h-8 w-48 sm:w-64 bg-card flex-shrink-0",autoFocus:!0}),P.jsxs(w_,{value:a.categoryId?.toString()||"none",onValueChange:async Ee=>{if(Ee==="create-new"){F(!0);return}const tt=Ee==="none"?null:Number(Ee),ct=c?.find(J=>J.id===tt)?.name||"Recordings";p.mutate({id:s,categoryId:tt,category:ct})},children:[P.jsx(qp,{className:"h-8 w-32 sm:w-40 flex-shrink-0",children:P.jsx(b_,{placeholder:"Category"})}),P.jsxs(Qp,{children:[P.jsx(Ci,{value:"none",children:"Recordings"}),c?.map(Ee=>P.jsx(Ci,{value:Ee.id.toString(),children:Ee.name},Ee.id)),P.jsx(Ci,{value:"create-new",className:"text-primary font-medium",children:"+ Create New"})]})]}),P.jsx(Ot,{size:"sm",onClick:H,className:"flex-shrink-0",children:"Save"}),P.jsx(Ot,{size:"sm",variant:"ghost",onClick:()=>M(!1),className:"flex-shrink-0",children:"Cancel"})]}):P.jsx("h1",{className:"text-lg sm:text-xl font-bold truncate min-w-0 flex-1",children:"Recordings"})]}),P.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[P.jsx(Ot,{variant:"ghost",size:"icon",onClick:pe,children:ve==="dark"?P.jsx(hm,{className:"w-4 h-4"}):P.jsx(fm,{className:"w-4 h-4"})}),P.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>n("/settings"),children:P.jsx(Wu,{className:"w-4 h-4"})}),P.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>{L(a.name),M(!0)},children:P.jsx(ME,{className:"w-4 h-4"})}),P.jsxs(qj,{children:[P.jsx(Qj,{asChild:!0,children:P.jsx(Ot,{variant:"ghost",size:"icon",children:P.jsx(TE,{className:"w-4 h-4"})})}),P.jsxs(K4,{align:"end",className:"w-48",children:[P.jsxs(Hp,{onClick:Le,children:[P.jsx(sp,{className:"w-4 h-4 mr-2"})," Download Recording"]}),P.jsxs(Hp,{className:"text-destructive focus:text-destructive",onClick:A,children:[P.jsx(pm,{className:"w-4 h-4 mr-2"})," Delete Recording"]})]})]})]})]})}),P.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[P.jsx("div",{className:"space-y-2",children:P.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:a.name})}),P.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-6 text-xs sm:text-sm text-muted-foreground bg-card/50 p-3 sm:p-4 rounded-xl border border-border",children:[P.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P.jsx(SE,{className:"w-3 h-3 sm:w-4 sm:h-4"}),P.jsx("span",{className:"truncate",children:No(new Date(a.createdAt),"MMM d, yyyy 'at' h:mm a")})]}),P.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),P.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),P.jsx("span",{className:"truncate",children:a.category||"Recordings"})]})]}),P.jsxs("section",{className:"space-y-4",children:[P.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[P.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),"Playback"]}),_?P.jsx(g_,{blob:_,flags:a.flags,onFlagClick:y,height:160,onOpenSnippetEditor:()=>{if(a.duration){const Ee=a.duration/1e3;V([0,Ee]),Q(Ee/2),S(De(a.createdAt)),ne(a.categoryId),B(!0)}},onWaveformClick:qe}):P.jsx("div",{className:"h-40 bg-card rounded-xl border border-border flex items-center justify-center text-muted-foreground",children:"Loading audio..."})]}),P.jsxs("section",{className:"space-y-4",children:[P.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[P.jsx("div",{className:"w-1 h-5 bg-accent rounded-full"}),"Flagged Moments"]}),P.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:a.flags.length===0?P.jsx("div",{className:"col-span-full py-12 text-center text-muted-foreground bg-card/30 rounded-xl border border-dashed border-border",children:"No flags added to this recording."}):a.flags.sort((Ee,tt)=>Ee.timestamp-tt.timestamp).map(Ee=>P.jsxs("div",{onClick:()=>y(Ee),className:"group cursor-pointer bg-card hover:bg-card/80 border border-border hover:border-primary/50 p-4 rounded-xl transition-all hover:shadow-lg flex gap-4 items-start",children:[P.jsx("div",{className:`mt-1 w-3 h-3 rounded-full shrink-0 ${S_(Ee.color)}`}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("div",{className:"flex justify-between items-center mb-1",children:P.jsx("span",{className:"font-mono text-xs text-primary font-medium bg-primary/10 px-2 py-0.5 rounded-full",children:x_(Ee.timestamp)})}),P.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:Ee.description||"Untitled Flag"})]})]},Ee.id))})]}),P.jsxs("section",{className:"space-y-4",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[P.jsx("div",{className:"w-1 h-5 bg-blue-500 rounded-full"}),"Notes"]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsxs(Ot,{variant:"outline",size:"sm",onClick:se,children:[P.jsx(sp,{className:"w-4 h-4 mr-2"})," Export .txt"]}),P.jsxs(Ot,{size:"sm",onClick:ie,disabled:p.isPending,children:[P.jsx(NE,{className:"w-4 h-4 mr-2"})," ",p.isPending?"Saving...":"Save Notes"]})]})]}),P.jsx(Up,{value:q,onChange:Ee=>U(Ee.target.value),placeholder:"Add your notes here...",className:"min-h-[200px] bg-card border-border resize-none"})]})]}),P.jsx(Ep,{open:O,onOpenChange:F,children:P.jsxs(xu,{className:"bg-card text-foreground border-border",children:[P.jsx(Su,{children:P.jsx(Cu,{children:"Create New Category"})}),P.jsx("div",{className:"space-y-4 py-4",children:P.jsxs("div",{className:"space-y-2",children:[P.jsx(xo,{htmlFor:"new-category-name",children:"Category Name"}),P.jsx(Po,{id:"new-category-name",value:$,onChange:Ee=>ae(Ee.target.value),placeholder:"Enter category name",autoFocus:!0,onKeyDown:Ee=>{Ee.key==="Enter"&&Ue()}})]})}),P.jsxs(Eu,{children:[P.jsx(Ot,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),P.jsx(Ot,{onClick:Ue,disabled:!$.trim(),children:"Create"})]})]})}),P.jsx(Ep,{open:!!v||Ve,onOpenChange:Ee=>{Ee||(y(null),V(null),Q(null),B(!1))},children:P.jsxs(xu,{className:"sm:max-w-2xl bg-card text-foreground border-border",children:[P.jsx(Su,{children:P.jsx(Cu,{children:I?"Audio Snippet Editor":"Edit Flag"})}),P.jsxs("div",{className:"space-y-6 py-4 max-w-full overflow-hidden",children:[I&&_&&P.jsxs("div",{className:"space-y-6 w-full overflow-hidden",children:[P.jsx("div",{className:"p-4 bg-background rounded-lg border border-border w-full overflow-hidden",children:P.jsx(g_,{blob:_,flags:[],height:100,initialRegion:I,initialSeekTime:Y??void 0,onRegionChange:V})}),P.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(xo,{htmlFor:"snippet-name",children:"Snippet Name"}),P.jsx(Po,{id:"snippet-name",value:z,onChange:Ee=>S(Ee.target.value),placeholder:"Enter snippet name",className:"bg-background border-border"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(xo,{htmlFor:"snippet-category",children:"Category"}),K?P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Po,{autoFocus:!0,value:E,onChange:Ee=>k(Ee.target.value),onKeyDown:async Ee=>{if(Ee.key==="Enter"&&E.trim()){try{const tt=await d.mutateAsync({name:E.trim()});ne(tt.id)}catch{o({variant:"destructive",title:"Error",description:"Category already exists or failed to create."})}X(!1),k("")}else Ee.key==="Escape"&&(X(!1),k(""))},placeholder:"New category name",className:"bg-background border-border"}),P.jsx(Ot,{size:"sm",disabled:!E.trim(),onClick:async()=>{try{const Ee=await d.mutateAsync({name:E.trim()});ne(Ee.id)}catch{o({variant:"destructive",title:"Error",description:"Category already exists or failed to create."})}X(!1),k("")},children:"Add"}),P.jsx(Ot,{size:"sm",variant:"ghost",onClick:()=>{X(!1),k("")},children:"Cancel"})]}):P.jsxs(w_,{value:W?.toString()||"none",onValueChange:Ee=>{if(Ee==="create-new"){X(!0);return}ne(Ee==="none"?null:Number(Ee))},children:[P.jsx(qp,{id:"snippet-category",className:"bg-background border-border",children:P.jsx(b_,{placeholder:"Select category"})}),P.jsxs(Qp,{children:[P.jsx(Ci,{value:"none",children:"Recordings"}),c?.map(Ee=>P.jsx(Ci,{value:Ee.id.toString(),children:Ee.name},Ee.id)),P.jsx(Ci,{value:"create-new",className:"text-primary font-medium",children:"+ Create New"})]})]})]})]}),P.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground bg-muted/30 p-2 rounded",children:[P.jsxs("span",{children:["Start: ",I[0].toFixed(2),"s"]}),P.jsxs("span",{children:["End: ",I[1].toFixed(2),"s"]}),P.jsxs("span",{children:["Duration: ",(I[1]-I[0]).toFixed(2),"s"]})]})]}),!I&&P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(xo,{children:"Description"}),P.jsx(Up,{value:ce,onChange:Ee=>{we(Ee.target.value),je(!0)},className:"bg-background border-border",placeholder:"What happened at this moment?"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(xo,{children:"Color Code"}),P.jsx("div",{className:"flex gap-2",children:["red","green","blue","purple","orange"].map(Ee=>P.jsx("button",{onClick:()=>{te(Ee),je(!0)},className:`w-8 h-8 rounded-full border-2 ${S_(Ee)} ${le===Ee?"border-white scale-110":"border-transparent opacity-70 hover:opacity-100"}`},Ee))})]})]})]}),P.jsx(Eu,{className:"flex justify-between sm:justify-between w-full gap-2",children:I?P.jsxs(P.Fragment,{children:[P.jsx(Ot,{variant:"ghost",onClick:()=>{V(null),Q(null)},children:"Back to Edit"}),P.jsx(Ot,{onClick:Pe,disabled:G,children:G?"Saving...":"Save Snippet"})]}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Ot,{variant:"destructive",onClick:fe,children:"Delete"}),P.jsx(Ot,{className:"bg-secondary text-secondary-foreground font-semibold hover:bg-secondary/80",onClick:()=>Ie(v),children:"Snippet Editor"})]}),P.jsx(Ot,{onClick:be,disabled:!Ce,children:"Save Changes"})]})})]})})]})}function LL(e){const t=Math.floor(e/1e3),n=Math.floor(t/60),s=t%60;return`${n}m ${s}s`}function x_(e){const t=Math.floor(e/1e3),n=Math.floor(t/60),s=t%60;return`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}function S_(e){switch(e){case"red":return"bg-red-500";case"green":return"bg-emerald-500";case"blue":return"bg-blue-500";case"purple":return"bg-purple-500";case"orange":return"bg-orange-500";default:return"bg-red-500"}}function BL(){const[,e]=gl(),{toast:t}=vl(),{data:n}=Dm(),{data:s}=gb(),o=_b(),a=uk(),[l,c]=N.useState(""),d=async f=>{if(f.preventDefault(),!!l.trim())try{await o.mutateAsync({name:l.trim()}),c(""),t({title:"Category created"})}catch{t({variant:"destructive",title:"Error",description:"Could not create category. It might already exist."})}},p=async f=>{if(s?.some(w=>w.categoryId===f)){t({variant:"destructive",title:"Cannot delete",description:"This category still has recordings attached to it."});return}confirm("Are you sure you want to delete this category?")&&(await a.mutateAsync(f),t({title:"Category deleted"}))};return P.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[P.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:P.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center gap-4",children:[P.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"rounded-full",children:P.jsx(_w,{className:"w-5 h-5"})}),P.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[P.jsx(Wu,{className:"w-5 h-5 text-muted-foreground"}),"Settings"]})]})}),P.jsx("main",{className:"max-w-3xl mx-auto px-4 py-8 space-y-8",children:P.jsxs(Pm,{children:[P.jsxs(ub,{children:[P.jsx(db,{children:"Categories"}),P.jsx(fb,{children:"Manage your recording categories"})]}),P.jsxs(Mm,{className:"space-y-6",children:[P.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[P.jsx(Po,{value:l,onChange:f=>c(f.target.value),placeholder:"New category name...",className:"max-w-xs"}),P.jsxs(Ot,{type:"submit",disabled:o.isPending,children:[P.jsx(DE,{className:"w-4 h-4 mr-2"})," Add"]})]}),P.jsxs("div",{className:"grid gap-2",children:[n?.map(f=>{const h=s?.filter(w=>w.categoryId===f.id).length||0;return P.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg border border-border",children:[P.jsxs("div",{children:[P.jsx("span",{className:"font-medium",children:f.name}),P.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",h," recordings)"]})]}),P.jsx(Ot,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>p(f.id),children:P.jsx(pm,{className:"w-4 h-4"})})]},f.id)}),n?.length===0&&P.jsx("p",{className:"text-center py-4 text-muted-foreground",children:"No categories created yet."})]})]})]})})]})}function FL(){return P.jsxs($8,{children:[P.jsx(La,{path:"/",component:PI}),P.jsx(La,{path:"/recordings",component:QM}),P.jsx(La,{path:"/recordings/:id",component:jL}),P.jsx(La,{path:"/settings",component:BL}),P.jsx(La,{component:G7})]})}function VL(){return P.jsx(d9,{client:C9,children:P.jsxs($7,{children:[P.jsx(_C,{}),P.jsx(FL,{})]})})}b8.createRoot(document.getElementById("root")).render(P.jsx(VL,{}));
